import{d as V,r as p,a as w,c as E,w as d,u as s,m as v,p as R,e as h,q as U,g as X,h as a,s as n,f as m,t as Y,E as j,j as C,v as D,x as L,y as T}from"./index-C9HzHbyJ.js";/* empty css                   */const N={class:"px-8 p-6 h-[600px] flex flex-col justify-center items-center gap-10"},G={class:"w-[500px] relative"},I=["src"],q={class:"flex w-full justify-between items-center"},S={class:"flex items-center gap-2"},K=V({__name:"ExtendDraw",props:{dataUrl:{}},emits:["finish"],setup(A,{emit:F}){const $=p(),f=p(!0),M=p(!1),b=p(""),t=w({left:0,right:0,top:0,bottom:0,lastL:0,lastR:0,lastT:0,lastB:0}),l=w({isMoving:!1,left:!1,right:!1,top:!1,bottom:!1,startX:0,startY:0}),r=(i,e,u,g,x)=>{l.isMoving=!0,l.left=e,l.right=u,l.top=g,l.bottom=x,l.startX=i.screenX,l.startY=i.screenY,t.lastL=t.left,t.lastR=t.right,t.lastT=t.top,t.lastB=t.bottom},z=i=>{if(!l.isMoving)return;const e=i.screenX-l.startX,u=i.screenY-l.startY;l.left&&(t.left=Math.min(t.lastL+e,0)),l.right&&(t.right=Math.min(t.lastR-e,0)),l.top&&(t.top=Math.min(t.lastT+u,0)),l.bottom&&(t.bottom=Math.min(t.lastB-u,0))},c=i=>{l.isMoving=!1,l.left=!1,l.right=!1,l.top=!1,l.bottom=!1},y=()=>{t.left=0,t.right=0,t.top=0,t.bottom=0},k=()=>{j.info("前端模式下暂不支持图像扩图功能"),f.value=!1};return(i,e)=>{const u=C,g=D,x=L,_=R,B=T;return h(),E(_,{modelValue:s(f),"onUpdate:modelValue":e[10]||(e[10]=o=>v(f)?f.value=o:null),width:"1200","align-center":"",title:"图像扩图"},{default:d(()=>[U((h(),X("div",N,[a("div",{class:"flex-1 w-full flex justify-center items-center",onMousemove:z,onMouseup:c,onMouseleave:c},[a("div",G,[a("img",{ref_key:"imgRef",ref:$,class:"w-full h-fit relative z-[2]",src:i.dataUrl,alt:""},null,8,I),a("div",{class:"absolute bg-[#424040] z-[1]",style:n({border:"3px dashed rgba(255, 255, 255, 0.5)",top:`${s(t).top-2}px`,left:`${s(t).left-2}px`,bottom:`${s(t).bottom-2}px`,right:`${s(t).right-2}px`})},null,4),a("div",{class:"absolute z-[3] h-1 cursor-ns-resize",style:n({top:`${s(t).top}px`,left:`${s(t).top}px`,right:`${s(t).right}px`}),onMousedown:e[0]||(e[0]=o=>r(o,!1,!1,!0,!1))},null,36),a("div",{class:"absolute z-[3] h-1 cursor-ns-resize",style:n({bottom:`${s(t).bottom}px`,left:`${s(t).left}px`,right:`${s(t).right}px`}),onMousedown:e[1]||(e[1]=o=>r(o,!1,!1,!1,!0))},null,36),a("div",{class:"absolute z-[3] w-1 cursor-ew-resize",style:n({left:`${s(t).left}px`,top:`${s(t).top}px`,bottom:`${s(t).bottom}px`}),onMousedown:e[2]||(e[2]=o=>r(o,!0,!1,!1,!1))},null,36),a("div",{class:"absolute z-[3] w-1 top-0 bottom-0 cursor-ew-resize",style:n({right:`${s(t).right}px`,top:`${s(t).top}px`,bottom:`${s(t).bottom}px`}),onMousedown:e[3]||(e[3]=o=>r(o,!1,!0,!1,!1))},null,36),a("div",{class:"absolute z-[3] w-3 h-3 bg-black dark:bg-white cursor-nwse-resize",style:n({top:`${s(t).top-6}px`,left:`${s(t).left-6}px`}),onMousedown:e[4]||(e[4]=o=>r(o,!0,!1,!0,!1))},null,36),a("div",{class:"absolute z-[3] w-3 h-3 bg-black dark:bg-white cursor-nwse-resize",style:n({top:`${s(t).top-6}px`,right:`${s(t).right-6}px`}),onMousedown:e[5]||(e[5]=o=>r(o,!1,!0,!0,!1))},null,36),a("div",{class:"absolute z-[3] w-3 h-3 bg-black dark:bg-white cursor-nesw-resize",style:n({top:`${s(t).top-6}px`,right:`${s(t).right-6}px`}),onMousedown:e[6]||(e[6]=o=>r(o,!1,!0,!0,!1))},null,36),a("div",{class:"absolute z-[3] w-3 h-3 bg-black dark:bg-white cursor-nesw-resize",style:n({bottom:`${s(t).bottom-6}px`,left:`${s(t).left-6}px`}),onMousedown:e[7]||(e[7]=o=>r(o,!0,!1,!1,!0))},null,36),a("div",{class:"absolute z-[3] w-3 h-3 bg-black dark:bg-white cursor-nwse-resize",style:n({bottom:`${s(t).bottom-6}px`,right:`${s(t).right-6}px`}),onMousedown:e[8]||(e[8]=o=>r(o,!1,!0,!1,!0))},null,36)])],32),a("div",q,[m(g,null,{default:d(()=>[m(u,{onClick:y},{default:d(()=>e[11]||(e[11]=[a("i",{class:"i-ep-refresh",style:{"font-size":"17px"}},null,-1),a("span",{class:"ml-[1px]"},"重置",-1)])),_:1})]),_:1}),a("div",S,[m(x,{placeholder:"输入提示词",modelValue:s(b),"onUpdate:modelValue":e[9]||(e[9]=o=>v(b)?b.value=o:null),class:"w-60"},null,8,["modelValue"]),m(u,{type:"primary",onClick:k},{default:d(()=>e[12]||(e[12]=[Y("新尺寸扩图")])),_:1})])])])),[[B,s(M)]])]),_:1},8,["modelValue"])}}});export{K as _};
