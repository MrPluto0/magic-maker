import{d as R,r as g,a as w,c as U,w as f,u as s,l as v,m as X,e as h,n as Y,g as j,k as n,p as a,f as p,q as C,E as D,i as I,j as L,s as T,t as N,v as G}from"./index-DnwN-RZ1.js";/* empty css                   */import{_ as q}from"./refresh-XanSC-OT.js";const S={class:"px-8 p-6 h-[600px] flex flex-col justify-center items-center gap-10"},A={class:"w-[500px] relative"},F=["src"],H={class:"flex w-full justify-between items-center"},J={class:"flex items-center gap-2"},Z=R({__name:"ExtendDraw",props:{dataUrl:{}},emits:["finish"],setup(K,{emit:O}){const $=g(),d=g(!0),M=g(!1),b=g(""),t=w({left:0,right:0,top:0,bottom:0,lastL:0,lastR:0,lastT:0,lastB:0}),l=w({isMoving:!1,left:!1,right:!1,top:!1,bottom:!1,startX:0,startY:0}),r=(i,e,u,c,m)=>{l.isMoving=!0,l.left=e,l.right=u,l.top=c,l.bottom=m,l.startX=i.screenX,l.startY=i.screenY,t.lastL=t.left,t.lastR=t.right,t.lastT=t.top,t.lastB=t.bottom},_=i=>{if(!l.isMoving)return;const e=i.screenX-l.startX,u=i.screenY-l.startY;l.left&&(t.left=Math.min(t.lastL+e,0)),l.right&&(t.right=Math.min(t.lastR-e,0)),l.top&&(t.top=Math.min(t.lastT+u,0)),l.bottom&&(t.bottom=Math.min(t.lastB-u,0))},x=i=>{l.isMoving=!1,l.left=!1,l.right=!1,l.top=!1,l.bottom=!1},z=()=>{t.left=0,t.right=0,t.top=0,t.bottom=0},y=()=>{D.info("前端模式下暂不支持图像扩图功能"),d.value=!1};return(i,e)=>{const u=q,c=I,m=L,k=T,E=N,B=X,V=G;return h(),U(B,{modelValue:s(d),"onUpdate:modelValue":e[10]||(e[10]=o=>v(d)?d.value=o:null),width:"1200","align-center":"",title:"图像扩图"},{default:f(()=>[Y((h(),j("div",S,[n("div",{class:"flex-1 w-full flex justify-center items-center",onMousemove:_,onMouseup:x,onMouseleave:x},[n("div",A,[n("img",{ref_key:"imgRef",ref:$,class:"w-full h-fit relative z-[2]",src:i.dataUrl,alt:""},null,8,F),n("div",{class:"absolute bg-[#424040] z-[1]",style:a({border:"3px dashed rgba(255, 255, 255, 0.5)",top:`${s(t).top-2}px`,left:`${s(t).left-2}px`,bottom:`${s(t).bottom-2}px`,right:`${s(t).right-2}px`})},null,4),n("div",{class:"absolute z-[3] h-1 cursor-ns-resize",style:a({top:`${s(t).top}px`,left:`${s(t).top}px`,right:`${s(t).right}px`}),onMousedown:e[0]||(e[0]=o=>r(o,!1,!1,!0,!1))},null,36),n("div",{class:"absolute z-[3] h-1 cursor-ns-resize",style:a({bottom:`${s(t).bottom}px`,left:`${s(t).left}px`,right:`${s(t).right}px`}),onMousedown:e[1]||(e[1]=o=>r(o,!1,!1,!1,!0))},null,36),n("div",{class:"absolute z-[3] w-1 cursor-ew-resize",style:a({left:`${s(t).left}px`,top:`${s(t).top}px`,bottom:`${s(t).bottom}px`}),onMousedown:e[2]||(e[2]=o=>r(o,!0,!1,!1,!1))},null,36),n("div",{class:"absolute z-[3] w-1 top-0 bottom-0 cursor-ew-resize",style:a({right:`${s(t).right}px`,top:`${s(t).top}px`,bottom:`${s(t).bottom}px`}),onMousedown:e[3]||(e[3]=o=>r(o,!1,!0,!1,!1))},null,36),n("div",{class:"absolute z-[3] w-3 h-3 bg-black dark:bg-white cursor-nwse-resize",style:a({top:`${s(t).top-6}px`,left:`${s(t).left-6}px`}),onMousedown:e[4]||(e[4]=o=>r(o,!0,!1,!0,!1))},null,36),n("div",{class:"absolute z-[3] w-3 h-3 bg-black dark:bg-white cursor-nwse-resize",style:a({top:`${s(t).top-6}px`,right:`${s(t).right-6}px`}),onMousedown:e[5]||(e[5]=o=>r(o,!1,!0,!0,!1))},null,36),n("div",{class:"absolute z-[3] w-3 h-3 bg-black dark:bg-white cursor-nesw-resize",style:a({top:`${s(t).top-6}px`,right:`${s(t).right-6}px`}),onMousedown:e[6]||(e[6]=o=>r(o,!1,!0,!0,!1))},null,36),n("div",{class:"absolute z-[3] w-3 h-3 bg-black dark:bg-white cursor-nesw-resize",style:a({bottom:`${s(t).bottom-6}px`,left:`${s(t).left-6}px`}),onMousedown:e[7]||(e[7]=o=>r(o,!0,!1,!1,!0))},null,36),n("div",{class:"absolute z-[3] w-3 h-3 bg-black dark:bg-white cursor-nwse-resize",style:a({bottom:`${s(t).bottom-6}px`,right:`${s(t).right-6}px`}),onMousedown:e[8]||(e[8]=o=>r(o,!1,!0,!1,!0))},null,36)])],32),n("div",H,[p(k,null,{default:f(()=>[p(m,{onClick:z},{default:f(()=>[p(c,{size:"17"},{default:f(()=>[p(u)]),_:1}),e[11]||(e[11]=n("span",{class:"ml-[1px]"},"重置",-1))]),_:1})]),_:1}),n("div",J,[p(E,{placeholder:"输入提示词",modelValue:s(b),"onUpdate:modelValue":e[9]||(e[9]=o=>v(b)?b.value=o:null),class:"w-60"},null,8,["modelValue"]),p(m,{type:"primary",onClick:y},{default:f(()=>e[12]||(e[12]=[C("新尺寸扩图")])),_:1})])])])),[[V,s(M)]])]),_:1},8,["modelValue"])}}});export{Z as _};
