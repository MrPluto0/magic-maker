import{d as B,U as H,r as d,a as L,g as o,h as s,F as R,l as U,c as h,w as g,i as u,q as Z,f as C,ab as N,E as y,x as $,j as D,y as S,e as l,n as A,I as k,ah as G}from"./index-C9HzHbyJ.js";/* empty css                   */import{E as K}from"./el-tag-D8DtC0Fq.js";import{u as j}from"./index-NT0ps5Vv.js";const q="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%3e%3cpath%20d='M22%204C19.6362%204%2017.2956%204.46558%2015.1117%205.37017C12.9278%206.27475%2010.9435%207.60062%209.27208%209.27208C7.60062%2010.9435%206.27475%2012.9278%205.37017%2015.1117C4.46558%2017.2956%204%2019.6362%204%2022C4%2024.3638%204.46558%2026.7044%205.37017%2028.8883C6.27475%2031.0722%207.60062%2033.0565%209.27208%2034.7279C10.9435%2036.3994%2012.9278%2037.7253%2015.1117%2038.6298C17.2956%2039.5344%2019.6362%2040%2022%2040C26.7739%2040%2031.3523%2038.1036%2034.7279%2034.7279C38.1036%2031.3523%2040%2026.7739%2040%2022C40%2017.2261%2038.1036%2012.6477%2034.7279%209.27208C31.3523%205.89642%2026.7739%204%2022%204ZM0%2022C0%209.85%209.85%200%2022%200C34.15%200%2044%209.85%2044%2022C44%2034.15%2034.15%2044%2022%2044C9.85%2044%200%2034.15%200%2022ZM16%2014V22H12V14H16ZM32%2014V22H28V14H32ZM31.436%2025.56L30.936%2027.5C30.398%2029.59%2029.35%2031.29%2027.71%2032.434C26.098%2033.56%2024.126%2034%2022%2034H20V30H22C23.6%2030%2024.686%2029.666%2025.42%2029.154C26.126%2028.662%2026.714%2027.862%2027.064%2026.502L27.562%2024.564L31.436%2025.56Z'%20fill='%234D5FFF'/%3e%3c/svg%3e",J=""+new URL("thinking-CeJ7EOuC.gif",import.meta.url).href,O={class:"w-full h-full overflow-hidden flex flex-col items-center gap-4"},P={ref:"contentChatText",class:"flex-1 w-full flex flex-col mt-4 overflow-auto gap-4"},Q={class:"avatar"},W={key:0,src:q},X={key:1,src:J},Y={key:2,class:"i-mdi-account mt-[-2px]",style:{"font-size":"20px"}},ee={class:"chat-textbox"},te=["onClick"],se={key:2,class:"flex items-center mt-2 gap-3"},le=["onClick"],oe=["onClick"],ne={class:"w-full"},ae={class:"flex items-center w-full gap-2"},ie={class:"flex-1"},ce=B({__name:"TextGenerate",setup(re){const{toClipboard:w}=j();H();const V=d(!1),c=d(""),x=d(null),i=d(),p=d(""),n=L({style:"Promotional video",messages:[]}),b=()=>{var a;(a=x.value)==null||a.click()},E=a=>{var f;const r=(f=a.target.files)==null?void 0:f[0];r&&(i.value=r,p.value=r.name)},m=()=>{if(!i.value&&!c.value){y.warning("请输入文字或上传文件");return}c.value?n.messages.push({role:"user",content:c.value}):n.messages.push({role:"user",content:"请解析该文件并扩写"}),n.messages.push({role:"system",content:"这是一个扩写后的文本内容示例。在前端模式下，暂不支持AI生成功能。",loading:0}),c.value="",i.value=null,p.value=""},F=a=>{n.messages.push({role:"user",content:"请输出分镜头脚本"}),n.messages.push({role:"system",content:"这是一个分镜头脚本示例。在前端模式下，暂不支持AI分镜头脚本生成功能。",loading:0})},I=async a=>{try{await w(a),y.success("复制成功")}catch(t){console.error(t)}},M=()=>{n.messages.pop(),m()};return(a,t)=>{const r=$,f=K,z=D,T=S;return l(),o("div",O,[s("div",P,[(l(!0),o(R,null,U(n.messages,(e,_)=>(l(),o("div",{key:_,class:A(["chat-item text-sm","chat-item-"+e.role])},[s("div",Q,[e.role==="system"&&!e.loading?(l(),o("img",W)):u("",!0),e.role==="system"&&e.loading?(l(),o("img",X)):u("",!0),e.role==="user"?(l(),o("i",Y)):u("",!0)]),s("div",ee,[e.edit?(l(),h(r,{key:1,type:"textarea",modelValue:e.content,"onUpdate:modelValue":v=>e.content=v,autosize:"",onMouseleave:v=>e.edit=!1,class:"text-xs text-white w-[250px]"},null,8,["modelValue","onUpdate:modelValue","onMouseleave"])):(l(),o("div",{key:0,class:"text-xs select-text text-white",onClick:v=>e.edit=!0},k(e.content),9,te)),e.role==="system"?(l(),o("div",se,[s("button",{onClick:()=>I(e.content)},t[3]||(t[3]=[s("i",{class:"i-mdi-content-copy",style:{color:"white","font-size":"16px"}},null,-1)]),8,le),_===n.messages.length-1?(l(),o("button",{key:0,onClick:t[0]||(t[0]=()=>M())},t[4]||(t[4]=[s("i",{class:"i-mdi-refresh",style:{color:"white","font-size":"16px"}},null,-1)]))):u("",!0),s("button",{onClick:()=>F(e.content)},t[5]||(t[5]=[s("i",{class:"i-mdi-content-cut",style:{color:"white","font-size":"16px"}},null,-1)]),8,oe)])):u("",!0)])],2))),128))],512),s("div",ne,[i.value?(l(),h(f,{key:0,type:"primary",class:"my-2 text-xs dark:text-white",closable:"",onClose:t[1]||(t[1]=e=>i.value=null)},{default:g(()=>[s("span",null,"上传文件："+k(p.value),1)]),_:1})):u("",!0),Z((l(),o("div",ae,[s("div",ie,[C(r,{modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=e=>c.value=e),class:"mr-4",placeholder:i.value?`上传文件：${p.value}`:"输入提示词",disabled:i.value,onKeyup:N(m,["enter"])},{suffix:g(()=>[s("i",{class:"i-mdi-upload cursor-pointer",style:{"font-size":"18px"},onClick:b}),s("input",{ref_key:"fileInputRef",ref:x,class:"file-input",type:"file",name:"file",accept:".txt, .pdf, .doc, .docx",hidden:"",onChange:E},null,544)]),_:1},8,["modelValue","placeholder","disabled"])]),C(z,{class:"dark:bg-purple-heavy",circle:"",onClick:m},{default:g(()=>t[6]||(t[6]=[s("i",{class:"i-mdi-send"},null,-1)])),_:1})])),[[T,V.value]])])])}}}),me=G(ce,[["__scopeId","data-v-db89706e"]]);export{me as default};
