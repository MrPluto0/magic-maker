import{aI as m1,d as b1,X as d1,r as Oe,a as x1,o as p1,g as Ne,k as Pe,f as Se,u as S1,h as a1,n as M1,w as Ee,Q as t1,as as w1,c as Ye,E as We,G as A1,t as T1,j as B1,T as R1,v as E1,e as Be,R as y1,aD as C1,b5 as k1,i as L1,b6 as I1,b7 as H1,b8 as D1,aA as O1}from"./index-DnwN-RZ1.js";/* empty css                   */import"./el-tooltip-l0sNRNKZ.js";import"./el-tag-DEIq6Q_k.js";import{E as N1,a as V1}from"./el-select-BJzq19TE.js";import"./index-BpqpVcoO.js";var c1={exports:{}};(function(g0){(function(ue){var G0=typeof window=="object"&&!!window.document,e0=G0?window:Object;ue(e0,G0),g0.exports&&(g0.exports=e0.Recorder)})(function(ue,G0){var e0=function(){},W0=function(x){return typeof x=="number"},me=function(x){return JSON.stringify(x)},g=function(x){return new ce(x)},W=g.LM="2024-10-20 22:15",k0="https://github.com/xiangyuecn/Recorder",d0="Recorder",S0="getUserMedia",Y0="srcSampleRate",A0="sampleRate",D0="bitRate",z="catch",Z=ue[d0];if(Z&&Z.LM==W){Z.CLog(Z.i18n.$T("K8zP::重复导入{1}",0,d0),3);return}g.IsOpen=function(){var x=g.Stream;if(x){var A=le(x),t=A[0];if(t){var I=t.readyState;return I=="live"||I==t.LIVE}}return!1},g.BufferSize=4096,g.Destroy=function(){E0(d0+" Destroy"),u0();for(var x in l0)l0[x]()};var l0={};g.BindDestroy=function(x,A){l0[x]=A},g.Support=function(){if(!G0)return!1;var x=navigator.mediaDevices||{};return x[S0]||(x=navigator,x[S0]||(x[S0]=x.webkitGetUserMedia||x.mozGetUserMedia||x.msGetUserMedia)),!(!x[S0]||(g.Scope=x,!g.GetContext()))},g.GetContext=function(x){if(!G0)return null;var A=window.AudioContext;if(A||(A=window.webkitAudioContext),!A)return null;var t=g.Ctx,I=0;return t||(t=g.Ctx=new A,I=1,g.NewCtxs=g.NewCtxs||[],g.BindDestroy("Ctx",function(){var P=g.Ctx;P&&P.close&&(T0(P),g.Ctx=0);var $=g.NewCtxs;g.NewCtxs=[];for(var J=0;J<$.length;J++)T0($[J])})),x&&t.close&&(I||(t._useC||T0(t),t=new A),t._useC=1,g.NewCtxs.push(t)),t},g.CloseNewCtx=function(x){if(x&&x.close){T0(x);for(var A=g.NewCtxs||[],t=A.length,I=0;I<A.length;I++)if(A[I]==x){A.splice(I,1);break}E0(s0("mSxV::剩{1}个GetContext未close",0,t+"-1="+A.length),A.length?3:0)}};var T0=function(x){if(x&&x.close&&!x._isC&&(x._isC=1,x.state!="closed"))try{x.close()}catch(A){E0("ctx close err",1,A)}},G=g.ResumeCtx=function(x,A,t,I){var P=0,$=0,J=0,f0=0,c0="EventListener",h0="ResumeCtx ",i0=function(N0,x0){$&&J0(),P||(P=1,N0&&I(N0,f0),x0&&t(f0)),x0&&(!x._LsSC&&x["add"+c0]&&x["add"+c0]("statechange",C0),x._LsSC=1,J=1)},J0=function(N0){if(!(N0&&$)){$=N0?1:0;for(var x0=["focus","mousedown","mouseup","touchstart","touchend"],q0=0;q0<x0.length;q0++)window[(N0?"add":"remove")+c0](x0[q0],C0,!0)}},C0=function(){var N0=x.state,x0=p0(N0);if(!P&&!A(x0?++f0:f0))return i0();x0?(J&&E0(h0+"sc "+N0,3),J0(1),x.resume().then(function(){J&&E0(h0+"sc "+x.state),i0(0,1)})[z](function(q0){E0(h0+"error",1,q0),p0(x.state)||i0(q0.message||"error")})):N0=="closed"?(J&&!x._isC&&E0(h0+"sc "+N0,1),i0("ctx closed")):i0(0,1)};C0()},p0=g.CtxSpEnd=function(x){return x=="suspended"||x=="interrupted"},L0=function(x){var A=x.state,t="ctx.state="+A;return p0(A)&&(t+=s0("nMIy::（注意：ctx不是running状态，rec.open和start至少要有一个在用户操作(触摸、点击等)时进行调用，否则将在rec.start时尝试进行ctx.resume，可能会产生兼容性问题(仅iOS)，请参阅文档中runningContext配置）")),t},O0="ConnectEnableWebM";g[O0]=!0;var H0="ConnectEnableWorklet";g[H0]=!1;var re=function(x){var A=x.BufferSize||g.BufferSize,t=x.Stream,I=t._c,P=I[A0],$={},J=le(t),f0=J[0],c0=null,h0="";if(f0&&f0.getSettings){c0=f0.getSettings();var i0=c0[A0];i0&&i0!=P&&(h0=s0("eS8i::Stream的采样率{1}不等于{2}，将进行采样率转换（注意：音质不会变好甚至可能变差），主要在移动端未禁用回声消除时会产生此现象，浏览器有回声消除时可能只会返回16k采样率的音频数据，",0,i0,P))}t._ts=c0,E0(h0+"Stream TrackSet: "+me(c0),h0?3:0);var J0=function(M){var e=t._m=I.createMediaStreamSource(t),i=I.destination,h="createMediaStreamDestination";I[h]&&(i=t._d=I[h]()),e.connect(M),M.connect(i)},C0,N0,x0,q0="",f=t._call,k=function(M,e){for(var i in f){if(e!=P){$.index=0,$=g.SampleData([M],e,P,$,{_sum:1});var h=$.data,R=$._sum}else{$={};for(var c=M.length,h=new Int16Array(c),R=0,l=0;l<c;l++){var v=Math.max(-1,Math.min(1,M[l]));v=v<0?v*32768:v*32767,h[l]=v,R+=Math.abs(v)}}for(var s in f)f[s](h,R);return}},H="ScriptProcessor",S="audioWorklet",K=d0+" "+S,b="RecProc",w="MediaRecorder",Y=w+".WebM.PCM",y=I.createScriptProcessor||I.createJavaScriptNode,X=s0("ZGlf::。由于{1}内部1秒375次回调，在移动端可能会有性能问题导致回调丢失录音变短，PC端无影响，暂不建议开启{1}。",0,S),p=function(){N0=t.isWorklet=!1,ae(t),E0(s0("7TU0::Connect采用老的{1}，",0,H)+ve.get(g[H0]?s0("JwCL::但已设置{1}尝试启用{2}",2):s0("VGjB::可设置{1}尝试启用{2}",2),[d0+"."+H0+"=true",S])+q0+X,3);var M=t._p=y.call(I,A,1,1);J0(M),M.onaudioprocess=function(e){var i=e.inputBuffer.getChannelData(0);k(i,P)}},U=function(){C0=t.isWebM=!1,F0(t),N0=t.isWorklet=!y||g[H0];var M=window.AudioWorkletNode;if(!(N0&&I[S]&&M)){p();return}var e=function(){var l=function(s){return s.toString().replace(/^function|DEL_/g,"").replace(/\$RA/g,K)},v="class "+b+" extends AudioWorkletProcessor{";return v+="constructor "+l(function(s){DEL_super(s);var d=this,r=s.processorOptions.bufferSize;d.bufferSize=r,d.buffer=new Float32Array(r*2),d.pos=0,d.port.onmessage=function(L){L.data.kill&&(d.kill=!0,$C.log("$RA kill call"))},$C.log("$RA .ctor call",s)}),v+="process "+l(function(s,d,r){var L=this,_=L.bufferSize,o=L.buffer,u=L.pos;if(s=(s[0]||[])[0]||[],s.length){o.set(s,u),u+=s.length;var m=~~(u/_)*_;if(m){this.port.postMessage({val:o.slice(0,m)});var B=o.subarray(m,u);o=new Float32Array(_*2),o.set(B),u=B.length,L.buffer=o}L.pos=u}return!L.kill}),v+='}try{registerProcessor("'+b+'", '+b+')}catch(e){$C.error("'+K+' Reg Error",e)}',v=v.replace(/\$C\./g,"console."),"data:text/javascript;base64,"+btoa(unescape(encodeURIComponent(v)))},i=function(){return N0&&t._na},h=t._na=function(){x0!==""&&(clearTimeout(x0),x0=setTimeout(function(){x0=0,i()&&(E0(s0("MxX1::{1}未返回任何音频，恢复使用{2}",0,S,H),3),y&&p())},500))},R=function(){if(i()){var l=t._n=new M(I,b,{processorOptions:{bufferSize:A}});J0(l),l.port.onmessage=function(v){x0&&(clearTimeout(x0),x0=""),i()?k(v.data.val,P):N0||E0(s0("XUap::{1}多余回调",0,S),3)},E0(s0("yOta::Connect采用{1}，设置{2}可恢复老式{3}",0,S,d0+"."+H0+"=false",H)+q0+X,3)}},c=function(){if(i()){if(I[b]){R();return}var l=e();I[S].addModule(l).then(function(v){i()&&(I[b]=1,R(),x0&&h())})[z](function(v){E0(S+".addModule Error",1,v),i()&&p()})}};G(I,function(){return i()},c,c)},T=function(){var M=window[w],e="ondataavailable",i="audio/webm; codecs=pcm";C0=t.isWebM=g[O0];var h=M&&e in M.prototype&&M.isTypeSupported(i);if(q0=h?"":s0("VwPd::（此浏览器不支持{1}）",0,Y),!C0||!h){U();return}var R=function(){return C0&&t._ra};t._ra=function(){x0!==""&&(clearTimeout(x0),x0=setTimeout(function(){R()&&(E0(s0("vHnb::{1}未返回任何音频，降级使用{2}",0,w,S),3),U())},500))};var c=Object.assign({mimeType:i},g.ConnectWebMOptions),l=t._r=new M(t,c),v=t._rd={};l[e]=function(s){var d=new FileReader;d.onloadend=function(){if(R()){var r=Re(new Uint8Array(d.result),v);if(!r)return;if(r==-1){U();return}x0&&(clearTimeout(x0),x0=""),k(r,v.webmSR)}else C0||E0(s0("O9P7::{1}多余回调",0,w),3)},d.readAsArrayBuffer(s.data)},l.start(~~(A/48)),E0(s0("LMEm::Connect采用{1}，设置{2}可恢复使用{3}或老式{4}",0,Y,d0+"."+O0+"=false",S,H))};T()},U0=function(x){x._na&&x._na(),x._ra&&x._ra()},ae=function(x){x._na=null,x._n&&(x._n.port.postMessage({kill:!0}),x._n.disconnect(),x._n=null)},F0=function(x){if(x._ra=null,x._r){try{x._r.stop()}catch(A){E0("mr stop err",1,A)}x._r=null}},u0=function(x){x=x||g;var A=x==g,t=x.Stream;t&&(t._m&&(t._m.disconnect(),t._m=null),!t._RC&&t._c&&g.CloseNewCtx(t._c),t._RC=null,t._c=null,t._d&&(D(t._d.stream),t._d=null),t._p&&(t._p.disconnect(),t._p.onaudioprocess=t._p=null),ae(t),F0(t),A&&D(t)),x.Stream=0},D=g.StopS_=function(x){for(var A=le(x),t=0;t<A.length;t++){var I=A[t];I.stop&&I.stop()}x.stop&&x.stop()},le=function(x){var A=0,t=0,I=[];x.getAudioTracks&&(A=x.getAudioTracks(),t=x.getVideoTracks()),A||(A=x.audioTracks,t=x.videoTracks);for(var P=0,$=A?A.length:0;P<$;P++)I.push(A[P]);for(var P=0,$=t?t.length:0;P<$;P++)I.push(t[P]);return I};g.SampleData=function(x,A,t,I,P){var $="SampleData";I||(I={});var J=I.index||0,f0=I.offset||0,c0=I.raisePrev||0,h0=I.filter;if(h0&&h0.fn&&(h0.sr&&h0.sr!=A||h0.srn&&h0.srn!=t)&&(h0=null,E0(s0("d48C::{1}的filter采样率变了，重设滤波",0,$),3)),!h0)if(t<=A){var i0=t>A*3/4?0:t/2*3/4;h0={fn:i0?g.IIRFilter(!0,A,i0):0}}else{var i0=A>t*3/4?0:A/2*3/4;h0={fn:i0?g.IIRFilter(!0,t,i0):0}}h0.sr=A,h0.srn=t;var J0=h0.fn,C0=I.frameNext||[];P||(P={});var N0=P.frameSize||1;P.frameType&&(N0=P.frameType=="mp3"?1152:1);var x0=P._sum,q0=0,f=x.length;J>f+1&&E0(s0("tlbC::{1}似乎传入了未重置chunk {2}",0,$,J+">"+f),3);for(var k=0,H=J;H<f;H++)k+=x[H].length;var S=A/t;if(S>1)k=Math.max(0,k-Math.floor(f0)),k=Math.floor(k/S);else if(S<1){var K=1/S;k=Math.floor(k*K)}k+=C0.length;for(var b=new Int16Array(k),w=0,H=0;H<C0.length;H++)b[w]=C0[H],w++;for(;J<f;J++){var Y=x[J],y=Y instanceof Float32Array,H=f0,X=Y.length,p=J0&&J0.Embed,U=0,T=0,M=0,e=0;if(S<1){for(var i=w+H,h=c0,R=0;R<X;R++){var c=Y[R];y&&(c=Math.max(-1,Math.min(1,c)),c=c<0?c*32768:c*32767);var l=Math.floor(i);i+=K;for(var v=Math.floor(i),s=(c-h)/(v-l),d=1;l<v;l++,d++){var r=Math.floor(h+d*s);p?(M=r,e=p.b0*M+p.b1*p.x1+p.b0*p.x2-p.a1*p.y1-p.a2*p.y2,p.x2=p.x1,p.x1=M,p.y2=p.y1,p.y1=e,r=e):r=J0?J0(r):r,r>32767?r=32767:r<-32768&&(r=-32768),x0&&(q0+=Math.abs(r)),b[l]=r,w++}h=c0=c,H+=K}f0=H%1;continue}for(var R=0,L=0;R<X;R++,L++){if(L<X){var c=Y[L];y&&(c=Math.max(-1,Math.min(1,c)),c=c<0?c*32768:c*32767),p?(M=c,e=p.b0*M+p.b1*p.x1+p.b0*p.x2-p.a1*p.y1-p.a2*p.y2,p.x2=p.x1,p.x1=M,p.y2=p.y1,p.y1=e):e=J0?J0(c):c}if(U=T,T=e,L==0){R--;continue}var _=Math.floor(H);if(R==_){var o=Math.ceil(H),u=H-_,m=U,B=o<X?T:m,a=m+(B-m)*u;a>32767?a=32767:a<-32768&&(a=-32768),x0&&(q0+=Math.abs(a)),b[w]=a,w++,H+=S}}f0=Math.max(0,H-X)}S<1&&w+1==k&&(k--,b=new Int16Array(b.buffer.slice(0,k*2))),w-1!=k&&w!=k&&E0($+" idx:"+w+" != size:"+k,3),C0=null;var n=k%N0;if(n>0){var N=(k-n)*2;C0=new Int16Array(b.buffer.slice(N)),b=new Int16Array(b.buffer.slice(0,N))}var E={index:J,offset:f0,raisePrev:c0,filter:h0,frameNext:C0,sampleRate:t,data:b};return x0&&(E._sum=q0),E},g.IIRFilter=function(x,A,t){var I=2*Math.PI*t/A,P=Math.sin(I),$=Math.cos(I),J=P/2,f0=1+J,c0=-2*$/f0,h0=(1-J)/f0;if(x)var i0=(1-$)/2/f0,J0=(1-$)/f0;else var i0=(1+$)/2/f0,J0=-(1+$)/f0;var C0=0,N0=0,x0=0,q0=0,f=0,k=function(H){return x0=i0*H+J0*C0+i0*N0-c0*q0-h0*f,N0=C0,C0=H,f=q0,q0=x0,x0};return k.Embed={x1:0,x2:0,y1:0,y2:0,b0:i0,b1:J0,a1:c0,a2:h0},k},g.PowerLevel=function(x,A){var t=x/A||0,I;return t<1251?I=Math.round(t/1250*10):I=Math.round(Math.min(100,Math.max(0,(1+Math.log(t/1e4)/Math.log(10))*100))),I},g.PowerDBFS=function(x){var A=Math.max(.1,x||0),t=32767;return A=Math.min(A,t),A=20*Math.log(A/t)/Math.log(10),Math.max(-100,Math.round(A))},g.CLog=function(x,A){if(typeof console=="object"){var t=new Date,I=("0"+t.getMinutes()).substr(-2)+":"+("0"+t.getSeconds()).substr(-2)+"."+("00"+t.getMilliseconds()).substr(-3),P=this&&this.envIn&&this.envCheck&&this.id,$=["["+I+" "+d0+(P?":"+P:"")+"]"+x],J=arguments,f0=g.CLog,c0=2,h0=f0.log||console.log;for(W0(A)?h0=A==1?f0.error||console.error:A==3?f0.warn||console.warn:h0:c0=1;c0<J.length;c0++)$.push(J[c0]);V0?h0&&h0("[IsLoser]"+$[0],$.length>1?$:""):h0.apply(console,$)}};var E0=function(){g.CLog.apply(this,arguments)},V0=!0;try{V0=!console.log.apply}catch{}var Ae=0;function ce(x){var A=this;A.id=++Ae,Ue();var t={type:"mp3",onProcess:e0};for(var I in x)t[I]=x[I];A.set=t;var P=t[D0],$=t[A0];(P&&!W0(P)||$&&!W0($))&&A.CLog(s0.G("IllegalArgs-1",[s0("VtS4::{1}和{2}必须是数值",0,A0,D0)]),1,x),t[D0]=+P||16,t[A0]=+$||16e3,A.state=0,A._S=9,A.Sync={O:9,C:9}}g.Sync={O:9,C:9},g.prototype=ce.prototype={CLog:E0,_streamStore:function(){return this.set.sourceStream?this:g},_streamGet:function(){return this._streamStore().Stream},_streamCtx:function(){var x=this._streamGet();return x&&x._c},open:function(x,A){var t=this,I=t.set,P=t._streamStore(),$=0;x=x||e0;var J=function(w,Y){Y=!!Y,t.CLog(s0("5tWi::录音open失败：")+w+",isUserNotAllow:"+Y,1),$&&g.CloseNewCtx($),A&&A(w,Y)};t._streamTag=S0;var f0=function(){t.CLog("open ok, id:"+t.id+" stream:"+t._streamTag),x(),t._SO=0},c0=P.Sync,h0=++c0.O,i0=c0.C;t._O=t._O_=h0,t._SO=t._S;var J0=function(){if(i0!=c0.C||!t._O){var w=s0("dFm8::open被取消");return h0==c0.O?t.close():w=s0("VtJO::open被中断"),J(w),!0}};if(!G0){J(s0.G("NonBrowser-1",["open"])+s0("EMJq::，可尝试使用RecordApp解决方案")+"("+k0+"/tree/master/app-support-sample)");return}var C0=t.envCheck({envName:"H5",canProcess:!0});if(C0){J(s0("A5bm::不能录音：")+C0);return}var N0,x0=function(){N0=I.runningContext,N0||(N0=$=g.GetContext(!0))};if(I.sourceStream){if(t._streamTag="set.sourceStream",!g.GetContext()){J(s0("1iU7::不支持此浏览器从流中获取录音"));return}x0(),u0(P);var q0=t.Stream=I.sourceStream;q0._c=N0,q0._RC=I.runningContext,q0._call={};try{re(P)}catch(w){u0(P),J(s0("BTW2::从流中打开录音失败：")+w.message);return}f0();return}var f=function(w,Y){try{window.top.a}catch{J(s0("Nclz::无权录音(跨域，请尝试给iframe添加麦克风访问策略，如{1})",0,'allow="camera;microphone"'));return}k(1,w)&&(/Found/i.test(w)?J(Y+s0("jBa9::，无可用麦克风")):J(Y))},k=function(w,Y){if(/Permission|Allow/i.test(Y))w&&J(s0("gyO5::用户拒绝了录音权限"),!0);else if(window.isSecureContext===!1)w&&J(s0("oWNo::浏览器禁止不安全页面录音，可开启https解决"));else return 1};if(g.IsOpen()){f0();return}if(!g.Support()){f("",s0("COxc::此浏览器不支持录音"));return}x0();var H=function(w){setTimeout(function(){w._call={};var Y=g.Stream;Y&&(u0(),w._call=Y._call),g.Stream=w,w._c=N0,w._RC=I.runningContext,!J0()&&(g.IsOpen()?(Y&&t.CLog(s0("upb8::发现同时多次调用open"),1),re(P),f0()):J(s0("Q1GA::录音功能无效：无音频流")))},100)},S=function(w){var Y=w.name||w.message||w.code+":"+w,y="";K==1&&k(0,Y)&&(y=s0("KxE2::，将尝试禁用回声消除后重试")),t.CLog(s0("xEQR::请求录音权限错误")+y+"|"+w,y?3:1,w),y?b(1):f(Y,s0("bDOG::无法录音：")+w)},K=0,b=function(w){K++;var Y="audioTrackSet",y="autoGainControl",X="echoCancellation",p="noiseSuppression",U=Y+":{"+X+","+p+","+y+"}",T=JSON.parse(me(I[Y]||!0));t.CLog("open... "+K+" "+Y+":"+me(T)),w&&(typeof T!="object"&&(T={}),T[y]=!1,T[X]=!1,T[p]=!1),T[A0]&&t.CLog(s0("IjL3::注意：已配置{1}参数，可能会出现浏览器不能正确选用麦克风、移动端无法启用回声消除等现象",0,Y+"."+A0),3);var M={audio:T,video:I.videoTrackSet||!1};try{var e=g.Scope[S0](M,H,S)}catch(i){t.CLog(S0,3,i),M={audio:!0,video:!1},e=g.Scope[S0](M,H,S)}t.CLog(S0+"("+me(M)+") "+L0(N0)+s0("RiWe::，未配置 {1} 时浏览器可能会自动启用回声消除，移动端未禁用回声消除时可能会降低系统播放音量（关闭录音后可恢复）和仅提供16k采样率的音频流（不需要回声消除时可明确配置成禁用来获得48k高音质的流），请参阅文档中{2}配置",0,U,Y)+"("+k0+") LM:"+W+" UA:"+navigator.userAgent),e&&e.then&&e.then(H)[z](S)};b()},close:function(x){x=x||e0;var A=this,t=A._streamStore();A._stop();var I=" stream:"+A._streamTag,P=t.Sync;if(A._O=0,A._O_!=P.O){A.CLog(s0("hWVz::close被忽略（因为同时open了多个rec，只有最后一个会真正close）")+I,3),x();return}P.C++,u0(t),A.CLog("close,"+I),x()},mock:function(x,A){var t=this;return t._stop(),t.isMock=1,t.mockEnvInfo=null,t.buffers=[x],t.recSize=x.length,t._setSrcSR(A),t._streamTag="mock",t},_setSrcSR:function(x){var A=this,t=A.set,I=t[A0];I>x?t[A0]=x:I=0,A[Y0]=x,A.CLog(Y0+": "+x+" set."+A0+": "+t[A0]+(I?" "+s0("UHvm::忽略")+": "+I:""),I?3:0)},envCheck:function(x){var A,t=this,I=t.set,P="CPU_BE";if(!A&&!g[P]&&typeof Int8Array=="function"&&!new Int8Array(new Int32Array([1]).buffer)[0]&&(Ue(P),A=s0("Essp::不支持{1}架构",0,P)),!A){var $=I.type,J=t[$+"_envCheck"];I.takeoffEncodeChunk&&(J?x.canProcess||(A=s0("7uMV::{1}环境不支持实时处理",0,x.envName)):A=s0("2XBl::{1}类型不支持设置takeoffEncodeChunk",0,$)+(t[$]?"":s0("LG7e::(未加载编码器)"))),!A&&J&&(A=t[$+"_envCheck"](x,I))}return A||""},envStart:function(x,A){var t=this,I=t.set;if(t.isMock=x?1:0,t.mockEnvInfo=x,t.buffers=[],t.recSize=0,x&&(t._streamTag="env$"+x.envName),t.state=1,t.envInLast=0,t.envInFirst=0,t.envInFix=0,t.envInFixTs=[],t._setSrcSR(A),t.engineCtx=0,t[I.type+"_start"]){var P=t.engineCtx=t[I.type+"_start"](I);P&&(P.pcmDatas=[],P.pcmSize=0)}},envResume:function(){this.envInFixTs=[]},envIn:function(x,A){var t=this,I=t.set,P=t.engineCtx;if(t.state!=1){t.state||t.CLog("envIn at state=0",3);return}var $=t[Y0],J=x.length,f0=g.PowerLevel(A,J),c0=t.buffers,h0=c0.length;c0.push(x);var i0=c0,J0=h0,C0=Date.now(),N0=Math.round(J/$*1e3);t.envInLast=C0,t.buffers.length==1&&(t.envInFirst=C0-N0);var x0=t.envInFixTs;x0.splice(0,0,{t:C0,d:N0});for(var q0=C0,f=0,k=0;k<x0.length;k++){var H=x0[k];if(C0-H.t>3e3){x0.length=k;break}q0=H.t,f+=H.d}var S=x0[1],K=C0-q0,b=K-f;if(b>K/3&&(S&&K>1e3||x0.length>=6)){var w=C0-S.t-N0;if(w>N0/5){var Y=!I.disableEnvInFix;if(t.CLog("["+C0+"]"+ve.get(s0(Y?"4Kfd::补偿{1}ms":"bM5i::未补偿{1}ms",1),[w]),3),t.envInFix+=w,Y){var y=new Int16Array(w*$/1e3);J+=y.length,c0.push(y)}}}var X=t.recSize,p=J,U=X+p;if(t.recSize=U,P){var T=g.SampleData(c0,$,I[A0],P.chunkInfo);P.chunkInfo=T,X=P.pcmSize,p=T.data.length,U=X+p,P.pcmSize=U,c0=P.pcmDatas,h0=c0.length,c0.push(T.data),$=T[A0]}var M=Math.round(U/$*1e3),e=c0.length,i=i0.length,h=function(){for(var s=R?0:-p,d=c0[0]==null,r=h0;r<e;r++){var L=c0[r];L==null?d=1:(s+=L.length,P&&L.length&&t[I.type+"_encode"](P,L))}if(d&&P){var r=J0;for(i0[0]&&(r=0);r<i;r++)i0[r]=null}d&&(s=R?p:0,c0[0]=null),P?P.pcmSize+=s:t.recSize+=s},R=0,c="rec.set.onProcess";try{R=I.onProcess(c0,f0,M,$,h0,h)}catch(s){console.error(c+s0("gFUF::回调出错是不允许的，需保证不会抛异常"),s)}var l=Date.now()-C0;if(l>10&&t.envInFirst-C0>1e3&&t.CLog(c+s0("2ghS::低性能，耗时{1}ms",0,l),3),R===!0){for(var v=0,k=h0;k<e;k++)c0[k]==null?v=1:c0[k]=new Int16Array(0);v?t.CLog(s0("ufqH::未进入异步前不能清除buffers"),3):P?P.pcmSize-=p:t.recSize-=p}else h()},start:function(){var x=this,A=1;if(x.set.sourceStream?x.Stream||(A=0):g.IsOpen()||(A=0),!A){x.CLog(s0("6WmN::start失败：未open"),1);return}var t=x._streamCtx();if(x.CLog(s0("kLDN::start 开始录音，")+L0(t)+" stream:"+x._streamTag),x._stop(),x.envStart(null,t[A0]),x.state=3,x._SO&&x._SO+1!=x._S){x.CLog(s0("Bp2y::start被中断"),3);return}x._SO=0;var I=function(){x.state==3&&(x.state=1,x.resume())},P="AudioContext resume: ",$=x._streamGet();$._call[x.id]=function(){x.CLog(P+t.state+"|stream ok"),I()},G(t,function(J){return J&&x.CLog(P+"wait..."),x.state==3},function(J){J&&x.CLog(P+t.state),I()},function(J){x.CLog(P+t.state+s0("upkE::，可能无法录音：")+J,1),I()})},pause:function(){var x=this,A=x._streamGet();x.state&&(x.state=2,x.CLog("pause"),A&&delete A._call[x.id])},resume:function(){var x=this,A=x._streamGet(),t="resume",I=t+"(wait ctx)";if(x.state==3)x.CLog(I);else if(x.state){x.state=1,x.CLog(t),x.envResume(),A&&(A._call[x.id]=function($,J){x.state==1&&x.envIn($,J)},U0(A));var P=x._streamCtx();P&&G(P,function($){return $&&x.CLog(I+"..."),x.state==1},function($){$&&x.CLog(I+P.state),U0(A)},function($){x.CLog(I+P.state+"[err]"+$,1)})}},_stop:function(x){var A=this,t=A.set;A.isMock||A._S++,A.state&&(A.pause(),A.state=0),!x&&A[t.type+"_stop"]&&(A[t.type+"_stop"](A.engineCtx),A.engineCtx=0)},stop:function(x,A,t){var I=this,P=I.set,$,J=I.envInLast-I.envInFirst,f0=J&&I.buffers.length;I.CLog(s0("Xq4s::stop 和start时差:")+(J?J+"ms "+s0("3CQP::补偿:")+I.envInFix+"ms envIn:"+f0+" fps:"+(f0/J*1e3).toFixed(1):"-")+" stream:"+I._streamTag+" ("+k0+") LM:"+W);var c0=function(){I._stop(),t&&I.close()},h0=function(H){I.CLog(s0("u8JG::结束录音失败：")+H,1),A&&A(H),c0()},i0=function(H,S,K){var b="blob",w="arraybuffer",Y="dataType",y="DefaultDataType",X=I[Y]||g[y]||b,p=Y+"="+X,U=H instanceof ArrayBuffer,T=0,M=U?H.byteLength:H.size;if(X==w?U||(T=1):X==b?typeof Blob!="function"?T=s0.G("NonBrowser-1",[p])+s0("1skY::，请设置{1}",0,d0+"."+y+'="'+w+'"'):(U&&(H=new Blob([H],{type:S})),H instanceof Blob||(T=1),S=H.type||S):T=s0.G("NotSupport-1",[p]),I.CLog(s0("Wv7l::结束录音 编码花{1}ms 音频时长{2}ms 文件大小{3}b",0,Date.now()-$,K,M)+" "+p+","+S),T){h0(T!=1?T:s0("Vkbd::{1}编码器返回的不是{2}",0,P.type,X)+", "+p);return}if(P.takeoffEncodeChunk)I.CLog(s0("QWnr::启用takeoffEncodeChunk后stop返回的blob长度为0不提供音频数据"),3);else if(M<Math.max(50,K/5)){h0(s0("Sz2H::生成的{1}无效",0,P.type));return}x&&x(H,K,S),c0()};if(!I.isMock){var J0=I.state==3;if(!I.state||J0){h0(s0("wf9t::未开始录音")+(J0?s0("Dl2c::，开始录音前无用户交互导致AudioContext未运行"):""));return}}I._stop(!0);var C0=I.recSize;if(!C0){h0(s0("Ltz3::未采集到录音"));return}if(!I[P.type]){h0(s0("xGuI::未加载{1}编码器，请尝试到{2}的src/engine内找到{1}的编码器并加载",0,P.type,d0));return}if(I.isMock){var N0=I.envCheck(I.mockEnvInfo||{envName:"mock",canProcess:!1});if(N0){h0(s0("AxOH::录音错误：")+N0);return}}var x0=I.engineCtx;if(I[P.type+"_complete"]&&x0){var k=Math.round(x0.pcmSize/P[A0]*1e3);$=Date.now(),I[P.type+"_complete"](x0,function(S,K){i0(S,K,k)},h0);return}if($=Date.now(),!I.buffers[0]){h0(s0("xkKd::音频buffers被释放"));return}var q0=g.SampleData(I.buffers,I[Y0],P[A0]);P[A0]=q0[A0];var f=q0.data,k=Math.round(f.length/P[A0]*1e3);I.CLog(s0("CxeT::采样:{1} 花:{2}ms",0,C0+"->"+f.length,Date.now()-$)),setTimeout(function(){$=Date.now(),I[P.type](f,function(H,S){i0(H,S,k)},function(H){h0(H)})})}};var Re=function(x,A){A.pos||(A.pos=[0],A.tracks={},A.bytes=[]);var t=A.tracks,I=[A.pos[0]],P=function(){A.pos[0]=I[0]},$=A.bytes.length,J=new Uint8Array($+x.length);if(J.set(A.bytes),J.set(x,$),A.bytes=J,!A._ht){if(K0(J,I),Te(J,I),!de(K0(J,I),[24,83,128,103]))return;for(K0(J,I);I[0]<J.length;){var f0=K0(J,I),c0=Te(J,I),h0=[0],i0=0;if(!c0)return;if(de(f0,[22,84,174,107])){for(;h0[0]<c0.length;){var J0=K0(c0,h0),C0=Te(c0,h0),N0=[0],x0={channels:0,sampleRate:0};if(de(J0,[174]))for(;N0[0]<C0.length;){var q0=K0(C0,N0),f=Te(C0,N0),k=[0];if(de(q0,[215])){var H=Q0(f);x0.number=H,t[H]=x0}else if(de(q0,[131])){var H=Q0(f);H==1?x0.type="video":H==2?(x0.type="audio",i0||(A.track0=x0),x0.idx=i0++):x0.type="Type-"+H}else if(de(q0,[134])){for(var S="",K=0;K<f.length;K++)S+=String.fromCharCode(f[K]);x0.codec=S}else if(de(q0,[225]))for(;k[0]<f.length;){var b=K0(f,k),w=Te(f,k);if(de(b,[181])){var H=0,Y=new Uint8Array(w.reverse()).buffer;w.length==4?H=new Float32Array(Y)[0]:w.length==8?H=new Float64Array(Y)[0]:E0("WebM Track !Float",1,w),x0[A0]=Math.round(H)}else de(b,[98,100])?x0.bitDepth=Q0(w):de(b,[159])&&(x0.channels=Q0(w))}}}A._ht=1,E0("WebM Tracks",t),P();break}}}var y=A.track0;if(y){var X=y[A0];if(A.webmSR=X,y.bitDepth==16&&/FLOAT/i.test(y.codec)&&(y.bitDepth=32,E0("WebM 16->32 bit",3)),X<8e3||y.bitDepth!=32||y.channels<1||!/(\b|_)PCM\b/i.test(y.codec))return A.bytes=[],A.bad||E0("WebM Track Unexpected",3,A),A.bad=1,-1;for(var p=[],U=0;I[0]<J.length;){var J0=K0(J,I),C0=Te(J,I);if(!C0)break;if(de(J0,[163])){var T=C0[0]&15,x0=t[T];if(!x0)E0("WebM !Track"+T,1,t);else if(x0.idx===0){for(var M=new Uint8Array(C0.length-4),K=4;K<C0.length;K++)M[K-4]=C0[K];p.push(M),U+=M.length}}P()}if(U){var e=new Uint8Array(J.length-A.pos[0]);e.set(J.subarray(A.pos[0])),A.bytes=e,A.pos[0]=0;for(var M=new Uint8Array(U),K=0,i=0;K<p.length;K++)M.set(p[K],i),i+=p[K].length;var Y=new Float32Array(M.buffer);if(y.channels>1){for(var h=[],K=0;K<Y.length;)h.push(Y[K]),K+=y.channels;Y=new Float32Array(h)}return Y}}},de=function(x,A){if(!x||x.length!=A.length)return!1;if(x.length==1)return x[0]==A[0];for(var t=0;t<x.length;t++)if(x[t]!=A[t])return!1;return!0},Q0=function(x){for(var A="",t=0;t<x.length;t++){var I=x[t];A+=(I<16?"0":"")+I.toString(16)}return parseInt(A,16)||0},K0=function(x,A,t){var I=A[0];if(!(I>=x.length)){var P=x[I],$=("0000000"+P.toString(2)).substr(-8),J=/^(0*1)(\d*)$/.exec($);if(J){var f0=J[1].length,c0=[];if(!(I+f0>x.length)){for(var h0=0;h0<f0;h0++)c0[h0]=x[I],I++;return t&&(c0[0]=parseInt(J[2]||"0",2)),A[0]=I,c0}}}},Te=function(x,A){var t=K0(x,A,1);if(t){var I=Q0(t),P=A[0],$=[];if(I<2147483647){if(P+I>x.length)return;for(var J=0;J<I;J++)$[J]=x[P],P++}return A[0]=P,$}},ve=g.i18n={lang:"zh-CN",alias:{"zh-CN":"zh","en-US":"en"},locales:{},data:{},put:function(x,A){var t=d0+".i18n.put: ",I=x.overwrite;I=I==null||I;var P=x.lang;if(P=ve.alias[P]||P,!P)throw new Error(t+"set.lang?");var $=ve.locales[P];$||($={},ve.locales[P]=$);for(var J=/^([\w\-]+):/,f0,c0=0;c0<A.length;c0++){var i0=A[c0];if(f0=J.exec(i0),!f0){E0(t+"'key:'? "+i0,3,x);continue}var h0=f0[1],i0=i0.substr(h0.length+1);!I&&$[h0]||($[h0]=i0)}},get:function(){return ve.v_G.apply(null,arguments)},v_G:function(x,A,t){A=A||[],t=t||ve.lang,t=ve.alias[t]||t;var I=ve.locales[t],P=I&&I[x]||"";return!P&&t!="zh"?t=="en"?ve.v_G(x,A,"zh"):ve.v_G(x,A,"en"):(ve.lastLang=t,P=="=Empty"?"":P.replace(/\{(\d+)(\!?)\}/g,function($,J,f0){return J=+J||0,$=A[J-1],(J<1||J>A.length)&&($="{?}",E0("i18n["+x+"] no {"+J+"}: "+P,3)),f0?"":$}))},$T:function(){return ve.v_T.apply(null,arguments)},v_T:function(){for(var x=arguments,A="",t=[],I=0,P=d0+".i18n.$T:",$=/^([\w\-]*):/,J,f0=0;f0<x.length;f0++){var c0=x[f0];if(f0==0){if(J=$.exec(c0),A=J&&J[1],!A)throw new Error(P+"0 'key:'?");c0=c0.substr(A.length+1)}if(I===-1)t.push(c0);else{if(I)throw new Error(P+" bad args");if(c0===0)I=-1;else if(W0(c0)){if(c0<1)throw new Error(P+" bad args");I=c0}else{var h0=f0==1?"en":f0?"":"zh";if(J=$.exec(c0),J&&(h0=J[1]||h0,c0=c0.substr(J[1].length+1)),!J||!h0)throw new Error(P+f0+" 'lang:'?");ve.put({lang:h0,overwrite:!1},[A+":"+c0])}}}return A?I>0?A:ve.v_G(A,t):""}},s0=ve.$T;s0.G=ve.get,s0("NonBrowser-1::非浏览器环境，不支持{1}",1),s0("IllegalArgs-1::参数错误：{1}",1),s0("NeedImport-2::调用{1}需要先导入{2}",2),s0("NotSupport-1::不支持：{1}",1),g.TrafficImgUrl="//ia.51.la/go1?id=20469973&pvFlag=1";var Ue=g.Traffic=function(x){if(G0){x=x?"/"+d0+"/Report/"+x:"";var A=g.TrafficImgUrl;if(A){var t=g.Traffic,I=/^(https?:..[^\/#]*\/?)[^#]*/i.exec(location.href)||[],P=I[1]||"http://file/",$=(I[0]||P)+x;if(A.indexOf("//")==0&&(/^https:/i.test($)?A="https:"+A:A="http:"+A),x&&(A=A+"&cu="+encodeURIComponent(P+x)),!t[$]){t[$]=1;var J=new Image;J.src=A,E0("Traffic Analysis Image: "+(x||d0+".TrafficImgUrl="+g.TrafficImgUrl))}}}};Z&&(E0(s0("8HO5::覆盖导入{1}",0,d0),1),Z.Destroy()),ue[d0]=g})})(c1);var F1=c1.exports;const X1=m1(F1);(function(g0){var ue=typeof window=="object"&&!!window.document,G0=ue?window:Object,e0=G0.Recorder,W0=e0.i18n;g0(e0,W0,W0.$T,ue)})(function(g0,ue,G0,e0){var W0="48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000",me="8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160, 192, 224, 256, 320";g0.prototype.enc_mp3={stable:!0,takeEC:"full",getTestMsg:function(){return G0("Zm7L::采样率范围：{1}；比特率范围：{2}（不同比特率支持的采样率范围不同，小于32kbps时采样率需小于32000）",0,W0,me)}};var g=function(z){var Z=z.bitRate,l0=z.sampleRate,T0=l0;if((" "+me+",").indexOf(" "+Z+",")==-1&&g0.CLog(G0("eGB9::{1}不在mp3支持的取值范围：{2}",0,"bitRate="+Z,me),3),(" "+W0+",").indexOf(" "+l0+",")==-1){for(var G=W0.split(", "),p0=[],L0=0;L0<G.length;L0++)p0.push({v:+G[L0],s:Math.abs(G[L0]-l0)});p0.sort(function(O0,H0){return O0.s-H0.s}),T0=p0[0].v,z.sampleRate=T0,g0.CLog(G0("zLTa::sampleRate已更新为{1}，因为{2}不在mp3支持的取值范围：{3}",0,T0,l0,W0),3)}},W=function(){return G0.G("NeedImport-2",["mp3.js","src/engine/mp3-engine.js"])},k0=e0&&typeof Worker=="function";g0.prototype.mp3=function(z,Z,l0){var T0=this,G=T0.set,p0=z.length;if(!g0.lamejs){l0(W());return}if(k0){var L0=T0.mp3_start(G);if(L0){if(L0.isW){T0.mp3_encode(L0,z),T0.mp3_complete(L0,Z,l0,1);return}T0.mp3_stop(L0)}}g(G);var O0=new g0.lamejs.Mp3Encoder(1,G.sampleRate,G.bitRate),H0=57600,re=new Int8Array(5e5),U0=0,ae=0,F0=0,u0=function(){try{if(ae<p0)var D=O0.encodeBuffer(z.subarray(ae,ae+H0));else{F0=1;var D=O0.flush()}}catch(ce){if(console.error(ce),!F0)try{O0.flush()}catch(Re){console.error(Re)}l0("MP3 Encoder: "+ce.message);return}var le=D.length;if(le>0){if(U0+le>re.length){var E0=new Int8Array(re.length+Math.max(5e5,le));E0.set(re.subarray(0,U0)),re=E0}re.set(D,U0),U0+=le}if(ae<p0)ae+=H0,setTimeout(u0);else{var V0=[re.buffer.slice(0,U0)],Ae=A0.fn(V0,U0,p0,G.sampleRate);D0(Ae,G),Z(V0[0]||new ArrayBuffer(0),"audio/mp3")}};u0()};var d0;g0.BindDestroy("mp3Worker",function(){d0&&(g0.CLog("mp3Worker Destroy"),d0.terminate(),d0=null)}),g0.prototype.mp3_envCheck=function(z,Z){var l0="";return Z.takeoffEncodeChunk&&(Y0()||(l0=G0("yhUs::当前浏览器版本太低，无法实时处理"))),!l0&&!g0.lamejs&&(l0=W()),l0},g0.prototype.mp3_start=function(z){return Y0(z)};var S0={id:0},Y0=function(z,Z){var l0=function(F0){var u0=F0.data,D=p0.wkScope.wk_ctxs,le=p0.wkScope.wk_lame,E0=p0.wkScope.wk_mp3TrimFix,V0=D[u0.id];if(u0.action=="init")D[u0.id]={sampleRate:u0.sampleRate,bitRate:u0.bitRate,takeoff:u0.takeoff,pcmSize:0,memory:new Int8Array(5e5),mOffset:0,encObj:new le.Mp3Encoder(1,u0.sampleRate,u0.bitRate)};else if(!V0)return;var Ae=function(Q0){var K0=Q0.length;if(V0.mOffset+K0>V0.memory.length){var Te=new Int8Array(V0.memory.length+Math.max(5e5,K0));Te.set(V0.memory.subarray(0,V0.mOffset)),V0.memory=Te}V0.memory.set(Q0,V0.mOffset),V0.mOffset+=K0};switch(u0.action){case"stop":if(!V0.isCp)try{V0.encObj.flush()}catch(Q0){console.error(Q0)}V0.encObj=null,delete D[u0.id];break;case"encode":if(V0.isCp)break;V0.pcmSize+=u0.pcm.length;try{var ce=V0.encObj.encodeBuffer(u0.pcm)}catch(Q0){V0.err=Q0,console.error(Q0)}ce&&ce.length>0&&(V0.takeoff?L0.onmessage({action:"takeoff",id:u0.id,chunk:ce}):Ae(ce));break;case"complete":V0.isCp=1;try{var ce=V0.encObj.flush()}catch(Q0){V0.err=Q0,console.error(Q0)}if(ce&&ce.length>0&&(V0.takeoff?L0.onmessage({action:"takeoff",id:u0.id,chunk:ce}):Ae(ce)),V0.err){L0.onmessage({action:u0.action,id:u0.id,err:"MP3 Encoder: "+V0.err.message});break}var Re=[V0.memory.buffer.slice(0,V0.mOffset)],de=E0.fn(Re,V0.mOffset,V0.pcmSize,V0.sampleRate);L0.onmessage({action:u0.action,id:u0.id,blob:Re[0]||new ArrayBuffer(0),meta:de});break}},T0=function(F0){L0.onmessage=function(u0){var D=u0;F0&&(D=u0.data);var le=S0[D.id];le&&(D.action=="takeoff"?le.set.takeoffEncodeChunk(new Uint8Array(D.chunk.buffer)):(le.call&&le.call(D),le.call=null))}},G=function(){var F0={worker:L0,set:z};return z?(F0.id=++S0.id,S0[F0.id]=F0,g(z),L0.postMessage({action:"init",id:F0.id,sampleRate:z.sampleRate,bitRate:z.bitRate,takeoff:!!z.takeoffEncodeChunk,x:new Int16Array(5)})):L0.postMessage({x:new Int16Array(5)}),F0},p0,L0=d0;if(Z||!k0)return g0.CLog(G0("k9PT::当前环境不支持Web Worker，mp3实时编码器运行在主线程中"),3),L0={postMessage:function(F0){l0({data:F0})}},p0={wkScope:{wk_ctxs:{},wk_lame:g0.lamejs,wk_mp3TrimFix:A0}},T0(),G();try{if(!L0){var O0=(l0+"").replace(/[\w\$]+\.onmessage/g,"self.postMessage");O0=O0.replace(/[\w\$]+\.wkScope/g,"wkScope");var H0=");wk_lame();self.onmessage="+O0;H0+=";var wkScope={ wk_ctxs:{},wk_lame:wk_lame",H0+=",wk_mp3TrimFix:{rm:"+A0.rm+",fn:"+A0.fn+"} }";var re=g0.lamejs.toString(),U0=(window.URL||webkitURL).createObjectURL(new Blob(["var wk_lame=(",re,H0],{type:"text/javascript"}));L0=new Worker(U0),setTimeout(function(){(window.URL||webkitURL).revokeObjectURL(U0)},1e4),T0(1)}var ae=G();return ae.isW=1,d0=L0,ae}catch(F0){return L0&&L0.terminate(),console.error(F0),Y0(z,1)}};g0.prototype.mp3_stop=function(z){if(z&&z.worker){z.worker.postMessage({action:"stop",id:z.id}),z.worker=null,delete S0[z.id];var Z=-1;for(var l0 in S0)Z++;Z&&g0.CLog(G0("fT6M::mp3 worker剩{1}个未stop",0,Z),3)}},g0.prototype.mp3_encode=function(z,Z){z&&z.worker&&z.worker.postMessage({action:"encode",id:z.id,pcm:Z})},g0.prototype.mp3_complete=function(z,Z,l0,T0){var G=this;z&&z.worker?(z.call=function(p0){T0&&G.mp3_stop(z),p0.err?l0(p0.err):(D0(p0.meta,z.set),Z(p0.blob,"audio/mp3"))},z.worker.postMessage({action:"complete",id:z.id})):l0(G0("mPxH::mp3编码器未start"))},g0.mp3ReadMeta=function(z,Z){var l0=typeof window<"u"&&window.parseInt||typeof self<"u"&&self.parseInt||parseInt,T0=new Uint8Array(z[0]||[]);if(T0.length<4)return null;var G=function(Q0,K0){return("0000000"+((K0||T0)[Q0]||0).toString(2)).substr(-8)},p0=G(0)+G(1),L0=G(2)+G(3);if(!/^1{11}/.test(p0))return null;var O0={"00":2.5,10:2,11:1}[p0.substr(11,2)],H0={"01":3}[p0.substr(13,2)],re={1:[44100,48e3,32e3],2:[22050,24e3,16e3],"2.5":[11025,12e3,8e3]}[O0];re&&(re=re[l0(L0.substr(4,2),2)]);var U0=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320]][O0==1?1:0][l0(L0.substr(0,4),2)];if(!O0||!H0||!U0||!re)return null;for(var ae=Math.round(Z*8/U0),F0=H0==1?384:H0==2||O0==1?1152:576,u0=F0/re*1e3,D=Math.floor(F0*U0/8/re*1e3),le=0,E0=0,V0=0;V0<z.length;V0++){var Ae=z[V0];if(E0+=Ae.byteLength,E0>=D+3){var ce=new Uint8Array(Ae),Re=Ae.byteLength-(E0-(D+3)+1),de=G(Re,ce);le=de.charAt(6)=="1";break}}return le&&D++,{version:O0,layer:H0,sampleRate:re,bitRate:U0,duration:ae,size:Z,hasPadding:le,frameSize:D,frameDurationFloat:u0}};var A0={rm:g0.mp3ReadMeta,fn:function(z,Z,l0,T0){var G=this.rm(z,Z);if(!G)return{size:Z,err:"mp3 unknown format"};var p0=Math.round(l0/T0*1e3),L0=Math.floor((G.duration-p0)/G.frameDurationFloat);if(L0>0){var O0=L0*G.frameSize-(G.hasPadding?1:0);Z-=O0;for(var H0=0,re=[],U0=0;U0<z.length;U0++){var ae=z[U0];if(O0<=0)break;O0>=ae.byteLength?(O0-=ae.byteLength,re.push(ae),z.splice(U0,1),U0--):(z[U0]=ae.slice(O0),H0=ae,O0=0)}var F0=this.rm(z,Z);if(!F0){H0&&(z[0]=H0);for(var U0=0;U0<re.length;U0++)z.splice(U0,0,re[U0]);G.err="mp3 fix error: 已还原，错误原因不明"}var u0=G.trimFix={};u0.remove=L0,u0.removeDuration=Math.round(L0*G.frameDurationFloat),u0.duration=Math.round(Z*8/G.bitRate)}return G}},D0=function(z,Z){var l0="MP3 Info: ";(z.sampleRate&&z.sampleRate!=Z.sampleRate||z.bitRate&&z.bitRate!=Z.bitRate)&&(g0.CLog(l0+G0("uY9i::和设置的不匹配{1}，已更新成{2}",0,"set:"+Z.bitRate+"kbps "+Z.sampleRate+"hz","set:"+z.bitRate+"kbps "+z.sampleRate+"hz"),3,Z),Z.sampleRate=z.sampleRate,Z.bitRate=z.bitRate);var T0=z.trimFix;T0?(l0+=G0("iMSm::Fix移除{1}帧",0,T0.remove)+" "+T0.removeDuration+"ms -> "+T0.duration+"ms",T0.remove>2&&(z.err=(z.err?z.err+", ":"")+G0("b9zm::移除帧数过多"))):l0+=(z.duration||"-")+"ms",z.err?g0.CLog(l0,z.size?1:0,z.err,z):g0.CLog(l0,z)}});(function(g0){var ue=typeof window=="object"&&!!window.document,G0=ue?window:Object,e0=G0.Recorder;g0(e0)})(function(g0){function ue(){var G0=function(f){return Math.log(f)/Math.log(10)},e0=function(f){throw new Error("abort("+f+")")};function W0(f){return new Int8Array(f)}function me(f){return new Int16Array(f)}function g(f){return new Int32Array(f)}function W(f){return new Float32Array(f)}function k0(f){return new Float64Array(f)}function d0(f){if(f.length==1)return W(f[0]);var k=f[0];f=f.slice(1);for(var H=[],S=0;S<k;S++)H.push(d0(f));return H}function S0(f){if(f.length==1)return g(f[0]);var k=f[0];f=f.slice(1);for(var H=[],S=0;S<k;S++)H.push(S0(f));return H}function Y0(f){if(f.length==1)return me(f[0]);var k=f[0];f=f.slice(1);for(var H=[],S=0;S<k;S++)H.push(Y0(f));return H}function A0(f){if(f.length==1)return new Array(f[0]);var k=f[0];f=f.slice(1);for(var H=[],S=0;S<k;S++)H.push(A0(f));return H}var D0={};D0.fill=function(f,k,H,S){if(arguments.length==2)for(var K=0;K<f.length;K++)f[K]=arguments[1];else for(var K=k;K<H;K++)f[K]=S};var z={};z.arraycopy=function(f,k,H,S,K){for(var b=k+K;k<b;)H[S++]=f[k++]};var Z={};Z.SQRT2=1.4142135623730951,Z.FAST_LOG10=function(f){return G0(f)},Z.FAST_LOG10_X=function(f,k){return G0(f)*k};function l0(f){this.ordinal=f}l0.short_block_allowed=new l0(0),l0.short_block_coupled=new l0(1),l0.short_block_dispensed=new l0(2),l0.short_block_forced=new l0(3);var T0={};T0.MAX_VALUE=34028235e31;function G(f){this.ordinal=f}G.vbr_off=new G(0),G.vbr_mt=new G(1),G.vbr_rh=new G(2),G.vbr_abr=new G(3),G.vbr_mtrh=new G(4),G.vbr_default=G.vbr_mtrh;function p0(f){var k=f;this.ordinal=function(){return k}}p0.STEREO=new p0(0),p0.JOINT_STEREO=new p0(1),p0.DUAL_CHANNEL=new p0(2),p0.MONO=new p0(3),p0.NOT_SET=new p0(4);function L0(){var f=3,k=98,H=4;this.getLameShortVersion=function(){return f+"."+k+"."+H}}function O0(){var f=null;this.qupvt=null,this.setModules=function(_){this.qupvt=_,f=_};function k(_){this.bits=0|_}var H=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function S(_,o,u,m,B,a){var n=.5946/o;for(_=_>>1;_--!=0;)B[a++]=n>u[m++]?0:1,B[a++]=n>u[m++]?0:1}function K(_,o,u,m,B,a){_=_>>1;var n=_%2;for(_=_>>1;_--!=0;){var N,E,O,q,Q,a0,b0,B0;N=u[m++]*o,E=u[m++]*o,Q=0|N,O=u[m++]*o,a0=0|E,q=u[m++]*o,b0=0|O,N+=f.adj43[Q],B0=0|q,E+=f.adj43[a0],B[a++]=0|N,O+=f.adj43[b0],B[a++]=0|E,q+=f.adj43[B0],B[a++]=0|O,B[a++]=0|q}if(n!=0){var N,E,Q,a0;N=u[m++]*o,E=u[m++]*o,Q=0|N,a0=0|E,N+=f.adj43[Q],E+=f.adj43[a0],B[a++]=0|N,B[a++]=0|E}}function b(_,o,u,m,B){var a,n,N=0,E,O=0,q=0,Q=0,a0=o,b0=0,B0=a0,M0=0,ie=_,_e=0;for(E=B!=null&&m.global_gain==B.global_gain,m.block_type==t.SHORT_TYPE?n=38:n=21,a=0;a<=n;a++){var $0=-1;if((E||m.block_type==t.NORM_TYPE)&&($0=m.global_gain-(m.scalefac[a]+(m.preflag!=0?f.pretab[a]:0)<<m.scalefac_scale+1)-m.subblock_gain[m.window[a]]*8),E&&B.step[a]==$0)O!=0&&(K(O,u,ie,_e,B0,M0),O=0),q!=0&&e0();else{var ne=m.width[a];if(N+m.width[a]>m.max_nonzero_coeff){var fe;fe=m.max_nonzero_coeff-N+1,D0.fill(o,m.max_nonzero_coeff,576,0),ne=fe,ne<0&&(ne=0),a=n+1}if(O==0&&q==0&&(B0=a0,M0=b0,ie=_,_e=Q),B!=null&&B.sfb_count1>0&&a>=B.sfb_count1&&B.step[a]>0&&$0>=B.step[a]?(O!=0&&(K(O,u,ie,_e,B0,M0),O=0,B0=a0,M0=b0,ie=_,_e=Q),q+=ne):(q!=0&&(S(q,u,ie,_e,B0,M0),q=0,B0=a0,M0=b0,ie=_,_e=Q),O+=ne),ne<=0){q!=0&&e0(),O!=0&&e0();break}}a<=n&&(b0+=m.width[a],Q+=m.width[a],N+=m.width[a])}O!=0&&(K(O,u,ie,_e,B0,M0),O=0),q!=0&&e0()}function w(_,o,u){var m=0,B=0;do{var a=_[o++],n=_[o++];m<a&&(m=a),B<n&&(B=n)}while(o<u);return m<B&&(m=B),m}function Y(_,o,u,m,B,a){var n=D.ht[m].xlen*65536+D.ht[B].xlen,N=0,E;do{var O=_[o++],q=_[o++];O!=0&&(O>14&&(O=15,N+=n),O*=16),q!=0&&(q>14&&(q=15,N+=n),O+=q),N+=D.largetbl[O]}while(o<u);return E=N&65535,N>>=16,N>E&&(N=E,m=B),a.bits+=N,m}function y(_,o,u,m){var B=0,a=D.ht[1].hlen;do{var n=_[o+0]*2+_[o+1];o+=2,B+=a[n]}while(o<u);return m.bits+=B,1}function X(_,o,u,m,B){var a=0,n,N=D.ht[m].xlen,E;m==2?E=D.table23:E=D.table56;do{var O=_[o+0]*N+_[o+1];o+=2,a+=E[O]}while(o<u);return n=a&65535,a>>=16,a>n&&(a=n,m++),B.bits+=a,m}function p(_,o,u,m,B){var a=0,n=0,N=0,E=D.ht[m].xlen,O=D.ht[m].hlen,q=D.ht[m+1].hlen,Q=D.ht[m+2].hlen;do{var a0=_[o+0]*E+_[o+1];o+=2,a+=O[a0],n+=q[a0],N+=Q[a0]}while(o<u);var b0=m;return a>n&&(a=n,b0++),a>N&&(a=N,b0=m+2),B.bits+=a,b0}var U=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function T(_,o,u,m){var B=w(_,o,u);switch(B){case 0:return B;case 1:return y(_,o,u,m);case 2:case 3:return X(_,o,u,U[B-1],m);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return p(_,o,u,U[B-1],m);default:B>K0.IXMAX_VAL&&e0(),B-=15;var a;for(a=24;a<32&&!(D.ht[a].linmax>=B);a++);var n;for(n=a-8;n<24&&!(D.ht[n].linmax>=B);n++);return Y(_,o,u,n,a,m)}}this.noquant_count_bits=function(_,o,u){var m=o.l3_enc,B=Math.min(576,o.max_nonzero_coeff+2>>1<<1);for(u!=null&&(u.sfb_count1=0);B>1&&!(m[B-1]|m[B-2]);B-=2);o.count1=B;for(var a=0,n=0;B>3;B-=4){var N;if(((m[B-1]|m[B-2]|m[B-3]|m[B-4])&2147483647)>1)break;N=((m[B-4]*2+m[B-3])*2+m[B-2])*2+m[B-1],a+=D.t32l[N],n+=D.t33l[N]}var E=a;if(o.count1table_select=0,a>n&&(E=n,o.count1table_select=1),o.count1bits=E,o.big_values=B,B==0)return E;if(o.block_type==t.SHORT_TYPE)a=3*_.scalefac_band.s[3],a>o.big_values&&(a=o.big_values),n=o.big_values;else if(o.block_type==t.NORM_TYPE){if(a=o.region0_count=_.bv_scf[B-2],n=o.region1_count=_.bv_scf[B-1],n=_.scalefac_band.l[a+n+2],a=_.scalefac_band.l[a+1],n<B){var O=new k(E);o.table_select[2]=T(m,n,B,O),E=O.bits}}else o.region0_count=7,o.region1_count=t.SBMAX_l-1-7-1,a=_.scalefac_band.l[8],n=B,a>n&&(a=n);if(a=Math.min(a,B),n=Math.min(n,B),0<a){var O=new k(E);o.table_select[0]=T(m,0,a,O),E=O.bits}if(a<n){var O=new k(E);o.table_select[1]=T(m,a,n,O),E=O.bits}if(_.use_best_huffman==2&&e0(),u!=null&&o.block_type==t.NORM_TYPE){for(var q=0;_.scalefac_band.l[q]<o.big_values;)q++;u.sfb_count1=q}return E},this.count_bits=function(_,o,u,m){var B=u.l3_enc,a=K0.IXMAX_VAL/f.IPOW20(u.global_gain);return u.xrpow_max>a?K0.LARGE_BITS:(b(o,B,f.IPOW20(u.global_gain),u,m),_.substep_shaping&2&&e0(),this.noquant_count_bits(_,u,m))};function M(_,o,u,m,B,a,n){for(var N=o.big_values,E=0;E<=22;E++)m[E]=K0.LARGE_BITS;for(var E=0;E<16;E++){var O=_.scalefac_band.l[E+1];if(O>=N)break;var q=0,Q=new k(q),a0=T(u,0,O,Q);q=Q.bits;for(var b0=0;b0<8;b0++){var B0=_.scalefac_band.l[E+b0+2];if(B0>=N)break;var M0=q;Q=new k(M0);var ie=T(u,O,B0,Q);M0=Q.bits,m[E+b0]>M0&&(m[E+b0]=M0,B[E+b0]=E,a[E+b0]=a0,n[E+b0]=ie)}}}function e(_,o,u,m,B,a,n,N){for(var E=o.big_values,O=2;O<t.SBMAX_l+1;O++){var q=_.scalefac_band.l[O];if(q>=E)break;var Q=B[O-2]+o.count1bits;if(u.part2_3_length<=Q)break;var a0=new k(Q),b0=T(m,q,E,a0);Q=a0.bits,!(u.part2_3_length<=Q)&&(u.assign(o),u.part2_3_length=Q,u.region0_count=a[O-2],u.region1_count=O-2-a[O-2],u.table_select[0]=n[O-2],u.table_select[1]=N[O-2],u.table_select[2]=b0)}}this.best_huffman_divide=function(_,o){var u=new ve,m=o.l3_enc,B=g(23),a=g(23),n=g(23),N=g(23);if(!(o.block_type==t.SHORT_TYPE&&_.mode_gr==1)){u.assign(o),o.block_type==t.NORM_TYPE&&(M(_,o,m,B,a,n,N),e(_,u,o,m,B,a,n,N));var E=u.big_values;if(!(E==0||(m[E-2]|m[E-1])>1)&&(E=o.count1+2,!(E>576))){u.assign(o),u.count1=E;for(var O=0,q=0;E>u.big_values;E-=4){var Q=((m[E-4]*2+m[E-3])*2+m[E-2])*2+m[E-1];O+=D.t32l[Q],q+=D.t33l[Q]}if(u.big_values=E,u.count1table_select=0,O>q&&(O=q,u.count1table_select=1),u.count1bits=O,u.block_type==t.NORM_TYPE)e(_,u,o,m,B,a,n,N);else{if(u.part2_3_length=O,O=_.scalefac_band.l[8],O>E&&(O=E),O>0){var a0=new k(u.part2_3_length);u.table_select[0]=T(m,0,O,a0),u.part2_3_length=a0.bits}if(E>O){var a0=new k(u.part2_3_length);u.table_select[1]=T(m,O,E,a0),u.part2_3_length=a0.bits}o.part2_3_length>u.part2_3_length&&o.assign(u)}}}};var i=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],h=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],R=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],c=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];O0.slen1_tab=R,O0.slen2_tab=c;function l(_,o){for(var u,m=o.tt[1][_],B=o.tt[0][_],a=0;a<D.scfsi_band.length-1;a++){for(u=D.scfsi_band[a];u<D.scfsi_band[a+1]&&!(B.scalefac[u]!=m.scalefac[u]&&m.scalefac[u]>=0);u++);if(u==D.scfsi_band[a+1]){for(u=D.scfsi_band[a];u<D.scfsi_band[a+1];u++)m.scalefac[u]=-1;o.scfsi[_][a]=1}}var n=0,N=0;for(u=0;u<11;u++)m.scalefac[u]!=-1&&(N++,n<m.scalefac[u]&&(n=m.scalefac[u]));for(var E=0,O=0;u<t.SBPSY_l;u++)m.scalefac[u]!=-1&&(O++,E<m.scalefac[u]&&(E=m.scalefac[u]));for(var a=0;a<16;a++)if(n<i[a]&&E<h[a]){var q=R[a]*N+c[a]*O;m.part2_length>q&&(m.part2_length=q,m.scalefac_compress=a)}}this.best_scalefac_store=function(_,o,u,m){var B=m.tt[o][u],a,n,N,E,O=0;for(N=0,a=0;a<B.sfbmax;a++){var q=B.width[a];for(N+=q,E=-q;E<0&&B.l3_enc[E+N]==0;E++);E==0&&(B.scalefac[a]=O=-2)}if(B.scalefac_scale==0&&B.preflag==0){var Q=0;for(a=0;a<B.sfbmax;a++)B.scalefac[a]>0&&(Q|=B.scalefac[a]);if(!(Q&1)&&Q!=0){for(a=0;a<B.sfbmax;a++)B.scalefac[a]>0&&(B.scalefac[a]>>=1);B.scalefac_scale=O=1}}if(B.preflag==0&&B.block_type!=t.SHORT_TYPE&&_.mode_gr==2){for(a=11;a<t.SBPSY_l&&!(B.scalefac[a]<f.pretab[a]&&B.scalefac[a]!=-2);a++);if(a==t.SBPSY_l){for(a=11;a<t.SBPSY_l;a++)B.scalefac[a]>0&&(B.scalefac[a]-=f.pretab[a]);B.preflag=O=1}}for(n=0;n<4;n++)m.scfsi[u][n]=0;for(_.mode_gr==2&&o==1&&m.tt[0][u].block_type!=t.SHORT_TYPE&&m.tt[1][u].block_type!=t.SHORT_TYPE&&(l(u,m),O=0),a=0;a<B.sfbmax;a++)B.scalefac[a]==-2&&(B.scalefac[a]=0);O!=0&&(_.mode_gr==2?this.scale_bitcount(B):this.scale_bitcount_lsf(_,B))};var v=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],s=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],d=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(_){var o,u,m=0,B=0,a,n=_.scalefac;if(_.block_type==t.SHORT_TYPE)a=v,_.mixed_block_flag!=0&&(a=s);else if(a=d,_.preflag==0){for(u=11;u<t.SBPSY_l&&!(n[u]<f.pretab[u]);u++);if(u==t.SBPSY_l)for(_.preflag=1,u=11;u<t.SBPSY_l;u++)n[u]-=f.pretab[u]}for(u=0;u<_.sfbdivide;u++)m<n[u]&&(m=n[u]);for(;u<_.sfbmax;u++)B<n[u]&&(B=n[u]);for(_.part2_length=K0.LARGE_BITS,o=0;o<16;o++)m<i[o]&&B<h[o]&&_.part2_length>a[o]&&(_.part2_length=a[o],_.scalefac_compress=o);return _.part2_length==K0.LARGE_BITS};var r=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(_,o){var u,m,B,a,n,N,E,O,q=g(4),Q=o.scalefac;for(o.preflag!=0?u=2:u=0,E=0;E<4;E++)q[E]=0;if(o.block_type==t.SHORT_TYPE){m=1;var a0=f.nr_of_sfb_block[u][m];for(O=0,B=0;B<4;B++)for(a=a0[B]/3,E=0;E<a;E++,O++)for(n=0;n<3;n++)Q[O*3+n]>q[B]&&(q[B]=Q[O*3+n])}else{m=0;var a0=f.nr_of_sfb_block[u][m];for(O=0,B=0;B<4;B++)for(a=a0[B],E=0;E<a;E++,O++)Q[O]>q[B]&&(q[B]=Q[O])}for(N=!1,B=0;B<4;B++)q[B]>r[u][B]&&(N=!0);if(!N){var b0,B0,M0,ie;for(o.sfb_partition_table=f.nr_of_sfb_block[u][m],B=0;B<4;B++)o.slen[B]=L[q[B]];switch(b0=o.slen[0],B0=o.slen[1],M0=o.slen[2],ie=o.slen[3],u){case 0:o.scalefac_compress=(b0*5+B0<<4)+(M0<<2)+ie;break;case 1:o.scalefac_compress=400+(b0*5+B0<<2)+M0;break;case 2:o.scalefac_compress=500+b0*3+B0;break}}if(!N)for(o.part2_length=0,B=0;B<4;B++)o.part2_length+=o.slen[B]*o.sfb_partition_table[B];return N};var L=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(_){for(var o=2;o<=576;o+=2){for(var u=0,m;_.scalefac_band.l[++u]<o;);for(m=H[u][0];_.scalefac_band.l[m+1]>o;)m--;for(m<0&&(m=H[u][0]),_.bv_scf[o-2]=m,m=H[u][1];_.scalefac_band.l[m+_.bv_scf[o-2]+2]>o;)m--;m<0&&(m=H[u][1]),_.bv_scf[o-1]=m}}}H0.STEPS_per_dB=100,H0.MAX_dB=120,H0.GAIN_NOT_ENOUGH_SAMPLES=-24601,H0.GAIN_ANALYSIS_ERROR=0,H0.GAIN_ANALYSIS_OK=1,H0.INIT_GAIN_ANALYSIS_ERROR=0,H0.INIT_GAIN_ANALYSIS_OK=1,H0.YULE_ORDER=10,H0.MAX_ORDER=H0.YULE_ORDER,H0.MAX_SAMP_FREQ=48e3,H0.RMS_WINDOW_TIME_NUMERATOR=1,H0.RMS_WINDOW_TIME_DENOMINATOR=20,H0.MAX_SAMPLES_PER_WINDOW=H0.MAX_SAMP_FREQ*H0.RMS_WINDOW_TIME_NUMERATOR/H0.RMS_WINDOW_TIME_DENOMINATOR+1;function H0(){}function re(){function f(b,w,Y,y,X,p,U,T,M,e,i,h,R,c){this.quant_comp=w,this.quant_comp_s=Y,this.safejoint=y,this.nsmsfix=X,this.st_lrm=p,this.st_s=U,this.nsbass=T,this.scale=M,this.masking_adj=e,this.ath_lower=i,this.ath_curve=h,this.interch=R,this.sfscale=c}var k;this.setModules=function(b){k=b};function H(b,w,Y){e0()}var S=[new f(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new f(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new f(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new f(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new f(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new f(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new f(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new f(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new f(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new f(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new f(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new f(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new f(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new f(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new f(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new f(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new f(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function K(b,w,Y){var y=w,X=k.nearestBitrateFullIndex(w);if(b.VBR=G.vbr_abr,b.VBR_mean_bitrate_kbps=y,b.VBR_mean_bitrate_kbps=Math.min(b.VBR_mean_bitrate_kbps,320),b.VBR_mean_bitrate_kbps=Math.max(b.VBR_mean_bitrate_kbps,8),b.brate=b.VBR_mean_bitrate_kbps,b.VBR_mean_bitrate_kbps>320&&(b.disable_reservoir=!0),S[X].safejoint>0&&(b.exp_nspsytune=b.exp_nspsytune|2),S[X].sfscale>0&&(b.internal_flags.noise_shaping=2),Math.abs(S[X].nsbass)>0){var p=int(S[X].nsbass*4);p<0&&(p+=64),b.exp_nspsytune=b.exp_nspsytune|p<<2}return Y!=0?b.quant_comp=S[X].quant_comp:Math.abs(b.quant_comp- -1)>0||(b.quant_comp=S[X].quant_comp),Y!=0?b.quant_comp_short=S[X].quant_comp_s:Math.abs(b.quant_comp_short- -1)>0||(b.quant_comp_short=S[X].quant_comp_s),Y!=0?b.msfix=S[X].nsmsfix:Math.abs(b.msfix- -1)>0||(b.msfix=S[X].nsmsfix),Y!=0?b.internal_flags.nsPsy.attackthre=S[X].st_lrm:Math.abs(b.internal_flags.nsPsy.attackthre- -1)>0||(b.internal_flags.nsPsy.attackthre=S[X].st_lrm),Y!=0?b.internal_flags.nsPsy.attackthre_s=S[X].st_s:Math.abs(b.internal_flags.nsPsy.attackthre_s- -1)>0||(b.internal_flags.nsPsy.attackthre_s=S[X].st_s),Y!=0?b.scale=S[X].scale:Math.abs(b.scale- -1)>0||(b.scale=S[X].scale),Y!=0?b.maskingadjust=S[X].masking_adj:Math.abs(b.maskingadjust-0)>0||(b.maskingadjust=S[X].masking_adj),S[X].masking_adj>0?Y!=0?b.maskingadjust_short=S[X].masking_adj*.9:Math.abs(b.maskingadjust_short-0)>0||(b.maskingadjust_short=S[X].masking_adj*.9):Y!=0?b.maskingadjust_short=S[X].masking_adj*1.1:Math.abs(b.maskingadjust_short-0)>0||(b.maskingadjust_short=S[X].masking_adj*1.1),Y!=0?b.ATHlower=-S[X].ath_lower/10:Math.abs(-b.ATHlower*10-0)>0||(b.ATHlower=-S[X].ath_lower/10),Y!=0?b.ATHcurve=S[X].ath_curve:Math.abs(b.ATHcurve- -1)>0||(b.ATHcurve=S[X].ath_curve),Y!=0?b.interChRatio=S[X].interch:Math.abs(b.interChRatio- -1)>0||(b.interChRatio=S[X].interch),w}this.apply_preset=function(b,w,Y){switch(w){case i0.R3MIX:{w=i0.V3,b.VBR=G.vbr_mtrh;break}case i0.MEDIUM:{w=i0.V4,b.VBR=G.vbr_rh;break}case i0.MEDIUM_FAST:{w=i0.V4,b.VBR=G.vbr_mtrh;break}case i0.STANDARD:{w=i0.V2,b.VBR=G.vbr_rh;break}case i0.STANDARD_FAST:{w=i0.V2,b.VBR=G.vbr_mtrh;break}case i0.EXTREME:{w=i0.V0,b.VBR=G.vbr_rh;break}case i0.EXTREME_FAST:{w=i0.V0,b.VBR=G.vbr_mtrh;break}case i0.INSANE:return w=320,b.preset=w,K(b,w,Y),b.VBR=G.vbr_off,w}switch(b.preset=w,w){case i0.V9:return H(),w;case i0.V8:return H(),w;case i0.V7:return H(),w;case i0.V6:return H(),w;case i0.V5:return H(),w;case i0.V4:return H(),w;case i0.V3:return H(),w;case i0.V2:return H(),w;case i0.V1:return H(),w;case i0.V0:return H(),w}return 8<=w&&w<=320?K(b,w,Y):(b.preset=0,w)}}function U0(){var f;this.setModules=function(k){f=k},this.ResvFrameBegin=function(k,H){var S=k.internal_flags,K,b=S.l3_side,w=f.getframebits(k);H.bits=(w-S.sideinfo_len*8)/S.mode_gr;var Y=8*256*S.mode_gr-8;k.brate>320?e0():(K=8*1440,k.strict_ISO&&e0()),S.ResvMax=K-w,S.ResvMax>Y&&(S.ResvMax=Y),(S.ResvMax<0||k.disable_reservoir)&&(S.ResvMax=0);var y=H.bits*S.mode_gr+Math.min(S.ResvSize,S.ResvMax);return y>K&&(y=K),b.resvDrain_pre=0,S.pinfo!=null&&e0(),y},this.ResvMaxBits=function(k,H,S,K){var b=k.internal_flags,w,Y=b.ResvSize,y=b.ResvMax;K!=0&&(Y+=H),b.substep_shaping&1&&(y*=.9),S.bits=H,Y*10>y*9?(w=Y-y*9/10,S.bits+=w,b.substep_shaping|=128):(w=0,b.substep_shaping&=127,!k.disable_reservoir&&!(b.substep_shaping&1)&&(S.bits-=.1*H));var X=Y<b.ResvMax*6/10?Y:b.ResvMax*6/10;return X-=w,X<0&&(X=0),X},this.ResvAdjust=function(k,H){k.ResvSize-=H.part2_3_length+H.part2_length},this.ResvFrameEnd=function(k,H){var S,K=k.l3_side;k.ResvSize+=H*k.mode_gr;var b=0;K.resvDrain_post=0,K.resvDrain_pre=0,(S=k.ResvSize%8)!=0&&(b+=S),S=k.ResvSize-b-k.ResvMax,S>0&&(b+=S);{var w=Math.min(K.main_data_begin*8,b)/8;K.resvDrain_pre+=8*w,b-=8*w,k.ResvSize-=8*w,K.main_data_begin-=w}K.resvDrain_post+=b,k.ResvSize-=b}}ae.NUMTOCENTRIES=100,ae.MAXFRAMESIZE=2880;function ae(){this.setModules=function(H,S,K){};var f=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function k(H,S){var K=S^H;return S=S>>8^f[K&255],S}this.updateMusicCRC=function(H,S,K,b){for(var w=0;w<b;++w)H[0]=k(S[K+w],H[0])}}F0.EQ=function(f,k){return Math.abs(f)>Math.abs(k)?Math.abs(f-k)<=Math.abs(f)*1e-6:Math.abs(f-k)<=Math.abs(k)*1e-6},F0.NEQ=function(f,k){return!F0.EQ(f,k)};function F0(){var f=this,k=null,H=null;this.setModules=function(l,v,s,d){k=s,H=d};var S=null,K=0,b=0,w=0;this.getframebits=function(l){var v=l.internal_flags,s;v.bitrate_index!=0?s=D.bitrate_table[l.version][v.bitrate_index]:s=l.brate;var d=0|(l.version+1)*72e3*s/l.out_samplerate+v.padding;return 8*d};function Y(l){z.arraycopy(l.header[l.w_ptr].buf,0,S,b,l.sideinfo_len),b+=l.sideinfo_len,K+=l.sideinfo_len*8,l.w_ptr=l.w_ptr+1&f0.MAX_HEADER_BUF-1}function y(l,v,s){for(;s>0;){var d;w==0&&(w=8,b++,l.header[l.w_ptr].write_timing==K&&Y(l),S[b]=0),d=Math.min(s,w),s-=d,w-=d,S[b]|=v>>s<<w,K+=d}}function X(l,v){var s=l.internal_flags,d;if(v>=8&&(y(s,76,8),v-=8),v>=8&&(y(s,65,8),v-=8),v>=8&&(y(s,77,8),v-=8),v>=8&&(y(s,69,8),v-=8),v>=32){var r=k.getLameShortVersion();if(v>=32)for(d=0;d<r.length&&v>=8;++d)v-=8,y(s,r.charCodeAt(d),8)}for(;v>=1;v-=1)y(s,s.ancillary_flag,1),s.ancillary_flag^=l.disable_reservoir?0:1}function p(l,v,s){for(var d=l.header[l.h_ptr].ptr;s>0;){var r=Math.min(s,8-(d&7));s-=r,l.header[l.h_ptr].buf[d>>3]|=v>>s<<8-(d&7)-r,d+=r}l.header[l.h_ptr].ptr=d}function U(l,v){var s=l.internal_flags,d,r,L;if(d=s.l3_side,s.header[s.h_ptr].ptr=0,D0.fill(s.header[s.h_ptr].buf,0,s.sideinfo_len,0),l.out_samplerate<16e3?p(s,4094,12):p(s,4095,12),p(s,l.version,1),p(s,1,2),p(s,l.error_protection?0:1,1),p(s,s.bitrate_index,4),p(s,s.samplerate_index,2),p(s,s.padding,1),p(s,l.extension,1),p(s,l.mode.ordinal(),2),p(s,s.mode_ext,2),p(s,l.copyright,1),p(s,l.original,1),p(s,l.emphasis,2),l.error_protection&&p(s,0,16),l.version==1){for(p(s,d.main_data_begin,9),s.channels_out==2?p(s,d.private_bits,3):p(s,d.private_bits,5),L=0;L<s.channels_out;L++){var _;for(_=0;_<4;_++)p(s,d.scfsi[L][_],1)}for(r=0;r<2;r++)for(L=0;L<s.channels_out;L++){var o=d.tt[r][L];p(s,o.part2_3_length+o.part2_length,12),p(s,o.big_values/2,9),p(s,o.global_gain,8),p(s,o.scalefac_compress,4),o.block_type!=t.NORM_TYPE?(p(s,1,1),p(s,o.block_type,2),p(s,o.mixed_block_flag,1),o.table_select[0]==14&&(o.table_select[0]=16),p(s,o.table_select[0],5),o.table_select[1]==14&&(o.table_select[1]=16),p(s,o.table_select[1],5),p(s,o.subblock_gain[0],3),p(s,o.subblock_gain[1],3),p(s,o.subblock_gain[2],3)):(p(s,0,1),o.table_select[0]==14&&(o.table_select[0]=16),p(s,o.table_select[0],5),o.table_select[1]==14&&(o.table_select[1]=16),p(s,o.table_select[1],5),o.table_select[2]==14&&(o.table_select[2]=16),p(s,o.table_select[2],5),p(s,o.region0_count,4),p(s,o.region1_count,3)),p(s,o.preflag,1),p(s,o.scalefac_scale,1),p(s,o.count1table_select,1)}}else for(p(s,d.main_data_begin,8),p(s,d.private_bits,s.channels_out),r=0,L=0;L<s.channels_out;L++){var o=d.tt[r][L];p(s,o.part2_3_length+o.part2_length,12),p(s,o.big_values/2,9),p(s,o.global_gain,8),p(s,o.scalefac_compress,9),o.block_type!=t.NORM_TYPE?(p(s,1,1),p(s,o.block_type,2),p(s,o.mixed_block_flag,1),o.table_select[0]==14&&(o.table_select[0]=16),p(s,o.table_select[0],5),o.table_select[1]==14&&(o.table_select[1]=16),p(s,o.table_select[1],5),p(s,o.subblock_gain[0],3),p(s,o.subblock_gain[1],3),p(s,o.subblock_gain[2],3)):(p(s,0,1),o.table_select[0]==14&&(o.table_select[0]=16),p(s,o.table_select[0],5),o.table_select[1]==14&&(o.table_select[1]=16),p(s,o.table_select[1],5),o.table_select[2]==14&&(o.table_select[2]=16),p(s,o.table_select[2],5),p(s,o.region0_count,4),p(s,o.region1_count,3)),p(s,o.scalefac_scale,1),p(s,o.count1table_select,1)}l.error_protection&&e0();{var u=s.h_ptr;s.h_ptr=u+1&f0.MAX_HEADER_BUF-1,s.header[s.h_ptr].write_timing=s.header[u].write_timing+v,s.h_ptr==s.w_ptr}}function T(l,v){var s=D.ht[v.count1table_select+32],d,r=0,L=v.big_values,_=v.big_values;for(d=(v.count1-v.big_values)/4;d>0;--d){var o=0,u=0,m;m=v.l3_enc[L+0],m!=0&&(u+=8,v.xr[_+0]<0&&o++),m=v.l3_enc[L+1],m!=0&&(u+=4,o*=2,v.xr[_+1]<0&&o++),m=v.l3_enc[L+2],m!=0&&(u+=2,o*=2,v.xr[_+2]<0&&o++),m=v.l3_enc[L+3],m!=0&&(u++,o*=2,v.xr[_+3]<0&&o++),L+=4,_+=4,y(l,o+s.table[u],s.hlen[u]),r+=s.hlen[u]}return r}function M(l,v,s,d,r){var L=D.ht[v],_=0;if(v==0)return _;for(var o=s;o<d;o+=2){var u=0,m=0,B=L.xlen,a=L.xlen,n=0,N=r.l3_enc[o],E=r.l3_enc[o+1];if(N!=0&&(r.xr[o]<0&&n++,u--),v>15){if(N>14){var O=N-15;n|=O<<1,m=B,N=15}if(E>14){var q=E-15;n<<=B,n|=q,m+=B,E=15}a=16}E!=0&&(n<<=1,r.xr[o+1]<0&&n++,u--),N=N*a+E,m-=u,u+=L.hlen[N],y(l,L.table[N],u),y(l,n,m),_+=u+m}return _}function e(l,v){var s=3*l.scalefac_band.s[3];s>v.big_values&&(s=v.big_values);var d=M(l,v.table_select[0],0,s,v);return d+=M(l,v.table_select[1],s,v.big_values,v),d}function i(l,v){var s,d,r,L;s=v.big_values;var _=v.region0_count+1;return r=l.scalefac_band.l[_],_+=v.region1_count+1,L=l.scalefac_band.l[_],r>s&&(r=s),L>s&&(L=s),d=M(l,v.table_select[0],0,r,v),d+=M(l,v.table_select[1],r,L,v),d+=M(l,v.table_select[2],L,s,v),d}function h(l){var v,s,d,r,L=0,_=l.internal_flags,o=_.l3_side;if(l.version==1)for(v=0;v<2;v++)for(s=0;s<_.channels_out;s++){var u=o.tt[v][s],m=O0.slen1_tab[u.scalefac_compress],B=O0.slen2_tab[u.scalefac_compress];for(r=0,d=0;d<u.sfbdivide;d++)u.scalefac[d]!=-1&&(y(_,u.scalefac[d],m),r+=m);for(;d<u.sfbmax;d++)u.scalefac[d]!=-1&&(y(_,u.scalefac[d],B),r+=B);u.block_type==t.SHORT_TYPE?r+=e(_,u):r+=i(_,u),r+=T(_,u),L+=r}else for(v=0,s=0;s<_.channels_out;s++){var u=o.tt[v][s],a,n,N=0;if(r=0,d=0,n=0,u.block_type==t.SHORT_TYPE){for(;n<4;n++){var E=u.sfb_partition_table[n]/3,O=u.slen[n];for(a=0;a<E;a++,d++)y(_,Math.max(u.scalefac[d*3+0],0),O),y(_,Math.max(u.scalefac[d*3+1],0),O),y(_,Math.max(u.scalefac[d*3+2],0),O),N+=3*O}r+=e(_,u)}else{for(;n<4;n++){var E=u.sfb_partition_table[n],O=u.slen[n];for(a=0;a<E;a++,d++)y(_,Math.max(u.scalefac[d],0),O),N+=O}r+=i(_,u)}r+=T(_,u),L+=N+r}return L}function R(){this.total=0}function c(l,v){var s=l.internal_flags,d,r,L;return s.w_ptr,L=s.h_ptr-1,L==-1&&(L=f0.MAX_HEADER_BUF-1),d=s.header[L].write_timing-K,v.total=d,d>=0&&e0(),r=f.getframebits(l),d+=r,v.total+=r,v.total%8!=0?v.total=1+v.total/8:v.total=v.total/8,v.total+=b+1,d}this.flush_bitstream=function(l){var v=l.internal_flags,s,d;v.h_ptr-1,s=v.l3_side,!((d=c(l,new R))<0)&&(X(l,d),v.ResvSize=0,s.main_data_begin=0,v.findReplayGain&&e0(),v.findPeakSample&&e0())},this.format_bitstream=function(l){var v=l.internal_flags,s;s=v.l3_side;var d=this.getframebits(l);X(l,s.resvDrain_pre),U(l,d);var r=8*v.sideinfo_len;if(r+=h(l),X(l,s.resvDrain_post),r+=s.resvDrain_post,s.main_data_begin+=(d-r)/8,c(l,new R)!=v.ResvSize,s.main_data_begin*8!=v.ResvSize&&(v.ResvSize=s.main_data_begin*8),K>1e9){var L;for(L=0;L<f0.MAX_HEADER_BUF;++L)v.header[L].write_timing-=K;K=0}return 0},this.copy_buffer=function(l,v,s,d,r){var L=b+1;if(L<=0)return 0;if(d!=0&&L>d)return-1;if(z.arraycopy(S,0,v,s,L),b=-1,w=0,r!=0){var _=g(1);_[0]=l.nMusicCRC,H.updateMusicCRC(_,v,s,L),l.nMusicCRC=_[0],L>0&&(l.VBR_seek_table.nBytesWritten+=L),l.decode_on_the_fly&&e0()}return L},this.init_bit_stream_w=function(l){S=W0(i0.LAME_MAXMP3BUFFER),l.h_ptr=l.w_ptr=0,l.header[l.h_ptr].write_timing=0,b=-1,w=0,K=0}}function u0(f,k,H,S){this.xlen=f,this.linmax=k,this.table=H,this.hlen=S}var D={};D.t1HB=[1,1,1,0],D.t2HB=[1,2,1,3,1,1,3,2,0],D.t3HB=[3,2,1,1,1,1,3,2,0],D.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],D.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],D.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],D.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],D.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],D.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],D.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],D.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],D.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],D.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],D.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],D.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],D.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],D.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],D.t1l=[1,4,3,5],D.t2l=[1,4,7,4,5,7,6,7,8],D.t3l=[2,3,7,4,4,7,6,7,8],D.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],D.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],D.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],D.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],D.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],D.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],D.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],D.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],D.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],D.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],D.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],D.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],D.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],D.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],D.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],D.ht=[new u0(0,0,null,null),new u0(2,0,D.t1HB,D.t1l),new u0(3,0,D.t2HB,D.t2l),new u0(3,0,D.t3HB,D.t3l),new u0(0,0,null,null),new u0(4,0,D.t5HB,D.t5l),new u0(4,0,D.t6HB,D.t6l),new u0(6,0,D.t7HB,D.t7l),new u0(6,0,D.t8HB,D.t8l),new u0(6,0,D.t9HB,D.t9l),new u0(8,0,D.t10HB,D.t10l),new u0(8,0,D.t11HB,D.t11l),new u0(8,0,D.t12HB,D.t12l),new u0(16,0,D.t13HB,D.t13l),new u0(0,0,null,D.t16_5l),new u0(16,0,D.t15HB,D.t15l),new u0(1,1,D.t16HB,D.t16l),new u0(2,3,D.t16HB,D.t16l),new u0(3,7,D.t16HB,D.t16l),new u0(4,15,D.t16HB,D.t16l),new u0(6,63,D.t16HB,D.t16l),new u0(8,255,D.t16HB,D.t16l),new u0(10,1023,D.t16HB,D.t16l),new u0(13,8191,D.t16HB,D.t16l),new u0(4,15,D.t24HB,D.t24l),new u0(5,31,D.t24HB,D.t24l),new u0(6,63,D.t24HB,D.t24l),new u0(7,127,D.t24HB,D.t24l),new u0(8,255,D.t24HB,D.t24l),new u0(9,511,D.t24HB,D.t24l),new u0(11,2047,D.t24HB,D.t24l),new u0(13,8191,D.t24HB,D.t24l),new u0(0,0,D.t32HB,D.t32l),new u0(0,0,D.t33HB,D.t33l)],D.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],D.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],D.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],D.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],D.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],D.scfsi_band=[0,6,11,16,21];function le(f){this.bits=f}function E0(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}function V0(){this.setModules=function(f,k){}}function Ae(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=W(t.SBMAX_l),this.s=W(t.SBMAX_s),this.psfb21=W(t.PSFB21),this.psfb12=W(t.PSFB12),this.cb_l=W(t.CBANDS),this.cb_s=W(t.CBANDS),this.eql_w=W(t.BLKSIZE/2)}function ce(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=p0.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}function Re(f){var k=f;this.quantize=k,this.iteration_loop=function(H,S,K,b){var w=H.internal_flags,Y=W(s0.SFBMAX),y=W(576),X=g(2),p=0,U=w.l3_side,T=new le(p);this.quantize.rv.ResvFrameBegin(H,T),p=T.bits;for(var M=0;M<w.mode_gr;M++){this.quantize.qupvt.on_pe(H,S,X,p,M,M),w.mode_ext==t.MPG_MD_MS_LR&&e0();for(var e=0;e<w.channels_out;e++){var i,h,R=U.tt[M][e];R.block_type!=t.SHORT_TYPE?(i=0,h=w.PSY.mask_adjust-i):(i=0,h=w.PSY.mask_adjust_short-i),w.masking_lower=Math.pow(10,h*.1),this.quantize.init_outer_loop(w,R),this.quantize.init_xrpow(w,R,y)&&(this.quantize.qupvt.calc_xmin(H,b[M][e],R,Y),this.quantize.outer_loop(H,R,Y,y,e,X[e])),this.quantize.iteration_finish_one(w,M,e)}}this.quantize.rv.ResvFrameEnd(w,p)}}function de(){}function Q0(f,k,H,S){this.l=g(1+t.SBMAX_l),this.s=g(1+t.SBMAX_s),this.psfb21=g(1+t.PSFB21),this.psfb12=g(1+t.PSFB12);var K=this.l,b=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],z.arraycopy(this.arrL,0,K,0,Math.min(this.arrL.length,this.l.length)),z.arraycopy(this.arrS,0,b,0,Math.min(this.arrS.length,this.s.length)),z.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),z.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}K0.Q_MAX=257,K0.Q_MAX2=116,K0.LARGE_BITS=1e5,K0.IXMAX_VAL=8206;function K0(){var f=null,k=null,H=null;this.setModules=function(c,l,v){f=c,k=l,H=v};function S(c){return U[c+K0.Q_MAX2]}this.IPOW20=function(c){return T[c]};var K=2220446049250313e-31,b=K0.IXMAX_VAL,w=b+2,Y=K0.Q_MAX,y=K0.Q_MAX2,X=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var p=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=p,this.sfBandIndex=[new Q0([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Q0([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Q0([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Q0([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Q0([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Q0([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Q0([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Q0([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Q0([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var U=W(Y+y+1),T=W(Y),M=W(w),e=W(w);this.adj43=e;function i(c,l){var v=H.ATHformula(l,c);return v-=X,v=Math.pow(10,v/10+c.ATHlower),v}function h(c){for(var l=c.internal_flags.ATH.l,v=c.internal_flags.ATH.psfb21,s=c.internal_flags.ATH.s,d=c.internal_flags.ATH.psfb12,r=c.internal_flags,L=c.out_samplerate,_=0;_<t.SBMAX_l;_++){var o=r.scalefac_band.l[_],u=r.scalefac_band.l[_+1];l[_]=T0.MAX_VALUE;for(var m=o;m<u;m++){var B=m*L/1152,a=i(c,B);l[_]=Math.min(l[_],a)}}for(var _=0;_<t.PSFB21;_++){var o=r.scalefac_band.psfb21[_],u=r.scalefac_band.psfb21[_+1];v[_]=T0.MAX_VALUE;for(var m=o;m<u;m++){var B=m*L/1152,a=i(c,B);v[_]=Math.min(v[_],a)}}for(var _=0;_<t.SBMAX_s;_++){var o=r.scalefac_band.s[_],u=r.scalefac_band.s[_+1];s[_]=T0.MAX_VALUE;for(var m=o;m<u;m++){var B=m*L/384,a=i(c,B);s[_]=Math.min(s[_],a)}s[_]*=r.scalefac_band.s[_+1]-r.scalefac_band.s[_]}for(var _=0;_<t.PSFB12;_++){var o=r.scalefac_band.psfb12[_],u=r.scalefac_band.psfb12[_+1];d[_]=T0.MAX_VALUE;for(var m=o;m<u;m++){var B=m*L/384,a=i(c,B);d[_]=Math.min(d[_],a)}d[_]*=r.scalefac_band.s[13]-r.scalefac_band.s[12]}c.noATH&&e0(),r.ATH.floor=10*G0(i(c,-1))}this.iteration_init=function(c){var l=c.internal_flags,v=l.l3_side,s;if(l.iteration_init_init==0){for(l.iteration_init_init=1,v.main_data_begin=0,h(c),M[0]=0,s=1;s<w;s++)M[s]=Math.pow(s,4/3);for(s=0;s<w-1;s++)e[s]=s+1-Math.pow(.5*(M[s]+M[s+1]),.75);for(e[s]=.5,s=0;s<Y;s++)T[s]=Math.pow(2,(s-210)*-.1875);for(s=0;s<=Y+y;s++)U[s]=Math.pow(2,(s-210-y)*.25);f.huffman_init(l);{var d,r,L,_;for(s=c.exp_nspsytune>>2&63,s>=32&&(s-=64),d=Math.pow(10,s/4/10),s=c.exp_nspsytune>>8&63,s>=32&&(s-=64),r=Math.pow(10,s/4/10),s=c.exp_nspsytune>>14&63,s>=32&&(s-=64),L=Math.pow(10,s/4/10),s=c.exp_nspsytune>>20&63,s>=32&&(s-=64),_=L*Math.pow(10,s/4/10),s=0;s<t.SBMAX_l;s++){var o;s<=6?o=d:s<=13?o=r:s<=20?o=L:o=_,l.nsPsy.longfact[s]=o}for(s=0;s<t.SBMAX_s;s++){var o;s<=5?o=d:s<=10?o=r:s<=11?o=L:o=_,l.nsPsy.shortfact[s]=o}}}},this.on_pe=function(c,l,v,s,d,r){var L=c.internal_flags,_=0,o,u=g(2),m,B=new le(_),a=k.ResvMaxBits(c,s,B,r);_=B.bits;var n=_+a;for(n>f0.MAX_BITS_PER_GRANULE&&(n=f0.MAX_BITS_PER_GRANULE),o=0,m=0;m<L.channels_out;++m)v[m]=Math.min(f0.MAX_BITS_PER_CHANNEL,_/L.channels_out),u[m]=0|v[m]*l[d][m]/700-v[m],u[m]>s*3/4&&(u[m]=s*3/4),u[m]<0&&(u[m]=0),u[m]+v[m]>f0.MAX_BITS_PER_CHANNEL&&(u[m]=Math.max(0,f0.MAX_BITS_PER_CHANNEL-v[m])),o+=u[m];if(o>a)for(m=0;m<L.channels_out;++m)u[m]=a*u[m]/o;for(m=0;m<L.channels_out;++m)v[m]+=u[m],a-=u[m];for(o=0,m=0;m<L.channels_out;++m)o+=v[m];return o>f0.MAX_BITS_PER_GRANULE&&e0(),n},this.athAdjust=function(c,l,v){var s=90.30873362,d=94.82444863,r=Z.FAST_LOG10_X(l,10),L=c*c,_=0;return r-=v,L>1e-20&&(_=1+Z.FAST_LOG10_X(L,10/s)),_<0&&(_=0),r*=_,r+=v+s-d,Math.pow(10,.1*r)},this.calc_xmin=function(c,l,v,s){var d=0,r=c.internal_flags,L,_=0,o=0,u=r.ATH,m=v.xr,B=c.VBR==G.vbr_mtrh?1:0,a=r.masking_lower;for((c.VBR==G.vbr_mtrh||c.VBR==G.vbr_mt)&&(a=1),L=0;L<v.psy_lmax;L++){var n,N,E,O,q,Q;c.VBR==G.vbr_rh||c.VBR==G.vbr_mtrh?N=athAdjust(u.adjust,u.l[L],u.floor):N=u.adjust*u.l[L],q=v.width[L],E=N/q,O=K,Q=q>>1,n=0;do{var a0,b0;a0=m[_]*m[_],n+=a0,O+=a0<E?a0:E,_++,b0=m[_]*m[_],n+=b0,O+=b0<E?b0:E,_++}while(--Q>0);if(n>N&&o++,L==t.SBPSY_l&&e0(),B!=0&&(N=O),!c.ATHonly){var B0=l.en.l[L];if(B0>0){var M0;M0=n*l.thm.l[L]*a/B0,B!=0&&(M0*=r.nsPsy.longfact[L]),N<M0&&(N=M0)}}B!=0?s[d++]=N:s[d++]=N*r.nsPsy.longfact[L]}var ie=575;if(v.block_type!=t.SHORT_TYPE)for(var _e=576;_e--!=0&&F0.EQ(m[_e],0);)ie=_e;v.max_nonzero_coeff=ie;for(var $0=v.sfb_smin;L<v.psymax;$0++,L+=3){var q,ne,fe;for(c.VBR==G.vbr_rh||c.VBR==G.vbr_mtrh?fe=athAdjust(u.adjust,u.s[$0],u.floor):fe=u.adjust*u.s[$0],q=v.width[L],ne=0;ne<3;ne++){var n=0,N,E,O,Q=q>>1;E=fe/q,O=K;do{var a0,b0;a0=m[_]*m[_],n+=a0,O+=a0<E?a0:E,_++,b0=m[_]*m[_],n+=b0,O+=b0<E?b0:E,_++}while(--Q>0);if(n>fe&&o++,$0==t.SBPSY_s&&e0(),B!=0?N=O:N=fe,!c.ATHonly&&!c.ATHshort){var B0=l.en.s[$0][ne];if(B0>0){var M0;M0=n*l.thm.s[$0][ne]*a/B0,B!=0&&(M0*=r.nsPsy.shortfact[$0]),N<M0&&(N=M0)}}B!=0?s[d++]=N:s[d++]=N*r.nsPsy.shortfact[$0]}c.useTemporal&&(s[d-3]>s[d-3+1]&&(s[d-3+1]+=(s[d-3]-s[d-3+1])*r.decay),s[d-3+1]>s[d-3+2]&&(s[d-3+2]+=(s[d-3+1]-s[d-3+2])*r.decay))}return o};function R(c){this.s=c}this.calc_noise_core=function(c,l,v,s){var d=0,r=l.s,L=c.l3_enc;if(r>c.count1)for(;v--!=0;){var _;_=c.xr[r],r++,d+=_*_,_=c.xr[r],r++,d+=_*_}else if(r>c.big_values){var o=W(2);for(o[0]=0,o[1]=s;v--!=0;){var _;_=Math.abs(c.xr[r])-o[L[r]],r++,d+=_*_,_=Math.abs(c.xr[r])-o[L[r]],r++,d+=_*_}}else for(;v--!=0;){var _;_=Math.abs(c.xr[r])-M[L[r]]*s,r++,d+=_*_,_=Math.abs(c.xr[r])-M[L[r]]*s,r++,d+=_*_}return l.s=r,d},this.calc_noise=function(c,l,v,s,d){var r=0,L=0,_,o,u=0,m=0,B=0,a=-20,n=0,N=c.scalefac,E=0;for(s.over_SSD=0,_=0;_<c.psymax;_++){var O=c.global_gain-(N[E++]+(c.preflag!=0?p[_]:0)<<c.scalefac_scale+1)-c.subblock_gain[c.window[_]]*8,q=0;if(d!=null&&d.step[_]==O)q=d.noise[_],n+=c.width[_],v[r++]=q/l[L++],q=d.noise_log[_];else{var Q=S(O);if(o=c.width[_]>>1,n+c.width[_]>c.max_nonzero_coeff){var a0;a0=c.max_nonzero_coeff-n+1,a0>0?o=a0>>1:o=0}var b0=new R(n);q=this.calc_noise_core(c,b0,o,Q),n=b0.s,d!=null&&(d.step[_]=O,d.noise[_]=q),q=v[r++]=q/l[L++],q=Z.FAST_LOG10(Math.max(q,1e-20)),d!=null&&(d.noise_log[_]=q)}if(d!=null&&(d.global_gain=c.global_gain),B+=q,q>0){var B0;B0=Math.max(0|q*10+.5,1),s.over_SSD+=B0*B0,u++,m+=q}a=Math.max(a,q)}return s.over_count=u,s.tot_noise=B,s.over_noise=m,s.max_noise=a,u}}function Te(){this.global_gain=0,this.sfb_count1=0,this.step=g(39),this.noise=W(39),this.noise_log=W(39)}function ve(){this.xr=W(576),this.l3_enc=g(576),this.scalefac=g(s0.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=g(3),this.subblock_gain=g(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=g(s0.SFBMAX),this.window=g(s0.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=g(4),this.max_nonzero_coeff=0;var f=this;function k(S){return new Int32Array(S)}function H(S){return new Float32Array(S)}this.assign=function(S){f.xr=H(S.xr),f.l3_enc=k(S.l3_enc),f.scalefac=k(S.scalefac),f.xrpow_max=S.xrpow_max,f.part2_3_length=S.part2_3_length,f.big_values=S.big_values,f.count1=S.count1,f.global_gain=S.global_gain,f.scalefac_compress=S.scalefac_compress,f.block_type=S.block_type,f.mixed_block_flag=S.mixed_block_flag,f.table_select=k(S.table_select),f.subblock_gain=k(S.subblock_gain),f.region0_count=S.region0_count,f.region1_count=S.region1_count,f.preflag=S.preflag,f.scalefac_scale=S.scalefac_scale,f.count1table_select=S.count1table_select,f.part2_length=S.part2_length,f.sfb_lmax=S.sfb_lmax,f.sfb_smin=S.sfb_smin,f.psy_lmax=S.psy_lmax,f.sfbmax=S.sfbmax,f.psymax=S.psymax,f.sfbdivide=S.sfbdivide,f.width=k(S.width),f.window=k(S.window),f.count1bits=S.count1bits,f.sfb_partition_table=S.sfb_partition_table.slice(0),f.slen=k(S.slen),f.max_nonzero_coeff=S.max_nonzero_coeff}}var s0={};s0.SFBMAX=t.SBMAX_s*3;function Ue(){this.rv=null;var f;this.qupvt=null;var k,H=new V0,S;this.setModules=function(e,i,h,R){f=i,this.rv=i,k=h,this.qupvt=h,S=R,H.setModules(k,S)};function K(e,i,h,R){R=0;for(var c=0;c<=h;++c){var l=Math.abs(e.xr[c]);R+=l,i[c]=Math.sqrt(l*Math.sqrt(l)),i[c]>e.xrpow_max&&(e.xrpow_max=i[c])}return R}this.init_xrpow=function(e,i,h){var R=0,c=0|i.max_nonzero_coeff;if(i.xrpow_max=0,D0.fill(h,c,576,0),R=K(i,h,c,R),R>1e-20){var l=0;e.substep_shaping&2&&(l=1);for(var v=0;v<i.psymax;v++)e.pseudohalf[v]=l;return!0}return D0.fill(i.l3_enc,0,576,0),!1};function b(e,i){var h=e.ATH,R=i.xr;if(i.block_type!=t.SHORT_TYPE)for(var c=!1,l=t.PSFB21-1;l>=0&&!c;l--){var v=e.scalefac_band.psfb21[l],s=e.scalefac_band.psfb21[l+1],d=k.athAdjust(h.adjust,h.psfb21[l],h.floor);e.nsPsy.longfact[21]>1e-12&&(d*=e.nsPsy.longfact[21]);for(var r=s-1;r>=v;r--)if(Math.abs(R[r])<d)R[r]=0;else{c=!0;break}}else for(var L=0;L<3;L++)for(var c=!1,l=t.PSFB12-1;l>=0&&!c;l--){var v=e.scalefac_band.s[12]*3+(e.scalefac_band.s[13]-e.scalefac_band.s[12])*L+(e.scalefac_band.psfb12[l]-e.scalefac_band.psfb12[0]),s=v+(e.scalefac_band.psfb12[l+1]-e.scalefac_band.psfb12[l]),_=k.athAdjust(h.adjust,h.psfb12[l],h.floor);e.nsPsy.shortfact[12]>1e-12&&(_*=e.nsPsy.shortfact[12]);for(var r=s-1;r>=v;r--)if(Math.abs(R[r])<_)R[r]=0;else{c=!0;break}}}this.init_outer_loop=function(e,i){i.part2_3_length=0,i.big_values=0,i.count1=0,i.global_gain=210,i.scalefac_compress=0,i.table_select[0]=0,i.table_select[1]=0,i.table_select[2]=0,i.subblock_gain[0]=0,i.subblock_gain[1]=0,i.subblock_gain[2]=0,i.subblock_gain[3]=0,i.region0_count=0,i.region1_count=0,i.preflag=0,i.scalefac_scale=0,i.count1table_select=0,i.part2_length=0,i.sfb_lmax=t.SBPSY_l,i.sfb_smin=t.SBPSY_s,i.psy_lmax=e.sfb21_extra?t.SBMAX_l:t.SBPSY_l,i.psymax=i.psy_lmax,i.sfbmax=i.sfb_lmax,i.sfbdivide=11;for(var h=0;h<t.SBMAX_l;h++)i.width[h]=e.scalefac_band.l[h+1]-e.scalefac_band.l[h],i.window[h]=3;if(i.block_type==t.SHORT_TYPE){var R=W(576);i.sfb_smin=0,i.sfb_lmax=0,i.mixed_block_flag!=0&&e0(),i.psymax=i.sfb_lmax+3*((e.sfb21_extra?t.SBMAX_s:t.SBPSY_s)-i.sfb_smin),i.sfbmax=i.sfb_lmax+3*(t.SBPSY_s-i.sfb_smin),i.sfbdivide=i.sfbmax-18,i.psy_lmax=i.sfb_lmax;var c=e.scalefac_band.l[i.sfb_lmax];z.arraycopy(i.xr,0,R,0,576);for(var h=i.sfb_smin;h<t.SBMAX_s;h++)for(var l=e.scalefac_band.s[h],v=e.scalefac_band.s[h+1],s=0;s<3;s++)for(var d=l;d<v;d++)i.xr[c++]=R[3*d+s];for(var r=i.sfb_lmax,h=i.sfb_smin;h<t.SBMAX_s;h++)i.width[r]=i.width[r+1]=i.width[r+2]=e.scalefac_band.s[h+1]-e.scalefac_band.s[h],i.window[r]=0,i.window[r+1]=1,i.window[r+2]=2,r+=3}i.count1bits=0,i.sfb_partition_table=k.nr_of_sfb_block[0][0],i.slen[0]=0,i.slen[1]=0,i.slen[2]=0,i.slen[3]=0,i.max_nonzero_coeff=575,D0.fill(i.scalefac,0),b(e,i)};function w(e){this.ordinal=e}w.BINSEARCH_NONE=new w(0),w.BINSEARCH_UP=new w(1),w.BINSEARCH_DOWN=new w(2);function Y(e,i,h,R,c){var l,v=e.CurrentStep[R],s=!1,d=e.OldValue[R],r=w.BINSEARCH_NONE;for(i.global_gain=d,h-=i.part2_length;;){var L;if(l=S.count_bits(e,c,i,null),v==1||l==h)break;l>h?(r==w.BINSEARCH_DOWN&&(s=!0),s&&(v/=2),r=w.BINSEARCH_UP,L=v):(r==w.BINSEARCH_UP&&(s=!0),s&&(v/=2),r=w.BINSEARCH_DOWN,L=-v),i.global_gain+=L,i.global_gain<0&&e0(),i.global_gain>255&&e0()}for(;l>h&&i.global_gain<255;)i.global_gain++,l=S.count_bits(e,c,i,null);return e.CurrentStep[R]=d-i.global_gain>=4?4:2,e.OldValue[R]=i.global_gain,i.part2_3_length=l,l}function y(e){for(var i=0;i<e.sfbmax;i++)if(e.scalefac[i]+e.subblock_gain[e.window[i]]==0)return!1;return!0}function X(e,i,h,R,c){var l;switch(e){default:case 9:{i.over_count>0?(l=h.over_SSD<=i.over_SSD,h.over_SSD==i.over_SSD&&(l=h.bits<i.bits)):l=h.max_noise<0&&h.max_noise*10+h.bits<=i.max_noise*10+i.bits;break}case 0:l=h.over_count<i.over_count||h.over_count==i.over_count&&h.over_noise<i.over_noise||h.over_count==i.over_count&&F0.EQ(h.over_noise,i.over_noise)&&h.tot_noise<i.tot_noise;break;case 8:e0();case 1:l=h.max_noise<i.max_noise;break;case 2:l=h.tot_noise<i.tot_noise;break;case 3:l=h.tot_noise<i.tot_noise&&h.max_noise<i.max_noise;break;case 4:l=h.max_noise<=0&&i.max_noise>.2||h.max_noise<=0&&i.max_noise<0&&i.max_noise>h.max_noise-.2&&h.tot_noise<i.tot_noise||h.max_noise<=0&&i.max_noise>0&&i.max_noise>h.max_noise-.2&&h.tot_noise<i.tot_noise+i.over_noise||h.max_noise>0&&i.max_noise>-.05&&i.max_noise>h.max_noise-.1&&h.tot_noise+h.over_noise<i.tot_noise+i.over_noise||h.max_noise>0&&i.max_noise>-.1&&i.max_noise>h.max_noise-.15&&h.tot_noise+h.over_noise+h.over_noise<i.tot_noise+i.over_noise+i.over_noise;break;case 5:l=h.over_noise<i.over_noise||F0.EQ(h.over_noise,i.over_noise)&&h.tot_noise<i.tot_noise;break;case 6:l=h.over_noise<i.over_noise||F0.EQ(h.over_noise,i.over_noise)&&(h.max_noise<i.max_noise||F0.EQ(h.max_noise,i.max_noise)&&h.tot_noise<=i.tot_noise);break;case 7:l=h.over_count<i.over_count||h.over_noise<i.over_noise;break}return i.over_count==0&&(l=l&&h.bits<i.bits),l}function p(e,i,h,R,c){var l=e.internal_flags,v;i.scalefac_scale==0?v=1.2968395546510096:v=1.6817928305074292;for(var s=0,d=0;d<i.sfbmax;d++)s<h[d]&&(s=h[d]);var r=l.noise_shaping_amp;switch(r==3&&e0(),r){case 2:break;case 1:s>1?s=Math.pow(s,.5):s*=.95;break;case 0:default:s>1?s=1:s*=.95;break}for(var L=0,d=0;d<i.sfbmax;d++){var _=i.width[d],o;if(L+=_,!(h[d]<s)){for(l.substep_shaping&2&&e0(),i.scalefac[d]++,o=-_;o<0;o++)R[L+o]*=v,R[L+o]>i.xrpow_max&&(i.xrpow_max=R[L+o]);if(l.noise_shaping_amp==2)return}}}function U(e,i){for(var h=1.2968395546510096,R=0,c=0;c<e.sfbmax;c++){var l=e.width[c],v=e.scalefac[c];if(e.preflag!=0&&(v+=k.pretab[c]),R+=l,v&1){v++;for(var s=-l;s<0;s++)i[R+s]*=h,i[R+s]>e.xrpow_max&&(e.xrpow_max=i[R+s])}e.scalefac[c]=v>>1}e.preflag=0,e.scalefac_scale=1}function T(e,i,h){var R,c=i.scalefac;for(R=0;R<i.sfb_lmax;R++)if(c[R]>=16)return!0;for(var l=0;l<3;l++){var v=0,s=0;for(R=i.sfb_lmax+l;R<i.sfbdivide;R+=3)v<c[R]&&(v=c[R]);for(;R<i.sfbmax;R+=3)s<c[R]&&(s=c[R]);if(!(v<16&&s<8)){if(i.subblock_gain[l]>=7)return!0;i.subblock_gain[l]++;var d=e.scalefac_band.l[i.sfb_lmax];for(R=i.sfb_lmax+l;R<i.sfbmax;R+=3){var r,L=i.width[R],_=c[R];if(_=_-(4>>i.scalefac_scale),_>=0){c[R]=_,d+=L*3;continue}c[R]=0;{var o=210+(_<<i.scalefac_scale+1);r=k.IPOW20(o)}d+=L*(l+1);for(var u=-L;u<0;u++)h[d+u]*=r,h[d+u]>i.xrpow_max&&(i.xrpow_max=h[d+u]);d+=L*(3-l-1)}{var r=k.IPOW20(202);d+=i.width[R]*(l+1);for(var u=-i.width[R];u<0;u++)h[d+u]*=r,h[d+u]>i.xrpow_max&&(i.xrpow_max=h[d+u])}}}return!1}function M(e,i,h,R,c){var l=e.internal_flags;p(e,i,h,R);var v=y(i);return v?!1:(l.mode_gr==2?v=S.scale_bitcount(i):v=S.scale_bitcount_lsf(l,i),v?(l.noise_shaping>1&&(D0.fill(l.pseudohalf,0),i.scalefac_scale==0?(U(i,R),v=!1):i.block_type==t.SHORT_TYPE&&l.subblock_gain>0&&(v=T(l,i,R)||y(i))),v||(l.mode_gr==2?v=S.scale_bitcount(i):v=S.scale_bitcount_lsf(l,i)),!v):!0)}this.outer_loop=function(e,i,h,R,c,l){var v=e.internal_flags,s=new ve,d=W(576),r=W(s0.SFBMAX),L=new E0,_,o=new Te,u=9999999,m=!1,B=!1,a=0;if(Y(v,i,l,c,R),v.noise_shaping==0)return 100;k.calc_noise(i,h,r,L,o),L.bits=i.part2_3_length,s.assign(i);var n=0;for(z.arraycopy(R,0,d,0,576);!m;){do{var N=new E0,E,O=255;if(v.substep_shaping&2?E=20:E=3,v.sfb21_extra&&e0(),!M(e,s,r,R))break;s.scalefac_scale!=0&&(O=254);var q=l-s.part2_length;if(q<=0)break;for(;(s.part2_3_length=S.count_bits(v,R,s,o))>q&&s.global_gain<=O;)s.global_gain++;if(s.global_gain>O)break;if(L.over_count==0){for(;(s.part2_3_length=S.count_bits(v,R,s,o))>u&&s.global_gain<=O;)s.global_gain++;if(s.global_gain>O)break}if(k.calc_noise(s,h,r,N,o),N.bits=s.part2_3_length,i.block_type!=t.SHORT_TYPE?_=e.quant_comp:_=e.quant_comp_short,_=X(_,L,N)?1:0,_!=0)u=i.part2_3_length,L=N,i.assign(s),n=0,z.arraycopy(R,0,d,0,576);else if(v.full_outer_loop==0&&(++n>E&&L.over_count==0||v.noise_shaping_amp==3&&B&&n>30||v.noise_shaping_amp==3&&B&&s.global_gain-a>15))break}while(s.global_gain+s.scalefac_scale<255);v.noise_shaping_amp==3?e0():m=!0}return e.VBR==G.vbr_rh||e.VBR==G.vbr_mtrh?z.arraycopy(d,0,R,0,576):v.substep_shaping&1&&e0(),L.over_count},this.iteration_finish_one=function(e,i,h){var R=e.l3_side,c=R.tt[i][h];S.best_scalefac_store(e,i,h,R),e.use_best_huffman==1&&S.best_huffman_divide(e,c),f.ResvAdjust(e,c)}}function x(){var f=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*Z.SQRT2*.5/2384e-9,.017876148*Z.SQRT2*.5/2384e-9,.003134727*Z.SQRT2*.5/2384e-9,.002457142*Z.SQRT2*.5/2384e-9,971317e-9*Z.SQRT2*.5/2384e-9,218868e-9*Z.SQRT2*.5/2384e-9,101566e-9*Z.SQRT2*.5/2384e-9,13828e-9*Z.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],k=12,H=36,S=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],K=S[t.SHORT_TYPE],b=S[t.SHORT_TYPE],w=S[t.SHORT_TYPE],Y=S[t.SHORT_TYPE],y=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function X(T,M,e){for(var i=10,h=M+238-14-286,R=-15;R<0;R++){var c,l,v;c=f[i+-10],l=T[h+-224]*c,v=T[M+224]*c,c=f[i+-9],l+=T[h+-160]*c,v+=T[M+160]*c,c=f[i+-8],l+=T[h+-96]*c,v+=T[M+96]*c,c=f[i+-7],l+=T[h+-32]*c,v+=T[M+32]*c,c=f[i+-6],l+=T[h+32]*c,v+=T[M+-32]*c,c=f[i+-5],l+=T[h+96]*c,v+=T[M+-96]*c,c=f[i+-4],l+=T[h+160]*c,v+=T[M+-160]*c,c=f[i+-3],l+=T[h+224]*c,v+=T[M+-224]*c,c=f[i+-2],l+=T[M+-256]*c,v-=T[h+256]*c,c=f[i+-1],l+=T[M+-192]*c,v-=T[h+192]*c,c=f[i+0],l+=T[M+-128]*c,v-=T[h+128]*c,c=f[i+1],l+=T[M+-64]*c,v-=T[h+64]*c,c=f[i+2],l+=T[M+0]*c,v-=T[h+0]*c,c=f[i+3],l+=T[M+64]*c,v-=T[h+-64]*c,c=f[i+4],l+=T[M+128]*c,v-=T[h+-128]*c,c=f[i+5],l+=T[M+192]*c,v-=T[h+-192]*c,l*=f[i+6],c=v-l,e[30+R*2]=v+l,e[31+R*2]=f[i+7]*c,i+=18,M--,h++}{var l,v,s,d;v=T[M+-16]*f[i+-10],l=T[M+-32]*f[i+-2],v+=(T[M+-48]-T[M+16])*f[i+-9],l+=T[M+-96]*f[i+-1],v+=(T[M+-80]+T[M+48])*f[i+-8],l+=T[M+-160]*f[i+0],v+=(T[M+-112]-T[M+80])*f[i+-7],l+=T[M+-224]*f[i+1],v+=(T[M+-144]+T[M+112])*f[i+-6],l-=T[M+32]*f[i+2],v+=(T[M+-176]-T[M+144])*f[i+-5],l-=T[M+96]*f[i+3],v+=(T[M+-208]+T[M+176])*f[i+-4],l-=T[M+160]*f[i+4],v+=(T[M+-240]-T[M+208])*f[i+-3],l-=T[M+224],s=l-v,d=l+v,v=e[14],l=e[15]-v,e[31]=d+v,e[30]=s+l,e[15]=s-l,e[14]=d-v}{var r;r=e[28]-e[0],e[0]+=e[28],e[28]=r*f[i+-2*18+7],r=e[29]-e[1],e[1]+=e[29],e[29]=r*f[i+-2*18+7],r=e[26]-e[2],e[2]+=e[26],e[26]=r*f[i+-4*18+7],r=e[27]-e[3],e[3]+=e[27],e[27]=r*f[i+-4*18+7],r=e[24]-e[4],e[4]+=e[24],e[24]=r*f[i+-6*18+7],r=e[25]-e[5],e[5]+=e[25],e[25]=r*f[i+-6*18+7],r=e[22]-e[6],e[6]+=e[22],e[22]=r*Z.SQRT2,r=e[23]-e[7],e[7]+=e[23],e[23]=r*Z.SQRT2-e[7],e[7]-=e[6],e[22]-=e[7],e[23]-=e[22],r=e[6],e[6]=e[31]-r,e[31]=e[31]+r,r=e[7],e[7]=e[30]-r,e[30]=e[30]+r,r=e[22],e[22]=e[15]-r,e[15]=e[15]+r,r=e[23],e[23]=e[14]-r,e[14]=e[14]+r,r=e[20]-e[8],e[8]+=e[20],e[20]=r*f[i+-10*18+7],r=e[21]-e[9],e[9]+=e[21],e[21]=r*f[i+-10*18+7],r=e[18]-e[10],e[10]+=e[18],e[18]=r*f[i+-12*18+7],r=e[19]-e[11],e[11]+=e[19],e[19]=r*f[i+-12*18+7],r=e[16]-e[12],e[12]+=e[16],e[16]=r*f[i+-14*18+7],r=e[17]-e[13],e[13]+=e[17],e[17]=r*f[i+-14*18+7],r=-e[20]+e[24],e[20]+=e[24],e[24]=r*f[i+-12*18+7],r=-e[21]+e[25],e[21]+=e[25],e[25]=r*f[i+-12*18+7],r=e[4]-e[8],e[4]+=e[8],e[8]=r*f[i+-12*18+7],r=e[5]-e[9],e[5]+=e[9],e[9]=r*f[i+-12*18+7],r=e[0]-e[12],e[0]+=e[12],e[12]=r*f[i+-4*18+7],r=e[1]-e[13],e[1]+=e[13],e[13]=r*f[i+-4*18+7],r=e[16]-e[28],e[16]+=e[28],e[28]=r*f[i+-4*18+7],r=-e[17]+e[29],e[17]+=e[29],e[29]=r*f[i+-4*18+7],r=Z.SQRT2*(e[2]-e[10]),e[2]+=e[10],e[10]=r,r=Z.SQRT2*(e[3]-e[11]),e[3]+=e[11],e[11]=r,r=Z.SQRT2*(-e[18]+e[26]),e[18]+=e[26],e[26]=r-e[18],r=Z.SQRT2*(-e[19]+e[27]),e[19]+=e[27],e[27]=r-e[19],r=e[2],e[19]-=e[3],e[3]-=r,e[2]=e[31]-r,e[31]+=r,r=e[3],e[11]-=e[19],e[18]-=r,e[3]=e[30]-r,e[30]+=r,r=e[18],e[27]-=e[11],e[19]-=r,e[18]=e[15]-r,e[15]+=r,r=e[19],e[10]-=r,e[19]=e[14]-r,e[14]+=r,r=e[10],e[11]-=r,e[10]=e[23]-r,e[23]+=r,r=e[11],e[26]-=r,e[11]=e[22]-r,e[22]+=r,r=e[26],e[27]-=r,e[26]=e[7]-r,e[7]+=r,r=e[27],e[27]=e[6]-r,e[6]+=r,r=Z.SQRT2*(e[0]-e[4]),e[0]+=e[4],e[4]=r,r=Z.SQRT2*(e[1]-e[5]),e[1]+=e[5],e[5]=r,r=Z.SQRT2*(e[16]-e[20]),e[16]+=e[20],e[20]=r,r=Z.SQRT2*(e[17]-e[21]),e[17]+=e[21],e[21]=r,r=-Z.SQRT2*(e[8]-e[12]),e[8]+=e[12],e[12]=r-e[8],r=-Z.SQRT2*(e[9]-e[13]),e[9]+=e[13],e[13]=r-e[9],r=-Z.SQRT2*(e[25]-e[29]),e[25]+=e[29],e[29]=r-e[25],r=-Z.SQRT2*(e[24]+e[28]),e[24]-=e[28],e[28]=r-e[24],r=e[24]-e[16],e[24]=r,r=e[20]-r,e[20]=r,r=e[28]-r,e[28]=r,r=e[25]-e[17],e[25]=r,r=e[21]-r,e[21]=r,r=e[29]-r,e[29]=r,r=e[17]-e[1],e[17]=r,r=e[9]-r,e[9]=r,r=e[25]-r,e[25]=r,r=e[5]-r,e[5]=r,r=e[21]-r,e[21]=r,r=e[13]-r,e[13]=r,r=e[29]-r,e[29]=r,r=e[1]-e[0],e[1]=r,r=e[16]-r,e[16]=r,r=e[17]-r,e[17]=r,r=e[8]-r,e[8]=r,r=e[9]-r,e[9]=r,r=e[24]-r,e[24]=r,r=e[25]-r,e[25]=r,r=e[4]-r,e[4]=r,r=e[5]-r,e[5]=r,r=e[20]-r,e[20]=r,r=e[21]-r,e[21]=r,r=e[12]-r,e[12]=r,r=e[13]-r,e[13]=r,r=e[28]-r,e[28]=r,r=e[29]-r,e[29]=r,r=e[0],e[0]+=e[31],e[31]-=r,r=e[1],e[1]+=e[30],e[30]-=r,r=e[16],e[16]+=e[15],e[15]-=r,r=e[17],e[17]+=e[14],e[14]-=r,r=e[8],e[8]+=e[23],e[23]-=r,r=e[9],e[9]+=e[22],e[22]-=r,r=e[24],e[24]+=e[7],e[7]-=r,r=e[25],e[25]+=e[6],e[6]-=r,r=e[4],e[4]+=e[27],e[27]-=r,r=e[5],e[5]+=e[26],e[26]-=r,r=e[20],e[20]+=e[11],e[11]-=r,r=e[21],e[21]+=e[10],e[10]-=r,r=e[12],e[12]+=e[19],e[19]-=r,r=e[13],e[13]+=e[18],e[18]-=r,r=e[28],e[28]+=e[3],e[3]-=r,r=e[29],e[29]+=e[2],e[2]-=r}}function p(T,M){for(var e=0;e<3;e++){var i,h,R,c,l,v;c=T[M+2*3]*S[t.SHORT_TYPE][0]-T[M+5*3],i=T[M+0*3]*S[t.SHORT_TYPE][2]-T[M+3*3],h=c+i,R=c-i,c=T[M+5*3]*S[t.SHORT_TYPE][0]+T[M+2*3],i=T[M+3*3]*S[t.SHORT_TYPE][2]+T[M+0*3],l=c+i,v=-c+i,i=(T[M+1*3]*S[t.SHORT_TYPE][1]-T[M+4*3])*2069978111953089e-26,c=(T[M+4*3]*S[t.SHORT_TYPE][1]+T[M+1*3])*2069978111953089e-26,T[M+3*0]=h*190752519173728e-25+i,T[M+3*5]=-l*190752519173728e-25+c,R=R*.8660254037844387*1907525191737281e-26,l=l*.5*1907525191737281e-26+c,T[M+3*1]=R-l,T[M+3*2]=R+l,h=h*.5*1907525191737281e-26-i,v=v*.8660254037844387*1907525191737281e-26,T[M+3*3]=h+v,T[M+3*4]=h-v,M++}}function U(T,M,e){var i,h;{var R,c,l,v,s,d,r,L;R=e[17]-e[9],l=e[15]-e[11],v=e[14]-e[12],s=e[0]+e[8],d=e[1]+e[7],r=e[2]+e[6],L=e[3]+e[5],T[M+17]=s+r-L-(d-e[4]),h=(s+r-L)*b[19]+(d-e[4]),i=(R-l-v)*b[18],T[M+5]=i+h,T[M+6]=i-h,c=(e[16]-e[10])*b[18],d=d*b[19]+e[4],i=R*b[12]+c+l*b[13]+v*b[14],h=-s*b[16]+d-r*b[17]+L*b[15],T[M+1]=i+h,T[M+2]=i-h,i=R*b[13]-c-l*b[14]+v*b[12],h=-s*b[17]+d-r*b[15]+L*b[16],T[M+9]=i+h,T[M+10]=i-h,i=R*b[14]-c+l*b[12]-v*b[13],h=s*b[15]-d+r*b[16]-L*b[17],T[M+13]=i+h,T[M+14]=i-h}{var _,o,u,m,B,a,n,N;_=e[8]-e[0],u=e[6]-e[2],m=e[5]-e[3],B=e[17]+e[9],a=e[16]+e[10],n=e[15]+e[11],N=e[14]+e[12],T[M+0]=B+n+N+(a+e[13]),i=(B+n+N)*b[19]-(a+e[13]),h=(_-u+m)*b[18],T[M+11]=i+h,T[M+12]=i-h,o=(e[7]-e[1])*b[18],a=e[13]-a*b[19],i=B*b[15]-a+n*b[16]+N*b[17],h=_*b[14]+o+u*b[12]+m*b[13],T[M+3]=i+h,T[M+4]=i-h,i=-B*b[17]+a-n*b[15]-N*b[16],h=_*b[13]+o-u*b[14]-m*b[12],T[M+7]=i+h,T[M+8]=i-h,i=-B*b[16]+a-n*b[17]-N*b[15],h=_*b[12]-o+u*b[13]-m*b[14],T[M+15]=i+h,T[M+16]=i-h}}this.mdct_sub48=function(T,M,e){for(var i=M,h=286,R=0;R<T.channels_out;R++){for(var c=0;c<T.mode_gr;c++){for(var l,v=T.l3_side.tt[c][R],s=v.xr,d=0,r=T.sb_sample[R][1-c],L=0,_=0;_<18/2;_++)for(X(i,h,r[L]),X(i,h+32,r[L+1]),L+=2,h+=64,l=1;l<32;l+=2)r[L-1][l]*=-1;for(l=0;l<32;l++,d+=18){var o=v.block_type,u=T.sb_sample[R][c],m=T.sb_sample[R][1-c];if(v.mixed_block_flag!=0&&l<2&&(o=0),T.amp_filter[l]<1e-12)D0.fill(s,d+0,d+18,0);else if(T.amp_filter[l]<1&&e0(),o==t.SHORT_TYPE){for(var _=-k/4;_<0;_++){var B=S[t.SHORT_TYPE][_+3];s[d+_*3+9]=u[9+_][y[l]]*B-u[8-_][y[l]],s[d+_*3+18]=u[14-_][y[l]]*B+u[15+_][y[l]],s[d+_*3+10]=u[15+_][y[l]]*B-u[14-_][y[l]],s[d+_*3+19]=m[2-_][y[l]]*B+m[3+_][y[l]],s[d+_*3+11]=m[3+_][y[l]]*B-m[2-_][y[l]],s[d+_*3+20]=m[8-_][y[l]]*B+m[9+_][y[l]]}p(s,d)}else{for(var a=W(18),_=-H/4;_<0;_++){var n,N;n=S[o][_+27]*m[_+9][y[l]]+S[o][_+36]*m[8-_][y[l]],N=S[o][_+9]*u[_+9][y[l]]-S[o][_+18]*u[8-_][y[l]],a[_+9]=n-N*K[3+_+9],a[_+18]=n*K[3+_+9]+N}U(s,d,a)}if(o!=t.SHORT_TYPE&&l!=0)for(var _=7;_>=0;--_){var E,O;E=s[d+_]*w[20+_]+s[d+-1-_]*Y[28+_],O=s[d+_]*Y[28+_]-s[d+-1-_]*w[20+_],s[d+-1-_]=E,s[d+_]=O}}}if(i=e,h=286,T.mode_gr==1)for(var q=0;q<18;q++)z.arraycopy(T.sb_sample[R][1][q],0,T.sb_sample[R][0][q],0,32)}}}function A(){this.thm=new $,this.en=new $}t.ENCDELAY=576,t.POSTDELAY=1152,t.MDCTDELAY=48,t.FFTOFFSET=224+t.MDCTDELAY,t.DECDELAY=528,t.SBLIMIT=32,t.CBANDS=64,t.SBPSY_l=21,t.SBPSY_s=12,t.SBMAX_l=22,t.SBMAX_s=13,t.PSFB21=6,t.PSFB12=6,t.BLKSIZE=1024,t.HBLKSIZE=t.BLKSIZE/2+1,t.BLKSIZE_s=256,t.HBLKSIZE_s=t.BLKSIZE_s/2+1,t.NORM_TYPE=0,t.START_TYPE=1,t.SHORT_TYPE=2,t.STOP_TYPE=3,t.MPG_MD_LR_LR=0,t.MPG_MD_LR_I=1,t.MPG_MD_MS_LR=2,t.MPG_MD_MS_I=3,t.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function t(){var f=t.MPG_MD_MS_LR,k=null;this.psy=null;var H=null,S=null;this.setModules=function(y,X,p,U){k=y,this.psy=X,H=X,S=U};var K=new x;function b(y){var X,p;if(y.ATH.useAdjust==0){y.ATH.adjust=1;return}if(p=y.loudness_sq[0][0],X=y.loudness_sq[1][0],y.channels_out==2?e0():(p+=p,X+=X),y.mode_gr==2&&(p=Math.max(p,X)),p*=.5,p*=y.ATH.aaSensitivityP,p>.03125)y.ATH.adjust>=1?y.ATH.adjust=1:y.ATH.adjust<y.ATH.adjustLimit&&(y.ATH.adjust=y.ATH.adjustLimit),y.ATH.adjustLimit=1;else{var U=31.98*p+625e-6;y.ATH.adjust>=U?(y.ATH.adjust*=U*.075+.925,y.ATH.adjust<U&&(y.ATH.adjust=U)):y.ATH.adjustLimit>=U?y.ATH.adjust=U:y.ATH.adjust<y.ATH.adjustLimit&&(y.ATH.adjust=y.ATH.adjustLimit),y.ATH.adjustLimit=U}}function w(y){var X,p;for(y.bitrate_stereoMode_Hist[y.bitrate_index][4]++,y.bitrate_stereoMode_Hist[15][4]++,y.channels_out==2&&e0(),X=0;X<y.mode_gr;++X)for(p=0;p<y.channels_out;++p){var U=y.l3_side.tt[X][p].block_type|0;y.l3_side.tt[X][p].mixed_block_flag!=0&&(U=4),y.bitrate_blockType_Hist[y.bitrate_index][U]++,y.bitrate_blockType_Hist[y.bitrate_index][5]++,y.bitrate_blockType_Hist[15][U]++,y.bitrate_blockType_Hist[15][5]++}}function Y(y,X){var p=y.internal_flags,U,T;if(p.lame_encode_frame_init==0){var M,e,i=W(2014),h=W(2014);for(p.lame_encode_frame_init=1,M=0,e=0;M<286+576*(1+p.mode_gr);++M)M<576*p.mode_gr?(i[M]=0,p.channels_out==2&&(h[M]=0)):(i[M]=X[0][e],p.channels_out==2&&(h[M]=X[1][e]),++e);for(T=0;T<p.mode_gr;T++)for(U=0;U<p.channels_out;U++)p.l3_side.tt[T][U].block_type=t.SHORT_TYPE;K.mdct_sub48(p,i,h)}}this.lame_encode_mp3_frame=function(y,X,p,U,T,M){var e,i=A0([2,2]);i[0][0]=new A,i[0][1]=new A,i[1][0]=new A,i[1][1]=new A;var h=A0([2,2]);h[0][0]=new A,h[0][1]=new A,h[1][0]=new A,h[1][1]=new A;var R,c=[null,null],l=y.internal_flags,v=d0([2,4]),s=[.5,.5],d=[[0,0],[0,0]],r=[[0,0],[0,0]],L,_,o;if(c[0]=X,c[1]=p,l.lame_encode_frame_init==0&&Y(y,c),l.padding=0,(l.slot_lag-=l.frac_SpF)<0&&(l.slot_lag+=y.out_samplerate,l.padding=1),l.psymodel!=0){var u,m=[null,null],B=0,a=g(2);for(o=0;o<l.mode_gr;o++){for(_=0;_<l.channels_out;_++)m[_]=c[_],B=576+o*576-t.FFTOFFSET;if(y.VBR==G.vbr_mtrh||y.VBR==G.vbr_mt?e0():u=H.L3psycho_anal_ns(y,m,B,o,i,h,d[o],r[o],v[o],a),u!=0)return-4;for(y.mode==p0.JOINT_STEREO&&e0(),_=0;_<l.channels_out;_++){var n=l.l3_side.tt[o][_];n.block_type=a[_],n.mixed_block_flag=0}}}else e0();if(b(l),K.mdct_sub48(l,c[0],c[1]),l.mode_ext=t.MPG_MD_LR_LR,y.force_ms?l.mode_ext=t.MPG_MD_MS_LR:y.mode==p0.JOINT_STEREO&&e0(),l.mode_ext==f?(R=h,L=r):(R=i,L=d),y.analysis&&l.pinfo!=null&&e0(),y.VBR==G.vbr_off||y.VBR==G.vbr_abr){var N,E;for(N=0;N<18;N++)l.nsPsy.pefirbuf[N]=l.nsPsy.pefirbuf[N+1];for(E=0,o=0;o<l.mode_gr;o++)for(_=0;_<l.channels_out;_++)E+=L[o][_];for(l.nsPsy.pefirbuf[18]=E,E=l.nsPsy.pefirbuf[9],N=0;N<9;N++)E+=(l.nsPsy.pefirbuf[N]+l.nsPsy.pefirbuf[18-N])*t.fircoef[N];for(E=670*5*l.mode_gr*l.channels_out/E,o=0;o<l.mode_gr;o++)for(_=0;_<l.channels_out;_++)L[o][_]*=E}return l.iteration_loop.iteration_loop(y,L,s,R),k.format_bitstream(y),e=k.copy_buffer(l,U,T,M,1),y.bWriteVbrTag&&S.addVbrFrame(y),y.analysis&&l.pinfo!=null&&e0(),w(l),e}}function I(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}function P(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[g(4),g(4)];for(var f=0;f<2;f++)for(var k=0;k<2;k++)this.tt[f][k]=new ve}function $(){this.l=W(t.SBMAX_l),this.s=d0([t.SBMAX_s,3]);var f=this;this.assign=function(k){z.arraycopy(k.l,0,f.l,0,t.SBMAX_l);for(var H=0;H<t.SBMAX_s;H++)for(var S=0;S<3;S++)f.s[H][S]=k.s[H][S]}}function J(){this.last_en_subshort=d0([4,9]),this.lastAttacks=g(4),this.pefirbuf=W(19),this.longfact=W(t.SBMAX_l),this.shortfact=W(t.SBMAX_s),this.attackthre=0,this.attackthre_s=0}f0.MFSIZE=3*1152+t.ENCDELAY-t.MDCTDELAY,f0.MAX_HEADER_BUF=256,f0.MAX_BITS_PER_CHANNEL=4095,f0.MAX_BITS_PER_GRANULE=7680,f0.BPC=320;function f0(){var f=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=d0([2,f0.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new P,this.ms_ratio=W(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=g(2),this.CurrentStep=g(2),this.masking_lower=0,this.bv_scf=g(576),this.pseudohalf=g(s0.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*f0.BPC+1),this.itime=k0(2),this.sideinfo_len=0,this.sb_sample=d0([2,2,18,t.SBLIMIT]),this.amp_filter=W(32);function k(){this.write_timing=0,this.ptr=0,this.buf=W0(f)}this.header=new Array(f0.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new Q0,this.minval_l=W(t.CBANDS),this.minval_s=W(t.CBANDS),this.nb_1=d0([4,t.CBANDS]),this.nb_2=d0([4,t.CBANDS]),this.nb_s1=d0([4,t.CBANDS]),this.nb_s2=d0([4,t.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=W(4),this.loudness_sq=d0([2,2]),this.loudness_sq_save=W(2),this.mld_l=W(t.SBMAX_l),this.mld_s=W(t.SBMAX_s),this.bm_l=g(t.SBMAX_l),this.bo_l=g(t.SBMAX_l),this.bm_s=g(t.SBMAX_s),this.bo_s=g(t.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=S0([t.CBANDS,2]),this.s3ind_s=S0([t.CBANDS,2]),this.numlines_s=g(t.CBANDS),this.numlines_l=g(t.CBANDS),this.rnumlines_l=W(t.CBANDS),this.mld_cb_l=W(t.CBANDS),this.mld_cb_s=W(t.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=W(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=g(2),this.nsPsy=new J,this.VBR_seek_table=new I,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=S0([16,5]),this.bitrate_blockType_Hist=S0([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var H=0;H<this.en.length;H++)this.en[H]=new $;for(var H=0;H<this.thm.length;H++)this.thm[H]=new $;for(var H=0;H<this.header.length;H++)this.header[H]=new k}function c0(){var f=W(t.BLKSIZE),k=W(t.BLKSIZE_s/2),H=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function S(b,w,Y){var y=0,X,p,U;Y<<=1;var T=w+Y;X=4;do{var M,e,i,h,R,c,l;l=X>>1,h=X,R=X<<1,c=R+h,X=R<<1,p=w,U=p+l;do{var v,s,d,r;s=b[p+0]-b[p+h],v=b[p+0]+b[p+h],r=b[p+R]-b[p+c],d=b[p+R]+b[p+c],b[p+R]=v-d,b[p+0]=v+d,b[p+c]=s-r,b[p+h]=s+r,s=b[U+0]-b[U+h],v=b[U+0]+b[U+h],r=Z.SQRT2*b[U+c],d=Z.SQRT2*b[U+R],b[U+R]=v-d,b[U+0]=v+d,b[U+c]=s-r,b[U+h]=s+r,U+=X,p+=X}while(p<T);for(e=H[y+0],M=H[y+1],i=1;i<l;i++){var L,_;L=1-2*M*M,_=2*M*e,p=w+i,U=w+h-i;do{var o,u,m,v,s,B,d,a,r,n;u=_*b[p+h]-L*b[U+h],o=L*b[p+h]+_*b[U+h],s=b[p+0]-o,v=b[p+0]+o,B=b[U+0]-u,m=b[U+0]+u,u=_*b[p+c]-L*b[U+c],o=L*b[p+c]+_*b[U+c],r=b[p+R]-o,d=b[p+R]+o,n=b[U+R]-u,a=b[U+R]+u,u=M*d-e*n,o=e*d+M*n,b[p+R]=v-o,b[p+0]=v+o,b[U+c]=B-u,b[U+h]=B+u,u=e*a-M*r,o=M*a+e*r,b[U+R]=m-o,b[U+0]=m+o,b[p+c]=s-u,b[p+h]=s+u,U+=X,p+=X}while(p<T);L=e,e=L*H[y+0]-M*H[y+1],M=L*H[y+1]+M*H[y+0]}y+=2}while(X<Y)}var K=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(b,w,Y,y,X){for(var p=0;p<3;p++){var U=t.BLKSIZE_s/2,T=65535&576/3*(p+1),M=t.BLKSIZE_s/8-1;do{var e,i,h,R,c,l=K[M<<2]&255;e=k[l]*y[Y][X+l+T],c=k[127-l]*y[Y][X+l+T+128],i=e-c,e=e+c,h=k[l+64]*y[Y][X+l+T+64],c=k[63-l]*y[Y][X+l+T+192],R=h-c,h=h+c,U-=4,w[p][U+0]=e+h,w[p][U+2]=e-h,w[p][U+1]=i+R,w[p][U+3]=i-R,e=k[l+1]*y[Y][X+l+T+1],c=k[126-l]*y[Y][X+l+T+129],i=e-c,e=e+c,h=k[l+65]*y[Y][X+l+T+65],c=k[62-l]*y[Y][X+l+T+193],R=h-c,h=h+c,w[p][U+t.BLKSIZE_s/2+0]=e+h,w[p][U+t.BLKSIZE_s/2+2]=e-h,w[p][U+t.BLKSIZE_s/2+1]=i+R,w[p][U+t.BLKSIZE_s/2+3]=i-R}while(--M>=0);S(w[p],U,t.BLKSIZE_s/2)}},this.fft_long=function(b,w,Y,y,X){var p=t.BLKSIZE/8-1,U=t.BLKSIZE/2;do{var T,M,e,i,h,R=K[p]&255;T=f[R]*y[Y][X+R],h=f[R+512]*y[Y][X+R+512],M=T-h,T=T+h,e=f[R+256]*y[Y][X+R+256],h=f[R+768]*y[Y][X+R+768],i=e-h,e=e+h,U-=4,w[U+0]=T+e,w[U+2]=T-e,w[U+1]=M+i,w[U+3]=M-i,T=f[R+1]*y[Y][X+R+1],h=f[R+513]*y[Y][X+R+513],M=T-h,T=T+h,e=f[R+257]*y[Y][X+R+257],h=f[R+769]*y[Y][X+R+769],i=e-h,e=e+h,w[U+t.BLKSIZE/2+0]=T+e,w[U+t.BLKSIZE/2+2]=T-e,w[U+t.BLKSIZE/2+1]=M+i,w[U+t.BLKSIZE/2+3]=M-i}while(--p>=0);S(w,U,t.BLKSIZE/2)},this.init_fft=function(b){for(var w=0;w<t.BLKSIZE;w++)f[w]=.42-.5*Math.cos(2*Math.PI*(w+.5)/t.BLKSIZE)+.08*Math.cos(4*Math.PI*(w+.5)/t.BLKSIZE);for(var w=0;w<t.BLKSIZE_s/2;w++)k[w]=.5*(1-Math.cos(2*Math.PI*(w+.5)/t.BLKSIZE_s))}}function h0(){var f=new c0,k=2.302585092994046,H=2,S=16,K=2,b=16,w=.34,Y=1/(14752*14752)/(t.BLKSIZE/2),y=.01,X=.8,p=.6,U=.3,T=3.5,M=21,e=.2302585093;function i(F,C){for(var V=0,_0=0;_0<t.BLKSIZE/2;++_0)V+=F[_0]*C.ATH.eql_w[_0];return V*=Y,V}function h(F,C,V,_0,n0,j,t0,r0,o0,y0,v0){var ee=F.internal_flags;o0<2?(f.fft_long(ee,_0[n0],o0,y0,v0),f.fft_short(ee,j[t0],o0,y0,v0)):o0==2&&e0(),C[0]=_0[n0+0][0],C[0]*=C[0];for(var X0=t.BLKSIZE/2-1;X0>=0;--X0){var Z0=_0[n0+0][t.BLKSIZE/2-X0],se=_0[n0+0][t.BLKSIZE/2+X0];C[t.BLKSIZE/2-X0]=(Z0*Z0+se*se)*.5}for(var P0=2;P0>=0;--P0){V[P0][0]=j[t0+0][P0][0],V[P0][0]*=V[P0][0];for(var X0=t.BLKSIZE_s/2-1;X0>=0;--X0){var Z0=j[t0+0][P0][t.BLKSIZE_s/2-X0],se=j[t0+0][P0][t.BLKSIZE_s/2+X0];V[P0][t.BLKSIZE_s/2-X0]=(Z0*Z0+se*se)*.5}}{for(var R0=0,X0=11;X0<t.HBLKSIZE;X0++)R0+=C[X0];ee.tot_ener[o0]=R0}F.analysis&&e0(),F.athaa_loudapprox==2&&o0<2&&(ee.loudness_sq[r0][o0]=ee.loudness_sq_save[o0],ee.loudness_sq_save[o0]=i(C,ee))}var R=8,c=23,l=15,v,s,d,r=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function L(){v=Math.pow(10,(R+1)/16),s=Math.pow(10,(c+1)/16),d=Math.pow(10,l/10)}var _=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],o=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],u=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function m(F,C,V,_0,n0,j){var t0;if(C>F)if(C<F*s)t0=C/F;else return F+C;else{if(F>=C*s)return F+C;t0=F/C}if(F+=C,_0+3<=6){if(t0>=v)return F;var r0=0|Z.FAST_LOG10_X(t0,16);return F*o[r0]}var r0=0|Z.FAST_LOG10_X(t0,16);if(C=n0.ATH.cb_l[V]*n0.ATH.adjust,F<d*C){if(F>C){var o0,y0;return o0=1,r0<=13&&(o0=u[r0]),y0=Z.FAST_LOG10_X(F/C,10/15),F*((_[r0]-o0)*y0+o0)}return r0>13?F:F*u[r0]}return F*_[r0]}function B(F,C,V,_0,n0){var j,t0,r0=0,o0=0;for(j=t0=0;j<t.SBMAX_s;++t0,++j){for(var y0=F.bo_s[j],v0=F.npart_s,ee=y0<v0?y0:v0;t0<ee;)r0+=C[t0],o0+=V[t0],t0++;if(F.en[_0].s[j][n0]=r0,F.thm[_0].s[j][n0]=o0,t0>=v0){++j;break}{var X0=F.PSY.bo_s_weight[j],Z0=1-X0;r0=X0*C[t0],o0=X0*V[t0],F.en[_0].s[j][n0]+=r0,F.thm[_0].s[j][n0]+=o0,r0=Z0*C[t0],o0=Z0*V[t0]}}for(;j<t.SBMAX_s;++j)F.en[_0].s[j][n0]=0,F.thm[_0].s[j][n0]=0}function a(F,C,V,_0){var n0,j,t0=0,r0=0;for(n0=j=0;n0<t.SBMAX_l;++j,++n0){for(var o0=F.bo_l[n0],y0=F.npart_l,v0=o0<y0?o0:y0;j<v0;)t0+=C[j],r0+=V[j],j++;if(F.en[_0].l[n0]=t0,F.thm[_0].l[n0]=r0,j>=y0){++n0;break}{var ee=F.PSY.bo_l_weight[n0],X0=1-ee;t0=ee*C[j],r0=ee*V[j],F.en[_0].l[n0]+=t0,F.thm[_0].l[n0]+=r0,t0=X0*C[j],r0=X0*V[j]}}for(;n0<t.SBMAX_l;++n0)F.en[_0].l[n0]=0,F.thm[_0].l[n0]=0}function n(F,C,V,_0,n0,j){var t0=F.internal_flags,r0,o0;for(o0=r0=0;o0<t0.npart_s;++o0){for(var y0=0,v0=t0.numlines_s[o0],ee=0;ee<v0;++ee,++r0){var X0=C[j][r0];y0+=X0}V[o0]=y0}for(r0=o0=0;o0<t0.npart_s;o0++){var Z0=t0.s3ind_s[o0][0],se=t0.s3_ss[r0++]*V[Z0];for(++Z0;Z0<=t0.s3ind_s[o0][1];)se+=t0.s3_ss[r0]*V[Z0],++r0,++Z0;{var P0=K*t0.nb_s1[n0][o0];_0[o0]=Math.min(se,P0)}if(t0.blocktype_old[n0&1]==t.SHORT_TYPE){var P0=b*t0.nb_s2[n0][o0],R0=_0[o0];_0[o0]=Math.min(P0,R0)}t0.nb_s2[n0][o0]=t0.nb_s1[n0][o0],t0.nb_s1[n0][o0]=se}for(;o0<=t.CBANDS;++o0)V[o0]=0,_0[o0]=0}function N(F,C,V,_0){var n0=F.internal_flags;F.short_blocks==l0.short_block_coupled&&!(C[0]!=0&&C[1]!=0)&&(C[0]=C[1]=0);for(var j=0;j<n0.channels_out;j++)_0[j]=t.NORM_TYPE,F.short_blocks==l0.short_block_dispensed&&(C[j]=1),F.short_blocks==l0.short_block_forced&&(C[j]=0),C[j]!=0?n0.blocktype_old[j]==t.SHORT_TYPE&&(_0[j]=t.STOP_TYPE):(_0[j]=t.SHORT_TYPE,n0.blocktype_old[j]==t.NORM_TYPE&&(n0.blocktype_old[j]=t.START_TYPE),n0.blocktype_old[j]==t.STOP_TYPE&&(n0.blocktype_old[j]=t.SHORT_TYPE)),V[j]=n0.blocktype_old[j],n0.blocktype_old[j]=_0[j]}function E(F,C,V){return V>=1?F:V<=0?C:C>0?Math.pow(F/C,V)*C:0}var O=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function q(F,C){for(var V=309.07,_0=0;_0<t.SBMAX_s-1;_0++)for(var n0=0;n0<3;n0++){var j=F.thm.s[_0][n0];if(j>0){var t0=j*C,r0=F.en.s[_0][n0];r0>t0&&(r0>t0*1e10?V+=O[_0]*(10*k):V+=O[_0]*Z.FAST_LOG10(r0/t0))}}return V}var Q=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function a0(F,C){for(var V=281.0575,_0=0;_0<t.SBMAX_l-1;_0++){var n0=F.thm.l[_0];if(n0>0){var j=n0*C,t0=F.en.l[_0];t0>j&&(t0>j*1e10?V+=Q[_0]*(10*k):V+=Q[_0]*Z.FAST_LOG10(t0/j))}}return V}function b0(F,C,V,_0,n0){var j,t0;for(j=t0=0;j<F.npart_l;++j){var r0=0,o0=0,y0;for(y0=0;y0<F.numlines_l[j];++y0,++t0){var v0=C[t0];r0+=v0,o0<v0&&(o0=v0)}V[j]=r0,_0[j]=o0,n0[j]=r0*F.rnumlines_l[j]}}function B0(F,C,V,_0){var n0=r.length-1,j=0,t0=V[j]+V[j+1];if(t0>0){var r0=C[j];r0<C[j+1]&&(r0=C[j+1]),t0=20*(r0*2-t0)/(t0*(F.numlines_l[j]+F.numlines_l[j+1]-1));var o0=0|t0;o0>n0&&(o0=n0),_0[j]=o0}else _0[j]=0;for(j=1;j<F.npart_l-1;j++)if(t0=V[j-1]+V[j]+V[j+1],t0>0){var r0=C[j-1];r0<C[j]&&(r0=C[j]),r0<C[j+1]&&(r0=C[j+1]),t0=20*(r0*3-t0)/(t0*(F.numlines_l[j-1]+F.numlines_l[j]+F.numlines_l[j+1]-1));var o0=0|t0;o0>n0&&(o0=n0),_0[j]=o0}else _0[j]=0;if(t0=V[j-1]+V[j],t0>0){var r0=C[j-1];r0<C[j]&&(r0=C[j]),t0=20*(r0*2-t0)/(t0*(F.numlines_l[j-1]+F.numlines_l[j]-1));var o0=0|t0;o0>n0&&(o0=n0),_0[j]=o0}else _0[j]=0}var M0=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(F,C,V,_0,n0,j,t0,r0,o0,y0){var v0=F.internal_flags,ee=d0([2,t.BLKSIZE]),X0=d0([2,3,t.BLKSIZE_s]),Z0=W(t.CBANDS+1),se=W(t.CBANDS+1),P0=W(t.CBANDS+2),R0=g(2),z0=g(2),he,m0,I0,w0,te,Ce,xe,j0,qe=d0([2,576]),Me,Le=g(t.CBANDS+2),De=g(t.CBANDS+2);for(D0.fill(De,0),he=v0.channels_out,F.mode==p0.JOINT_STEREO&&(he=4),F.VBR==G.vbr_off?Me=v0.ResvMax==0?0:v0.ResvSize/v0.ResvMax*.5:F.VBR==G.vbr_rh||F.VBR==G.vbr_mtrh||F.VBR==G.vbr_mt?Me=.6:Me=1,m0=0;m0<v0.channels_out;m0++){var Ve=C[m0],Fe=V+576-350-M+192;for(w0=0;w0<576;w0++){var ze,Ke;for(ze=Ve[Fe+w0+10],Ke=0,te=0;te<(M-1)/2-1;te+=2)ze+=M0[te]*(Ve[Fe+w0+te]+Ve[Fe+w0+M-te]),Ke+=M0[te+1]*(Ve[Fe+w0+te+1]+Ve[Fe+w0+M-te-1]);qe[m0][w0]=ze+Ke}n0[_0][m0].en.assign(v0.en[m0]),n0[_0][m0].thm.assign(v0.thm[m0]),he>2&&e0()}for(m0=0;m0<he;m0++){var r1,n1,we=W(12),ke=[0,0,0,0],Ze=W(12),s1=1,i1,l1=W(t.CBANDS),_1=W(t.CBANDS),oe=[0,0,0,0],o1=W(t.HBLKSIZE),v1=d0([3,t.HBLKSIZE_s]);for(w0=0;w0<3;w0++)we[w0]=v0.nsPsy.last_en_subshort[m0][w0+6],Ze[w0]=we[w0]/v0.nsPsy.last_en_subshort[m0][w0+4],ke[0]+=we[w0];m0==2&&e0();{var u1=qe[m0&1],Xe=0;for(w0=0;w0<9;w0++){for(var h1=Xe+64,be=1;Xe<h1;Xe++)be<Math.abs(u1[Xe])&&(be=Math.abs(u1[Xe]));v0.nsPsy.last_en_subshort[m0][w0]=we[w0+3]=be,ke[1+w0/3]+=be,be>we[w0+3-2]?be=be/we[w0+3-2]:we[w0+3-2]>be*10?be=we[w0+3-2]/(be*10):be=0,Ze[w0+3]=be}}for(F.analysis&&e0(),i1=m0==3?v0.nsPsy.attackthre_s:v0.nsPsy.attackthre,w0=0;w0<12;w0++)oe[w0/3]==0&&Ze[w0]>i1&&(oe[w0/3]=w0%3+1);for(w0=1;w0<4;w0++){var Qe;ke[w0-1]>ke[w0]?Qe=ke[w0-1]/ke[w0]:Qe=ke[w0]/ke[w0-1],Qe<1.7&&(oe[w0]=0,w0==1&&(oe[0]=0))}for(oe[0]!=0&&v0.nsPsy.lastAttacks[m0]!=0&&(oe[0]=0),(v0.nsPsy.lastAttacks[m0]==3||oe[0]+oe[1]+oe[2]+oe[3]!=0)&&(s1=0,oe[1]!=0&&oe[0]!=0&&(oe[1]=0),oe[2]!=0&&oe[1]!=0&&(oe[2]=0),oe[3]!=0&&oe[2]!=0&&(oe[3]=0)),m0<2?z0[m0]=s1:e0(),o0[m0]=v0.tot_ener[m0],n1=X0,r1=ee,h(F,o1,v1,r1,m0&1,n1,m0&1,_0,m0,C,V),b0(v0,o1,Z0,l1,_1),B0(v0,l1,_1,Le),j0=0;j0<3;j0++){var Je,pe;for(n(F,v1,se,P0,m0,j0),B(v0,se,P0,m0,j0),xe=0;xe<t.SBMAX_s;xe++){if(pe=v0.thm[m0].s[xe][j0],pe*=X,oe[j0]>=2||oe[j0+1]==1){var ge=j0!=0?j0-1:2,be=E(v0.thm[m0].s[xe][ge],pe,p*Me);pe=Math.min(pe,be)}if(oe[j0]==1){var ge=j0!=0?j0-1:2,be=E(v0.thm[m0].s[xe][ge],pe,U*Me);pe=Math.min(pe,be)}else if(j0!=0&&oe[j0-1]==3||j0==0&&v0.nsPsy.lastAttacks[m0]==3){var ge=j0!=2?j0+1:0,be=E(v0.thm[m0].s[xe][ge],pe,U*Me);pe=Math.min(pe,be)}Je=we[j0*3+3]+we[j0*3+4]+we[j0*3+5],we[j0*3+5]*6<Je&&(pe*=.5,we[j0*3+4]*6<Je&&(pe*=.5)),v0.thm[m0].s[xe][j0]=pe}}for(v0.nsPsy.lastAttacks[m0]=oe[2],Ce=0,I0=0;I0<v0.npart_l;I0++){for(var Ie=v0.s3ind[I0][0],$e=Z0[Ie]*r[Le[Ie]],He=v0.s3_ll[Ce++]*$e;++Ie<=v0.s3ind[I0][1];)$e=Z0[Ie]*r[Le[Ie]],He=m(He,v0.s3_ll[Ce++]*$e,Ie,Ie-I0,v0);He*=.158489319246111,v0.blocktype_old[m0&1]==t.SHORT_TYPE?P0[I0]=He:P0[I0]=E(Math.min(He,Math.min(H*v0.nb_1[m0][I0],S*v0.nb_2[m0][I0])),He,Me),v0.nb_2[m0][I0]=v0.nb_1[m0][I0],v0.nb_1[m0][I0]=He}for(;I0<=t.CBANDS;++I0)Z0[I0]=0,P0[I0]=0;a(v0,Z0,P0,m0)}for((F.mode==p0.STEREO||F.mode==p0.JOINT_STEREO)&&e0(),F.mode==p0.JOINT_STEREO&&e0(),N(F,z0,y0,R0),m0=0;m0<he;m0++){var Ge,je=0,f1,e1;m0>1?e0():(Ge=t0,je=0,f1=y0[m0],e1=n0[_0][m0]),f1==t.SHORT_TYPE?Ge[je+m0]=q(e1,v0.masking_lower):Ge[je+m0]=a0(e1,v0.masking_lower),F.analysis&&(v0.pinfo.pe[_0][m0]=Ge[je+m0])}return 0};function ie(F){var C,V,_0,n0;return C=F,C>=0?C*=3:C*=1.5,C>=.5&&C<=2.5?(n0=C-.5,V=8*(n0*n0-2*n0)):V=0,C+=.474,_0=15.811389+7.5*C-17.5*Math.sqrt(1+C*C),_0<=-60?0:(C=Math.exp((V+_0)*e),C/=.6609193,C)}function _e(F){return F<0&&(F=0),F=F*.001,13*Math.atan(.76*F)+3.5*Math.atan(F*F/(7.5*7.5))}function $0(F,C,V,_0,n0,j,t0,r0,o0,y0,v0,ee){var X0=W(t.CBANDS+1),Z0=r0/(ee>15?2*576:2*192),se=g(t.HBLKSIZE),P0;r0/=o0;var R0=0,z0=0;for(P0=0;P0<t.CBANDS;P0++){var he,m0;for(he=_e(r0*R0),X0[P0]=r0*R0,m0=R0;_e(r0*m0)-he<w&&m0<=o0/2;m0++);for(F[P0]=m0-R0,z0=P0+1;R0<m0;)se[R0++]=P0;if(R0>o0/2){R0=o0/2,++P0;break}}X0[P0]=r0*R0;for(var I0=0;I0<ee;I0++){var w0,te,Ce,xe,j0;Ce=y0[I0],xe=y0[I0+1],w0=0|Math.floor(.5+v0*(Ce-.5)),w0<0&&(w0=0),te=0|Math.floor(.5+v0*(xe-.5)),te>o0/2&&(te=o0/2),V[I0]=(se[w0]+se[te])/2,C[I0]=se[te];var qe=Z0*xe;t0[I0]=(qe-X0[C[I0]])/(X0[C[I0]+1]-X0[C[I0]]),t0[I0]<0?t0[I0]=0:t0[I0]>1&&(t0[I0]=1),j0=_e(r0*y0[I0]*v0),j0=Math.min(j0,15.5)/15.5,j[I0]=Math.pow(10,1.25*(1-Math.cos(Math.PI*j0))-2.5)}R0=0;for(var Me=0;Me<z0;Me++){var Le=F[Me],he,De;he=_e(r0*R0),De=_e(r0*(R0+Le-1)),_0[Me]=.5*(he+De),he=_e(r0*(R0-.5)),De=_e(r0*(R0+Le-.5)),n0[Me]=De-he,R0+=Le}return z0}function ne(F,C,V,_0,n0,j){var t0=d0([t.CBANDS,t.CBANDS]),r0,o0=0;if(j)for(var y0=0;y0<C;y0++)for(r0=0;r0<C;r0++){var v0=ie(V[y0]-V[r0])*_0[r0];t0[y0][r0]=v0*n0[y0]}else e0();for(var y0=0;y0<C;y0++){for(r0=0;r0<C&&!(t0[y0][r0]>0);r0++);for(F[y0][0]=r0,r0=C-1;r0>0&&!(t0[y0][r0]>0);r0--);F[y0][1]=r0,o0+=F[y0][1]-F[y0][0]+1}for(var ee=W(o0),X0=0,y0=0;y0<C;y0++)for(r0=F[y0][0];r0<=F[y0][1];r0++)ee[X0++]=t0[y0][r0];return ee}function fe(F){var C=_e(F);return C=Math.min(C,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*C))-2.5)}this.psymodel_init=function(F){var C=F.internal_flags,V,_0=!0,n0=13,j=24,t0=0,r0=0,o0=-8.25,y0=-4.5,v0=W(t.CBANDS),ee=W(t.CBANDS),X0=W(t.CBANDS),Z0=F.out_samplerate;switch(F.experimentalZ){default:case 0:_0=!0;break;case 1:_0=!(F.VBR==G.vbr_mtrh||F.VBR==G.vbr_mt);break;case 2:_0=!1;break;case 3:n0=8,t0=-1.75,r0=-.0125,o0=-8.25,y0=-2.25;break}for(C.ms_ener_ratio_old=.25,C.blocktype_old[0]=C.blocktype_old[1]=t.NORM_TYPE,V=0;V<4;++V){for(var R0=0;R0<t.CBANDS;++R0)C.nb_1[V][R0]=1e20,C.nb_2[V][R0]=1e20,C.nb_s1[V][R0]=C.nb_s2[V][R0]=1;for(var se=0;se<t.SBMAX_l;se++)C.en[V].l[se]=1e20,C.thm[V].l[se]=1e20;for(var R0=0;R0<3;++R0){for(var se=0;se<t.SBMAX_s;se++)C.en[V].s[se][R0]=1e20,C.thm[V].s[se][R0]=1e20;C.nsPsy.lastAttacks[V]=0}for(var R0=0;R0<9;R0++)C.nsPsy.last_en_subshort[V][R0]=10}for(C.loudness_sq_save[0]=C.loudness_sq_save[1]=0,C.npart_l=$0(C.numlines_l,C.bo_l,C.bm_l,v0,ee,C.mld_l,C.PSY.bo_l_weight,Z0,t.BLKSIZE,C.scalefac_band.l,t.BLKSIZE/(2*576),t.SBMAX_l),V=0;V<C.npart_l;V++){var P0=t0;v0[V]>=n0&&(P0=r0*(v0[V]-n0)/(j-n0)+t0*(j-v0[V])/(j-n0)),X0[V]=Math.pow(10,P0/10),C.numlines_l[V]>0?C.rnumlines_l[V]=1/C.numlines_l[V]:C.rnumlines_l[V]=0}C.s3_ll=ne(C.s3ind,C.npart_l,v0,ee,X0,_0);var R0=0;for(V=0;V<C.npart_l;V++){var z0;z0=T0.MAX_VALUE;for(var he=0;he<C.numlines_l[V];he++,R0++){var m0=Z0*R0/(1e3*t.BLKSIZE),I0;I0=this.ATHformula(m0*1e3,F)-20,I0=Math.pow(10,.1*I0),I0*=C.numlines_l[V],z0>I0&&(z0=I0)}C.ATH.cb_l[V]=z0,z0=-20+v0[V]*20/10,z0>6&&(z0=100),z0<-15&&(z0=-15),z0-=8,C.minval_l[V]=Math.pow(10,z0/10)*C.numlines_l[V]}for(C.npart_s=$0(C.numlines_s,C.bo_s,C.bm_s,v0,ee,C.mld_s,C.PSY.bo_s_weight,Z0,t.BLKSIZE_s,C.scalefac_band.s,t.BLKSIZE_s/(2*192),t.SBMAX_s),R0=0,V=0;V<C.npart_s;V++){var z0,P0=o0;v0[V]>=n0&&(P0=y0*(v0[V]-n0)/(j-n0)+o0*(j-v0[V])/(j-n0)),X0[V]=Math.pow(10,P0/10),z0=T0.MAX_VALUE;for(var he=0;he<C.numlines_s[V];he++,R0++){var m0=Z0*R0/(1e3*t.BLKSIZE_s),I0;I0=this.ATHformula(m0*1e3,F)-20,I0=Math.pow(10,.1*I0),I0*=C.numlines_s[V],z0>I0&&(z0=I0)}C.ATH.cb_s[V]=z0,z0=-7+v0[V]*7/12,v0[V]>12&&(z0*=1+Math.log(1+z0)*3.1),v0[V]<12&&(z0*=1+Math.log(1-z0)*2.3),z0<-15&&(z0=-15),z0-=8,C.minval_s[V]=Math.pow(10,z0/10)*C.numlines_s[V]}C.s3_ss=ne(C.s3ind_s,C.npart_s,v0,ee,X0,_0),L(),f.init_fft(C),C.decay=Math.exp(-1*k/(y*Z0/192));{var w0;w0=T,F.exp_nspsytune&2&&(w0=1),Math.abs(F.msfix)>0&&(w0=F.msfix),F.msfix=w0;for(var te=0;te<C.npart_l;te++)C.s3ind[te][1]>C.npart_l-1&&(C.s3ind[te][1]=C.npart_l-1)}var Ce=576*C.mode_gr/Z0;if(C.ATH.decay=Math.pow(10,-12/10*Ce),C.ATH.adjust=.01,C.ATH.adjustLimit=1,F.ATHtype!=-1){var m0,xe=F.out_samplerate/t.BLKSIZE,j0=0;for(m0=0,V=0;V<t.BLKSIZE/2;++V)m0+=xe,C.ATH.eql_w[V]=1/Math.pow(10,this.ATHformula(m0,F)/10),j0+=C.ATH.eql_w[V];for(j0=1/j0,V=t.BLKSIZE/2;--V>=0;)C.ATH.eql_w[V]*=j0}{for(var te=R0=0;te<C.npart_s;++te)for(V=0;V<C.numlines_s[te];++V)++R0;for(var te=R0=0;te<C.npart_l;++te)for(V=0;V<C.numlines_l[te];++V)++R0}for(R0=0,V=0;V<C.npart_l;V++){var m0=Z0*(R0+C.numlines_l[V]/2)/(1*t.BLKSIZE);C.mld_cb_l[V]=fe(m0),R0+=C.numlines_l[V]}for(;V<t.CBANDS;++V)C.mld_cb_l[V]=1;for(R0=0,V=0;V<C.npart_s;V++){var m0=Z0*(R0+C.numlines_s[V]/2)/(1*t.BLKSIZE_s);C.mld_cb_s[V]=fe(m0),R0+=C.numlines_s[V]}for(;V<t.CBANDS;++V)C.mld_cb_s[V]=1;return 0};function ye(F,C){F<-.3&&(F=3410),F/=1e3,F=Math.max(.1,F);var V=3.64*Math.pow(F,-.8)-6.8*Math.exp(-.6*Math.pow(F-3.4,2))+6*Math.exp(-.15*Math.pow(F-8.7,2))+(.6+.04*C)*.001*Math.pow(F,4);return V}this.ATHformula=function(F,C){var V;switch(C.ATHtype){case 0:V=ye(F,9);break;case 1:V=ye(F,-1);break;case 2:V=ye(F,0);break;case 3:V=ye(F,1)+6;break;case 4:V=ye(F,C.ATHcurve);break;default:V=ye(F,0);break}return V}}function i0(){var f=this,k=128*1024;i0.V9=410,i0.V8=420,i0.V7=430,i0.V6=440,i0.V5=450,i0.V4=460,i0.V3=470,i0.V2=480,i0.V1=490,i0.V0=500,i0.R3MIX=1e3,i0.STANDARD=1001,i0.EXTREME=1002,i0.INSANE=1003,i0.STANDARD_FAST=1004,i0.EXTREME_FAST=1005,i0.MEDIUM=1006,i0.MEDIUM_FAST=1007;var H=16384+k;i0.LAME_MAXMP3BUFFER=H;var S,K,b,w,Y,y=new h0,X,p;this.enc=new t,this.setModules=function(a,n,N,E,O,q,Q,a0,b0){S=a,K=n,b=N,w=E,Y=O,X=q,p=a0,this.enc.setModules(K,y,w,X)};function U(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=W(t.SBMAX_l),this.bo_s_weight=W(t.SBMAX_s)}function T(){this.lowerlimit=0}function M(a,n){this.lowpass=n}var e=4294479419;function i(a){var n;return a.class_id=e,n=a.internal_flags=new f0,a.mode=p0.NOT_SET,a.original=1,a.in_samplerate=44100,a.num_channels=2,a.num_samples=-1,a.bWriteVbrTag=!0,a.quality=-1,a.short_blocks=null,n.subblock_gain=-1,a.lowpassfreq=0,a.highpassfreq=0,a.lowpasswidth=-1,a.highpasswidth=-1,a.VBR=G.vbr_off,a.VBR_q=4,a.ATHcurve=-1,a.VBR_mean_bitrate_kbps=128,a.VBR_min_bitrate_kbps=0,a.VBR_max_bitrate_kbps=0,a.VBR_hard_min=0,n.VBR_min_bitrate=1,n.VBR_max_bitrate=13,a.quant_comp=-1,a.quant_comp_short=-1,a.msfix=-1,n.resample_ratio=1,n.OldValue[0]=180,n.OldValue[1]=180,n.CurrentStep[0]=4,n.CurrentStep[1]=4,n.masking_lower=1,n.nsPsy.attackthre=-1,n.nsPsy.attackthre_s=-1,a.scale=-1,a.athaa_type=-1,a.ATHtype=-1,a.athaa_loudapprox=-1,a.athaa_sensitivity=0,a.useTemporal=null,a.interChRatio=-1,n.mf_samples_to_encode=t.ENCDELAY+t.POSTDELAY,a.encoder_padding=0,n.mf_size=t.ENCDELAY-t.MDCTDELAY,a.findReplayGain=!1,a.decode_on_the_fly=!1,n.decode_on_the_fly=!1,n.findReplayGain=!1,n.findPeakSample=!1,n.RadioGain=0,n.AudiophileGain=0,n.noclipGainChange=0,n.noclipScale=-1,a.preset=0,a.write_id3tag_automatic=!0,0}this.lame_init=function(){var a=new ce;return i(a),a.lame_allocated_gfp=1,a};function h(a){return a>1?0:a<=0?1:Math.cos(Math.PI/2*a)}this.nearestBitrateFullIndex=function(a){var n=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],N=0,E=0,O=0,q=0;q=n[16],O=16,E=n[16],N=16;for(var Q=0;Q<16;Q++)if(Math.max(a,n[Q+1])!=a){q=n[Q+1],O=Q+1,E=n[Q],N=Q;break}return q-a>a-E?N:O};function R(a,n){switch(a){case 44100:return n.version=1,0;case 48e3:return n.version=1,1;case 32e3:return n.version=1,2;case 22050:return n.version=0,0;case 24e3:return n.version=0,1;case 16e3:return n.version=0,2;case 11025:return n.version=0,0;case 12e3:return n.version=0,1;case 8e3:return n.version=0,2;default:return n.version=0,-1}}function c(a,n,N){N<16e3&&(n=2);for(var E=D.bitrate_table[n][1],O=2;O<=14;O++)D.bitrate_table[n][O]>0&&Math.abs(D.bitrate_table[n][O]-a)<Math.abs(E-a)&&(E=D.bitrate_table[n][O]);return E}function l(a,n,N){N<16e3&&(n=2);for(var E=0;E<=14;E++)if(D.bitrate_table[n][E]>0&&D.bitrate_table[n][E]==a)return E;return-1}function v(a,n){var N=[new M(8,2e3),new M(16,3700),new M(24,3900),new M(32,5500),new M(40,7e3),new M(48,7500),new M(56,1e4),new M(64,11e3),new M(80,13500),new M(96,15100),new M(112,15600),new M(128,17e3),new M(160,17500),new M(192,18600),new M(224,19400),new M(256,19700),new M(320,20500)],E=f.nearestBitrateFullIndex(n);a.lowerlimit=N[E].lowpass}function s(a){var n=a.internal_flags,N=32;if(n.lowpass1>0){for(var E=999,O=0;O<=31;O++){var q=O/31;q>=n.lowpass2&&(N=Math.min(N,O)),n.lowpass1<q&&q<n.lowpass2&&(E=Math.min(E,O))}E==999?n.lowpass1=(N-.75)/31:n.lowpass1=(E-.75)/31,n.lowpass2=N/31}n.highpass2>0&&e0(),n.highpass2>0&&e0();for(var O=0;O<32;O++){var Q,a0,q=O/31;n.highpass2>n.highpass1?e0():Q=1,n.lowpass2>n.lowpass1?a0=h((q-n.lowpass1)/(n.lowpass2-n.lowpass1+1e-20)):a0=1,n.amp_filter[O]=Q*a0}}function d(a){var n=a.internal_flags;switch(a.quality){default:case 9:n.psymodel=0,n.noise_shaping=0,n.noise_shaping_amp=0,n.noise_shaping_stop=0,n.use_best_huffman=0,n.full_outer_loop=0;break;case 8:a.quality=7;case 7:n.psymodel=1,n.noise_shaping=0,n.noise_shaping_amp=0,n.noise_shaping_stop=0,n.use_best_huffman=0,n.full_outer_loop=0;break;case 6:n.psymodel=1,n.noise_shaping==0&&(n.noise_shaping=1),n.noise_shaping_amp=0,n.noise_shaping_stop=0,n.subblock_gain==-1&&(n.subblock_gain=1),n.use_best_huffman=0,n.full_outer_loop=0;break;case 5:n.psymodel=1,n.noise_shaping==0&&(n.noise_shaping=1),n.noise_shaping_amp=0,n.noise_shaping_stop=0,n.subblock_gain==-1&&(n.subblock_gain=1),n.use_best_huffman=0,n.full_outer_loop=0;break;case 4:n.psymodel=1,n.noise_shaping==0&&(n.noise_shaping=1),n.noise_shaping_amp=0,n.noise_shaping_stop=0,n.subblock_gain==-1&&(n.subblock_gain=1),n.use_best_huffman=1,n.full_outer_loop=0;break;case 3:n.psymodel=1,n.noise_shaping==0&&(n.noise_shaping=1),n.noise_shaping_amp=1,n.noise_shaping_stop=1,n.subblock_gain==-1&&(n.subblock_gain=1),n.use_best_huffman=1,n.full_outer_loop=0;break;case 2:n.psymodel=1,n.noise_shaping==0&&(n.noise_shaping=1),n.substep_shaping==0&&(n.substep_shaping=2),n.noise_shaping_amp=1,n.noise_shaping_stop=1,n.subblock_gain==-1&&(n.subblock_gain=1),n.use_best_huffman=1,n.full_outer_loop=0;break;case 1:n.psymodel=1,n.noise_shaping==0&&(n.noise_shaping=1),n.substep_shaping==0&&(n.substep_shaping=2),n.noise_shaping_amp=2,n.noise_shaping_stop=1,n.subblock_gain==-1&&(n.subblock_gain=1),n.use_best_huffman=1,n.full_outer_loop=0;break;case 0:n.psymodel=1,n.noise_shaping==0&&(n.noise_shaping=1),n.substep_shaping==0&&(n.substep_shaping=2),n.noise_shaping_amp=2,n.noise_shaping_stop=1,n.subblock_gain==-1&&(n.subblock_gain=1),n.use_best_huffman=1,n.full_outer_loop=0;break}}function r(a){var n=a.internal_flags;a.frameNum=0,a.write_id3tag_automatic&&p.id3tag_write_v2(a),n.bitrate_stereoMode_Hist=S0([16,5]),n.bitrate_blockType_Hist=S0([16,6]),n.PeakSample=0,a.bWriteVbrTag&&X.InitVbrTag(a)}this.lame_init_params=function(a){var n=a.internal_flags;if(n.Class_ID=0,n.ATH==null&&(n.ATH=new Ae),n.PSY==null&&(n.PSY=new U),n.rgdata==null&&(n.rgdata=new de),n.channels_in=a.num_channels,n.channels_in==1&&(a.mode=p0.MONO),n.channels_out=a.mode==p0.MONO?1:2,n.mode_ext=t.MPG_MD_MS_LR,a.mode==p0.MONO&&(a.force_ms=!1),a.VBR==G.vbr_off&&a.VBR_mean_bitrate_kbps!=128&&a.brate==0&&(a.brate=a.VBR_mean_bitrate_kbps),a.VBR==G.vbr_off||a.VBR==G.vbr_mtrh||a.VBR==G.vbr_mt||(a.free_format=!1),a.VBR==G.vbr_off&&a.brate==0&&e0(),a.VBR==G.vbr_off&&a.compression_ratio>0&&e0(),a.out_samplerate!=0&&(a.out_samplerate<16e3?(a.VBR_mean_bitrate_kbps=Math.max(a.VBR_mean_bitrate_kbps,8),a.VBR_mean_bitrate_kbps=Math.min(a.VBR_mean_bitrate_kbps,64)):a.out_samplerate<32e3?(a.VBR_mean_bitrate_kbps=Math.max(a.VBR_mean_bitrate_kbps,8),a.VBR_mean_bitrate_kbps=Math.min(a.VBR_mean_bitrate_kbps,160)):(a.VBR_mean_bitrate_kbps=Math.max(a.VBR_mean_bitrate_kbps,32),a.VBR_mean_bitrate_kbps=Math.min(a.VBR_mean_bitrate_kbps,320))),a.lowpassfreq==0){var N=16e3;switch(a.VBR){case G.vbr_off:{var E=new T;v(E,a.brate),N=E.lowerlimit;break}case G.vbr_abr:{var E=new T;v(E,a.VBR_mean_bitrate_kbps),N=E.lowerlimit;break}case G.vbr_rh:e0();default:e0()}a.mode==p0.MONO&&(a.VBR==G.vbr_off||a.VBR==G.vbr_abr)&&(N*=1.5),a.lowpassfreq=N|0}switch(a.out_samplerate==0&&e0(),a.lowpassfreq=Math.min(20500,a.lowpassfreq),a.lowpassfreq=Math.min(a.out_samplerate/2,a.lowpassfreq),a.VBR==G.vbr_off&&(a.compression_ratio=a.out_samplerate*16*n.channels_out/(1e3*a.brate)),a.VBR==G.vbr_abr&&e0(),a.bWriteVbrTag||(a.findReplayGain=!1,a.decode_on_the_fly=!1,n.findPeakSample=!1),n.findReplayGain=a.findReplayGain,n.decode_on_the_fly=a.decode_on_the_fly,n.decode_on_the_fly&&(n.findPeakSample=!0),n.findReplayGain&&e0(),n.decode_on_the_fly&&!a.decode_only&&e0(),n.mode_gr=a.out_samplerate<=24e3?1:2,a.framesize=576*n.mode_gr,a.encoder_delay=t.ENCDELAY,n.resample_ratio=a.in_samplerate/a.out_samplerate,a.VBR){case G.vbr_mt:case G.vbr_rh:case G.vbr_mtrh:{var O=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];a.compression_ratio=O[a.VBR_q]}break;case G.vbr_abr:a.compression_ratio=a.out_samplerate*16*n.channels_out/(1e3*a.VBR_mean_bitrate_kbps);break;default:a.compression_ratio=a.out_samplerate*16*n.channels_out/(1e3*a.brate);break}a.mode==p0.NOT_SET&&(a.mode=p0.JOINT_STEREO),a.highpassfreq>0?e0():(n.highpass1=0,n.highpass2=0),a.lowpassfreq>0?(n.lowpass2=2*a.lowpassfreq,a.lowpasswidth>=0?e0():n.lowpass1=1*2*a.lowpassfreq,n.lowpass1/=a.out_samplerate,n.lowpass2/=a.out_samplerate):e0(),s(a),n.samplerate_index=R(a.out_samplerate,a),n.samplerate_index<0&&e0(),a.VBR==G.vbr_off?a.free_format?n.bitrate_index=0:(a.brate=c(a.brate,a.version,a.out_samplerate),n.bitrate_index=l(a.brate,a.version,a.out_samplerate),n.bitrate_index<=0&&e0()):n.bitrate_index=1,a.analysis&&(a.bWriteVbrTag=!1),n.pinfo!=null&&(a.bWriteVbrTag=!1),K.init_bit_stream_w(n);for(var q=n.samplerate_index+3*a.version+6*(a.out_samplerate<16e3?1:0),Q=0;Q<t.SBMAX_l+1;Q++)n.scalefac_band.l[Q]=w.sfBandIndex[q].l[Q];for(var Q=0;Q<t.PSFB21+1;Q++){var a0=(n.scalefac_band.l[22]-n.scalefac_band.l[21])/t.PSFB21,b0=n.scalefac_band.l[21]+Q*a0;n.scalefac_band.psfb21[Q]=b0}n.scalefac_band.psfb21[t.PSFB21]=576;for(var Q=0;Q<t.SBMAX_s+1;Q++)n.scalefac_band.s[Q]=w.sfBandIndex[q].s[Q];for(var Q=0;Q<t.PSFB12+1;Q++){var a0=(n.scalefac_band.s[13]-n.scalefac_band.s[12])/t.PSFB12,b0=n.scalefac_band.s[12]+Q*a0;n.scalefac_band.psfb12[Q]=b0}n.scalefac_band.psfb12[t.PSFB12]=192,a.version==1?n.sideinfo_len=n.channels_out==1?21:36:n.sideinfo_len=n.channels_out==1?13:21,a.error_protection&&(n.sideinfo_len+=2),r(a),n.Class_ID=e;{var B0;for(B0=0;B0<19;B0++)n.nsPsy.pefirbuf[B0]=700*n.mode_gr*n.channels_out;a.ATHtype==-1&&(a.ATHtype=4)}switch(a.VBR){case G.vbr_mt:a.VBR=G.vbr_mtrh;case G.vbr_mtrh:{a.useTemporal==null&&(a.useTemporal=!1),b.apply_preset(a,500-a.VBR_q*10,0),a.quality<0&&(a.quality=LAME_DEFAULT_QUALITY),a.quality<5&&(a.quality=0),a.quality>5&&(a.quality=5),n.PSY.mask_adjust=a.maskingadjust,n.PSY.mask_adjust_short=a.maskingadjust_short,a.experimentalY?n.sfb21_extra=!1:n.sfb21_extra=a.out_samplerate>44e3,n.iteration_loop=new VBRNewIterationLoop(Y);break}case G.vbr_rh:{b.apply_preset(a,500-a.VBR_q*10,0),n.PSY.mask_adjust=a.maskingadjust,n.PSY.mask_adjust_short=a.maskingadjust_short,a.experimentalY?n.sfb21_extra=!1:n.sfb21_extra=a.out_samplerate>44e3,a.quality>6&&(a.quality=6),a.quality<0&&(a.quality=LAME_DEFAULT_QUALITY),n.iteration_loop=new VBROldIterationLoop(Y);break}default:{var M0;n.sfb21_extra=!1,a.quality<0&&(a.quality=LAME_DEFAULT_QUALITY),M0=a.VBR,M0==G.vbr_off&&(a.VBR_mean_bitrate_kbps=a.brate),b.apply_preset(a,a.VBR_mean_bitrate_kbps,0),a.VBR=M0,n.PSY.mask_adjust=a.maskingadjust,n.PSY.mask_adjust_short=a.maskingadjust_short,M0==G.vbr_off?n.iteration_loop=new Re(Y):e0();break}}return a.VBR!=G.vbr_off&&e0(),a.tune&&e0(),d(a),a.athaa_type<0?n.ATH.useAdjust=3:n.ATH.useAdjust=a.athaa_type,n.ATH.aaSensitivityP=Math.pow(10,a.athaa_sensitivity/-10),a.short_blocks==null&&(a.short_blocks=l0.short_block_allowed),a.short_blocks==l0.short_block_allowed&&(a.mode==p0.JOINT_STEREO||a.mode==p0.STEREO)&&(a.short_blocks=l0.short_block_coupled),a.quant_comp<0&&(a.quant_comp=1),a.quant_comp_short<0&&(a.quant_comp_short=0),a.msfix<0&&(a.msfix=0),a.exp_nspsytune=a.exp_nspsytune|1,a.internal_flags.nsPsy.attackthre<0&&(a.internal_flags.nsPsy.attackthre=h0.NSATTACKTHRE),a.internal_flags.nsPsy.attackthre_s<0&&(a.internal_flags.nsPsy.attackthre_s=h0.NSATTACKTHRE_S),a.scale<0&&(a.scale=1),a.ATHtype<0&&(a.ATHtype=4),a.ATHcurve<0&&(a.ATHcurve=4),a.athaa_loudapprox<0&&(a.athaa_loudapprox=2),a.interChRatio<0&&(a.interChRatio=0),a.useTemporal==null&&(a.useTemporal=!0),n.slot_lag=n.frac_SpF=0,a.VBR==G.vbr_off&&(n.slot_lag=n.frac_SpF=(a.version+1)*72e3*a.brate%a.out_samplerate|0),w.iteration_init(a),y.psymodel_init(a),0};function L(a,n){(a.in_buffer_0==null||a.in_buffer_nsamples<n)&&(a.in_buffer_0=W(n),a.in_buffer_1=W(n),a.in_buffer_nsamples=n)}this.lame_encode_flush=function(a,n,N,E){var O=a.internal_flags,q=Y0([2,1152]),Q=0,a0,b0,B0,M0,ie=O.mf_samples_to_encode-t.POSTDELAY,_e=_(a);if(O.mf_samples_to_encode<1)return 0;for(a0=0,a.in_samplerate!=a.out_samplerate&&e0(),B0=a.framesize-ie%a.framesize,B0<576&&(B0+=a.framesize),a.encoder_padding=B0,M0=(ie+B0)/a.framesize;M0>0&&Q>=0;){var $0=_e-O.mf_size,ne=a.frameNum;$0*=a.in_samplerate,$0/=a.out_samplerate,$0>1152&&($0=1152),$0<1&&($0=1),b0=E-a0,E==0&&(b0=0),Q=this.lame_encode_buffer(a,q[0],q[1],$0,n,N,b0),N+=Q,a0+=Q,M0-=ne!=a.frameNum?1:0}return O.mf_samples_to_encode=0,Q<0||(b0=E-a0,E==0&&(b0=0),K.flush_bitstream(a),Q=K.copy_buffer(O,n,N,b0,1),Q<0)?Q:(N+=Q,a0+=Q,b0=E-a0,E==0&&(b0=0),a.write_id3tag_automatic&&e0(),a0)},this.lame_encode_buffer=function(a,n,N,E,O,q,Q){var a0=a.internal_flags,b0=[null,null];if(a0.Class_ID!=e)return-3;if(E==0)return 0;L(a0,E),b0[0]=a0.in_buffer_0,b0[1]=a0.in_buffer_1;for(var B0=0;B0<E;B0++)b0[0][B0]=n[B0],a0.channels_in>1&&(b0[1][B0]=N[B0]);return o(a,b0[0],b0[1],E,O,q,Q)};function _(a){var n=t.BLKSIZE+a.framesize-t.FFTOFFSET;return n=Math.max(n,512+a.framesize-32),n}function o(a,n,N,E,O,q,Q){var a0=a.internal_flags,b0=0,B0,M0,ie,_e,$0,ne=[null,null],fe=[null,null];if(a0.Class_ID!=e)return-3;if(E==0)return 0;if($0=K.copy_buffer(a0,O,q,Q,0),$0<0)return $0;if(q+=$0,b0+=$0,fe[0]=n,fe[1]=N,F0.NEQ(a.scale,0)&&F0.NEQ(a.scale,1))for(M0=0;M0<E;++M0)fe[0][M0]*=a.scale,a0.channels_out==2&&(fe[1][M0]*=a.scale);if(F0.NEQ(a.scale_left,0)&&F0.NEQ(a.scale_left,1))for(M0=0;M0<E;++M0)fe[0][M0]*=a.scale_left;if(F0.NEQ(a.scale_right,0)&&F0.NEQ(a.scale_right,1))for(M0=0;M0<E;++M0)fe[1][M0]*=a.scale_right;a.num_channels==2&&a0.channels_out==1&&e0(),_e=_(a),ne[0]=a0.mfbuf[0],ne[1]=a0.mfbuf[1];for(var ye=0;E>0;){var F=[null,null],C=0,V=0;F[0]=fe[0],F[1]=fe[1];var _0=new m;if(B(a,ne,F,ye,E,_0),C=_0.n_in,V=_0.n_out,a0.findReplayGain&&!a0.decode_on_the_fly&&S.AnalyzeSamples(a0.rgdata,ne[0],a0.mf_size,ne[1],a0.mf_size,V,a0.channels_out)==H0.GAIN_ANALYSIS_ERROR)return-6;if(E-=C,ye+=C,a0.channels_out==2,a0.mf_size+=V,a0.mf_samples_to_encode<1&&e0(),a0.mf_samples_to_encode+=V,a0.mf_size>=_e){var n0=Q-b0;if(Q==0&&(n0=0),B0=u(a,ne[0],ne[1],O,q,n0),B0<0)return B0;for(q+=B0,b0+=B0,a0.mf_size-=a.framesize,a0.mf_samples_to_encode-=a.framesize,ie=0;ie<a0.channels_out;ie++)for(M0=0;M0<a0.mf_size;M0++)ne[ie][M0]=ne[ie][M0+a.framesize]}}return b0}function u(a,n,N,E,O,q){var Q=f.enc.lame_encode_mp3_frame(a,n,N,E,O,q);return a.frameNum++,Q}function m(){this.n_in=0,this.n_out=0}function B(a,n,N,E,O,q){var Q=a.internal_flags;if(Q.resample_ratio<.9999||Q.resample_ratio>1.0001)e0();else{q.n_out=Math.min(a.framesize,O),q.n_in=q.n_out;for(var a0=0;a0<q.n_out;++a0)n[0][Q.mf_size+a0]=N[0][E+a0],Q.channels_out==2&&(n[1][Q.mf_size+a0]=N[1][E+a0])}}}function J0(){this.setModules=function(f,k){}}function C0(){this.setModules=function(f,k,H){}}function N0(){}function x0(){this.setModules=function(f,k){}}function q0(f,k,H){f!=1&&e0("fix cc: only supports mono");var S=new i0,K=new J0,b=new H0,w=new F0,Y=new re,y=new K0,X=new Ue,p=new ae,U=new L0,T=new x0,M=new U0,e=new O0,i=new C0,h=new N0;S.setModules(b,w,Y,y,X,p,U,T,h),w.setModules(b,h,U,p),T.setModules(w,U),Y.setModules(S),X.setModules(w,M,y,e),y.setModules(e,M,S.enc.psy),M.setModules(w),e.setModules(y),p.setModules(S,w,U),K.setModules(i,h),i.setModules(U,T,Y);var R=S.lame_init();R.num_channels=f,R.in_samplerate=k,R.out_samplerate=k,R.brate=H,R.mode=p0.STEREO,R.quality=3,R.bWriteVbrTag=!1,R.disable_reservoir=!0,R.write_id3tag_automatic=!1,S.lame_init_params(R);var c=1152,l=0|1.25*c+7200,v=W0(l);this.encodeBuffer=function(s,d){f==1&&(d=s),s.length>c&&(c=s.length,l=0|1.25*c+7200,v=W0(l));var r=S.lame_encode_buffer(R,s,d,s.length,v,0,l);return new Int8Array(v.subarray(0,r))},this.flush=function(){var s=S.lame_encode_flush(R,v,0,l);return new Int8Array(v.subarray(0,s))}}s0.SFBMAX=t.SBMAX_s*3,ue.Mp3Encoder=q0}ue(),g0.lamejs=ue});(function(g0){var ue=typeof window=="object"&&!!window.document,G0=ue?window:Object,e0=G0.Recorder,W0=e0.i18n;g0(e0,W0,W0.$T,ue)})(function(g0,ue,G0,e0){var W0=function(W){return new g(W)},me="WaveView",g=function(W){var k0=this,d0={scale:2,speed:9,phase:21.8,fps:20,keep:!0,lineWidth:3,linear1:[0,"rgba(150,96,238,1)",.2,"rgba(170,79,249,1)",1,"rgba(53,199,253,1)"],linear2:[0,"rgba(209,130,255,0.6)",1,"rgba(53,199,255,0.6)"],linearBg:[0,"rgba(255,255,255,0.2)",1,"rgba(54,197,252,0.2)"]};for(var S0 in W)d0[S0]=W[S0];k0.set=W=d0;var Y0="compatibleCanvas";if(W[Y0])var A0=k0.canvas=W[Y0];else{if(!e0)throw new Error(G0.G("NonBrowser-1",[me]));var D0=W.elem;D0&&(typeof D0=="string"?D0=document.querySelector(D0):D0.length&&(D0=D0[0])),D0&&(W.width=D0.offsetWidth,W.height=D0.offsetHeight);var z=k0.elem=document.createElement("div");z.style.fontSize=0,z.innerHTML='<canvas style="width:100%;height:100%;"/>';var A0=k0.canvas=z.querySelector("canvas");D0&&(D0.innerHTML="",D0.appendChild(z))}var Z=W.scale,l0=W.width*Z,T0=W.height*Z;if(!l0||!T0)throw new Error(G0.G("IllegalArgs-1",[me+" width=0 height=0"]));A0.width=l0,A0.height=T0;var G=k0.ctx=A0.getContext("2d");k0.linear1=k0.genLinear(G,l0,W.linear1),k0.linear2=k0.genLinear(G,l0,W.linear2),k0.linearBg=k0.genLinear(G,T0,W.linearBg,!0),k0._phase=0};g.prototype=W0.prototype={genLinear:function(W,k0,d0,S0){for(var Y0=W.createLinearGradient(0,0,S0?0:k0,S0?k0:0),A0=0;A0<d0.length;)Y0.addColorStop(d0[A0++],d0[A0++]);return Y0},genPath:function(W,k0,d0){for(var S0=[],Y0=this,A0=Y0.set,D0=A0.scale,z=A0.width*D0,Z=A0.height*D0/2,l0=0;l0<=z;l0+=D0){var T0=(1+Math.cos(Math.PI+l0/z*2*Math.PI))/2,G=T0*Z*k0*Math.sin(2*Math.PI*(l0/z)*W+d0)+Z;S0.push(G)}return S0},input:function(W,k0,d0){var S0=this;S0.sampleRate=d0,S0.pcmData=W,S0.pcmPos=0,S0.inputTime=Date.now(),S0.schedule()},schedule:function(){var W=this,k0=W.set,d0=Math.floor(1e3/k0.fps);W.timer||(W.timer=setInterval(function(){W.schedule()},d0));var S0=Date.now(),Y0=W.drawTime||0;if(!(S0-Y0<d0)){W.drawTime=S0;for(var A0=W.sampleRate/k0.fps,D0=W.pcmData,z=W.pcmPos,Z=Math.max(0,Math.min(A0,D0.length-z)),l0=0,T0=0;T0<Z;T0++,z++)l0+=Math.abs(D0[z]);W.pcmPos=z,(Z||!k0.keep)&&W.draw(g0.PowerLevel(l0,Z)),!Z&&S0-W.inputTime>1300&&(clearInterval(W.timer),W.timer=0)}},draw:function(W){var k0=this,d0=k0.set,S0=k0.ctx,Y0=d0.scale,A0=d0.width*Y0,D0=d0.height*Y0,z=d0.speed/d0.fps,Z=k0._phase-=z,l0=Z+z*d0.phase,T0=W/100,G=k0.genPath(2,T0,Z),p0=k0.genPath(1.8,T0,l0);S0.clearRect(0,0,A0,D0),S0.beginPath();for(var L0=0,O0=0;O0<=A0;L0++,O0+=Y0)O0==0?S0.moveTo(O0,G[L0]):S0.lineTo(O0,G[L0]);L0--;for(var O0=A0-1;O0>=0;L0--,O0-=Y0)S0.lineTo(O0,p0[L0]);S0.closePath(),S0.fillStyle=k0.linearBg,S0.fill(),k0.drawPath(p0,k0.linear2),k0.drawPath(G,k0.linear1)},drawPath:function(W,k0){var d0=this,S0=d0.set,Y0=d0.ctx,A0=S0.scale,D0=S0.width*A0;Y0.beginPath();for(var z=0,Z=0;Z<=D0;z++,Z+=A0)Z==0?Y0.moveTo(Z,W[z]):Y0.lineTo(Z,W[z]);Y0.lineWidth=S0.lineWidth*A0,Y0.strokeStyle=k0,Y0.stroke()}},g0[me]=W0});const g1={class:"w-full h-full overflow-hidden flex flex-col gap-4"},P1={class:"flex-1 w-full overflow-auto"},Y1={key:0,class:"text-xs text-left"},U1={class:"flex items-center w-full gap-2"},q1={class:"w-20 shrink-0"},G1={class:"flex-1"},j1={class:"flex items-center cursor-pointer gap-2"},W1=b1({__name:"SpeechGenerate",setup(g0){const ue=d1(),G0=Oe(!1),e0=Oe([]),W0=x1({prompt:"",voiceUrl:""}),me=Oe(""),g=Oe(null),W=Oe(),k0=Oe(!1),d0=()=>{g.value=X1({type:"mp3",sampleRate:16e3,bitRate:16}),g.value.open(()=>{console.log("录音已打开"),g.value.start(),k0.value=!0,console.log("已开始录音")},(Z,l0)=>{console.log((l0?"UserNotAllow，":"")+"无法录音:"+Z)})},S0=()=>{if(!g.value){console.error("未打开录音");return}g.value.stop((Z,l0)=>{k0.value=!1,W.value=Z;var T0=(window.URL||webkitURL).createObjectURL(Z);console.log("录音成功",Z,T0,"时长:"+l0+"ms"),g.value.close(),g.value=null},Z=>{console.error("结束录音出错："+Z),g.value.close(),g.value=null})},Y0=()=>{var Z=URL.createObjectURL(W.value),l0=document.createElement("audio");l0.controls=!0,document.body.appendChild(l0),l0.src=Z,l0.play(),setTimeout(function(){URL.revokeObjectURL(l0.src)},5e3)},A0=()=>{if(!me.value){We.error("请先填写音色名称");return}We.info("前端模式下暂不支持音色克隆功能")},D0=()=>{if(!W0.prompt){We.error("请输入文字描述");return}We.info("前端模式下暂不支持AI语音生成功能")},z=()=>{e0.value=[{voiceName:"默认音色1",voiceUrl:"default1"},{voiceName:"默认音色2",voiceUrl:"default2"}],e0.value.push({voiceName:"自定义",voiceUrl:"custom"}),W0.voiceUrl=e0.value[0].voiceUrl};return p1(()=>{z()}),(Z,l0)=>{const T0=A1("ResourceList"),G=V1,p0=N1,L0=T1,O0=C1,H0=B1,re=k1,U0=L1,ae=R1,F0=I1,u0=H1,D=D1,le=E1;return Be(),Ne("div",g1,[Pe("div",P1,[Se(T0,{"list-data":S1(ue).speechList,type:"speech"},null,8,["list-data"])]),W0.voiceUrl==="custom"?(Be(),Ne("div",Y1," 朗读内容：清晨的阳光透过窗帘洒在桌上，温暖而明亮 ")):a1("",!0),M1((Be(),Ne("div",U1,[Pe("div",q1,[Se(p0,{modelValue:W0.voiceUrl,"onUpdate:modelValue":l0[0]||(l0[0]=E0=>W0.voiceUrl=E0),placeholder:"音色"},{default:Ee(()=>[(Be(!0),Ne(t1,null,y1(e0.value,(E0,V0)=>(Be(),Ye(G,{key:V0,value:E0.voiceUrl,label:E0.voiceName},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),W0.voiceUrl!=="custom"?(Be(),Ne(t1,{key:0},[Pe("div",G1,[Se(L0,{modelValue:W0.prompt,"onUpdate:modelValue":l0[1]||(l0[1]=E0=>W0.prompt=E0),placeholder:"请输入提示词",onKeyup:w1(D0,["enter"])},null,8,["modelValue"])]),Pe("div",null,[Se(H0,{class:"dark:bg-purple-heavy",circle:"",onClick:D0},{default:Ee(()=>[Se(O0)]),_:1})])],64)):(Be(),Ne(t1,{key:1},[Se(L0,{modelValue:me.value,"onUpdate:modelValue":l0[2]||(l0[2]=E0=>me.value=E0),placeholder:"请输入音色名称"},null,8,["modelValue"]),Pe("div",j1,[k0.value?(Be(),Ye(ae,{key:1,content:"停止录音"},{default:Ee(()=>[Se(U0,{size:"18",onClick:S0},{default:Ee(()=>[Se(F0)]),_:1})]),_:1})):(Be(),Ye(ae,{key:0,content:"开始/重新录音"},{default:Ee(()=>[Se(U0,{size:"18",onClick:d0},{default:Ee(()=>[Se(re)]),_:1})]),_:1})),W.value?(Be(),Ye(ae,{key:2,content:"试听录音"},{default:Ee(()=>[Se(U0,{size:"18",onClick:Y0},{default:Ee(()=>[Se(u0)]),_:1})]),_:1})):a1("",!0),W.value?(Be(),Ye(ae,{key:3,content:"克隆录音"},{default:Ee(()=>[Se(H0,{type:"primary",circle:"",onClick:A0},{default:Ee(()=>[Se(D)]),_:1})]),_:1})):a1("",!0)])],64))])),[[le,G0.value]])])}}}),ea=O1(W1,[["__scopeId","data-v-b1e26e3c"]]);export{ea as default};
