import{c as m}from"./index-D1slywUk.js";m();var L=async(a,e={})=>{Array.isArray(e)&&(e=e[0]);let t=document.createElement("a"),n=a;"body"in a&&(n=await async function(i,u){let o=i.getReader(),d=new ReadableStream({start:l=>async function f(){return o.read().then(({done:b,value:p})=>{if(!b)return l.enqueue(p),f();l.close()})}()}),s=new Response(d),y=await s.blob();return o.releaseLock(),new Blob([y],{type:u})}(a.body,a.headers.get("content-type"))),t.download=e.fileName||"Untitled",t.href=URL.createObjectURL(await n);let c=()=>{typeof r=="function"&&r()},r=e.legacySetup&&e.legacySetup(c,()=>r(reject),t);return t.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(t.href),3e4),c()}),t.click(),null};export{L as default};
