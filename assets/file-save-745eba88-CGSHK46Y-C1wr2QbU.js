import{an as m}from"./index-DnwN-RZ1.js";m();var y=async(e,a=[{}],n=null,o=!1,s=null)=>{Array.isArray(a)||(a=[a]),a[0].fileName=a[0].fileName||"Untitled";let r=[],i=null;if(e instanceof Blob&&e.type?i=e.type:e.headers&&e.headers.get("content-type")&&(i=e.headers.get("content-type")),a.forEach((t,l)=>{r[l]={description:t.description||"",accept:{}},t.mimeTypes?(l===0&&i&&t.mimeTypes.push(i),t.mimeTypes.map(d=>{r[l].accept[d]=t.extensions||[]})):i&&(r[l].accept[i]=t.extensions||[])}),n)try{await n.getFile()}catch(t){if(n=null,o)throw t}let c=n||await window.showSaveFilePicker({suggestedName:a[0].fileName,id:a[0].id,startIn:a[0].startIn,types:r,excludeAcceptAllOption:a[0].excludeAcceptAllOption||!1});!n&&s&&s();let p=await c.createWritable();return"stream"in e?(await e.stream().pipeTo(p),c):"body"in e?(await e.body.pipeTo(p),c):(await p.write(await e),await p.close(),c)};export{y as default};
