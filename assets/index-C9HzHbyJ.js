const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./subset-worker.chunk-MYCAJIOT-DP3STKsy.js","./subset-shared.chunk-KSDZU3XJ-ljQCRELB.js","./index-AF1nDr5F.js","./MaterialContainer.vue_vue_type_script_setup_true_lang-B4KVfqyR.js","./el-divider-CuQzyDgr.js","./el-divider-BUtF_RGI.css","./MaterialList.vue_vue_type_script_setup_true_lang-DXwAL-r8.js","./el-image-viewer-CtlOkK0q.js","./position-DWX10pAW.js","./el-image-viewer-YV5GYAD5.css","./el-loading-C5IeuJ3V.css","./TemplateContainer.vue_vue_type_script_setup_true_lang-C2gzpDPg.js","./constant-DzChqTSo.js","./MaskRedraw.vue_vue_type_script_setup_true_lang-CxtjFguS.js","./el-input-number-Hl8y28gj.js","./el-input-number-CKtN3jvN.css","./el-tooltip-l0sNRNKZ.js","./hotkeys.esm-BfWqkGRU.js","./ExtendDraw.vue_vue_type_script_setup_true_lang-HlrHTK_C.js","./StyleRedraw.vue_vue_type_script_setup_true_lang-e-GCmmRJ.js","./index-BilkadC_.css","./MaterialContainer-CGJWXT6G.js","./MaterialList-BfQRoQXC.js","./TemplateContainer-BupG4NfX.js","./ExtendDraw-BkY1qEqi.js","./MaskRedraw-kEIqy3Gh.js","./StyleRedraw-2vBLwGqt.js","./index-XNYtUscr.js","./AttributeContainer.vue_vue_type_script_setup_true_lang-BB80beAx.js","./el-empty-Bs4r2tUC.js","./el-empty-D4ZqTl4F.css","./VideoAttr.vue_vue_type_script_setup_true_lang-QDgSo2wh.js","./el-tag-D8DtC0Fq.js","./el-tag-DljBBxJR.css","./AttrCol.vue_vue_type_script_setup_true_lang-C36UuEIu.js","./ImageAttr.vue_vue_type_script_setup_true_lang-Cqmlu5oP.js","./AudioAttr-BVjG0cE-.js","./index-CV9thRvz.js","./AudioAttr-DLj949z6.css","./CanvasPlayer.vue_vue_type_script_setup_true_lang-DZmGsNlb.js","./Player.vue_vue_type_script_setup_true_lang-CF1uWlBX.js","./PlayerMoveable.vue_vue_type_style_index_0_lang-D9R-RBpv.js","./PlayerMoveable-ZsQznbI2.css","./PlayerControl.vue_vue_type_script_setup_true_lang-IJcLVU8F.js","./TrackContainer.vue_vue_type_script_setup_true_lang-B8pAiSnV.js","./TrackControl.vue_vue_type_script_setup_true_lang-WzW7_0Qc.js","./TrackList.vue_vue_type_script_setup_true_lang-Ccs5FLxz.js","./TimeLine.vue_vue_type_script_setup_true_lang-DS2rOdOD.js","./canvasUtil-Buwp7mdT.js","./TrackLine-CjPZIphZ.js","./TrackItem.vue_vue_type_script_setup_true_lang-DIcJD9gc.js","./TrackHandler.vue_vue_type_script_setup_true_lang-Bq-AEKrU.js","./VideoItem.vue_vue_type_style_index_0_scope_true_lang-rO3gBfZl.js","./Loading-BYHt-F-H.js","./Loading-7eES52DA.css","./VideoItem-DYW77Bdf.css","./AudioItem.vue_vue_type_script_setup_true_lang-CJv2C2OC.js","./TextItem.vue_vue_type_script_setup_true_lang-DZl5tCxj.js","./ImageItem.vue_vue_type_script_setup_true_lang-DVckZNa2.js","./TrackLine-DrNsP5P4.css","./TrackListIcon.vue_vue_type_script_setup_true_lang-DCHJlcJ6.js","./TrackPlayPoint-B2TfzNYF.js","./TrackPlayPoint-CX8CRIVb.css","./GenerateContainer.vue_vue_type_script_setup_true_lang-DCf_HnBj.js","./menu-C8lNEgsb.js","./TextGenerate-CaK5UptE.js","./index-NT0ps5Vv.js","./TextGenerate-Dd2nL2cS.css","./ImageGenerate-BeQkmQCr.js","./ResourceList.vue_vue_type_script_setup_true_lang-Bgx40Ufe.js","./ResourceItem.vue_vue_type_script_setup_true_lang-Cu2Li4U2.js","./el-popover-ClIMayzq.js","./el-popover-Cktl5fHm.css","./ImageGenerate-BSRXJrME.css","./AudioGenerate-C0UvpSPb.js","./AudioGenerate-9Y5Tv0HQ.css","./VideoGenerate-Dr5j74Zb.js","./VideoGenerate-CELP_KRV.css","./SpeechGenerate-CRoyy09n.js","./SpeechGenerate-9sv3-qJp.css","./UploadContainer-BcNvE2dM.js","./UploadContainer-CcxyIW7N.css","./AttributeContainer-M89MXrUH.js","./ColorPicker-CiKZV0HU.js","./ColorPicker.vue_vue_type_script_setup_true_lang-CuqsZtUo.js","./AttrCol-C7y66lFt.js","./ImageAttr-B5i1hLye.js","./TextAttr--v1Evz1-.js","./VideoAttr-DB645CAh.js","./GenerateContainer-BkcvO_ye.js","./CanvasPlayer-DANoIK6t.js","./PlayerControl-CLENTDsx.js","./PlayerMoveable-laNzQHk8.js","./Player-CyJbv_5b.js","./ResourceItem-KIo1pikX.js","./ResourceList-DJ6NpmmP.js","./TimeLine-CtjtU8qC.js","./TrackControl-D0vHLqrj.js","./TrackHandler-BgSgvaxI.js","./TrackItem-T5tYuJkC.js","./TrackListIcon-w78_5-Ht.js","./AudioItem-CI6qdacs.js","./ImageItem-gVqtKsnq.js","./TextItem-D8l17Nk2.js","./VideoItem-CdayuX-n.js","./TrackContainer-BP9AkRyS.js","./TrackList-BonZGygG.js","./index-Cw6KZSJB.js","./NewProject.vue_vue_type_script_setup_true_lang-B1HbiW10.js","./ProjectList.vue_vue_type_script_setup_true_lang-LdFJMFxz.js","./UpdateProject.vue_vue_type_script_setup_true_lang-D-EeKeWt.js","./index-CU877S9W.css","./NewProject-BJpBtFZ3.js","./ProjectList-bPkb4Q15.js","./UpdateProject-C749viyx.js"])))=>i.map(i=>d[i]);
var rhe=Object.defineProperty;var sP=e=>{throw TypeError(e)};var ihe=(e,t,n)=>t in e?rhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ee=(e,t,n)=>ihe(e,typeof t!="symbol"?t+"":t,n),ahe=(e,t,n)=>t.has(e)||sP("Cannot "+n);var An=(e,t,n)=>(ahe(e,t,"read from private field"),n?n.call(e):t.get(e)),Vd=(e,t,n)=>t.has(e)?sP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);function AH(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var sqe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oI(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wH={exports:{}},xn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb=Symbol.for("react.element"),ohe=Symbol.for("react.portal"),she=Symbol.for("react.fragment"),lhe=Symbol.for("react.strict_mode"),che=Symbol.for("react.profiler"),dhe=Symbol.for("react.provider"),uhe=Symbol.for("react.context"),fhe=Symbol.for("react.forward_ref"),hhe=Symbol.for("react.suspense"),phe=Symbol.for("react.memo"),ghe=Symbol.for("react.lazy"),lP=Symbol.iterator;function mhe(e){return e===null||typeof e!="object"?null:(e=lP&&e[lP]||e["@@iterator"],typeof e=="function"?e:null)}var EH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xH=Object.assign,_H={};function Zm(e,t,n){this.props=e,this.context=t,this.refs=_H,this.updater=n||EH}Zm.prototype.isReactComponent={};Zm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function CH(){}CH.prototype=Zm.prototype;function sI(e,t,n){this.props=e,this.context=t,this.refs=_H,this.updater=n||EH}var lI=sI.prototype=new CH;lI.constructor=sI;xH(lI,Zm.prototype);lI.isPureReactComponent=!0;var cP=Array.isArray,SH=Object.prototype.hasOwnProperty,cI={current:null},IH={key:!0,ref:!0,__self:!0,__source:!0};function kH(e,t,n){var r,a={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)SH.call(t,r)&&!IH.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var d=Array(l),u=0;u<l;u++)d[u]=arguments[u+2];a.children=d}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:nb,type:e,key:o,ref:s,props:a,_owner:cI.current}}function Uhe(e,t){return{$$typeof:nb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dI(e){return typeof e=="object"&&e!==null&&e.$$typeof===nb}function vhe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var dP=/\/+/g;function bE(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vhe(""+e.key):t.toString(36)}function t3(e,t,n,r,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case nb:case ohe:s=!0}}if(s)return s=e,a=a(s),e=r===""?"."+bE(s,0):r,cP(a)?(n="",e!=null&&(n=e.replace(dP,"$&/")+"/"),t3(a,t,n,"",function(u){return u})):a!=null&&(dI(a)&&(a=Uhe(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(dP,"$&/")+"/")+e)),t.push(a)),1;if(s=0,r=r===""?".":r+":",cP(e))for(var l=0;l<e.length;l++){o=e[l];var d=r+bE(o,l);s+=t3(o,t,n,d,a)}else if(d=mhe(e),typeof d=="function")for(e=d.call(e),l=0;!(o=e.next()).done;)o=o.value,d=r+bE(o,l++),s+=t3(o,t,n,d,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function D6(e,t,n){if(e==null)return e;var r=[],a=0;return t3(e,r,"","",function(o){return t.call(n,o,a++)}),r}function yhe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ho={current:null},n3={transition:null},bhe={ReactCurrentDispatcher:ho,ReactCurrentBatchConfig:n3,ReactCurrentOwner:cI};function MH(){throw Error("act(...) is not supported in production builds of React.")}xn.Children={map:D6,forEach:function(e,t,n){D6(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return D6(e,function(){t++}),t},toArray:function(e){return D6(e,function(t){return t})||[]},only:function(e){if(!dI(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xn.Component=Zm;xn.Fragment=she;xn.Profiler=che;xn.PureComponent=sI;xn.StrictMode=lhe;xn.Suspense=hhe;xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bhe;xn.act=MH;xn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xH({},e.props),a=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=cI.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)SH.call(t,d)&&!IH.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){l=Array(d);for(var u=0;u<d;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:nb,type:e.type,key:a,ref:o,props:r,_owner:s}};xn.createContext=function(e){return e={$$typeof:uhe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dhe,_context:e},e.Consumer=e};xn.createElement=kH;xn.createFactory=function(e){var t=kH.bind(null,e);return t.type=e,t};xn.createRef=function(){return{current:null}};xn.forwardRef=function(e){return{$$typeof:fhe,render:e}};xn.isValidElement=dI;xn.lazy=function(e){return{$$typeof:ghe,_payload:{_status:-1,_result:e},_init:yhe}};xn.memo=function(e,t){return{$$typeof:phe,type:e,compare:t===void 0?null:t}};xn.startTransition=function(e){var t=n3.transition;n3.transition={};try{e()}finally{n3.transition=t}};xn.unstable_act=MH;xn.useCallback=function(e,t){return ho.current.useCallback(e,t)};xn.useContext=function(e){return ho.current.useContext(e)};xn.useDebugValue=function(){};xn.useDeferredValue=function(e){return ho.current.useDeferredValue(e)};xn.useEffect=function(e,t){return ho.current.useEffect(e,t)};xn.useId=function(){return ho.current.useId()};xn.useImperativeHandle=function(e,t,n){return ho.current.useImperativeHandle(e,t,n)};xn.useInsertionEffect=function(e,t){return ho.current.useInsertionEffect(e,t)};xn.useLayoutEffect=function(e,t){return ho.current.useLayoutEffect(e,t)};xn.useMemo=function(e,t){return ho.current.useMemo(e,t)};xn.useReducer=function(e,t,n){return ho.current.useReducer(e,t,n)};xn.useRef=function(e){return ho.current.useRef(e)};xn.useState=function(e){return ho.current.useState(e)};xn.useSyncExternalStore=function(e,t,n){return ho.current.useSyncExternalStore(e,t,n)};xn.useTransition=function(){return ho.current.useTransition()};xn.version="18.3.1";wH.exports=xn;var uI=wH.exports;const Ahe=oI(uI),whe=AH({__proto__:null,default:Ahe},[uI]);var TH={exports:{}},Rs={},BH={exports:{}},RH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,se){var O=Z.length;Z.push(se);e:for(;0<O;){var V=O-1>>>1,de=Z[V];if(0<a(de,se))Z[V]=se,Z[O]=de,O=V;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var se=Z[0],O=Z.pop();if(O!==se){Z[0]=O;e:for(var V=0,de=Z.length,oe=de>>>1;V<oe;){var me=2*(V+1)-1,ve=Z[me],xe=me+1,le=Z[xe];if(0>a(ve,O))xe<de&&0>a(le,ve)?(Z[V]=le,Z[xe]=O,V=xe):(Z[V]=ve,Z[me]=O,V=me);else if(xe<de&&0>a(le,O))Z[V]=le,Z[xe]=O,V=xe;else break e}}return se}function a(Z,se){var O=Z.sortIndex-se.sortIndex;return O!==0?O:Z.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var d=[],u=[],f=1,p=null,g=3,v=!1,c=!1,h=!1,m=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Z){for(var se=n(u);se!==null;){if(se.callback===null)r(u);else if(se.startTime<=Z)r(u),se.sortIndex=se.expirationTime,t(d,se);else break;se=n(u)}}function E(Z){if(h=!1,w(Z),!c)if(n(d)!==null)c=!0,H(x);else{var se=n(u);se!==null&&ne(E,se.startTime-Z)}}function x(Z,se){c=!1,h&&(h=!1,U(S),S=-1),v=!0;var O=g;try{for(w(se),p=n(d);p!==null&&(!(p.expirationTime>se)||Z&&!D());){var V=p.callback;if(typeof V=="function"){p.callback=null,g=p.priorityLevel;var de=V(p.expirationTime<=se);se=e.unstable_now(),typeof de=="function"?p.callback=de:p===n(d)&&r(d),w(se)}else r(d);p=n(d)}if(p!==null)var oe=!0;else{var me=n(u);me!==null&&ne(E,me.startTime-se),oe=!1}return oe}finally{p=null,g=O,v=!1}}var C=!1,I=null,S=-1,M=5,R=-1;function D(){return!(e.unstable_now()-R<M)}function L(){if(I!==null){var Z=e.unstable_now();R=Z;var se=!0;try{se=I(!0,Z)}finally{se?j():(C=!1,I=null)}}else C=!1}var j;if(typeof b=="function")j=function(){b(L)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,J=re.port2;re.port1.onmessage=L,j=function(){J.postMessage(null)}}else j=function(){m(L,0)};function H(Z){I=Z,C||(C=!0,j())}function ne(Z,se){S=m(function(){Z(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){c||v||(c=!0,H(x))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(Z){switch(g){case 1:case 2:case 3:var se=3;break;default:se=g}var O=g;g=se;try{return Z()}finally{g=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,se){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var O=g;g=Z;try{return se()}finally{g=O}},e.unstable_scheduleCallback=function(Z,se,O){var V=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?V+O:V):O=V,Z){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=O+de,Z={id:f++,callback:se,priorityLevel:Z,startTime:O,expirationTime:de,sortIndex:-1},O>V?(Z.sortIndex=O,t(u,Z),n(d)===null&&Z===n(u)&&(h?(U(S),S=-1):h=!0,ne(E,O-V))):(Z.sortIndex=de,t(d,Z),c||v||(c=!0,H(x))),Z},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(Z){var se=g;return function(){var O=g;g=se;try{return Z.apply(this,arguments)}finally{g=O}}}})(RH);BH.exports=RH;var Ehe=BH.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xhe=uI,Is=Ehe;function ct(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DH=new Set,Xv={};function X0(e,t){um(e,t),um(e+"Capture",t)}function um(e,t){for(Xv[e]=t,e=0;e<t.length;e++)DH.add(t[e])}var Hu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),q9=Object.prototype.hasOwnProperty,_he=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uP={},fP={};function Che(e){return q9.call(fP,e)?!0:q9.call(uP,e)?!1:_he.test(e)?fP[e]=!0:(uP[e]=!0,!1)}function She(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ihe(e,t,n,r){if(t===null||typeof t>"u"||She(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function po(e,t,n,r,a,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Sa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Sa[e]=new po(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Sa[t]=new po(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Sa[e]=new po(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Sa[e]=new po(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Sa[e]=new po(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Sa[e]=new po(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Sa[e]=new po(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Sa[e]=new po(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Sa[e]=new po(e,5,!1,e.toLowerCase(),null,!1,!1)});var fI=/[\-:]([a-z])/g;function hI(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fI,hI);Sa[t]=new po(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fI,hI);Sa[t]=new po(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fI,hI);Sa[t]=new po(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Sa[e]=new po(e,1,!1,e.toLowerCase(),null,!1,!1)});Sa.xlinkHref=new po("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Sa[e]=new po(e,1,!1,e.toLowerCase(),null,!0,!0)});function pI(e,t,n,r){var a=Sa.hasOwnProperty(t)?Sa[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ihe(t,n,a,r)&&(n=null),r||a===null?Che(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var lf=xhe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P6=Symbol.for("react.element"),pg=Symbol.for("react.portal"),gg=Symbol.for("react.fragment"),gI=Symbol.for("react.strict_mode"),J9=Symbol.for("react.profiler"),PH=Symbol.for("react.provider"),LH=Symbol.for("react.context"),mI=Symbol.for("react.forward_ref"),e_=Symbol.for("react.suspense"),t_=Symbol.for("react.suspense_list"),UI=Symbol.for("react.memo"),Xf=Symbol.for("react.lazy"),NH=Symbol.for("react.offscreen"),hP=Symbol.iterator;function L2(e){return e===null||typeof e!="object"?null:(e=hP&&e[hP]||e["@@iterator"],typeof e=="function"?e:null)}var ai=Object.assign,AE;function SU(e){if(AE===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);AE=t&&t[1]||""}return`
`+AE+e}var wE=!1;function EE(e,t){if(!e||wE)return"";wE=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=r.stack.split(`
`),s=a.length-1,l=o.length-1;1<=s&&0<=l&&a[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==o[l]){var d=`
`+a[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=s&&0<=l);break}}}finally{wE=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?SU(e):""}function khe(e){switch(e.tag){case 5:return SU(e.type);case 16:return SU("Lazy");case 13:return SU("Suspense");case 19:return SU("SuspenseList");case 0:case 2:case 15:return e=EE(e.type,!1),e;case 11:return e=EE(e.type.render,!1),e;case 1:return e=EE(e.type,!0),e;default:return""}}function n_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gg:return"Fragment";case pg:return"Portal";case J9:return"Profiler";case gI:return"StrictMode";case e_:return"Suspense";case t_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case LH:return(e.displayName||"Context")+".Consumer";case PH:return(e._context.displayName||"Context")+".Provider";case mI:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case UI:return t=e.displayName||null,t!==null?t:n_(e.type)||"Memo";case Xf:t=e._payload,e=e._init;try{return n_(e(t))}catch{}}return null}function Mhe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return n_(t);case 8:return t===gI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $H(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function The(e){var t=$H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function L6(e){e._valueTracker||(e._valueTracker=The(e))}function FH(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$H(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function AA(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function r_(e,t){var n=t.checked;return ai({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function pP(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Nh(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jH(e,t){t=t.checked,t!=null&&pI(e,"checked",t,!1)}function i_(e,t){jH(e,t);var n=Nh(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?a_(e,t.type,n):t.hasOwnProperty("defaultValue")&&a_(e,t.type,Nh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gP(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function a_(e,t,n){(t!=="number"||AA(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var IU=Array.isArray;function Gg(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Nh(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function o_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ct(91));return ai({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mP(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ct(92));if(IU(n)){if(1<n.length)throw Error(ct(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nh(n)}}function OH(e,t){var n=Nh(t.value),r=Nh(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function UP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zH(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function s_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zH(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var N6,QH=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(N6=N6||document.createElement("div"),N6.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=N6.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zv(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bhe=["Webkit","ms","Moz","O"];Object.keys(cv).forEach(function(e){Bhe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cv[t]=cv[e]})});function HH(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cv.hasOwnProperty(e)&&cv[e]?(""+t).trim():t+"px"}function GH(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=HH(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var Rhe=ai({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function l_(e,t){if(t){if(Rhe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ct(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ct(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ct(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ct(62))}}function c_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d_=null;function vI(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var u_=null,Wg=null,Vg=null;function vP(e){if(e=ab(e)){if(typeof u_!="function")throw Error(ct(280));var t=e.stateNode;t&&(t=Cw(t),u_(e.stateNode,e.type,t))}}function WH(e){Wg?Vg?Vg.push(e):Vg=[e]:Wg=e}function VH(){if(Wg){var e=Wg,t=Vg;if(Vg=Wg=null,vP(e),t)for(e=0;e<t.length;e++)vP(t[e])}}function YH(e,t){return e(t)}function KH(){}var xE=!1;function XH(e,t,n){if(xE)return e(t,n);xE=!0;try{return YH(e,t,n)}finally{xE=!1,(Wg!==null||Vg!==null)&&(KH(),VH())}}function qv(e,t){var n=e.stateNode;if(n===null)return null;var r=Cw(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ct(231,t,typeof n));return n}var f_=!1;if(Hu)try{var N2={};Object.defineProperty(N2,"passive",{get:function(){f_=!0}}),window.addEventListener("test",N2,N2),window.removeEventListener("test",N2,N2)}catch{f_=!1}function Dhe(e,t,n,r,a,o,s,l,d){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var dv=!1,wA=null,EA=!1,h_=null,Phe={onError:function(e){dv=!0,wA=e}};function Lhe(e,t,n,r,a,o,s,l,d){dv=!1,wA=null,Dhe.apply(Phe,arguments)}function Nhe(e,t,n,r,a,o,s,l,d){if(Lhe.apply(this,arguments),dv){if(dv){var u=wA;dv=!1,wA=null}else throw Error(ct(198));EA||(EA=!0,h_=u)}}function Z0(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ZH(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yP(e){if(Z0(e)!==e)throw Error(ct(188))}function $he(e){var t=e.alternate;if(!t){if(t=Z0(e),t===null)throw Error(ct(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return yP(a),e;if(o===r)return yP(a),t;o=o.sibling}throw Error(ct(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s)throw Error(ct(189))}}if(n.alternate!==r)throw Error(ct(190))}if(n.tag!==3)throw Error(ct(188));return n.stateNode.current===n?e:t}function qH(e){return e=$he(e),e!==null?JH(e):null}function JH(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=JH(e);if(t!==null)return t;e=e.sibling}return null}var eG=Is.unstable_scheduleCallback,bP=Is.unstable_cancelCallback,Fhe=Is.unstable_shouldYield,jhe=Is.unstable_requestPaint,Ci=Is.unstable_now,Ohe=Is.unstable_getCurrentPriorityLevel,yI=Is.unstable_ImmediatePriority,tG=Is.unstable_UserBlockingPriority,xA=Is.unstable_NormalPriority,zhe=Is.unstable_LowPriority,nG=Is.unstable_IdlePriority,ww=null,pd=null;function Qhe(e){if(pd&&typeof pd.onCommitFiberRoot=="function")try{pd.onCommitFiberRoot(ww,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:Whe,Hhe=Math.log,Ghe=Math.LN2;function Whe(e){return e>>>=0,e===0?32:31-(Hhe(e)/Ghe|0)|0}var $6=64,F6=4194304;function kU(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _A(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~a;l!==0?r=kU(l):(o&=s,o!==0&&(r=kU(o)))}else s=n&~a,s!==0?r=kU(s):o!==0&&(r=kU(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-oc(t),a=1<<n,r|=e[n],t&=~a;return r}function Vhe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yhe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-oc(o),l=1<<s,d=a[s];d===-1?(!(l&n)||l&r)&&(a[s]=Vhe(l,t)):d<=t&&(e.expiredLanes|=l),o&=~l}}function p_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rG(){var e=$6;return $6<<=1,!($6&4194240)&&($6=64),e}function _E(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rb(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-oc(t),e[t]=n}function Khe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-oc(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}function bI(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-oc(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var cr=0;function iG(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var aG,AI,oG,sG,lG,g_=!1,j6=[],Eh=null,xh=null,_h=null,Jv=new Map,ey=new Map,ih=[],Xhe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AP(e,t){switch(e){case"focusin":case"focusout":Eh=null;break;case"dragenter":case"dragleave":xh=null;break;case"mouseover":case"mouseout":_h=null;break;case"pointerover":case"pointerout":Jv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ey.delete(t.pointerId)}}function $2(e,t,n,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=ab(t),t!==null&&AI(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Zhe(e,t,n,r,a){switch(t){case"focusin":return Eh=$2(Eh,e,t,n,r,a),!0;case"dragenter":return xh=$2(xh,e,t,n,r,a),!0;case"mouseover":return _h=$2(_h,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Jv.set(o,$2(Jv.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,ey.set(o,$2(ey.get(o)||null,e,t,n,r,a)),!0}return!1}function cG(e){var t=i0(e.target);if(t!==null){var n=Z0(t);if(n!==null){if(t=n.tag,t===13){if(t=ZH(n),t!==null){e.blockedOn=t,lG(e.priority,function(){oG(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function r3(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=m_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);d_=r,n.target.dispatchEvent(r),d_=null}else return t=ab(n),t!==null&&AI(t),e.blockedOn=n,!1;t.shift()}return!0}function wP(e,t,n){r3(e)&&n.delete(t)}function qhe(){g_=!1,Eh!==null&&r3(Eh)&&(Eh=null),xh!==null&&r3(xh)&&(xh=null),_h!==null&&r3(_h)&&(_h=null),Jv.forEach(wP),ey.forEach(wP)}function F2(e,t){e.blockedOn===t&&(e.blockedOn=null,g_||(g_=!0,Is.unstable_scheduleCallback(Is.unstable_NormalPriority,qhe)))}function ty(e){function t(a){return F2(a,e)}if(0<j6.length){F2(j6[0],e);for(var n=1;n<j6.length;n++){var r=j6[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Eh!==null&&F2(Eh,e),xh!==null&&F2(xh,e),_h!==null&&F2(_h,e),Jv.forEach(t),ey.forEach(t),n=0;n<ih.length;n++)r=ih[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ih.length&&(n=ih[0],n.blockedOn===null);)cG(n),n.blockedOn===null&&ih.shift()}var Yg=lf.ReactCurrentBatchConfig,CA=!0;function Jhe(e,t,n,r){var a=cr,o=Yg.transition;Yg.transition=null;try{cr=1,wI(e,t,n,r)}finally{cr=a,Yg.transition=o}}function epe(e,t,n,r){var a=cr,o=Yg.transition;Yg.transition=null;try{cr=4,wI(e,t,n,r)}finally{cr=a,Yg.transition=o}}function wI(e,t,n,r){if(CA){var a=m_(e,t,n,r);if(a===null)PE(e,t,r,SA,n),AP(e,r);else if(Zhe(a,e,t,n,r))r.stopPropagation();else if(AP(e,r),t&4&&-1<Xhe.indexOf(e)){for(;a!==null;){var o=ab(a);if(o!==null&&aG(o),o=m_(e,t,n,r),o===null&&PE(e,t,r,SA,n),o===a)break;a=o}a!==null&&r.stopPropagation()}else PE(e,t,r,null,n)}}var SA=null;function m_(e,t,n,r){if(SA=null,e=vI(r),e=i0(e),e!==null)if(t=Z0(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ZH(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return SA=e,null}function dG(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ohe()){case yI:return 1;case tG:return 4;case xA:case zhe:return 16;case nG:return 536870912;default:return 16}default:return 16}}var fh=null,EI=null,i3=null;function uG(){if(i3)return i3;var e,t=EI,n=t.length,r,a="value"in fh?fh.value:fh.textContent,o=a.length;for(e=0;e<n&&t[e]===a[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===a[o-r];r++);return i3=a.slice(e,1<r?1-r:void 0)}function a3(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function O6(){return!0}function EP(){return!1}function Ds(e){function t(n,r,a,o,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?O6:EP,this.isPropagationStopped=EP,this}return ai(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=O6)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=O6)},persist:function(){},isPersistent:O6}),t}var qm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xI=Ds(qm),ib=ai({},qm,{view:0,detail:0}),tpe=Ds(ib),CE,SE,j2,Ew=ai({},ib,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_I,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==j2&&(j2&&e.type==="mousemove"?(CE=e.screenX-j2.screenX,SE=e.screenY-j2.screenY):SE=CE=0,j2=e),CE)},movementY:function(e){return"movementY"in e?e.movementY:SE}}),xP=Ds(Ew),npe=ai({},Ew,{dataTransfer:0}),rpe=Ds(npe),ipe=ai({},ib,{relatedTarget:0}),IE=Ds(ipe),ape=ai({},qm,{animationName:0,elapsedTime:0,pseudoElement:0}),ope=Ds(ape),spe=ai({},qm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lpe=Ds(spe),cpe=ai({},qm,{data:0}),_P=Ds(cpe),dpe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},upe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fpe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hpe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fpe[e])?!!t[e]:!1}function _I(){return hpe}var ppe=ai({},ib,{key:function(e){if(e.key){var t=dpe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=a3(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?upe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_I,charCode:function(e){return e.type==="keypress"?a3(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?a3(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gpe=Ds(ppe),mpe=ai({},Ew,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CP=Ds(mpe),Upe=ai({},ib,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_I}),vpe=Ds(Upe),ype=ai({},qm,{propertyName:0,elapsedTime:0,pseudoElement:0}),bpe=Ds(ype),Ape=ai({},Ew,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wpe=Ds(Ape),Epe=[9,13,27,32],CI=Hu&&"CompositionEvent"in window,uv=null;Hu&&"documentMode"in document&&(uv=document.documentMode);var xpe=Hu&&"TextEvent"in window&&!uv,fG=Hu&&(!CI||uv&&8<uv&&11>=uv),SP=" ",IP=!1;function hG(e,t){switch(e){case"keyup":return Epe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pG(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mg=!1;function _pe(e,t){switch(e){case"compositionend":return pG(t);case"keypress":return t.which!==32?null:(IP=!0,SP);case"textInput":return e=t.data,e===SP&&IP?null:e;default:return null}}function Cpe(e,t){if(mg)return e==="compositionend"||!CI&&hG(e,t)?(e=uG(),i3=EI=fh=null,mg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fG&&t.locale!=="ko"?null:t.data;default:return null}}var Spe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Spe[e.type]:t==="textarea"}function gG(e,t,n,r){WH(r),t=IA(t,"onChange"),0<t.length&&(n=new xI("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var fv=null,ny=null;function Ipe(e){CG(e,0)}function xw(e){var t=yg(e);if(FH(t))return e}function kpe(e,t){if(e==="change")return t}var mG=!1;if(Hu){var kE;if(Hu){var ME="oninput"in document;if(!ME){var MP=document.createElement("div");MP.setAttribute("oninput","return;"),ME=typeof MP.oninput=="function"}kE=ME}else kE=!1;mG=kE&&(!document.documentMode||9<document.documentMode)}function TP(){fv&&(fv.detachEvent("onpropertychange",UG),ny=fv=null)}function UG(e){if(e.propertyName==="value"&&xw(ny)){var t=[];gG(t,ny,e,vI(e)),XH(Ipe,t)}}function Mpe(e,t,n){e==="focusin"?(TP(),fv=t,ny=n,fv.attachEvent("onpropertychange",UG)):e==="focusout"&&TP()}function Tpe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xw(ny)}function Bpe(e,t){if(e==="click")return xw(t)}function Rpe(e,t){if(e==="input"||e==="change")return xw(t)}function Dpe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gc=typeof Object.is=="function"?Object.is:Dpe;function ry(e,t){if(gc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!q9.call(t,a)||!gc(e[a],t[a]))return!1}return!0}function BP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function RP(e,t){var n=BP(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=BP(n)}}function vG(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vG(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yG(){for(var e=window,t=AA();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=AA(e.document)}return t}function SI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ppe(e){var t=yG(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&vG(n.ownerDocument.documentElement,n)){if(r!==null&&SI(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=r.end===void 0?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=RP(n,o);var s=RP(n,r);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lpe=Hu&&"documentMode"in document&&11>=document.documentMode,Ug=null,U_=null,hv=null,v_=!1;function DP(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;v_||Ug==null||Ug!==AA(r)||(r=Ug,"selectionStart"in r&&SI(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hv&&ry(hv,r)||(hv=r,r=IA(U_,"onSelect"),0<r.length&&(t=new xI("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ug)))}function z6(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vg={animationend:z6("Animation","AnimationEnd"),animationiteration:z6("Animation","AnimationIteration"),animationstart:z6("Animation","AnimationStart"),transitionend:z6("Transition","TransitionEnd")},TE={},bG={};Hu&&(bG=document.createElement("div").style,"AnimationEvent"in window||(delete vg.animationend.animation,delete vg.animationiteration.animation,delete vg.animationstart.animation),"TransitionEvent"in window||delete vg.transitionend.transition);function _w(e){if(TE[e])return TE[e];if(!vg[e])return e;var t=vg[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bG)return TE[e]=t[n];return e}var AG=_w("animationend"),wG=_w("animationiteration"),EG=_w("animationstart"),xG=_w("transitionend"),_G=new Map,PP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kh(e,t){_G.set(e,t),X0(t,[e])}for(var BE=0;BE<PP.length;BE++){var RE=PP[BE],Npe=RE.toLowerCase(),$pe=RE[0].toUpperCase()+RE.slice(1);Kh(Npe,"on"+$pe)}Kh(AG,"onAnimationEnd");Kh(wG,"onAnimationIteration");Kh(EG,"onAnimationStart");Kh("dblclick","onDoubleClick");Kh("focusin","onFocus");Kh("focusout","onBlur");Kh(xG,"onTransitionEnd");um("onMouseEnter",["mouseout","mouseover"]);um("onMouseLeave",["mouseout","mouseover"]);um("onPointerEnter",["pointerout","pointerover"]);um("onPointerLeave",["pointerout","pointerover"]);X0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));X0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));X0("onBeforeInput",["compositionend","keypress","textInput","paste"]);X0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));X0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));X0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var MU="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fpe=new Set("cancel close invalid load scroll toggle".split(" ").concat(MU));function LP(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Nhe(r,t,void 0,e),e.currentTarget=null}function CG(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],d=l.instance,u=l.currentTarget;if(l=l.listener,d!==o&&a.isPropagationStopped())break e;LP(a,l,u),o=d}else for(s=0;s<r.length;s++){if(l=r[s],d=l.instance,u=l.currentTarget,l=l.listener,d!==o&&a.isPropagationStopped())break e;LP(a,l,u),o=d}}}if(EA)throw e=h_,EA=!1,h_=null,e}function Br(e,t){var n=t[E_];n===void 0&&(n=t[E_]=new Set);var r=e+"__bubble";n.has(r)||(SG(t,e,2,!1),n.add(r))}function DE(e,t,n){var r=0;t&&(r|=4),SG(n,e,r,t)}var Q6="_reactListening"+Math.random().toString(36).slice(2);function iy(e){if(!e[Q6]){e[Q6]=!0,DH.forEach(function(n){n!=="selectionchange"&&(Fpe.has(n)||DE(n,!1,e),DE(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Q6]||(t[Q6]=!0,DE("selectionchange",!1,t))}}function SG(e,t,n,r){switch(dG(t)){case 1:var a=Jhe;break;case 4:a=epe;break;default:a=wI}n=a.bind(null,t,n,e),a=void 0,!f_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function PE(e,t,n,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=r.return;s!==null;){var d=s.tag;if((d===3||d===4)&&(d=s.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;s=s.return}for(;l!==null;){if(s=i0(l),s===null)return;if(d=s.tag,d===5||d===6){r=o=s;continue e}l=l.parentNode}}r=r.return}XH(function(){var u=o,f=vI(n),p=[];e:{var g=_G.get(e);if(g!==void 0){var v=xI,c=e;switch(e){case"keypress":if(a3(n)===0)break e;case"keydown":case"keyup":v=gpe;break;case"focusin":c="focus",v=IE;break;case"focusout":c="blur",v=IE;break;case"beforeblur":case"afterblur":v=IE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=xP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=rpe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=vpe;break;case AG:case wG:case EG:v=ope;break;case xG:v=bpe;break;case"scroll":v=tpe;break;case"wheel":v=wpe;break;case"copy":case"cut":case"paste":v=lpe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=CP}var h=(t&4)!==0,m=!h&&e==="scroll",U=h?g!==null?g+"Capture":null:g;h=[];for(var b=u,w;b!==null;){w=b;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,U!==null&&(E=qv(b,U),E!=null&&h.push(ay(b,E,w)))),m)break;b=b.return}0<h.length&&(g=new v(g,c,null,n,f),p.push({event:g,listeners:h}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",g&&n!==d_&&(c=n.relatedTarget||n.fromElement)&&(i0(c)||c[Gu]))break e;if((v||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,v?(c=n.relatedTarget||n.toElement,v=u,c=c?i0(c):null,c!==null&&(m=Z0(c),c!==m||c.tag!==5&&c.tag!==6)&&(c=null)):(v=null,c=u),v!==c)){if(h=xP,E="onMouseLeave",U="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(h=CP,E="onPointerLeave",U="onPointerEnter",b="pointer"),m=v==null?g:yg(v),w=c==null?g:yg(c),g=new h(E,b+"leave",v,n,f),g.target=m,g.relatedTarget=w,E=null,i0(f)===u&&(h=new h(U,b+"enter",c,n,f),h.target=w,h.relatedTarget=m,E=h),m=E,v&&c)t:{for(h=v,U=c,b=0,w=h;w;w=w1(w))b++;for(w=0,E=U;E;E=w1(E))w++;for(;0<b-w;)h=w1(h),b--;for(;0<w-b;)U=w1(U),w--;for(;b--;){if(h===U||U!==null&&h===U.alternate)break t;h=w1(h),U=w1(U)}h=null}else h=null;v!==null&&NP(p,g,v,h,!1),c!==null&&m!==null&&NP(p,m,c,h,!0)}}e:{if(g=u?yg(u):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var x=kpe;else if(kP(g))if(mG)x=Rpe;else{x=Tpe;var C=Mpe}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(x=Bpe);if(x&&(x=x(e,u))){gG(p,x,n,f);break e}C&&C(e,g,u),e==="focusout"&&(C=g._wrapperState)&&C.controlled&&g.type==="number"&&a_(g,"number",g.value)}switch(C=u?yg(u):window,e){case"focusin":(kP(C)||C.contentEditable==="true")&&(Ug=C,U_=u,hv=null);break;case"focusout":hv=U_=Ug=null;break;case"mousedown":v_=!0;break;case"contextmenu":case"mouseup":case"dragend":v_=!1,DP(p,n,f);break;case"selectionchange":if(Lpe)break;case"keydown":case"keyup":DP(p,n,f)}var I;if(CI)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else mg?hG(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(fG&&n.locale!=="ko"&&(mg||S!=="onCompositionStart"?S==="onCompositionEnd"&&mg&&(I=uG()):(fh=f,EI="value"in fh?fh.value:fh.textContent,mg=!0)),C=IA(u,S),0<C.length&&(S=new _P(S,e,null,n,f),p.push({event:S,listeners:C}),I?S.data=I:(I=pG(n),I!==null&&(S.data=I)))),(I=xpe?_pe(e,n):Cpe(e,n))&&(u=IA(u,"onBeforeInput"),0<u.length&&(f=new _P("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:u}),f.data=I))}CG(p,t)})}function ay(e,t,n){return{instance:e,listener:t,currentTarget:n}}function IA(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=qv(e,n),o!=null&&r.unshift(ay(e,o,a)),o=qv(e,t),o!=null&&r.push(ay(e,o,a))),e=e.return}return r}function w1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function NP(e,t,n,r,a){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,d=l.alternate,u=l.stateNode;if(d!==null&&d===r)break;l.tag===5&&u!==null&&(l=u,a?(d=qv(n,o),d!=null&&s.unshift(ay(n,d,l))):a||(d=qv(n,o),d!=null&&s.push(ay(n,d,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var jpe=/\r\n?/g,Ope=/\u0000|\uFFFD/g;function $P(e){return(typeof e=="string"?e:""+e).replace(jpe,`
`).replace(Ope,"")}function H6(e,t,n){if(t=$P(t),$P(e)!==t&&n)throw Error(ct(425))}function kA(){}var y_=null,b_=null;function A_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var w_=typeof setTimeout=="function"?setTimeout:void 0,zpe=typeof clearTimeout=="function"?clearTimeout:void 0,FP=typeof Promise=="function"?Promise:void 0,Qpe=typeof queueMicrotask=="function"?queueMicrotask:typeof FP<"u"?function(e){return FP.resolve(null).then(e).catch(Hpe)}:w_;function Hpe(e){setTimeout(function(){throw e})}function LE(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),ty(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);ty(t)}function Ch(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Jm=Math.random().toString(36).slice(2),rd="__reactFiber$"+Jm,oy="__reactProps$"+Jm,Gu="__reactContainer$"+Jm,E_="__reactEvents$"+Jm,Gpe="__reactListeners$"+Jm,Wpe="__reactHandles$"+Jm;function i0(e){var t=e[rd];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gu]||n[rd]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jP(e);e!==null;){if(n=e[rd])return n;e=jP(e)}return t}e=n,n=e.parentNode}return null}function ab(e){return e=e[rd]||e[Gu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ct(33))}function Cw(e){return e[oy]||null}var x_=[],bg=-1;function Xh(e){return{current:e}}function Fr(e){0>bg||(e.current=x_[bg],x_[bg]=null,bg--)}function Ir(e,t){bg++,x_[bg]=e.current,e.current=t}var $h={},Wa=Xh($h),Fo=Xh(!1),T0=$h;function fm(e,t){var n=e.type.contextTypes;if(!n)return $h;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in n)a[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function jo(e){return e=e.childContextTypes,e!=null}function MA(){Fr(Fo),Fr(Wa)}function OP(e,t,n){if(Wa.current!==$h)throw Error(ct(168));Ir(Wa,t),Ir(Fo,n)}function IG(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(ct(108,Mhe(e)||"Unknown",a));return ai({},n,r)}function TA(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$h,T0=Wa.current,Ir(Wa,e),Ir(Fo,Fo.current),!0}function zP(e,t,n){var r=e.stateNode;if(!r)throw Error(ct(169));n?(e=IG(e,t,T0),r.__reactInternalMemoizedMergedChildContext=e,Fr(Fo),Fr(Wa),Ir(Wa,e)):Fr(Fo),Ir(Fo,n)}var yu=null,Sw=!1,NE=!1;function kG(e){yu===null?yu=[e]:yu.push(e)}function Vpe(e){Sw=!0,kG(e)}function Zh(){if(!NE&&yu!==null){NE=!0;var e=0,t=cr;try{var n=yu;for(cr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}yu=null,Sw=!1}catch(a){throw yu!==null&&(yu=yu.slice(e+1)),eG(yI,Zh),a}finally{cr=t,NE=!1}}return null}var Ag=[],wg=0,BA=null,RA=0,rl=[],il=0,B0=null,Cu=1,Su="";function Dp(e,t){Ag[wg++]=RA,Ag[wg++]=BA,BA=e,RA=t}function MG(e,t,n){rl[il++]=Cu,rl[il++]=Su,rl[il++]=B0,B0=e;var r=Cu;e=Su;var a=32-oc(r)-1;r&=~(1<<a),n+=1;var o=32-oc(t)+a;if(30<o){var s=a-a%5;o=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Cu=1<<32-oc(t)+a|n<<a|r,Su=o+e}else Cu=1<<o|n<<a|r,Su=e}function II(e){e.return!==null&&(Dp(e,1),MG(e,1,0))}function kI(e){for(;e===BA;)BA=Ag[--wg],Ag[wg]=null,RA=Ag[--wg],Ag[wg]=null;for(;e===B0;)B0=rl[--il],rl[il]=null,Su=rl[--il],rl[il]=null,Cu=rl[--il],rl[il]=null}var xs=null,ys=null,Gr=!1,ql=null;function TG(e,t){var n=ll(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function QP(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xs=e,ys=Ch(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xs=e,ys=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=B0!==null?{id:Cu,overflow:Su}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ll(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xs=e,ys=null,!0):!1;default:return!1}}function __(e){return(e.mode&1)!==0&&(e.flags&128)===0}function C_(e){if(Gr){var t=ys;if(t){var n=t;if(!QP(e,t)){if(__(e))throw Error(ct(418));t=Ch(n.nextSibling);var r=xs;t&&QP(e,t)?TG(r,n):(e.flags=e.flags&-4097|2,Gr=!1,xs=e)}}else{if(__(e))throw Error(ct(418));e.flags=e.flags&-4097|2,Gr=!1,xs=e}}}function HP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xs=e}function G6(e){if(e!==xs)return!1;if(!Gr)return HP(e),Gr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!A_(e.type,e.memoizedProps)),t&&(t=ys)){if(__(e))throw BG(),Error(ct(418));for(;t;)TG(e,t),t=Ch(t.nextSibling)}if(HP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ct(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ys=Ch(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ys=null}}else ys=xs?Ch(e.stateNode.nextSibling):null;return!0}function BG(){for(var e=ys;e;)e=Ch(e.nextSibling)}function hm(){ys=xs=null,Gr=!1}function MI(e){ql===null?ql=[e]:ql.push(e)}var Ype=lf.ReactCurrentBatchConfig;function O2(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ct(309));var r=n.stateNode}if(!r)throw Error(ct(147,e));var a=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=a.refs;s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(ct(284));if(!n._owner)throw Error(ct(290,e))}return e}function W6(e,t){throw e=Object.prototype.toString.call(t),Error(ct(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function GP(e){var t=e._init;return t(e._payload)}function RG(e){function t(U,b){if(e){var w=U.deletions;w===null?(U.deletions=[b],U.flags|=16):w.push(b)}}function n(U,b){if(!e)return null;for(;b!==null;)t(U,b),b=b.sibling;return null}function r(U,b){for(U=new Map;b!==null;)b.key!==null?U.set(b.key,b):U.set(b.index,b),b=b.sibling;return U}function a(U,b){return U=Mh(U,b),U.index=0,U.sibling=null,U}function o(U,b,w){return U.index=w,e?(w=U.alternate,w!==null?(w=w.index,w<b?(U.flags|=2,b):w):(U.flags|=2,b)):(U.flags|=1048576,b)}function s(U){return e&&U.alternate===null&&(U.flags|=2),U}function l(U,b,w,E){return b===null||b.tag!==6?(b=HE(w,U.mode,E),b.return=U,b):(b=a(b,w),b.return=U,b)}function d(U,b,w,E){var x=w.type;return x===gg?f(U,b,w.props.children,E,w.key):b!==null&&(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Xf&&GP(x)===b.type)?(E=a(b,w.props),E.ref=O2(U,b,w),E.return=U,E):(E=f3(w.type,w.key,w.props,null,U.mode,E),E.ref=O2(U,b,w),E.return=U,E)}function u(U,b,w,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=GE(w,U.mode,E),b.return=U,b):(b=a(b,w.children||[]),b.return=U,b)}function f(U,b,w,E,x){return b===null||b.tag!==7?(b=y0(w,U.mode,E,x),b.return=U,b):(b=a(b,w),b.return=U,b)}function p(U,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=HE(""+b,U.mode,w),b.return=U,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case P6:return w=f3(b.type,b.key,b.props,null,U.mode,w),w.ref=O2(U,null,b),w.return=U,w;case pg:return b=GE(b,U.mode,w),b.return=U,b;case Xf:var E=b._init;return p(U,E(b._payload),w)}if(IU(b)||L2(b))return b=y0(b,U.mode,w,null),b.return=U,b;W6(U,b)}return null}function g(U,b,w,E){var x=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return x!==null?null:l(U,b,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case P6:return w.key===x?d(U,b,w,E):null;case pg:return w.key===x?u(U,b,w,E):null;case Xf:return x=w._init,g(U,b,x(w._payload),E)}if(IU(w)||L2(w))return x!==null?null:f(U,b,w,E,null);W6(U,w)}return null}function v(U,b,w,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return U=U.get(w)||null,l(b,U,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case P6:return U=U.get(E.key===null?w:E.key)||null,d(b,U,E,x);case pg:return U=U.get(E.key===null?w:E.key)||null,u(b,U,E,x);case Xf:var C=E._init;return v(U,b,w,C(E._payload),x)}if(IU(E)||L2(E))return U=U.get(w)||null,f(b,U,E,x,null);W6(b,E)}return null}function c(U,b,w,E){for(var x=null,C=null,I=b,S=b=0,M=null;I!==null&&S<w.length;S++){I.index>S?(M=I,I=null):M=I.sibling;var R=g(U,I,w[S],E);if(R===null){I===null&&(I=M);break}e&&I&&R.alternate===null&&t(U,I),b=o(R,b,S),C===null?x=R:C.sibling=R,C=R,I=M}if(S===w.length)return n(U,I),Gr&&Dp(U,S),x;if(I===null){for(;S<w.length;S++)I=p(U,w[S],E),I!==null&&(b=o(I,b,S),C===null?x=I:C.sibling=I,C=I);return Gr&&Dp(U,S),x}for(I=r(U,I);S<w.length;S++)M=v(I,U,S,w[S],E),M!==null&&(e&&M.alternate!==null&&I.delete(M.key===null?S:M.key),b=o(M,b,S),C===null?x=M:C.sibling=M,C=M);return e&&I.forEach(function(D){return t(U,D)}),Gr&&Dp(U,S),x}function h(U,b,w,E){var x=L2(w);if(typeof x!="function")throw Error(ct(150));if(w=x.call(w),w==null)throw Error(ct(151));for(var C=x=null,I=b,S=b=0,M=null,R=w.next();I!==null&&!R.done;S++,R=w.next()){I.index>S?(M=I,I=null):M=I.sibling;var D=g(U,I,R.value,E);if(D===null){I===null&&(I=M);break}e&&I&&D.alternate===null&&t(U,I),b=o(D,b,S),C===null?x=D:C.sibling=D,C=D,I=M}if(R.done)return n(U,I),Gr&&Dp(U,S),x;if(I===null){for(;!R.done;S++,R=w.next())R=p(U,R.value,E),R!==null&&(b=o(R,b,S),C===null?x=R:C.sibling=R,C=R);return Gr&&Dp(U,S),x}for(I=r(U,I);!R.done;S++,R=w.next())R=v(I,U,S,R.value,E),R!==null&&(e&&R.alternate!==null&&I.delete(R.key===null?S:R.key),b=o(R,b,S),C===null?x=R:C.sibling=R,C=R);return e&&I.forEach(function(L){return t(U,L)}),Gr&&Dp(U,S),x}function m(U,b,w,E){if(typeof w=="object"&&w!==null&&w.type===gg&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case P6:e:{for(var x=w.key,C=b;C!==null;){if(C.key===x){if(x=w.type,x===gg){if(C.tag===7){n(U,C.sibling),b=a(C,w.props.children),b.return=U,U=b;break e}}else if(C.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Xf&&GP(x)===C.type){n(U,C.sibling),b=a(C,w.props),b.ref=O2(U,C,w),b.return=U,U=b;break e}n(U,C);break}else t(U,C);C=C.sibling}w.type===gg?(b=y0(w.props.children,U.mode,E,w.key),b.return=U,U=b):(E=f3(w.type,w.key,w.props,null,U.mode,E),E.ref=O2(U,b,w),E.return=U,U=E)}return s(U);case pg:e:{for(C=w.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(U,b.sibling),b=a(b,w.children||[]),b.return=U,U=b;break e}else{n(U,b);break}else t(U,b);b=b.sibling}b=GE(w,U.mode,E),b.return=U,U=b}return s(U);case Xf:return C=w._init,m(U,b,C(w._payload),E)}if(IU(w))return c(U,b,w,E);if(L2(w))return h(U,b,w,E);W6(U,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(U,b.sibling),b=a(b,w),b.return=U,U=b):(n(U,b),b=HE(w,U.mode,E),b.return=U,U=b),s(U)):n(U,b)}return m}var pm=RG(!0),DG=RG(!1),DA=Xh(null),PA=null,Eg=null,TI=null;function BI(){TI=Eg=PA=null}function RI(e){var t=DA.current;Fr(DA),e._currentValue=t}function S_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Kg(e,t){PA=e,TI=Eg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(No=!0),e.firstContext=null)}function vl(e){var t=e._currentValue;if(TI!==e)if(e={context:e,memoizedValue:t,next:null},Eg===null){if(PA===null)throw Error(ct(308));Eg=e,PA.dependencies={lanes:0,firstContext:e}}else Eg=Eg.next=e;return t}var a0=null;function DI(e){a0===null?a0=[e]:a0.push(e)}function PG(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,DI(t)):(n.next=a.next,a.next=n),t.interleaved=n,Wu(e,r)}function Wu(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zf=!1;function PI(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LG(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Du(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sh(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Qn&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Wu(e,n)}return a=r.interleaved,a===null?(t.next=t,DI(r)):(t.next=a.next,a.next=t),r.interleaved=t,Wu(e,n)}function o3(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bI(e,n)}}function WP(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?a=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?a=o=t:o=o.next=t}else a=o=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function LA(e,t,n,r){var a=e.updateQueue;Zf=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var d=l,u=d.next;d.next=null,s===null?o=u:s.next=u,s=d;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=d))}if(o!==null){var p=a.baseState;s=0,f=u=d=null,l=o;do{var g=l.lane,v=l.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var c=e,h=l;switch(g=t,v=n,h.tag){case 1:if(c=h.payload,typeof c=="function"){p=c.call(v,p,g);break e}p=c;break e;case 3:c.flags=c.flags&-65537|128;case 0:if(c=h.payload,g=typeof c=="function"?c.call(v,p,g):c,g==null)break e;p=ai({},p,g);break e;case 2:Zf=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=a.effects,g===null?a.effects=[l]:g.push(l))}else v={eventTime:v,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=v,d=p):f=f.next=v,s|=g;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;g=l,l=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);if(f===null&&(d=p),a.baseState=d,a.firstBaseUpdate=u,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);D0|=s,e.lanes=s,e.memoizedState=p}}function VP(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(ct(191,a));a.call(r)}}}var ob={},gd=Xh(ob),sy=Xh(ob),ly=Xh(ob);function o0(e){if(e===ob)throw Error(ct(174));return e}function LI(e,t){switch(Ir(ly,t),Ir(sy,e),Ir(gd,ob),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:s_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=s_(t,e)}Fr(gd),Ir(gd,t)}function gm(){Fr(gd),Fr(sy),Fr(ly)}function NG(e){o0(ly.current);var t=o0(gd.current),n=s_(t,e.type);t!==n&&(Ir(sy,e),Ir(gd,n))}function NI(e){sy.current===e&&(Fr(gd),Fr(sy))}var Jr=Xh(0);function NA(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $E=[];function $I(){for(var e=0;e<$E.length;e++)$E[e]._workInProgressVersionPrimary=null;$E.length=0}var s3=lf.ReactCurrentDispatcher,FE=lf.ReactCurrentBatchConfig,R0=0,ri=null,Wi=null,fa=null,$A=!1,pv=!1,cy=0,Kpe=0;function Ta(){throw Error(ct(321))}function FI(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gc(e[n],t[n]))return!1;return!0}function jI(e,t,n,r,a,o){if(R0=o,ri=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,s3.current=e===null||e.memoizedState===null?Jpe:e0e,e=n(r,a),pv){o=0;do{if(pv=!1,cy=0,25<=o)throw Error(ct(301));o+=1,fa=Wi=null,t.updateQueue=null,s3.current=t0e,e=n(r,a)}while(pv)}if(s3.current=FA,t=Wi!==null&&Wi.next!==null,R0=0,fa=Wi=ri=null,$A=!1,t)throw Error(ct(300));return e}function OI(){var e=cy!==0;return cy=0,e}function Hc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fa===null?ri.memoizedState=fa=e:fa=fa.next=e,fa}function yl(){if(Wi===null){var e=ri.alternate;e=e!==null?e.memoizedState:null}else e=Wi.next;var t=fa===null?ri.memoizedState:fa.next;if(t!==null)fa=t,Wi=e;else{if(e===null)throw Error(ct(310));Wi=e,e={memoizedState:Wi.memoizedState,baseState:Wi.baseState,baseQueue:Wi.baseQueue,queue:Wi.queue,next:null},fa===null?ri.memoizedState=fa=e:fa=fa.next=e}return fa}function dy(e,t){return typeof t=="function"?t(e):t}function jE(e){var t=yl(),n=t.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=e;var r=Wi,a=r.baseQueue,o=n.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(a!==null){o=a.next,r=r.baseState;var l=s=null,d=null,u=o;do{var f=u.lane;if((R0&f)===f)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(l=d=p,s=r):d=d.next=p,ri.lanes|=f,D0|=f}u=u.next}while(u!==null&&u!==o);d===null?s=r:d.next=l,gc(r,t.memoizedState)||(No=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do o=a.lane,ri.lanes|=o,D0|=o,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function OE(e){var t=yl(),n=t.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);gc(o,t.memoizedState)||(No=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function $G(){}function FG(e,t){var n=ri,r=yl(),a=t(),o=!gc(r.memoizedState,a);if(o&&(r.memoizedState=a,No=!0),r=r.queue,zI(zG.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||fa!==null&&fa.memoizedState.tag&1){if(n.flags|=2048,uy(9,OG.bind(null,n,r,a,t),void 0,null),ma===null)throw Error(ct(349));R0&30||jG(n,t,a)}return a}function jG(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ri.updateQueue,t===null?(t={lastEffect:null,stores:null},ri.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function OG(e,t,n,r){t.value=n,t.getSnapshot=r,QG(t)&&HG(e)}function zG(e,t,n){return n(function(){QG(t)&&HG(e)})}function QG(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gc(e,n)}catch{return!0}}function HG(e){var t=Wu(e,1);t!==null&&sc(t,e,1,-1)}function YP(e){var t=Hc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:e},t.queue=e,e=e.dispatch=qpe.bind(null,ri,e),[t.memoizedState,e]}function uy(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ri.updateQueue,t===null?(t={lastEffect:null,stores:null},ri.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function GG(){return yl().memoizedState}function l3(e,t,n,r){var a=Hc();ri.flags|=e,a.memoizedState=uy(1|t,n,void 0,r===void 0?null:r)}function Iw(e,t,n,r){var a=yl();r=r===void 0?null:r;var o=void 0;if(Wi!==null){var s=Wi.memoizedState;if(o=s.destroy,r!==null&&FI(r,s.deps)){a.memoizedState=uy(t,n,o,r);return}}ri.flags|=e,a.memoizedState=uy(1|t,n,o,r)}function KP(e,t){return l3(8390656,8,e,t)}function zI(e,t){return Iw(2048,8,e,t)}function WG(e,t){return Iw(4,2,e,t)}function VG(e,t){return Iw(4,4,e,t)}function YG(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function KG(e,t,n){return n=n!=null?n.concat([e]):null,Iw(4,4,YG.bind(null,t,e),n)}function QI(){}function XG(e,t){var n=yl();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&FI(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ZG(e,t){var n=yl();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&FI(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qG(e,t,n){return R0&21?(gc(n,t)||(n=rG(),ri.lanes|=n,D0|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,No=!0),e.memoizedState=n)}function Xpe(e,t){var n=cr;cr=n!==0&&4>n?n:4,e(!0);var r=FE.transition;FE.transition={};try{e(!1),t()}finally{cr=n,FE.transition=r}}function JG(){return yl().memoizedState}function Zpe(e,t,n){var r=kh(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eW(e))tW(t,n);else if(n=PG(e,t,n,r),n!==null){var a=so();sc(n,e,r,a),nW(n,t,r)}}function qpe(e,t,n){var r=kh(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eW(e))tW(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(a.hasEagerState=!0,a.eagerState=l,gc(l,s)){var d=t.interleaved;d===null?(a.next=a,DI(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}n=PG(e,t,a,r),n!==null&&(a=so(),sc(n,e,r,a),nW(n,t,r))}}function eW(e){var t=e.alternate;return e===ri||t!==null&&t===ri}function tW(e,t){pv=$A=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nW(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bI(e,n)}}var FA={readContext:vl,useCallback:Ta,useContext:Ta,useEffect:Ta,useImperativeHandle:Ta,useInsertionEffect:Ta,useLayoutEffect:Ta,useMemo:Ta,useReducer:Ta,useRef:Ta,useState:Ta,useDebugValue:Ta,useDeferredValue:Ta,useTransition:Ta,useMutableSource:Ta,useSyncExternalStore:Ta,useId:Ta,unstable_isNewReconciler:!1},Jpe={readContext:vl,useCallback:function(e,t){return Hc().memoizedState=[e,t===void 0?null:t],e},useContext:vl,useEffect:KP,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,l3(4194308,4,YG.bind(null,t,e),n)},useLayoutEffect:function(e,t){return l3(4194308,4,e,t)},useInsertionEffect:function(e,t){return l3(4,2,e,t)},useMemo:function(e,t){var n=Hc();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Hc();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zpe.bind(null,ri,e),[r.memoizedState,e]},useRef:function(e){var t=Hc();return e={current:e},t.memoizedState=e},useState:YP,useDebugValue:QI,useDeferredValue:function(e){return Hc().memoizedState=e},useTransition:function(){var e=YP(!1),t=e[0];return e=Xpe.bind(null,e[1]),Hc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ri,a=Hc();if(Gr){if(n===void 0)throw Error(ct(407));n=n()}else{if(n=t(),ma===null)throw Error(ct(349));R0&30||jG(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,KP(zG.bind(null,r,o,e),[e]),r.flags|=2048,uy(9,OG.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Hc(),t=ma.identifierPrefix;if(Gr){var n=Su,r=Cu;n=(r&~(1<<32-oc(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=cy++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Kpe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},e0e={readContext:vl,useCallback:XG,useContext:vl,useEffect:zI,useImperativeHandle:KG,useInsertionEffect:WG,useLayoutEffect:VG,useMemo:ZG,useReducer:jE,useRef:GG,useState:function(){return jE(dy)},useDebugValue:QI,useDeferredValue:function(e){var t=yl();return qG(t,Wi.memoizedState,e)},useTransition:function(){var e=jE(dy)[0],t=yl().memoizedState;return[e,t]},useMutableSource:$G,useSyncExternalStore:FG,useId:JG,unstable_isNewReconciler:!1},t0e={readContext:vl,useCallback:XG,useContext:vl,useEffect:zI,useImperativeHandle:KG,useInsertionEffect:WG,useLayoutEffect:VG,useMemo:ZG,useReducer:OE,useRef:GG,useState:function(){return OE(dy)},useDebugValue:QI,useDeferredValue:function(e){var t=yl();return Wi===null?t.memoizedState=e:qG(t,Wi.memoizedState,e)},useTransition:function(){var e=OE(dy)[0],t=yl().memoizedState;return[e,t]},useMutableSource:$G,useSyncExternalStore:FG,useId:JG,unstable_isNewReconciler:!1};function Wl(e,t){if(e&&e.defaultProps){t=ai({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function I_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ai({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var kw={isMounted:function(e){return(e=e._reactInternals)?Z0(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=so(),a=kh(e),o=Du(r,a);o.payload=t,n!=null&&(o.callback=n),t=Sh(e,o,a),t!==null&&(sc(t,e,a,r),o3(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=so(),a=kh(e),o=Du(r,a);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Sh(e,o,a),t!==null&&(sc(t,e,a,r),o3(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=so(),r=kh(e),a=Du(n,r);a.tag=2,t!=null&&(a.callback=t),t=Sh(e,a,r),t!==null&&(sc(t,e,r,n),o3(t,e,r))}};function XP(e,t,n,r,a,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!ry(n,r)||!ry(a,o):!0}function rW(e,t,n){var r=!1,a=$h,o=t.contextType;return typeof o=="object"&&o!==null?o=vl(o):(a=jo(t)?T0:Wa.current,r=t.contextTypes,o=(r=r!=null)?fm(e,a):$h),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kw,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function ZP(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&kw.enqueueReplaceState(t,t.state,null)}function k_(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},PI(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=vl(o):(o=jo(t)?T0:Wa.current,a.context=fm(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(I_(e,t,o,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&kw.enqueueReplaceState(a,a.state,null),LA(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function mm(e,t){try{var n="",r=t;do n+=khe(r),r=r.return;while(r);var a=n}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function zE(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function M_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var n0e=typeof WeakMap=="function"?WeakMap:Map;function iW(e,t,n){n=Du(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){OA||(OA=!0,j_=r),M_(e,t)},n}function aW(e,t,n){n=Du(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){M_(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){M_(e,t),typeof r!="function"&&(Ih===null?Ih=new Set([this]):Ih.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function qP(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new n0e;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=m0e.bind(null,e,t,n),t.then(e,e))}function JP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function eL(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Du(-1,1),t.tag=2,Sh(n,t,1))),n.lanes|=1),e)}var r0e=lf.ReactCurrentOwner,No=!1;function no(e,t,n,r){t.child=e===null?DG(t,null,n,r):pm(t,e.child,n,r)}function tL(e,t,n,r,a){n=n.render;var o=t.ref;return Kg(t,a),r=jI(e,t,n,r,o,a),n=OI(),e!==null&&!No?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vu(e,t,a)):(Gr&&n&&II(t),t.flags|=1,no(e,t,r,a),t.child)}function nL(e,t,n,r,a){if(e===null){var o=n.type;return typeof o=="function"&&!ZI(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,oW(e,t,o,r,a)):(e=f3(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ry,n(s,r)&&e.ref===t.ref)return Vu(e,t,a)}return t.flags|=1,e=Mh(o,r),e.ref=t.ref,e.return=t,t.child=e}function oW(e,t,n,r,a){if(e!==null){var o=e.memoizedProps;if(ry(o,r)&&e.ref===t.ref)if(No=!1,t.pendingProps=r=o,(e.lanes&a)!==0)e.flags&131072&&(No=!0);else return t.lanes=e.lanes,Vu(e,t,a)}return T_(e,t,n,r,a)}function sW(e,t,n){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ir(_g,ms),ms|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ir(_g,ms),ms|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ir(_g,ms),ms|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ir(_g,ms),ms|=r;return no(e,t,a,n),t.child}function lW(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function T_(e,t,n,r,a){var o=jo(n)?T0:Wa.current;return o=fm(t,o),Kg(t,a),n=jI(e,t,n,r,o,a),r=OI(),e!==null&&!No?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vu(e,t,a)):(Gr&&r&&II(t),t.flags|=1,no(e,t,n,a),t.child)}function rL(e,t,n,r,a){if(jo(n)){var o=!0;TA(t)}else o=!1;if(Kg(t,a),t.stateNode===null)c3(e,t),rW(t,n,r),k_(t,n,r,a),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var d=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=vl(u):(u=jo(n)?T0:Wa.current,u=fm(t,u));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||d!==u)&&ZP(t,s,r,u),Zf=!1;var g=t.memoizedState;s.state=g,LA(t,r,s,a),d=t.memoizedState,l!==r||g!==d||Fo.current||Zf?(typeof f=="function"&&(I_(t,n,f,r),d=t.memoizedState),(l=Zf||XP(t,n,l,r,g,d,u))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),s.props=r,s.state=d,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,LG(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Wl(t.type,l),s.props=u,p=t.pendingProps,g=s.context,d=n.contextType,typeof d=="object"&&d!==null?d=vl(d):(d=jo(n)?T0:Wa.current,d=fm(t,d));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||g!==d)&&ZP(t,s,r,d),Zf=!1,g=t.memoizedState,s.state=g,LA(t,r,s,a);var c=t.memoizedState;l!==p||g!==c||Fo.current||Zf?(typeof v=="function"&&(I_(t,n,v,r),c=t.memoizedState),(u=Zf||XP(t,n,u,r,g,c,d)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,c,d),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,c,d)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=d,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return B_(e,t,n,r,o,a)}function B_(e,t,n,r,a,o){lW(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return a&&zP(t,n,!1),Vu(e,t,o);r=t.stateNode,r0e.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=pm(t,e.child,null,o),t.child=pm(t,null,l,o)):no(e,t,l,o),t.memoizedState=r.state,a&&zP(t,n,!0),t.child}function cW(e){var t=e.stateNode;t.pendingContext?OP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&OP(e,t.context,!1),LI(e,t.containerInfo)}function iL(e,t,n,r,a){return hm(),MI(a),t.flags|=256,no(e,t,n,r),t.child}var R_={dehydrated:null,treeContext:null,retryLane:0};function D_(e){return{baseLanes:e,cachePool:null,transitions:null}}function dW(e,t,n){var r=t.pendingProps,a=Jr.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ir(Jr,a&1),e===null)return C_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Bw(s,r,0,null),e=y0(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=D_(n),t.memoizedState=R_,e):HI(t,s));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return i0e(e,t,s,r,l,a,n);if(o){o=r.fallback,s=t.mode,a=e.child,l=a.sibling;var d={mode:"hidden",children:r.children};return!(s&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=Mh(a,d),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Mh(l,o):(o=y0(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?D_(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=R_,r}return o=e.child,e=o.sibling,r=Mh(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function HI(e,t){return t=Bw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function V6(e,t,n,r){return r!==null&&MI(r),pm(t,e.child,null,n),e=HI(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function i0e(e,t,n,r,a,o,s){if(n)return t.flags&256?(t.flags&=-257,r=zE(Error(ct(422))),V6(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Bw({mode:"visible",children:r.children},a,0,null),o=y0(o,a,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&pm(t,e.child,null,s),t.child.memoizedState=D_(s),t.memoizedState=R_,o);if(!(t.mode&1))return V6(e,t,s,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(ct(419)),r=zE(o,r,void 0),V6(e,t,s,r)}if(l=(s&e.childLanes)!==0,No||l){if(r=ma,r!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|s)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Wu(e,a),sc(r,e,a,-1))}return XI(),r=zE(Error(ct(421))),V6(e,t,s,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=U0e.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ys=Ch(a.nextSibling),xs=t,Gr=!0,ql=null,e!==null&&(rl[il++]=Cu,rl[il++]=Su,rl[il++]=B0,Cu=e.id,Su=e.overflow,B0=t),t=HI(t,r.children),t.flags|=4096,t)}function aL(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),S_(e.return,t,n)}function QE(e,t,n,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function uW(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(no(e,t,r.children,n),r=Jr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&aL(e,n,t);else if(e.tag===19)aL(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ir(Jr,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&NA(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),QE(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&NA(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}QE(t,!0,n,null,o);break;case"together":QE(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function c3(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vu(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),D0|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ct(153));if(t.child!==null){for(e=t.child,n=Mh(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mh(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function a0e(e,t,n){switch(t.tag){case 3:cW(t),hm();break;case 5:NG(t);break;case 1:jo(t.type)&&TA(t);break;case 4:LI(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ir(DA,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ir(Jr,Jr.current&1),t.flags|=128,null):n&t.child.childLanes?dW(e,t,n):(Ir(Jr,Jr.current&1),e=Vu(e,t,n),e!==null?e.sibling:null);Ir(Jr,Jr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return uW(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ir(Jr,Jr.current),r)break;return null;case 22:case 23:return t.lanes=0,sW(e,t,n)}return Vu(e,t,n)}var fW,P_,hW,pW;fW=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};P_=function(){};hW=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,o0(gd.current);var o=null;switch(n){case"input":a=r_(e,a),r=r_(e,r),o=[];break;case"select":a=ai({},a,{value:void 0}),r=ai({},r,{value:void 0}),o=[];break;case"textarea":a=o_(e,a),r=o_(e,r),o=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=kA)}l_(n,r);var s;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xv.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var d=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&d!==l&&(d!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in d)d.hasOwnProperty(s)&&l[s]!==d[s]&&(n||(n={}),n[s]=d[s])}else n||(o||(o=[]),o.push(u,n)),n=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(o=o||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xv.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&Br("scroll",e),o||l===d||(o=[])):(o=o||[]).push(u,d))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};pW=function(e,t,n,r){n!==r&&(t.flags|=4)};function z2(e,t){if(!Gr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ba(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function o0e(e,t,n){var r=t.pendingProps;switch(kI(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ba(t),null;case 1:return jo(t.type)&&MA(),Ba(t),null;case 3:return r=t.stateNode,gm(),Fr(Fo),Fr(Wa),$I(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(G6(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ql!==null&&(Q_(ql),ql=null))),P_(e,t),Ba(t),null;case 5:NI(t);var a=o0(ly.current);if(n=t.type,e!==null&&t.stateNode!=null)hW(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ct(166));return Ba(t),null}if(e=o0(gd.current),G6(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[rd]=t,r[oy]=o,e=(t.mode&1)!==0,n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(a=0;a<MU.length;a++)Br(MU[a],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":pP(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":mP(r,o),Br("invalid",r)}l_(n,o),a=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&H6(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&H6(r.textContent,l,e),a=["children",""+l]):Xv.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Br("scroll",r)}switch(n){case"input":L6(r),gP(r,o,!0);break;case"textarea":L6(r),UP(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=kA)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zH(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[rd]=t,e[oy]=r,fW(e,t,!1,!1),t.stateNode=e;e:{switch(s=c_(n,r),n){case"dialog":Br("cancel",e),Br("close",e),a=r;break;case"iframe":case"object":case"embed":Br("load",e),a=r;break;case"video":case"audio":for(a=0;a<MU.length;a++)Br(MU[a],e);a=r;break;case"source":Br("error",e),a=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),a=r;break;case"details":Br("toggle",e),a=r;break;case"input":pP(e,r),a=r_(e,r),Br("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=ai({},r,{value:void 0}),Br("invalid",e);break;case"textarea":mP(e,r),a=o_(e,r),Br("invalid",e);break;default:a=r}l_(n,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var d=l[o];o==="style"?GH(e,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&QH(e,d)):o==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Zv(e,d):typeof d=="number"&&Zv(e,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Xv.hasOwnProperty(o)?d!=null&&o==="onScroll"&&Br("scroll",e):d!=null&&pI(e,o,d,s))}switch(n){case"input":L6(e),gP(e,r,!1);break;case"textarea":L6(e),UP(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Nh(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Gg(e,!!r.multiple,o,!1):r.defaultValue!=null&&Gg(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=kA)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ba(t),null;case 6:if(e&&t.stateNode!=null)pW(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ct(166));if(n=o0(ly.current),o0(gd.current),G6(t)){if(r=t.stateNode,n=t.memoizedProps,r[rd]=t,(o=r.nodeValue!==n)&&(e=xs,e!==null))switch(e.tag){case 3:H6(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&H6(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rd]=t,t.stateNode=r}return Ba(t),null;case 13:if(Fr(Jr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Gr&&ys!==null&&t.mode&1&&!(t.flags&128))BG(),hm(),t.flags|=98560,o=!1;else if(o=G6(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ct(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ct(317));o[rd]=t}else hm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ba(t),o=!1}else ql!==null&&(Q_(ql),ql=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Jr.current&1?Xi===0&&(Xi=3):XI())),t.updateQueue!==null&&(t.flags|=4),Ba(t),null);case 4:return gm(),P_(e,t),e===null&&iy(t.stateNode.containerInfo),Ba(t),null;case 10:return RI(t.type._context),Ba(t),null;case 17:return jo(t.type)&&MA(),Ba(t),null;case 19:if(Fr(Jr),o=t.memoizedState,o===null)return Ba(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)z2(o,!1);else{if(Xi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=NA(e),s!==null){for(t.flags|=128,z2(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ir(Jr,Jr.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ci()>Um&&(t.flags|=128,r=!0,z2(o,!1),t.lanes=4194304)}else{if(!r)if(e=NA(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),z2(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Gr)return Ba(t),null}else 2*Ci()-o.renderingStartTime>Um&&n!==1073741824&&(t.flags|=128,r=!0,z2(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ci(),t.sibling=null,n=Jr.current,Ir(Jr,r?n&1|2:n&1),t):(Ba(t),null);case 22:case 23:return KI(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ms&1073741824&&(Ba(t),t.subtreeFlags&6&&(t.flags|=8192)):Ba(t),null;case 24:return null;case 25:return null}throw Error(ct(156,t.tag))}function s0e(e,t){switch(kI(t),t.tag){case 1:return jo(t.type)&&MA(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gm(),Fr(Fo),Fr(Wa),$I(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return NI(t),null;case 13:if(Fr(Jr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ct(340));hm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fr(Jr),null;case 4:return gm(),null;case 10:return RI(t.type._context),null;case 22:case 23:return KI(),null;case 24:return null;default:return null}}var Y6=!1,$a=!1,l0e=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function xg(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pi(e,t,r)}else n.current=null}function L_(e,t,n){try{n()}catch(r){pi(e,t,r)}}var oL=!1;function c0e(e,t){if(y_=CA,e=yG(),SI(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,d=-1,u=0,f=0,p=e,g=null;t:for(;;){for(var v;p!==n||a!==0&&p.nodeType!==3||(l=s+a),p!==o||r!==0&&p.nodeType!==3||(d=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(v=p.firstChild)!==null;)g=p,p=v;for(;;){if(p===e)break t;if(g===n&&++u===a&&(l=s),g===o&&++f===r&&(d=s),(v=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=v}n=l===-1||d===-1?null:{start:l,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(b_={focusedElem:e,selectionRange:n},CA=!1,Tt=t;Tt!==null;)if(t=Tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Tt=e;else for(;Tt!==null;){t=Tt;try{var c=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(c!==null){var h=c.memoizedProps,m=c.memoizedState,U=t.stateNode,b=U.getSnapshotBeforeUpdate(t.elementType===t.type?h:Wl(t.type,h),m);U.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ct(163))}}catch(E){pi(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Tt=e;break}Tt=t.return}return c=oL,oL=!1,c}function gv(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&L_(t,n,o)}a=a.next}while(a!==r)}}function Mw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function N_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gW(e){var t=e.alternate;t!==null&&(e.alternate=null,gW(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rd],delete t[oy],delete t[E_],delete t[Gpe],delete t[Wpe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mW(e){return e.tag===5||e.tag===3||e.tag===4}function sL(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mW(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=kA));else if(r!==4&&(e=e.child,e!==null))for($_(e,t,n),e=e.sibling;e!==null;)$_(e,t,n),e=e.sibling}function F_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(F_(e,t,n),e=e.sibling;e!==null;)F_(e,t,n),e=e.sibling}var ba=null,Zl=!1;function Sf(e,t,n){for(n=n.child;n!==null;)UW(e,t,n),n=n.sibling}function UW(e,t,n){if(pd&&typeof pd.onCommitFiberUnmount=="function")try{pd.onCommitFiberUnmount(ww,n)}catch{}switch(n.tag){case 5:$a||xg(n,t);case 6:var r=ba,a=Zl;ba=null,Sf(e,t,n),ba=r,Zl=a,ba!==null&&(Zl?(e=ba,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ba.removeChild(n.stateNode));break;case 18:ba!==null&&(Zl?(e=ba,n=n.stateNode,e.nodeType===8?LE(e.parentNode,n):e.nodeType===1&&LE(e,n),ty(e)):LE(ba,n.stateNode));break;case 4:r=ba,a=Zl,ba=n.stateNode.containerInfo,Zl=!0,Sf(e,t,n),ba=r,Zl=a;break;case 0:case 11:case 14:case 15:if(!$a&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var o=a,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&L_(n,t,s),a=a.next}while(a!==r)}Sf(e,t,n);break;case 1:if(!$a&&(xg(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pi(n,t,l)}Sf(e,t,n);break;case 21:Sf(e,t,n);break;case 22:n.mode&1?($a=(r=$a)||n.memoizedState!==null,Sf(e,t,n),$a=r):Sf(e,t,n);break;default:Sf(e,t,n)}}function lL(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new l0e),t.forEach(function(r){var a=v0e.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Bl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:ba=l.stateNode,Zl=!1;break e;case 3:ba=l.stateNode.containerInfo,Zl=!0;break e;case 4:ba=l.stateNode.containerInfo,Zl=!0;break e}l=l.return}if(ba===null)throw Error(ct(160));UW(o,s,a),ba=null,Zl=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(u){pi(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vW(t,e),t=t.sibling}function vW(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bl(t,e),Sc(e),r&4){try{gv(3,e,e.return),Mw(3,e)}catch(h){pi(e,e.return,h)}try{gv(5,e,e.return)}catch(h){pi(e,e.return,h)}}break;case 1:Bl(t,e),Sc(e),r&512&&n!==null&&xg(n,n.return);break;case 5:if(Bl(t,e),Sc(e),r&512&&n!==null&&xg(n,n.return),e.flags&32){var a=e.stateNode;try{Zv(a,"")}catch(h){pi(e,e.return,h)}}if(r&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&jH(a,o),c_(l,s);var u=c_(l,o);for(s=0;s<d.length;s+=2){var f=d[s],p=d[s+1];f==="style"?GH(a,p):f==="dangerouslySetInnerHTML"?QH(a,p):f==="children"?Zv(a,p):pI(a,f,p,u)}switch(l){case"input":i_(a,o);break;case"textarea":OH(a,o);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?Gg(a,!!o.multiple,v,!1):g!==!!o.multiple&&(o.defaultValue!=null?Gg(a,!!o.multiple,o.defaultValue,!0):Gg(a,!!o.multiple,o.multiple?[]:"",!1))}a[oy]=o}catch(h){pi(e,e.return,h)}}break;case 6:if(Bl(t,e),Sc(e),r&4){if(e.stateNode===null)throw Error(ct(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(h){pi(e,e.return,h)}}break;case 3:if(Bl(t,e),Sc(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ty(t.containerInfo)}catch(h){pi(e,e.return,h)}break;case 4:Bl(t,e),Sc(e);break;case 13:Bl(t,e),Sc(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(VI=Ci())),r&4&&lL(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?($a=(u=$a)||f,Bl(t,e),$a=u):Bl(t,e),Sc(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Tt=e,f=e.child;f!==null;){for(p=Tt=f;Tt!==null;){switch(g=Tt,v=g.child,g.tag){case 0:case 11:case 14:case 15:gv(4,g,g.return);break;case 1:xg(g,g.return);var c=g.stateNode;if(typeof c.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,c.props=t.memoizedProps,c.state=t.memoizedState,c.componentWillUnmount()}catch(h){pi(r,n,h)}}break;case 5:xg(g,g.return);break;case 22:if(g.memoizedState!==null){dL(p);continue}}v!==null?(v.return=g,Tt=v):dL(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{a=p.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,d=p.memoizedProps.style,s=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=HH("display",s))}catch(h){pi(e,e.return,h)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(h){pi(e,e.return,h)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Bl(t,e),Sc(e),r&4&&lL(e);break;case 21:break;default:Bl(t,e),Sc(e)}}function Sc(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mW(n)){var r=n;break e}n=n.return}throw Error(ct(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Zv(a,""),r.flags&=-33);var o=sL(e);F_(e,o,a);break;case 3:case 4:var s=r.stateNode.containerInfo,l=sL(e);$_(e,l,s);break;default:throw Error(ct(161))}}catch(d){pi(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function d0e(e,t,n){Tt=e,yW(e)}function yW(e,t,n){for(var r=(e.mode&1)!==0;Tt!==null;){var a=Tt,o=a.child;if(a.tag===22&&r){var s=a.memoizedState!==null||Y6;if(!s){var l=a.alternate,d=l!==null&&l.memoizedState!==null||$a;l=Y6;var u=$a;if(Y6=s,($a=d)&&!u)for(Tt=a;Tt!==null;)s=Tt,d=s.child,s.tag===22&&s.memoizedState!==null?uL(a):d!==null?(d.return=s,Tt=d):uL(a);for(;o!==null;)Tt=o,yW(o),o=o.sibling;Tt=a,Y6=l,$a=u}cL(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,Tt=o):cL(e)}}function cL(e){for(;Tt!==null;){var t=Tt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$a||Mw(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$a)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Wl(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&VP(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}VP(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&ty(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ct(163))}$a||t.flags&512&&N_(t)}catch(g){pi(t,t.return,g)}}if(t===e){Tt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Tt=n;break}Tt=t.return}}function dL(e){for(;Tt!==null;){var t=Tt;if(t===e){Tt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Tt=n;break}Tt=t.return}}function uL(e){for(;Tt!==null;){var t=Tt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Mw(4,t)}catch(d){pi(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(d){pi(t,a,d)}}var o=t.return;try{N_(t)}catch(d){pi(t,o,d)}break;case 5:var s=t.return;try{N_(t)}catch(d){pi(t,s,d)}}}catch(d){pi(t,t.return,d)}if(t===e){Tt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Tt=l;break}Tt=t.return}}var u0e=Math.ceil,jA=lf.ReactCurrentDispatcher,GI=lf.ReactCurrentOwner,fl=lf.ReactCurrentBatchConfig,Qn=0,ma=null,Bi=null,_a=0,ms=0,_g=Xh(0),Xi=0,fy=null,D0=0,Tw=0,WI=0,mv=null,To=null,VI=0,Um=1/0,cu=null,OA=!1,j_=null,Ih=null,K6=!1,hh=null,zA=0,Uv=0,O_=null,d3=-1,u3=0;function so(){return Qn&6?Ci():d3!==-1?d3:d3=Ci()}function kh(e){return e.mode&1?Qn&2&&_a!==0?_a&-_a:Ype.transition!==null?(u3===0&&(u3=rG()),u3):(e=cr,e!==0||(e=window.event,e=e===void 0?16:dG(e.type)),e):1}function sc(e,t,n,r){if(50<Uv)throw Uv=0,O_=null,Error(ct(185));rb(e,n,r),(!(Qn&2)||e!==ma)&&(e===ma&&(!(Qn&2)&&(Tw|=n),Xi===4&&ah(e,_a)),Oo(e,r),n===1&&Qn===0&&!(t.mode&1)&&(Um=Ci()+500,Sw&&Zh()))}function Oo(e,t){var n=e.callbackNode;Yhe(e,t);var r=_A(e,e===ma?_a:0);if(r===0)n!==null&&bP(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bP(n),t===1)e.tag===0?Vpe(fL.bind(null,e)):kG(fL.bind(null,e)),Qpe(function(){!(Qn&6)&&Zh()}),n=null;else{switch(iG(r)){case 1:n=yI;break;case 4:n=tG;break;case 16:n=xA;break;case 536870912:n=nG;break;default:n=xA}n=SW(n,bW.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bW(e,t){if(d3=-1,u3=0,Qn&6)throw Error(ct(327));var n=e.callbackNode;if(Xg()&&e.callbackNode!==n)return null;var r=_A(e,e===ma?_a:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=QA(e,r);else{t=r;var a=Qn;Qn|=2;var o=wW();(ma!==e||_a!==t)&&(cu=null,Um=Ci()+500,v0(e,t));do try{p0e();break}catch(l){AW(e,l)}while(!0);BI(),jA.current=o,Qn=a,Bi!==null?t=0:(ma=null,_a=0,t=Xi)}if(t!==0){if(t===2&&(a=p_(e),a!==0&&(r=a,t=z_(e,a))),t===1)throw n=fy,v0(e,0),ah(e,r),Oo(e,Ci()),n;if(t===6)ah(e,r);else{if(a=e.current.alternate,!(r&30)&&!f0e(a)&&(t=QA(e,r),t===2&&(o=p_(e),o!==0&&(r=o,t=z_(e,o))),t===1))throw n=fy,v0(e,0),ah(e,r),Oo(e,Ci()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(ct(345));case 2:Pp(e,To,cu);break;case 3:if(ah(e,r),(r&130023424)===r&&(t=VI+500-Ci(),10<t)){if(_A(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){so(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=w_(Pp.bind(null,e,To,cu),t);break}Pp(e,To,cu);break;case 4:if(ah(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-oc(r);o=1<<s,s=t[s],s>a&&(a=s),r&=~o}if(r=a,r=Ci()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*u0e(r/1960))-r,10<r){e.timeoutHandle=w_(Pp.bind(null,e,To,cu),r);break}Pp(e,To,cu);break;case 5:Pp(e,To,cu);break;default:throw Error(ct(329))}}}return Oo(e,Ci()),e.callbackNode===n?bW.bind(null,e):null}function z_(e,t){var n=mv;return e.current.memoizedState.isDehydrated&&(v0(e,t).flags|=256),e=QA(e,t),e!==2&&(t=To,To=n,t!==null&&Q_(t)),e}function Q_(e){To===null?To=e:To.push.apply(To,e)}function f0e(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!gc(o(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ah(e,t){for(t&=~WI,t&=~Tw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-oc(t),r=1<<n;e[n]=-1,t&=~r}}function fL(e){if(Qn&6)throw Error(ct(327));Xg();var t=_A(e,0);if(!(t&1))return Oo(e,Ci()),null;var n=QA(e,t);if(e.tag!==0&&n===2){var r=p_(e);r!==0&&(t=r,n=z_(e,r))}if(n===1)throw n=fy,v0(e,0),ah(e,t),Oo(e,Ci()),n;if(n===6)throw Error(ct(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pp(e,To,cu),Oo(e,Ci()),null}function YI(e,t){var n=Qn;Qn|=1;try{return e(t)}finally{Qn=n,Qn===0&&(Um=Ci()+500,Sw&&Zh())}}function P0(e){hh!==null&&hh.tag===0&&!(Qn&6)&&Xg();var t=Qn;Qn|=1;var n=fl.transition,r=cr;try{if(fl.transition=null,cr=1,e)return e()}finally{cr=r,fl.transition=n,Qn=t,!(Qn&6)&&Zh()}}function KI(){ms=_g.current,Fr(_g)}function v0(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zpe(n)),Bi!==null)for(n=Bi.return;n!==null;){var r=n;switch(kI(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&MA();break;case 3:gm(),Fr(Fo),Fr(Wa),$I();break;case 5:NI(r);break;case 4:gm();break;case 13:Fr(Jr);break;case 19:Fr(Jr);break;case 10:RI(r.type._context);break;case 22:case 23:KI()}n=n.return}if(ma=e,Bi=e=Mh(e.current,null),_a=ms=t,Xi=0,fy=null,WI=Tw=D0=0,To=mv=null,a0!==null){for(t=0;t<a0.length;t++)if(n=a0[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=a,r.next=s}n.pending=r}a0=null}return e}function AW(e,t){do{var n=Bi;try{if(BI(),s3.current=FA,$A){for(var r=ri.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}$A=!1}if(R0=0,fa=Wi=ri=null,pv=!1,cy=0,GI.current=null,n===null||n.return===null){Xi=1,fy=t,Bi=null;break}e:{var o=e,s=n.return,l=n,d=t;if(t=_a,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=JP(s);if(v!==null){v.flags&=-257,eL(v,s,l,o,t),v.mode&1&&qP(o,u,t),t=v,d=u;var c=t.updateQueue;if(c===null){var h=new Set;h.add(d),t.updateQueue=h}else c.add(d);break e}else{if(!(t&1)){qP(o,u,t),XI();break e}d=Error(ct(426))}}else if(Gr&&l.mode&1){var m=JP(s);if(m!==null){!(m.flags&65536)&&(m.flags|=256),eL(m,s,l,o,t),MI(mm(d,l));break e}}o=d=mm(d,l),Xi!==4&&(Xi=2),mv===null?mv=[o]:mv.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var U=iW(o,d,t);WP(o,U);break e;case 1:l=d;var b=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ih===null||!Ih.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var E=aW(o,l,t);WP(o,E);break e}}o=o.return}while(o!==null)}xW(n)}catch(x){t=x,Bi===n&&n!==null&&(Bi=n=n.return);continue}break}while(!0)}function wW(){var e=jA.current;return jA.current=FA,e===null?FA:e}function XI(){(Xi===0||Xi===3||Xi===2)&&(Xi=4),ma===null||!(D0&268435455)&&!(Tw&268435455)||ah(ma,_a)}function QA(e,t){var n=Qn;Qn|=2;var r=wW();(ma!==e||_a!==t)&&(cu=null,v0(e,t));do try{h0e();break}catch(a){AW(e,a)}while(!0);if(BI(),Qn=n,jA.current=r,Bi!==null)throw Error(ct(261));return ma=null,_a=0,Xi}function h0e(){for(;Bi!==null;)EW(Bi)}function p0e(){for(;Bi!==null&&!Fhe();)EW(Bi)}function EW(e){var t=CW(e.alternate,e,ms);e.memoizedProps=e.pendingProps,t===null?xW(e):Bi=t,GI.current=null}function xW(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=s0e(n,t),n!==null){n.flags&=32767,Bi=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xi=6,Bi=null;return}}else if(n=o0e(n,t,ms),n!==null){Bi=n;return}if(t=t.sibling,t!==null){Bi=t;return}Bi=t=e}while(t!==null);Xi===0&&(Xi=5)}function Pp(e,t,n){var r=cr,a=fl.transition;try{fl.transition=null,cr=1,g0e(e,t,n,r)}finally{fl.transition=a,cr=r}return null}function g0e(e,t,n,r){do Xg();while(hh!==null);if(Qn&6)throw Error(ct(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ct(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Khe(e,o),e===ma&&(Bi=ma=null,_a=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||K6||(K6=!0,SW(xA,function(){return Xg(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=fl.transition,fl.transition=null;var s=cr;cr=1;var l=Qn;Qn|=4,GI.current=null,c0e(e,n),vW(n,e),Ppe(b_),CA=!!y_,b_=y_=null,e.current=n,d0e(n),jhe(),Qn=l,cr=s,fl.transition=o}else e.current=n;if(K6&&(K6=!1,hh=e,zA=a),o=e.pendingLanes,o===0&&(Ih=null),Qhe(n.stateNode),Oo(e,Ci()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(OA)throw OA=!1,e=j_,j_=null,e;return zA&1&&e.tag!==0&&Xg(),o=e.pendingLanes,o&1?e===O_?Uv++:(Uv=0,O_=e):Uv=0,Zh(),null}function Xg(){if(hh!==null){var e=iG(zA),t=fl.transition,n=cr;try{if(fl.transition=null,cr=16>e?16:e,hh===null)var r=!1;else{if(e=hh,hh=null,zA=0,Qn&6)throw Error(ct(331));var a=Qn;for(Qn|=4,Tt=e.current;Tt!==null;){var o=Tt,s=o.child;if(Tt.flags&16){var l=o.deletions;if(l!==null){for(var d=0;d<l.length;d++){var u=l[d];for(Tt=u;Tt!==null;){var f=Tt;switch(f.tag){case 0:case 11:case 15:gv(8,f,o)}var p=f.child;if(p!==null)p.return=f,Tt=p;else for(;Tt!==null;){f=Tt;var g=f.sibling,v=f.return;if(gW(f),f===u){Tt=null;break}if(g!==null){g.return=v,Tt=g;break}Tt=v}}}var c=o.alternate;if(c!==null){var h=c.child;if(h!==null){c.child=null;do{var m=h.sibling;h.sibling=null,h=m}while(h!==null)}}Tt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Tt=s;else e:for(;Tt!==null;){if(o=Tt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:gv(9,o,o.return)}var U=o.sibling;if(U!==null){U.return=o.return,Tt=U;break e}Tt=o.return}}var b=e.current;for(Tt=b;Tt!==null;){s=Tt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Tt=w;else e:for(s=b;Tt!==null;){if(l=Tt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Mw(9,l)}}catch(x){pi(l,l.return,x)}if(l===s){Tt=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,Tt=E;break e}Tt=l.return}}if(Qn=a,Zh(),pd&&typeof pd.onPostCommitFiberRoot=="function")try{pd.onPostCommitFiberRoot(ww,e)}catch{}r=!0}return r}finally{cr=n,fl.transition=t}}return!1}function hL(e,t,n){t=mm(n,t),t=iW(e,t,1),e=Sh(e,t,1),t=so(),e!==null&&(rb(e,1,t),Oo(e,t))}function pi(e,t,n){if(e.tag===3)hL(e,e,n);else for(;t!==null;){if(t.tag===3){hL(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ih===null||!Ih.has(r))){e=mm(n,e),e=aW(t,e,1),t=Sh(t,e,1),e=so(),t!==null&&(rb(t,1,e),Oo(t,e));break}}t=t.return}}function m0e(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=so(),e.pingedLanes|=e.suspendedLanes&n,ma===e&&(_a&n)===n&&(Xi===4||Xi===3&&(_a&130023424)===_a&&500>Ci()-VI?v0(e,0):WI|=n),Oo(e,t)}function _W(e,t){t===0&&(e.mode&1?(t=F6,F6<<=1,!(F6&130023424)&&(F6=4194304)):t=1);var n=so();e=Wu(e,t),e!==null&&(rb(e,t,n),Oo(e,n))}function U0e(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_W(e,n)}function v0e(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ct(314))}r!==null&&r.delete(t),_W(e,n)}var CW;CW=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fo.current)No=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return No=!1,a0e(e,t,n);No=!!(e.flags&131072)}else No=!1,Gr&&t.flags&1048576&&MG(t,RA,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;c3(e,t),e=t.pendingProps;var a=fm(t,Wa.current);Kg(t,n),a=jI(null,t,r,e,a,n);var o=OI();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jo(r)?(o=!0,TA(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,PI(t),a.updater=kw,t.stateNode=a,a._reactInternals=t,k_(t,r,e,n),t=B_(null,t,r,!0,o,n)):(t.tag=0,Gr&&o&&II(t),no(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(c3(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=b0e(r),e=Wl(r,e),a){case 0:t=T_(null,t,r,e,n);break e;case 1:t=rL(null,t,r,e,n);break e;case 11:t=tL(null,t,r,e,n);break e;case 14:t=nL(null,t,r,Wl(r.type,e),n);break e}throw Error(ct(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Wl(r,a),T_(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Wl(r,a),rL(e,t,r,a,n);case 3:e:{if(cW(t),e===null)throw Error(ct(387));r=t.pendingProps,o=t.memoizedState,a=o.element,LG(e,t),LA(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=mm(Error(ct(423)),t),t=iL(e,t,r,n,a);break e}else if(r!==a){a=mm(Error(ct(424)),t),t=iL(e,t,r,n,a);break e}else for(ys=Ch(t.stateNode.containerInfo.firstChild),xs=t,Gr=!0,ql=null,n=DG(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hm(),r===a){t=Vu(e,t,n);break e}no(e,t,r,n)}t=t.child}return t;case 5:return NG(t),e===null&&C_(t),r=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,s=a.children,A_(r,a)?s=null:o!==null&&A_(r,o)&&(t.flags|=32),lW(e,t),no(e,t,s,n),t.child;case 6:return e===null&&C_(t),null;case 13:return dW(e,t,n);case 4:return LI(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=pm(t,null,r,n):no(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Wl(r,a),tL(e,t,r,a,n);case 7:return no(e,t,t.pendingProps,n),t.child;case 8:return no(e,t,t.pendingProps.children,n),t.child;case 12:return no(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Ir(DA,r._currentValue),r._currentValue=s,o!==null)if(gc(o.value,s)){if(o.children===a.children&&!Fo.current){t=Vu(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var d=l.firstContext;d!==null;){if(d.context===r){if(o.tag===1){d=Du(-1,n&-n),d.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?d.next=d:(d.next=f.next,f.next=d),u.pending=d}}o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),S_(o.return,n,t),l.lanes|=n;break}d=d.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ct(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),S_(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}no(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Kg(t,n),a=vl(a),r=r(a),t.flags|=1,no(e,t,r,n),t.child;case 14:return r=t.type,a=Wl(r,t.pendingProps),a=Wl(r.type,a),nL(e,t,r,a,n);case 15:return oW(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Wl(r,a),c3(e,t),t.tag=1,jo(r)?(e=!0,TA(t)):e=!1,Kg(t,n),rW(t,r,a),k_(t,r,a,n),B_(null,t,r,!0,e,n);case 19:return uW(e,t,n);case 22:return sW(e,t,n)}throw Error(ct(156,t.tag))};function SW(e,t){return eG(e,t)}function y0e(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ll(e,t,n,r){return new y0e(e,t,n,r)}function ZI(e){return e=e.prototype,!(!e||!e.isReactComponent)}function b0e(e){if(typeof e=="function")return ZI(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mI)return 11;if(e===UI)return 14}return 2}function Mh(e,t){var n=e.alternate;return n===null?(n=ll(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function f3(e,t,n,r,a,o){var s=2;if(r=e,typeof e=="function")ZI(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case gg:return y0(n.children,a,o,t);case gI:s=8,a|=8;break;case J9:return e=ll(12,n,t,a|2),e.elementType=J9,e.lanes=o,e;case e_:return e=ll(13,n,t,a),e.elementType=e_,e.lanes=o,e;case t_:return e=ll(19,n,t,a),e.elementType=t_,e.lanes=o,e;case NH:return Bw(n,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case PH:s=10;break e;case LH:s=9;break e;case mI:s=11;break e;case UI:s=14;break e;case Xf:s=16,r=null;break e}throw Error(ct(130,e==null?e:typeof e,""))}return t=ll(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function y0(e,t,n,r){return e=ll(7,e,r,t),e.lanes=n,e}function Bw(e,t,n,r){return e=ll(22,e,r,t),e.elementType=NH,e.lanes=n,e.stateNode={isHidden:!1},e}function HE(e,t,n){return e=ll(6,e,null,t),e.lanes=n,e}function GE(e,t,n){return t=ll(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function A0e(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_E(0),this.expirationTimes=_E(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_E(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function qI(e,t,n,r,a,o,s,l,d){return e=new A0e(e,t,n,l,d),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ll(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},PI(o),e}function w0e(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pg,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function IW(e){if(!e)return $h;e=e._reactInternals;e:{if(Z0(e)!==e||e.tag!==1)throw Error(ct(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ct(171))}if(e.tag===1){var n=e.type;if(jo(n))return IG(e,n,t)}return t}function kW(e,t,n,r,a,o,s,l,d){return e=qI(n,r,!0,e,a,o,s,l,d),e.context=IW(null),n=e.current,r=so(),a=kh(n),o=Du(r,a),o.callback=t??null,Sh(n,o,a),e.current.lanes=a,rb(e,a,r),Oo(e,r),e}function Rw(e,t,n,r){var a=t.current,o=so(),s=kh(a);return n=IW(n),t.context===null?t.context=n:t.pendingContext=n,t=Du(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Sh(a,t,s),e!==null&&(sc(e,a,s,o),o3(e,a,s)),s}function HA(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pL(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function JI(e,t){pL(e,t),(e=e.alternate)&&pL(e,t)}function E0e(){return null}var MW=typeof reportError=="function"?reportError:function(e){console.error(e)};function ek(e){this._internalRoot=e}Dw.prototype.render=ek.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ct(409));Rw(e,t,null,null)};Dw.prototype.unmount=ek.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;P0(function(){Rw(null,e,null,null)}),t[Gu]=null}};function Dw(e){this._internalRoot=e}Dw.prototype.unstable_scheduleHydration=function(e){if(e){var t=sG();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ih.length&&t!==0&&t<ih[n].priority;n++);ih.splice(n,0,e),n===0&&cG(e)}};function tk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gL(){}function x0e(e,t,n,r,a){if(a){if(typeof r=="function"){var o=r;r=function(){var u=HA(s);o.call(u)}}var s=kW(t,r,e,0,null,!1,!1,"",gL);return e._reactRootContainer=s,e[Gu]=s.current,iy(e.nodeType===8?e.parentNode:e),P0(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=HA(d);l.call(u)}}var d=qI(e,0,!1,null,null,!1,!1,"",gL);return e._reactRootContainer=d,e[Gu]=d.current,iy(e.nodeType===8?e.parentNode:e),P0(function(){Rw(t,d,n,r)}),d}function Lw(e,t,n,r,a){var o=n._reactRootContainer;if(o){var s=o;if(typeof a=="function"){var l=a;a=function(){var d=HA(s);l.call(d)}}Rw(t,s,e,a)}else s=x0e(n,t,e,a,r);return HA(s)}aG=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=kU(t.pendingLanes);n!==0&&(bI(t,n|1),Oo(t,Ci()),!(Qn&6)&&(Um=Ci()+500,Zh()))}break;case 13:P0(function(){var r=Wu(e,1);if(r!==null){var a=so();sc(r,e,1,a)}}),JI(e,1)}};AI=function(e){if(e.tag===13){var t=Wu(e,134217728);if(t!==null){var n=so();sc(t,e,134217728,n)}JI(e,134217728)}};oG=function(e){if(e.tag===13){var t=kh(e),n=Wu(e,t);if(n!==null){var r=so();sc(n,e,t,r)}JI(e,t)}};sG=function(){return cr};lG=function(e,t){var n=cr;try{return cr=e,t()}finally{cr=n}};u_=function(e,t,n){switch(t){case"input":if(i_(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Cw(r);if(!a)throw Error(ct(90));FH(r),i_(r,a)}}}break;case"textarea":OH(e,n);break;case"select":t=n.value,t!=null&&Gg(e,!!n.multiple,t,!1)}};YH=YI;KH=P0;var _0e={usingClientEntryPoint:!1,Events:[ab,yg,Cw,WH,VH,YI]},Q2={findFiberByHostInstance:i0,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C0e={bundleType:Q2.bundleType,version:Q2.version,rendererPackageName:Q2.rendererPackageName,rendererConfig:Q2.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lf.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qH(e),e===null?null:e.stateNode},findFiberByHostInstance:Q2.findFiberByHostInstance||E0e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var X6=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!X6.isDisabled&&X6.supportsFiber)try{ww=X6.inject(C0e),pd=X6}catch{}}Rs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_0e;Rs.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tk(t))throw Error(ct(200));return w0e(e,t,null,n)};Rs.createRoot=function(e,t){if(!tk(e))throw Error(ct(299));var n=!1,r="",a=MW;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=qI(e,1,!1,null,null,n,!1,r,a),e[Gu]=t.current,iy(e.nodeType===8?e.parentNode:e),new ek(t)};Rs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ct(188)):(e=Object.keys(e).join(","),Error(ct(268,e)));return e=qH(t),e=e===null?null:e.stateNode,e};Rs.flushSync=function(e){return P0(e)};Rs.hydrate=function(e,t,n){if(!Pw(t))throw Error(ct(200));return Lw(null,e,t,!0,n)};Rs.hydrateRoot=function(e,t,n){if(!tk(e))throw Error(ct(405));var r=n!=null&&n.hydratedSources||null,a=!1,o="",s=MW;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=kW(t,null,e,1,n??null,a,!1,o,s),e[Gu]=t.current,iy(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Dw(t)};Rs.render=function(e,t,n){if(!Pw(t))throw Error(ct(200));return Lw(null,e,t,!1,n)};Rs.unmountComponentAtNode=function(e){if(!Pw(e))throw Error(ct(40));return e._reactRootContainer?(P0(function(){Lw(null,null,e,!1,function(){e._reactRootContainer=null,e[Gu]=null})}),!0):!1};Rs.unstable_batchedUpdates=YI;Rs.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Pw(n))throw Error(ct(200));if(e==null||e._reactInternals===void 0)throw Error(ct(38));return Lw(e,t,n,!1,r)};Rs.version="18.3.1-next-f1338f8080-20240426";function TW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TW)}catch(e){console.error(e)}}TW(),TH.exports=Rs;var BW=TH.exports;const S0e=oI(BW),I0e=AH({__proto__:null,default:S0e},[BW]);window.React=whe;window.ReactDOM=I0e;/**
* @vue/shared v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function nk(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const br={},Zg=[],qi=()=>{},k0e=()=>!1,Nw=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),rk=e=>e.startsWith("onUpdate:"),Li=Object.assign,ik=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},M0e=Object.prototype.hasOwnProperty,Fn=(e,t)=>M0e.call(e,t),jt=Array.isArray,qg=e=>sb(e)==="[object Map]",RW=e=>sb(e)==="[object Set]",T0e=e=>sb(e)==="[object RegExp]",Bt=e=>typeof e=="function",cn=e=>typeof e=="string",qh=e=>typeof e=="symbol",Ln=e=>e!==null&&typeof e=="object",GA=e=>(Ln(e)||Bt(e))&&Bt(e.then)&&Bt(e.catch),DW=Object.prototype.toString,sb=e=>DW.call(e),B0e=e=>sb(e).slice(8,-1),PW=e=>sb(e)==="[object Object]",ak=e=>cn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,vv=nk(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$w=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},R0e=/-(\w)/g,ks=$w(e=>e.replace(R0e,(t,n)=>n?n.toUpperCase():"")),D0e=/\B([A-Z])/g,cf=$w(e=>e.replace(D0e,"-$1").toLowerCase()),lb=$w(e=>e.charAt(0).toUpperCase()+e.slice(1)),WE=$w(e=>e?`on${lb(e)}`:""),Fh=(e,t)=>!Object.is(e,t),Jg=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},LW=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},H_=e=>{const t=parseFloat(e);return isNaN(t)?e:t},P0e=e=>{const t=cn(e)?Number(e):NaN;return isNaN(t)?e:t};let mL;const NW=()=>mL||(mL=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ii(e){if(jt(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=cn(r)?F0e(r):Ii(r);if(a)for(const o in a)t[o]=a[o]}return t}else if(cn(e)||Ln(e))return e}const L0e=/;(?![^(]*\))/g,N0e=/:([^]+)/,$0e=/\/\*[^]*?\*\//g;function F0e(e){const t={};return e.replace($0e,"").split(L0e).forEach(n=>{if(n){const r=n.split(N0e);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function ft(e){let t="";if(cn(e))t=e;else if(jt(e))for(let n=0;n<e.length;n++){const r=ft(e[n]);r&&(t+=r+" ")}else if(Ln(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function j0e(e){if(!e)return null;let{class:t,style:n}=e;return t&&!cn(t)&&(e.class=ft(t)),n&&(e.style=Ii(n)),e}const O0e="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",z0e=nk(O0e);function $W(e){return!!e||e===""}const FW=e=>!!(e&&e.__v_isRef===!0),Wr=e=>cn(e)?e:e==null?"":jt(e)||Ln(e)&&(e.toString===DW||!Bt(e.toString))?FW(e)?Wr(e.value):JSON.stringify(e,jW,2):String(e),jW=(e,t)=>FW(t)?jW(e,t.value):qg(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,a],o)=>(n[VE(r,o)+" =>"]=a,n),{})}:RW(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>VE(n))}:qh(t)?VE(t):Ln(t)&&!jt(t)&&!PW(t)?String(t):t,VE=(e,t="")=>{var n;return qh(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ro;class OW{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ro,!t&&ro&&(this.index=(ro.scopes||(ro.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ro;try{return ro=this,t()}finally{ro=n}}}on(){ro=this}off(){ro=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function zW(e){return new OW(e)}function ok(){return ro}function sk(e,t=!1){ro&&ro.cleanups.push(e)}let Sr;const YE=new WeakSet;class QW{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ro&&ro.active&&ro.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,YE.has(this)&&(YE.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||GW(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,UL(this),WW(this);const t=Sr,n=lc;Sr=this,lc=!0;try{return this.fn()}finally{VW(this),Sr=t,lc=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)dk(t);this.deps=this.depsTail=void 0,UL(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?YE.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){G_(this)&&this.run()}get dirty(){return G_(this)}}let HW=0,yv,bv;function GW(e,t=!1){if(e.flags|=8,t){e.next=bv,bv=e;return}e.next=yv,yv=e}function lk(){HW++}function ck(){if(--HW>0)return;if(bv){let t=bv;for(bv=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;yv;){let t=yv;for(yv=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function WW(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function VW(e){let t,n=e.depsTail,r=n;for(;r;){const a=r.prevDep;r.version===-1?(r===n&&(n=a),dk(r),Q0e(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=a}e.deps=t,e.depsTail=n}function G_(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(YW(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function YW(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===hy))return;e.globalVersion=hy;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!G_(e)){e.flags&=-3;return}const n=Sr,r=lc;Sr=e,lc=!0;try{WW(e);const a=e.fn(e._value);(t.version===0||Fh(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Sr=n,lc=r,VW(e),e.flags&=-3}}function dk(e,t=!1){const{dep:n,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r),!n.subs&&n.computed){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)dk(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Q0e(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let lc=!0;const KW=[];function Jh(){KW.push(lc),lc=!1}function ep(){const e=KW.pop();lc=e===void 0?!0:e}function UL(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Sr;Sr=void 0;try{t()}finally{Sr=n}}}let hy=0;class H0e{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class uk{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Sr||!lc||Sr===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Sr)n=this.activeLink=new H0e(Sr,this),Sr.deps?(n.prevDep=Sr.depsTail,Sr.depsTail.nextDep=n,Sr.depsTail=n):Sr.deps=Sr.depsTail=n,XW(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Sr.depsTail,n.nextDep=void 0,Sr.depsTail.nextDep=n,Sr.depsTail=n,Sr.deps===n&&(Sr.deps=r)}return n}trigger(t){this.version++,hy++,this.notify(t)}notify(t){lk();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ck()}}}function XW(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)XW(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const WA=new WeakMap,b0=Symbol(""),W_=Symbol(""),py=Symbol("");function Va(e,t,n){if(lc&&Sr){let r=WA.get(e);r||WA.set(e,r=new Map);let a=r.get(n);a||(r.set(n,a=new uk),a.map=r,a.key=n),a.track()}}function Pu(e,t,n,r,a,o){const s=WA.get(e);if(!s){hy++;return}const l=d=>{d&&d.trigger()};if(lk(),t==="clear")s.forEach(l);else{const d=jt(e),u=d&&ak(n);if(d&&n==="length"){const f=Number(r);s.forEach((p,g)=>{(g==="length"||g===py||!qh(g)&&g>=f)&&l(p)})}else switch(n!==void 0&&l(s.get(n)),u&&l(s.get(py)),t){case"add":d?u&&l(s.get("length")):(l(s.get(b0)),qg(e)&&l(s.get(W_)));break;case"delete":d||(l(s.get(b0)),qg(e)&&l(s.get(W_)));break;case"set":qg(e)&&l(s.get(b0));break}}ck()}function G0e(e,t){const n=WA.get(e);return n&&n.get(t)}function E1(e){const t=Dn(e);return t===e?t:(Va(t,"iterate",py),hl(e)?t:t.map(Fa))}function Fw(e){return Va(e=Dn(e),"iterate",py),e}const W0e={__proto__:null,[Symbol.iterator](){return KE(this,Symbol.iterator,Fa)},concat(...e){return E1(this).concat(...e.map(t=>jt(t)?E1(t):t))},entries(){return KE(this,"entries",e=>(e[1]=Fa(e[1]),e))},every(e,t){return Yd(this,"every",e,t,void 0,arguments)},filter(e,t){return Yd(this,"filter",e,t,n=>n.map(Fa),arguments)},find(e,t){return Yd(this,"find",e,t,Fa,arguments)},findIndex(e,t){return Yd(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Yd(this,"findLast",e,t,Fa,arguments)},findLastIndex(e,t){return Yd(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Yd(this,"forEach",e,t,void 0,arguments)},includes(...e){return XE(this,"includes",e)},indexOf(...e){return XE(this,"indexOf",e)},join(e){return E1(this).join(e)},lastIndexOf(...e){return XE(this,"lastIndexOf",e)},map(e,t){return Yd(this,"map",e,t,void 0,arguments)},pop(){return H2(this,"pop")},push(...e){return H2(this,"push",e)},reduce(e,...t){return vL(this,"reduce",e,t)},reduceRight(e,...t){return vL(this,"reduceRight",e,t)},shift(){return H2(this,"shift")},some(e,t){return Yd(this,"some",e,t,void 0,arguments)},splice(...e){return H2(this,"splice",e)},toReversed(){return E1(this).toReversed()},toSorted(e){return E1(this).toSorted(e)},toSpliced(...e){return E1(this).toSpliced(...e)},unshift(...e){return H2(this,"unshift",e)},values(){return KE(this,"values",Fa)}};function KE(e,t,n){const r=Fw(e),a=r[t]();return r!==e&&!hl(e)&&(a._next=a.next,a.next=()=>{const o=a._next();return o.value&&(o.value=n(o.value)),o}),a}const V0e=Array.prototype;function Yd(e,t,n,r,a,o){const s=Fw(e),l=s!==e&&!hl(e),d=s[t];if(d!==V0e[t]){const p=d.apply(e,o);return l?Fa(p):p}let u=n;s!==e&&(l?u=function(p,g){return n.call(this,Fa(p),g,e)}:n.length>2&&(u=function(p,g){return n.call(this,p,g,e)}));const f=d.call(s,u,r);return l&&a?a(f):f}function vL(e,t,n,r){const a=Fw(e);let o=n;return a!==e&&(hl(e)?n.length>3&&(o=function(s,l,d){return n.call(this,s,l,d,e)}):o=function(s,l,d){return n.call(this,s,Fa(l),d,e)}),a[t](o,...r)}function XE(e,t,n){const r=Dn(e);Va(r,"iterate",py);const a=r[t](...n);return(a===-1||a===!1)&&mk(n[0])?(n[0]=Dn(n[0]),r[t](...n)):a}function H2(e,t,n=[]){Jh(),lk();const r=Dn(e)[t].apply(e,n);return ck(),ep(),r}const Y0e=nk("__proto__,__v_isRef,__isVue"),ZW=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(qh));function K0e(e){qh(e)||(e=String(e));const t=Dn(this);return Va(t,"has",e),t.hasOwnProperty(e)}class qW{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const a=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(a?o?l1e:nV:o?tV:eV).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const s=jt(t);if(!a){let d;if(s&&(d=W0e[n]))return d;if(n==="hasOwnProperty")return K0e}const l=Reflect.get(t,n,Ar(t)?t:r);return(qh(n)?ZW.has(n):Y0e(n))||(a||Va(t,"get",n),o)?l:Ar(l)?s&&ak(n)?l:l.value:Ln(l)?a?e2(l):Ji(l):l}}class JW extends qW{constructor(t=!1){super(!1,t)}set(t,n,r,a){let o=t[n];if(!this._isShallow){const d=L0(o);if(!hl(r)&&!L0(r)&&(o=Dn(o),r=Dn(r)),!jt(t)&&Ar(o)&&!Ar(r))return d?!1:(o.value=r,!0)}const s=jt(t)&&ak(n)?Number(n)<t.length:Fn(t,n),l=Reflect.set(t,n,r,Ar(t)?t:a);return t===Dn(a)&&(s?Fh(r,o)&&Pu(t,"set",n,r):Pu(t,"add",n,r)),l}deleteProperty(t,n){const r=Fn(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&Pu(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!qh(n)||!ZW.has(n))&&Va(t,"has",n),r}ownKeys(t){return Va(t,"iterate",jt(t)?"length":b0),Reflect.ownKeys(t)}}class X0e extends qW{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Z0e=new JW,q0e=new X0e,J0e=new JW(!0);const fk=e=>e,jw=e=>Reflect.getPrototypeOf(e);function Z6(e,t,n=!1,r=!1){e=e.__v_raw;const a=Dn(e),o=Dn(t);n||(Fh(t,o)&&Va(a,"get",t),Va(a,"get",o));const{has:s}=jw(a),l=r?fk:n?Uk:Fa;if(s.call(a,t))return l(e.get(t));if(s.call(a,o))return l(e.get(o));e!==a&&e.get(t)}function q6(e,t=!1){const n=this.__v_raw,r=Dn(n),a=Dn(e);return t||(Fh(e,a)&&Va(r,"has",e),Va(r,"has",a)),e===a?n.has(e):n.has(e)||n.has(a)}function J6(e,t=!1){return e=e.__v_raw,!t&&Va(Dn(e),"iterate",b0),Reflect.get(e,"size",e)}function yL(e,t=!1){!t&&!hl(e)&&!L0(e)&&(e=Dn(e));const n=Dn(this);return jw(n).has.call(n,e)||(n.add(e),Pu(n,"add",e,e)),this}function bL(e,t,n=!1){!n&&!hl(t)&&!L0(t)&&(t=Dn(t));const r=Dn(this),{has:a,get:o}=jw(r);let s=a.call(r,e);s||(e=Dn(e),s=a.call(r,e));const l=o.call(r,e);return r.set(e,t),s?Fh(t,l)&&Pu(r,"set",e,t):Pu(r,"add",e,t),this}function AL(e){const t=Dn(this),{has:n,get:r}=jw(t);let a=n.call(t,e);a||(e=Dn(e),a=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return a&&Pu(t,"delete",e,void 0),o}function wL(){const e=Dn(this),t=e.size!==0,n=e.clear();return t&&Pu(e,"clear",void 0,void 0),n}function e5(e,t){return function(r,a){const o=this,s=o.__v_raw,l=Dn(s),d=t?fk:e?Uk:Fa;return!e&&Va(l,"iterate",b0),s.forEach((u,f)=>r.call(a,d(u),d(f),o))}}function t5(e,t,n){return function(...r){const a=this.__v_raw,o=Dn(a),s=qg(o),l=e==="entries"||e===Symbol.iterator&&s,d=e==="keys"&&s,u=a[e](...r),f=n?fk:t?Uk:Fa;return!t&&Va(o,"iterate",d?W_:b0),{next(){const{value:p,done:g}=u.next();return g?{value:p,done:g}:{value:l?[f(p[0]),f(p[1])]:f(p),done:g}},[Symbol.iterator](){return this}}}}function If(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function e1e(){const e={get(o){return Z6(this,o)},get size(){return J6(this)},has:q6,add:yL,set:bL,delete:AL,clear:wL,forEach:e5(!1,!1)},t={get(o){return Z6(this,o,!1,!0)},get size(){return J6(this)},has:q6,add(o){return yL.call(this,o,!0)},set(o,s){return bL.call(this,o,s,!0)},delete:AL,clear:wL,forEach:e5(!1,!0)},n={get(o){return Z6(this,o,!0)},get size(){return J6(this,!0)},has(o){return q6.call(this,o,!0)},add:If("add"),set:If("set"),delete:If("delete"),clear:If("clear"),forEach:e5(!0,!1)},r={get(o){return Z6(this,o,!0,!0)},get size(){return J6(this,!0)},has(o){return q6.call(this,o,!0)},add:If("add"),set:If("set"),delete:If("delete"),clear:If("clear"),forEach:e5(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=t5(o,!1,!1),n[o]=t5(o,!0,!1),t[o]=t5(o,!1,!0),r[o]=t5(o,!0,!0)}),[e,n,t,r]}const[t1e,n1e,r1e,i1e]=e1e();function hk(e,t){const n=t?e?i1e:r1e:e?n1e:t1e;return(r,a,o)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(Fn(n,a)&&a in r?n:r,a,o)}const a1e={get:hk(!1,!1)},o1e={get:hk(!1,!0)},s1e={get:hk(!0,!1)};const eV=new WeakMap,tV=new WeakMap,nV=new WeakMap,l1e=new WeakMap;function c1e(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function d1e(e){return e.__v_skip||!Object.isExtensible(e)?0:c1e(B0e(e))}function Ji(e){return L0(e)?e:gk(e,!1,Z0e,a1e,eV)}function pk(e){return gk(e,!1,J0e,o1e,tV)}function e2(e){return gk(e,!0,q0e,s1e,nV)}function gk(e,t,n,r,a){if(!Ln(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=a.get(e);if(o)return o;const s=d1e(e);if(s===0)return e;const l=new Proxy(e,s===2?r:n);return a.set(e,l),l}function Lu(e){return L0(e)?Lu(e.__v_raw):!!(e&&e.__v_isReactive)}function L0(e){return!!(e&&e.__v_isReadonly)}function hl(e){return!!(e&&e.__v_isShallow)}function mk(e){return e?!!e.__v_raw:!1}function Dn(e){const t=e&&e.__v_raw;return t?Dn(t):e}function gy(e){return!Fn(e,"__v_skip")&&Object.isExtensible(e)&&LW(e,"__v_skip",!0),e}const Fa=e=>Ln(e)?Ji(e):e,Uk=e=>Ln(e)?e2(e):e;function Ar(e){return e?e.__v_isRef===!0:!1}function Ie(e){return rV(e,!1)}function Th(e){return rV(e,!0)}function rV(e,t){return Ar(e)?e:new u1e(e,t)}class u1e{constructor(t,n){this.dep=new uk,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Dn(t),this._value=n?t:Fa(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||hl(t)||L0(t);t=r?t:Dn(t),Fh(t,n)&&(this._rawValue=t,this._value=r?t:Fa(t),this.dep.trigger())}}function Q(e){return Ar(e)?e.value:e}const f1e={get:(e,t,n)=>t==="__v_raw"?e:Q(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return Ar(a)&&!Ar(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function iV(e){return Lu(e)?e:new Proxy(e,f1e)}function t2(e){const t=jt(e)?new Array(e.length):{};for(const n in e)t[n]=aV(e,n);return t}class h1e{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return G0e(Dn(this._object),this._key)}}class p1e{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function xa(e,t,n){return Ar(e)?e:Bt(e)?new p1e(e):Ln(e)&&arguments.length>1?aV(e,t,n):Ie(e)}function aV(e,t,n){const r=e[t];return Ar(r)?r:new h1e(e,t,n)}class g1e{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new uk(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=hy-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Sr!==this)return GW(this,!0),!0}get value(){const t=this.dep.track();return YW(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function m1e(e,t,n=!1){let r,a;return Bt(e)?r=e:(r=e.get,a=e.set),new g1e(r,a,n)}const n5={},VA=new WeakMap;let Lp;function U1e(e,t=!1,n=Lp){if(n){let r=VA.get(n);r||VA.set(n,r=[]),r.push(e)}}function v1e(e,t,n=br){const{immediate:r,deep:a,once:o,scheduler:s,augmentJob:l,call:d}=n,u=E=>a?E:hl(E)||a===!1||a===0?xu(E,1):xu(E);let f,p,g,v,c=!1,h=!1;if(Ar(e)?(p=()=>e.value,c=hl(e)):Lu(e)?(p=()=>u(e),c=!0):jt(e)?(h=!0,c=e.some(E=>Lu(E)||hl(E)),p=()=>e.map(E=>{if(Ar(E))return E.value;if(Lu(E))return u(E);if(Bt(E))return d?d(E,2):E()})):Bt(e)?t?p=d?()=>d(e,2):e:p=()=>{if(g){Jh();try{g()}finally{ep()}}const E=Lp;Lp=f;try{return d?d(e,3,[v]):e(v)}finally{Lp=E}}:p=qi,t&&a){const E=p,x=a===!0?1/0:a;p=()=>xu(E(),x)}const m=ok(),U=()=>{f.stop(),m&&ik(m.effects,f)};if(o&&t){const E=t;t=(...x)=>{E(...x),U()}}let b=h?new Array(e.length).fill(n5):n5;const w=E=>{if(!(!(f.flags&1)||!f.dirty&&!E))if(t){const x=f.run();if(a||c||(h?x.some((C,I)=>Fh(C,b[I])):Fh(x,b))){g&&g();const C=Lp;Lp=f;try{const I=[x,b===n5?void 0:h&&b[0]===n5?[]:b,v];d?d(t,3,I):t(...I),b=x}finally{Lp=C}}}else f.run()};return l&&l(w),f=new QW(p),f.scheduler=s?()=>s(w,!1):w,v=E=>U1e(E,!1,f),g=f.onStop=()=>{const E=VA.get(f);if(E){if(d)d(E,4);else for(const x of E)x();VA.delete(f)}},t?r?w(!0):b=f.run():s?s(w.bind(null,!0),!0):f.run(),U.pause=f.pause.bind(f),U.resume=f.resume.bind(f),U.stop=U,U}function xu(e,t=1/0,n){if(t<=0||!Ln(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Ar(e))xu(e.value,t,n);else if(jt(e))for(let r=0;r<e.length;r++)xu(e[r],t,n);else if(RW(e)||qg(e))e.forEach(r=>{xu(r,t,n)});else if(PW(e)){for(const r in e)xu(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&xu(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function cb(e,t,n,r){try{return r?e(...r):e()}catch(a){Ow(a,t,n)}}function mc(e,t,n,r){if(Bt(e)){const a=cb(e,t,n,r);return a&&GA(a)&&a.catch(o=>{Ow(o,t,n)}),a}if(jt(e)){const a=[];for(let o=0;o<e.length;o++)a.push(mc(e[o],t,n,r));return a}}function Ow(e,t,n,r=!0){const a=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||br;if(t){let l=t.parent;const d=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const f=l.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](e,d,u)===!1)return}l=l.parent}if(o){Jh(),cb(o,null,10,[e,d,u]),ep();return}}y1e(e,n,a,r,s)}function y1e(e,t,n,r=!0,a=!1){if(a)throw e;console.error(e)}const ao=[];let Gc=-1;const em=[];let qf=null,H1=0;const oV=Promise.resolve();let YA=null;function lr(e){const t=YA||oV;return e?t.then(this?e.bind(this):e):t}function b1e(e){let t=Gc+1,n=ao.length;for(;t<n;){const r=t+n>>>1,a=ao[r],o=my(a);o<e||o===e&&a.flags&2?t=r+1:n=r}return t}function vk(e){if(!(e.flags&1)){const t=my(e),n=ao[ao.length-1];!n||!(e.flags&2)&&t>=my(n)?ao.push(e):ao.splice(b1e(t),0,e),e.flags|=1,sV()}}function sV(){YA||(YA=oV.then(cV))}function A1e(e){jt(e)?em.push(...e):qf&&e.id===-1?qf.splice(H1+1,0,e):e.flags&1||(em.push(e),e.flags|=1),sV()}function EL(e,t,n=Gc+1){for(;n<ao.length;n++){const r=ao[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;ao.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function lV(e){if(em.length){const t=[...new Set(em)].sort((n,r)=>my(n)-my(r));if(em.length=0,qf){qf.push(...t);return}for(qf=t,H1=0;H1<qf.length;H1++){const n=qf[H1];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}qf=null,H1=0}}const my=e=>e.id==null?e.flags&2?-1:1/0:e.id;function cV(e){try{for(Gc=0;Gc<ao.length;Gc++){const t=ao[Gc];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),cb(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Gc<ao.length;Gc++){const t=ao[Gc];t&&(t.flags&=-2)}Gc=-1,ao.length=0,lV(),YA=null,(ao.length||em.length)&&cV()}}let Zi=null,dV=null;function KA(e){const t=Zi;return Zi=e,dV=e&&e.type.__scopeId||null,t}function tt(e,t=Zi,n){if(!t||e._n)return e;const r=(...a)=>{r._d&&DL(-1);const o=KA(t);let s;try{s=e(...a)}finally{KA(o),r._d&&DL(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function cc(e,t){if(Zi===null)return e;const n=Vw(Zi),r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[o,s,l,d=br]=t[a];o&&(Bt(o)&&(o={mounted:o,updated:o}),o.deep&&xu(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:l,modifiers:d}))}return e}function mp(e,t,n,r){const a=e.dirs,o=t&&t.dirs;for(let s=0;s<a.length;s++){const l=a[s];o&&(l.oldValue=o[s].value);let d=l.dir[r];d&&(Jh(),mc(d,n,8,[e.el,l,e,t]),ep())}}const uV=Symbol("_vte"),fV=e=>e.__isTeleport,Av=e=>e&&(e.disabled||e.disabled===""),w1e=e=>e&&(e.defer||e.defer===""),xL=e=>typeof SVGElement<"u"&&e instanceof SVGElement,_L=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,V_=(e,t)=>{const n=e&&e.to;return cn(n)?t?t(n):null:n},E1e={name:"Teleport",__isTeleport:!0,process(e,t,n,r,a,o,s,l,d,u){const{mc:f,pc:p,pbc:g,o:{insert:v,querySelector:c,createText:h,createComment:m}}=u,U=Av(t.props);let{shapeFlag:b,children:w,dynamicChildren:E}=t;if(e==null){const x=t.el=h(""),C=t.anchor=h("");v(x,n,r),v(C,n,r);const I=(M,R)=>{b&16&&(a&&a.isCE&&(a.ce._teleportTarget=M),f(w,M,R,a,o,s,l,d))},S=()=>{const M=t.target=V_(t.props,c),R=hV(M,t,h,v);M&&(s!=="svg"&&xL(M)?s="svg":s!=="mathml"&&_L(M)&&(s="mathml"),U||(I(M,R),h3(t)))};U&&(I(n,C),h3(t)),w1e(t.props)?da(S,o):S()}else{t.el=e.el,t.targetStart=e.targetStart;const x=t.anchor=e.anchor,C=t.target=e.target,I=t.targetAnchor=e.targetAnchor,S=Av(e.props),M=S?n:C,R=S?x:I;if(s==="svg"||xL(C)?s="svg":(s==="mathml"||_L(C))&&(s="mathml"),E?(g(e.dynamicChildren,E,M,a,o,s,l),xk(e,t,!0)):d||p(e,t,M,R,a,o,s,l,!1),U)S?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):r5(t,n,x,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const D=t.target=V_(t.props,c);D&&r5(t,D,null,u,0)}else S&&r5(t,C,I,u,1);h3(t)}},remove(e,t,n,{um:r,o:{remove:a}},o){const{shapeFlag:s,children:l,anchor:d,targetStart:u,targetAnchor:f,target:p,props:g}=e;if(p&&(a(u),a(f)),o&&a(d),s&16){const v=o||!Av(g);for(let c=0;c<l.length;c++){const h=l[c];r(h,t,n,v,!!h.dynamicChildren)}}},move:r5,hydrate:x1e};function r5(e,t,n,{o:{insert:r},m:a},o=2){o===0&&r(e.targetAnchor,t,n);const{el:s,anchor:l,shapeFlag:d,children:u,props:f}=e,p=o===2;if(p&&r(s,t,n),(!p||Av(f))&&d&16)for(let g=0;g<u.length;g++)a(u[g],t,n,2);p&&r(l,t,n)}function x1e(e,t,n,r,a,o,{o:{nextSibling:s,parentNode:l,querySelector:d,insert:u,createText:f}},p){const g=t.target=V_(t.props,d);if(g){const v=g._lpa||g.firstChild;if(t.shapeFlag&16)if(Av(t.props))t.anchor=p(s(e),t,l(e),n,r,a,o),t.targetStart=v,t.targetAnchor=v&&s(v);else{t.anchor=s(e);let c=v;for(;c;){if(c&&c.nodeType===8){if(c.data==="teleport start anchor")t.targetStart=c;else if(c.data==="teleport anchor"){t.targetAnchor=c,g._lpa=t.targetAnchor&&s(t.targetAnchor);break}}c=s(c)}t.targetAnchor||hV(g,t,f,u),p(v&&s(v),t,g,n,r,a,o)}h3(t)}return t.anchor&&s(t.anchor)}const _1e=E1e;function h3(e){const t=e.ctx;if(t&&t.ut){let n=e.targetStart;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}function hV(e,t,n,r){const a=t.targetStart=n(""),o=t.targetAnchor=n("");return a[uV]=o,e&&(r(a,e),r(o,e)),o}const Jf=Symbol("_leaveCb"),i5=Symbol("_enterCb");function pV(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Mr(()=>{e.isMounted=!0}),na(()=>{e.isUnmounting=!0}),e}const Gs=[Function,Array],gV={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Gs,onEnter:Gs,onAfterEnter:Gs,onEnterCancelled:Gs,onBeforeLeave:Gs,onLeave:Gs,onAfterLeave:Gs,onLeaveCancelled:Gs,onBeforeAppear:Gs,onAppear:Gs,onAfterAppear:Gs,onAppearCancelled:Gs},mV=e=>{const t=e.subTree;return t.component?mV(t.component):t},C1e={name:"BaseTransition",props:gV,setup(e,{slots:t}){const n=oi(),r=pV();return()=>{const a=t.default&&yk(t.default(),!0);if(!a||!a.length)return;const o=UV(a),s=Dn(e),{mode:l}=s;if(r.isLeaving)return ZE(o);const d=CL(o);if(!d)return ZE(o);let u=Uy(d,s,r,n,g=>u=g);d.type!==Ea&&jh(d,u);const f=n.subTree,p=f&&CL(f);if(p&&p.type!==Ea&&!oh(d,p)&&mV(n).type!==Ea){const g=Uy(p,s,r,n);if(jh(p,g),l==="out-in"&&d.type!==Ea)return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete g.afterLeave},ZE(o);l==="in-out"&&d.type!==Ea&&(g.delayLeave=(v,c,h)=>{const m=vV(r,p);m[String(p.key)]=p,v[Jf]=()=>{c(),v[Jf]=void 0,delete u.delayedLeave},u.delayedLeave=h})}return o}}};function UV(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Ea){t=n;break}}return t}const S1e=C1e;function vV(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Uy(e,t,n,r,a){const{appear:o,mode:s,persisted:l=!1,onBeforeEnter:d,onEnter:u,onAfterEnter:f,onEnterCancelled:p,onBeforeLeave:g,onLeave:v,onAfterLeave:c,onLeaveCancelled:h,onBeforeAppear:m,onAppear:U,onAfterAppear:b,onAppearCancelled:w}=t,E=String(e.key),x=vV(n,e),C=(M,R)=>{M&&mc(M,r,9,R)},I=(M,R)=>{const D=R[1];C(M,R),jt(M)?M.every(L=>L.length<=1)&&D():M.length<=1&&D()},S={mode:s,persisted:l,beforeEnter(M){let R=d;if(!n.isMounted)if(o)R=m||d;else return;M[Jf]&&M[Jf](!0);const D=x[E];D&&oh(e,D)&&D.el[Jf]&&D.el[Jf](),C(R,[M])},enter(M){let R=u,D=f,L=p;if(!n.isMounted)if(o)R=U||u,D=b||f,L=w||p;else return;let j=!1;const re=M[i5]=J=>{j||(j=!0,J?C(L,[M]):C(D,[M]),S.delayedLeave&&S.delayedLeave(),M[i5]=void 0)};R?I(R,[M,re]):re()},leave(M,R){const D=String(e.key);if(M[i5]&&M[i5](!0),n.isUnmounting)return R();C(g,[M]);let L=!1;const j=M[Jf]=re=>{L||(L=!0,R(),re?C(h,[M]):C(c,[M]),M[Jf]=void 0,x[D]===e&&delete x[D])};x[D]=e,v?I(v,[M,j]):j()},clone(M){const R=Uy(M,t,n,r,a);return a&&a(R),R}};return S}function ZE(e){if(zw(e))return e=bd(e),e.children=null,e}function CL(e){if(!zw(e))return fV(e.type)&&e.children?UV(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Bt(n.default))return n.default()}}function jh(e,t){e.shapeFlag&6&&e.component?(e.transition=t,jh(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function yk(e,t=!1,n){let r=[],a=0;for(let o=0;o<e.length;o++){let s=e[o];const l=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===$r?(s.patchFlag&128&&a++,r=r.concat(yk(s.children,t,l))):(t||s.type!==Ea)&&r.push(l!=null?bd(s,{key:l}):s)}if(a>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function ot(e,t){return Bt(e)?Li({name:e.name},t,{setup:e}):e}function yV(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Y_(e,t,n,r,a=!1){if(jt(e)){e.forEach((c,h)=>Y_(c,t&&(jt(t)?t[h]:t),n,r,a));return}if(A0(r)&&!a)return;const o=r.shapeFlag&4?Vw(r.component):r.el,s=a?null:o,{i:l,r:d}=e,u=t&&t.r,f=l.refs===br?l.refs={}:l.refs,p=l.setupState,g=Dn(p),v=p===br?()=>!1:c=>Fn(g,c);if(u!=null&&u!==d&&(cn(u)?(f[u]=null,v(u)&&(p[u]=null)):Ar(u)&&(u.value=null)),Bt(d))cb(d,l,12,[s,f]);else{const c=cn(d),h=Ar(d);if(c||h){const m=()=>{if(e.f){const U=c?v(d)?p[d]:f[d]:d.value;a?jt(U)&&ik(U,o):jt(U)?U.includes(o)||U.push(o):c?(f[d]=[o],v(d)&&(p[d]=f[d])):(d.value=[o],e.k&&(f[e.k]=d.value))}else c?(f[d]=s,v(d)&&(p[d]=s)):h&&(d.value=s,e.k&&(f[e.k]=s))};s?(m.id=-1,da(m,n)):m()}}}const A0=e=>!!e.type.__asyncLoader,zw=e=>e.type.__isKeepAlive,I1e={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=oi(),r=n.ctx;if(!r.renderer)return()=>{const b=t.default&&t.default();return b&&b.length===1?b[0]:b};const a=new Map,o=new Set;let s=null;const l=n.suspense,{renderer:{p:d,m:u,um:f,o:{createElement:p}}}=r,g=p("div");r.activate=(b,w,E,x,C)=>{const I=b.component;u(b,w,E,0,l),d(I.vnode,b,w,E,I,l,x,b.slotScopeIds,C),da(()=>{I.isDeactivated=!1,I.a&&Jg(I.a);const S=b.props&&b.props.onVnodeMounted;S&&Ys(S,I.parent,b)},l)},r.deactivate=b=>{const w=b.component;ZA(w.m),ZA(w.a),u(b,g,null,1,l),da(()=>{w.da&&Jg(w.da);const E=b.props&&b.props.onVnodeUnmounted;E&&Ys(E,w.parent,b),w.isDeactivated=!0},l)};function v(b){qE(b),f(b,n,l,!0)}function c(b){a.forEach((w,E)=>{const x=eC(w.type);x&&!b(x)&&h(E)})}function h(b){const w=a.get(b);w&&(!s||!oh(w,s))?v(w):s&&qE(s),a.delete(b),o.delete(b)}Rt(()=>[e.include,e.exclude],([b,w])=>{b&&c(E=>TU(b,E)),w&&c(E=>!TU(w,E))},{flush:"post",deep:!0});let m=null;const U=()=>{m!=null&&(qA(n.subTree.type)?da(()=>{a.set(m,a5(n.subTree))},n.subTree.suspense):a.set(m,a5(n.subTree)))};return Mr(U),n2(U),na(()=>{a.forEach(b=>{const{subTree:w,suspense:E}=n,x=a5(w);if(b.type===x.type&&b.key===x.key){qE(x);const C=x.component.da;C&&da(C,E);return}v(b)})}),()=>{if(m=null,!t.default)return s=null;const b=t.default(),w=b[0];if(b.length>1)return s=null,b;if(!Ms(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return s=null,w;let E=a5(w);if(E.type===Ea)return s=null,E;const x=E.type,C=eC(A0(E)?E.type.__asyncResolved||{}:x),{include:I,exclude:S,max:M}=e;if(I&&(!C||!TU(I,C))||S&&C&&TU(S,C))return E.shapeFlag&=-257,s=E,w;const R=E.key==null?x:E.key,D=a.get(R);return E.el&&(E=bd(E),w.shapeFlag&128&&(w.ssContent=E)),m=R,D?(E.el=D.el,E.component=D.component,E.transition&&jh(E,E.transition),E.shapeFlag|=512,o.delete(R),o.add(R)):(o.add(R),M&&o.size>parseInt(M,10)&&h(o.values().next().value)),E.shapeFlag|=256,s=E,qA(w.type)?w:E}}},k1e=I1e;function TU(e,t){return jt(e)?e.some(n=>TU(n,t)):cn(e)?e.split(",").includes(t):T0e(e)?(e.lastIndex=0,e.test(t)):!1}function bV(e,t){wV(e,"a",t)}function AV(e,t){wV(e,"da",t)}function wV(e,t,n=ha){const r=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Qw(t,r,n),n){let a=n.parent;for(;a&&a.parent;)zw(a.parent.vnode)&&M1e(r,t,n,a),a=a.parent}}function M1e(e,t,n,r){const a=Qw(t,e,r,!0);Hw(()=>{ik(r[t],a)},n)}function qE(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function a5(e){return e.shapeFlag&128?e.ssContent:e}function Qw(e,t,n=ha,r=!1){if(n){const a=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{Jh();const l=ub(n),d=mc(t,n,e,s);return l(),ep(),d});return r?a.unshift(o):a.push(o),o}}const df=e=>(t,n=ha)=>{(!Ww||e==="sp")&&Qw(e,(...r)=>t(...r),n)},EV=df("bm"),Mr=df("m"),T1e=df("bu"),n2=df("u"),na=df("bum"),Hw=df("um"),B1e=df("sp"),R1e=df("rtg"),D1e=df("rtc");function P1e(e,t=ha){Qw("ec",e,t)}const bk="components",L1e="directives";function qr(e,t){return Ak(bk,e,!0,t)||e}const xV=Symbol.for("v-ndc");function Ui(e){return cn(e)?Ak(bk,e,!1)||e:e||xV}function lqe(e){return Ak(L1e,e)}function Ak(e,t,n=!0,r=!1){const a=Zi||ha;if(a){const o=a.type;if(e===bk){const l=eC(o,!1);if(l&&(l===t||l===ks(t)||l===lb(ks(t))))return o}const s=SL(a[e]||o[e],t)||SL(a.appContext[e],t);return!s&&r?o:s}}function SL(e,t){return e&&(e[t]||e[ks(t)]||e[lb(ks(t))])}function N1e(e,t,n,r){let a;const o=n,s=jt(e);if(s||cn(e)){const l=s&&Lu(e);let d=!1;l&&(d=!hl(e),e=Fw(e)),a=new Array(e.length);for(let u=0,f=e.length;u<f;u++)a[u]=t(d?Fa(e[u]):e[u],u,void 0,o)}else if(typeof e=="number"){a=new Array(e);for(let l=0;l<e;l++)a[l]=t(l+1,l,void 0,o)}else if(Ln(e))if(e[Symbol.iterator])a=Array.from(e,(l,d)=>t(l,d,void 0,o));else{const l=Object.keys(e);a=new Array(l.length);for(let d=0,u=l.length;d<u;d++){const f=l[d];a[d]=t(e[f],f,d,o)}}else a=[];return a}function _V(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(jt(r))for(let a=0;a<r.length;a++)e[r[a].name]=r[a].fn;else r&&(e[r.name]=r.key?(...a)=>{const o=r.fn(...a);return o&&(o.key=r.key),o}:r.fn)}return e}function Ht(e,t,n={},r,a){if(Zi.ce||Zi.parent&&A0(Zi.parent)&&Zi.parent.ce)return t!=="default"&&(n.name=t),Te(),Ct($r,null,[Ge("slot",n,r&&r())],64);let o=e[t];o&&o._c&&(o._d=!1),Te();const s=o&&CV(o(n)),l=Ct($r,{key:(n.key||s&&s.key||`_${t}`)+(!s&&r?"_fb":"")},s||(r?r():[]),s&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function CV(e){return e.some(t=>Ms(t)?!(t.type===Ea||t.type===$r&&!CV(t.children)):!0)?e:null}const K_=e=>e?WV(e)?Vw(e):K_(e.parent):null,wv=Li(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>K_(e.parent),$root:e=>K_(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>wk(e),$forceUpdate:e=>e.f||(e.f=()=>{vk(e.update)}),$nextTick:e=>e.n||(e.n=lr.bind(e.proxy)),$watch:e=>oge.bind(e)}),JE=(e,t)=>e!==br&&!e.__isScriptSetup&&Fn(e,t),$1e={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:a,props:o,accessCache:s,type:l,appContext:d}=e;let u;if(t[0]!=="$"){const v=s[t];if(v!==void 0)switch(v){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return o[t]}else{if(JE(r,t))return s[t]=1,r[t];if(a!==br&&Fn(a,t))return s[t]=2,a[t];if((u=e.propsOptions[0])&&Fn(u,t))return s[t]=3,o[t];if(n!==br&&Fn(n,t))return s[t]=4,n[t];X_&&(s[t]=0)}}const f=wv[t];let p,g;if(f)return t==="$attrs"&&Va(e.attrs,"get",""),f(e);if((p=l.__cssModules)&&(p=p[t]))return p;if(n!==br&&Fn(n,t))return s[t]=4,n[t];if(g=d.config.globalProperties,Fn(g,t))return g[t]},set({_:e},t,n){const{data:r,setupState:a,ctx:o}=e;return JE(a,t)?(a[t]=n,!0):r!==br&&Fn(r,t)?(r[t]=n,!0):Fn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:o}},s){let l;return!!n[s]||e!==br&&Fn(e,s)||JE(t,s)||(l=o[0])&&Fn(l,s)||Fn(r,s)||Fn(wv,s)||Fn(a.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Fn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function db(){return SV().slots}function F1e(){return SV().attrs}function SV(){const e=oi();return e.setupContext||(e.setupContext=YV(e))}function IL(e){return jt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let X_=!0;function j1e(e){const t=wk(e),n=e.proxy,r=e.ctx;X_=!1,t.beforeCreate&&kL(t.beforeCreate,e,"bc");const{data:a,computed:o,methods:s,watch:l,provide:d,inject:u,created:f,beforeMount:p,mounted:g,beforeUpdate:v,updated:c,activated:h,deactivated:m,beforeDestroy:U,beforeUnmount:b,destroyed:w,unmounted:E,render:x,renderTracked:C,renderTriggered:I,errorCaptured:S,serverPrefetch:M,expose:R,inheritAttrs:D,components:L,directives:j,filters:re}=t;if(u&&O1e(u,r,null),s)for(const ne in s){const Z=s[ne];Bt(Z)&&(r[ne]=Z.bind(n))}if(a){const ne=a.call(n,n);Ln(ne)&&(e.data=Ji(ne))}if(X_=!0,o)for(const ne in o){const Z=o[ne],se=Bt(Z)?Z.bind(n,n):Bt(Z.get)?Z.get.bind(n,n):qi,O=!Bt(Z)&&Bt(Z.set)?Z.set.bind(n):qi,V=be({get:se,set:O});Object.defineProperty(r,ne,{enumerable:!0,configurable:!0,get:()=>V.value,set:de=>V.value=de})}if(l)for(const ne in l)IV(l[ne],r,n,ne);if(d){const ne=Bt(d)?d.call(n):d;Reflect.ownKeys(ne).forEach(Z=>{ii(Z,ne[Z])})}f&&kL(f,e,"c");function H(ne,Z){jt(Z)?Z.forEach(se=>ne(se.bind(n))):Z&&ne(Z.bind(n))}if(H(EV,p),H(Mr,g),H(T1e,v),H(n2,c),H(bV,h),H(AV,m),H(P1e,S),H(D1e,C),H(R1e,I),H(na,b),H(Hw,E),H(B1e,M),jt(R))if(R.length){const ne=e.exposed||(e.exposed={});R.forEach(Z=>{Object.defineProperty(ne,Z,{get:()=>n[Z],set:se=>n[Z]=se})})}else e.exposed||(e.exposed={});x&&e.render===qi&&(e.render=x),D!=null&&(e.inheritAttrs=D),L&&(e.components=L),j&&(e.directives=j),M&&yV(e)}function O1e(e,t,n=qi){jt(e)&&(e=Z_(e));for(const r in e){const a=e[r];let o;Ln(a)?"default"in a?o=Nt(a.from||r,a.default,!0):o=Nt(a.from||r):o=Nt(a),Ar(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[r]=o}}function kL(e,t,n){mc(jt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function IV(e,t,n,r){let a=r.includes(".")?OV(n,r):()=>n[r];if(cn(e)){const o=t[e];Bt(o)&&Rt(a,o)}else if(Bt(e))Rt(a,e.bind(n));else if(Ln(e))if(jt(e))e.forEach(o=>IV(o,t,n,r));else{const o=Bt(e.handler)?e.handler.bind(n):t[e.handler];Bt(o)&&Rt(a,o,e)}}function wk(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,l=o.get(t);let d;return l?d=l:!a.length&&!n&&!r?d=t:(d={},a.length&&a.forEach(u=>XA(d,u,s,!0)),XA(d,t,s)),Ln(t)&&o.set(t,d),d}function XA(e,t,n,r=!1){const{mixins:a,extends:o}=t;o&&XA(e,o,n,!0),a&&a.forEach(s=>XA(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const l=z1e[s]||n&&n[s];e[s]=l?l(e[s],t[s]):t[s]}return e}const z1e={data:ML,props:TL,emits:TL,methods:BU,computed:BU,beforeCreate:eo,created:eo,beforeMount:eo,mounted:eo,beforeUpdate:eo,updated:eo,beforeDestroy:eo,beforeUnmount:eo,destroyed:eo,unmounted:eo,activated:eo,deactivated:eo,errorCaptured:eo,serverPrefetch:eo,components:BU,directives:BU,watch:H1e,provide:ML,inject:Q1e};function ML(e,t){return t?e?function(){return Li(Bt(e)?e.call(this,this):e,Bt(t)?t.call(this,this):t)}:t:e}function Q1e(e,t){return BU(Z_(e),Z_(t))}function Z_(e){if(jt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function eo(e,t){return e?[...new Set([].concat(e,t))]:t}function BU(e,t){return e?Li(Object.create(null),e,t):t}function TL(e,t){return e?jt(e)&&jt(t)?[...new Set([...e,...t])]:Li(Object.create(null),IL(e),IL(t??{})):t}function H1e(e,t){if(!e)return t;if(!t)return e;const n=Li(Object.create(null),e);for(const r in t)n[r]=eo(e[r],t[r]);return n}function kV(){return{app:null,config:{isNativeTag:k0e,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let G1e=0;function W1e(e,t){return function(r,a=null){Bt(r)||(r=Li({},r)),a!=null&&!Ln(a)&&(a=null);const o=kV(),s=new WeakSet,l=[];let d=!1;const u=o.app={_uid:G1e++,_component:r,_props:a,_container:null,_context:o,_instance:null,version:Ege,get config(){return o.config},set config(f){},use(f,...p){return s.has(f)||(f&&Bt(f.install)?(s.add(f),f.install(u,...p)):Bt(f)&&(s.add(f),f(u,...p))),u},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),u},component(f,p){return p?(o.components[f]=p,u):o.components[f]},directive(f,p){return p?(o.directives[f]=p,u):o.directives[f]},mount(f,p,g){if(!d){const v=u._ceVNode||Ge(r,a);return v.appContext=o,g===!0?g="svg":g===!1&&(g=void 0),p&&t?t(v,f):e(v,f,g),d=!0,u._container=f,f.__vue_app__=u,Vw(v.component)}},onUnmount(f){l.push(f)},unmount(){d&&(mc(l,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(f,p){return o.provides[f]=p,u},runWithContext(f){const p=w0;w0=u;try{return f()}finally{w0=p}}};return u}}let w0=null;function ii(e,t){if(ha){let n=ha.provides;const r=ha.parent&&ha.parent.provides;r===n&&(n=ha.provides=Object.create(r)),n[e]=t}}function Nt(e,t,n=!1){const r=ha||Zi;if(r||w0){const a=w0?w0._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Bt(t)?t.call(r&&r.proxy):t}}function V1e(){return!!(ha||Zi||w0)}const MV={},TV=()=>Object.create(MV),BV=e=>Object.getPrototypeOf(e)===MV;function Y1e(e,t,n,r=!1){const a={},o=TV();e.propsDefaults=Object.create(null),RV(e,t,a,o);for(const s in e.propsOptions[0])s in a||(a[s]=void 0);n?e.props=r?a:pk(a):e.type.props?e.props=a:e.props=o,e.attrs=o}function K1e(e,t,n,r){const{props:a,attrs:o,vnode:{patchFlag:s}}=e,l=Dn(a),[d]=e.propsOptions;let u=!1;if((r||s>0)&&!(s&16)){if(s&8){const f=e.vnode.dynamicProps;for(let p=0;p<f.length;p++){let g=f[p];if(Gw(e.emitsOptions,g))continue;const v=t[g];if(d)if(Fn(o,g))v!==o[g]&&(o[g]=v,u=!0);else{const c=ks(g);a[c]=q_(d,l,c,v,e,!1)}else v!==o[g]&&(o[g]=v,u=!0)}}}else{RV(e,t,a,o)&&(u=!0);let f;for(const p in l)(!t||!Fn(t,p)&&((f=cf(p))===p||!Fn(t,f)))&&(d?n&&(n[p]!==void 0||n[f]!==void 0)&&(a[p]=q_(d,l,p,void 0,e,!0)):delete a[p]);if(o!==l)for(const p in o)(!t||!Fn(t,p))&&(delete o[p],u=!0)}u&&Pu(e.attrs,"set","")}function RV(e,t,n,r){const[a,o]=e.propsOptions;let s=!1,l;if(t)for(let d in t){if(vv(d))continue;const u=t[d];let f;a&&Fn(a,f=ks(d))?!o||!o.includes(f)?n[f]=u:(l||(l={}))[f]=u:Gw(e.emitsOptions,d)||(!(d in r)||u!==r[d])&&(r[d]=u,s=!0)}if(o){const d=Dn(n),u=l||br;for(let f=0;f<o.length;f++){const p=o[f];n[p]=q_(a,d,p,u[p],e,!Fn(u,p))}}return s}function q_(e,t,n,r,a,o){const s=e[n];if(s!=null){const l=Fn(s,"default");if(l&&r===void 0){const d=s.default;if(s.type!==Function&&!s.skipFactory&&Bt(d)){const{propsDefaults:u}=a;if(n in u)r=u[n];else{const f=ub(a);r=u[n]=d.call(null,t),f()}}else r=d;a.ce&&a.ce._setProp(n,r)}s[0]&&(o&&!l?r=!1:s[1]&&(r===""||r===cf(n))&&(r=!0))}return r}const X1e=new WeakMap;function DV(e,t,n=!1){const r=n?X1e:t.propsCache,a=r.get(e);if(a)return a;const o=e.props,s={},l=[];let d=!1;if(!Bt(e)){const f=p=>{d=!0;const[g,v]=DV(p,t,!0);Li(s,g),v&&l.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!d)return Ln(e)&&r.set(e,Zg),Zg;if(jt(o))for(let f=0;f<o.length;f++){const p=ks(o[f]);BL(p)&&(s[p]=br)}else if(o)for(const f in o){const p=ks(f);if(BL(p)){const g=o[f],v=s[p]=jt(g)||Bt(g)?{type:g}:Li({},g),c=v.type;let h=!1,m=!0;if(jt(c))for(let U=0;U<c.length;++U){const b=c[U],w=Bt(b)&&b.name;if(w==="Boolean"){h=!0;break}else w==="String"&&(m=!1)}else h=Bt(c)&&c.name==="Boolean";v[0]=h,v[1]=m,(h||Fn(v,"default"))&&l.push(p)}}const u=[s,l];return Ln(e)&&r.set(e,u),u}function BL(e){return e[0]!=="$"&&!vv(e)}const PV=e=>e[0]==="_"||e==="$stable",Ek=e=>jt(e)?e.map(ed):[ed(e)],Z1e=(e,t,n)=>{if(t._n)return t;const r=tt((...a)=>Ek(t(...a)),n);return r._c=!1,r},LV=(e,t,n)=>{const r=e._ctx;for(const a in e){if(PV(a))continue;const o=e[a];if(Bt(o))t[a]=Z1e(a,o,r);else if(o!=null){const s=Ek(o);t[a]=()=>s}}},NV=(e,t)=>{const n=Ek(t);e.slots.default=()=>n},$V=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},q1e=(e,t,n)=>{const r=e.slots=TV();if(e.vnode.shapeFlag&32){const a=t._;a?($V(r,t,n),n&&LW(r,"_",a,!0)):LV(t,r)}else t&&NV(e,t)},J1e=(e,t,n)=>{const{vnode:r,slots:a}=e;let o=!0,s=br;if(r.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:$V(a,t,n):(o=!t.$stable,LV(t,a)),s=t}else t&&(NV(e,t),s={default:1});if(o)for(const l in a)!PV(l)&&s[l]==null&&delete a[l]},da=hge;function ege(e){return tge(e)}function tge(e,t){const n=NW();n.__VUE__=!0;const{insert:r,remove:a,patchProp:o,createElement:s,createText:l,createComment:d,setText:u,setElementText:f,parentNode:p,nextSibling:g,setScopeId:v=qi,insertStaticContent:c}=e,h=(q,ae,Ae,$e=null,Ce=null,je=null,Oe=void 0,Ke=null,qe=!!ae.dynamicChildren)=>{if(q===ae)return;q&&!oh(q,ae)&&($e=le(q),de(q,Ce,je,!0),q=null),ae.patchFlag===-2&&(qe=!1,ae.dynamicChildren=null);const{type:We,ref:vt,shapeFlag:_e}=ae;switch(We){case r2:m(q,ae,Ae,$e);break;case Ea:U(q,ae,Ae,$e);break;case p3:q==null&&b(ae,Ae,$e,Oe);break;case $r:L(q,ae,Ae,$e,Ce,je,Oe,Ke,qe);break;default:_e&1?x(q,ae,Ae,$e,Ce,je,Oe,Ke,qe):_e&6?j(q,ae,Ae,$e,Ce,je,Oe,Ke,qe):(_e&64||_e&128)&&We.process(q,ae,Ae,$e,Ce,je,Oe,Ke,qe,Ee)}vt!=null&&Ce&&Y_(vt,q&&q.ref,je,ae||q,!ae)},m=(q,ae,Ae,$e)=>{if(q==null)r(ae.el=l(ae.children),Ae,$e);else{const Ce=ae.el=q.el;ae.children!==q.children&&u(Ce,ae.children)}},U=(q,ae,Ae,$e)=>{q==null?r(ae.el=d(ae.children||""),Ae,$e):ae.el=q.el},b=(q,ae,Ae,$e)=>{[q.el,q.anchor]=c(q.children,ae,Ae,$e,q.el,q.anchor)},w=({el:q,anchor:ae},Ae,$e)=>{let Ce;for(;q&&q!==ae;)Ce=g(q),r(q,Ae,$e),q=Ce;r(ae,Ae,$e)},E=({el:q,anchor:ae})=>{let Ae;for(;q&&q!==ae;)Ae=g(q),a(q),q=Ae;a(ae)},x=(q,ae,Ae,$e,Ce,je,Oe,Ke,qe)=>{ae.type==="svg"?Oe="svg":ae.type==="math"&&(Oe="mathml"),q==null?C(ae,Ae,$e,Ce,je,Oe,Ke,qe):M(q,ae,Ce,je,Oe,Ke,qe)},C=(q,ae,Ae,$e,Ce,je,Oe,Ke)=>{let qe,We;const{props:vt,shapeFlag:_e,transition:it,dirs:St}=q;if(qe=q.el=s(q.type,je,vt&&vt.is,vt),_e&8?f(qe,q.children):_e&16&&S(q.children,qe,null,$e,Ce,ex(q,je),Oe,Ke),St&&mp(q,null,$e,"created"),I(qe,q,q.scopeId,Oe,$e),vt){for(const nn in vt)nn!=="value"&&!vv(nn)&&o(qe,nn,null,vt[nn],je,$e);"value"in vt&&o(qe,"value",null,vt.value,je),(We=vt.onVnodeBeforeMount)&&Ys(We,$e,q)}St&&mp(q,null,$e,"beforeMount");const Gt=nge(Ce,it);Gt&&it.beforeEnter(qe),r(qe,ae,Ae),((We=vt&&vt.onVnodeMounted)||Gt||St)&&da(()=>{We&&Ys(We,$e,q),Gt&&it.enter(qe),St&&mp(q,null,$e,"mounted")},Ce)},I=(q,ae,Ae,$e,Ce)=>{if(Ae&&v(q,Ae),$e)for(let je=0;je<$e.length;je++)v(q,$e[je]);if(Ce){let je=Ce.subTree;if(ae===je||qA(je.type)&&(je.ssContent===ae||je.ssFallback===ae)){const Oe=Ce.vnode;I(q,Oe,Oe.scopeId,Oe.slotScopeIds,Ce.parent)}}},S=(q,ae,Ae,$e,Ce,je,Oe,Ke,qe=0)=>{for(let We=qe;We<q.length;We++){const vt=q[We]=Ke?eh(q[We]):ed(q[We]);h(null,vt,ae,Ae,$e,Ce,je,Oe,Ke)}},M=(q,ae,Ae,$e,Ce,je,Oe)=>{const Ke=ae.el=q.el;let{patchFlag:qe,dynamicChildren:We,dirs:vt}=ae;qe|=q.patchFlag&16;const _e=q.props||br,it=ae.props||br;let St;if(Ae&&Up(Ae,!1),(St=it.onVnodeBeforeUpdate)&&Ys(St,Ae,ae,q),vt&&mp(ae,q,Ae,"beforeUpdate"),Ae&&Up(Ae,!0),(_e.innerHTML&&it.innerHTML==null||_e.textContent&&it.textContent==null)&&f(Ke,""),We?R(q.dynamicChildren,We,Ke,Ae,$e,ex(ae,Ce),je):Oe||Z(q,ae,Ke,null,Ae,$e,ex(ae,Ce),je,!1),qe>0){if(qe&16)D(Ke,_e,it,Ae,Ce);else if(qe&2&&_e.class!==it.class&&o(Ke,"class",null,it.class,Ce),qe&4&&o(Ke,"style",_e.style,it.style,Ce),qe&8){const Gt=ae.dynamicProps;for(let nn=0;nn<Gt.length;nn++){const Zt=Gt[nn],ur=_e[Zt],gr=it[Zt];(gr!==ur||Zt==="value")&&o(Ke,Zt,ur,gr,Ce,Ae)}}qe&1&&q.children!==ae.children&&f(Ke,ae.children)}else!Oe&&We==null&&D(Ke,_e,it,Ae,Ce);((St=it.onVnodeUpdated)||vt)&&da(()=>{St&&Ys(St,Ae,ae,q),vt&&mp(ae,q,Ae,"updated")},$e)},R=(q,ae,Ae,$e,Ce,je,Oe)=>{for(let Ke=0;Ke<ae.length;Ke++){const qe=q[Ke],We=ae[Ke],vt=qe.el&&(qe.type===$r||!oh(qe,We)||qe.shapeFlag&70)?p(qe.el):Ae;h(qe,We,vt,null,$e,Ce,je,Oe,!0)}},D=(q,ae,Ae,$e,Ce)=>{if(ae!==Ae){if(ae!==br)for(const je in ae)!vv(je)&&!(je in Ae)&&o(q,je,ae[je],null,Ce,$e);for(const je in Ae){if(vv(je))continue;const Oe=Ae[je],Ke=ae[je];Oe!==Ke&&je!=="value"&&o(q,je,Ke,Oe,Ce,$e)}"value"in Ae&&o(q,"value",ae.value,Ae.value,Ce)}},L=(q,ae,Ae,$e,Ce,je,Oe,Ke,qe)=>{const We=ae.el=q?q.el:l(""),vt=ae.anchor=q?q.anchor:l("");let{patchFlag:_e,dynamicChildren:it,slotScopeIds:St}=ae;St&&(Ke=Ke?Ke.concat(St):St),q==null?(r(We,Ae,$e),r(vt,Ae,$e),S(ae.children||[],Ae,vt,Ce,je,Oe,Ke,qe)):_e>0&&_e&64&&it&&q.dynamicChildren?(R(q.dynamicChildren,it,Ae,Ce,je,Oe,Ke),(ae.key!=null||Ce&&ae===Ce.subTree)&&xk(q,ae,!0)):Z(q,ae,Ae,vt,Ce,je,Oe,Ke,qe)},j=(q,ae,Ae,$e,Ce,je,Oe,Ke,qe)=>{ae.slotScopeIds=Ke,q==null?ae.shapeFlag&512?Ce.ctx.activate(ae,Ae,$e,Oe,qe):re(ae,Ae,$e,Ce,je,Oe,qe):J(q,ae,qe)},re=(q,ae,Ae,$e,Ce,je,Oe)=>{const Ke=q.component=vge(q,$e,Ce);if(zw(q)&&(Ke.ctx.renderer=Ee),yge(Ke,!1,Oe),Ke.asyncDep){if(Ce&&Ce.registerDep(Ke,H,Oe),!q.el){const qe=Ke.subTree=Ge(Ea);U(null,qe,ae,Ae)}}else H(Ke,q,ae,Ae,Ce,je,Oe)},J=(q,ae,Ae)=>{const $e=ae.component=q.component;if(uge(q,ae,Ae))if($e.asyncDep&&!$e.asyncResolved){ne($e,ae,Ae);return}else $e.next=ae,$e.update();else ae.el=q.el,$e.vnode=ae},H=(q,ae,Ae,$e,Ce,je,Oe)=>{const Ke=()=>{if(q.isMounted){let{next:_e,bu:it,u:St,parent:Gt,vnode:nn}=q;{const Ve=FV(q);if(Ve){_e&&(_e.el=nn.el,ne(q,_e,Oe)),Ve.asyncDep.then(()=>{q.isUnmounted||Ke()});return}}let Zt=_e,ur;Up(q,!1),_e?(_e.el=nn.el,ne(q,_e,Oe)):_e=nn,it&&Jg(it),(ur=_e.props&&_e.props.onVnodeBeforeUpdate)&&Ys(ur,Gt,_e,nn),Up(q,!0);const gr=tx(q),X=q.subTree;q.subTree=gr,h(X,gr,p(X.el),le(X),q,Ce,je),_e.el=gr.el,Zt===null&&fge(q,gr.el),St&&da(St,Ce),(ur=_e.props&&_e.props.onVnodeUpdated)&&da(()=>Ys(ur,Gt,_e,nn),Ce)}else{let _e;const{el:it,props:St}=ae,{bm:Gt,m:nn,parent:Zt,root:ur,type:gr}=q,X=A0(ae);if(Up(q,!1),Gt&&Jg(Gt),!X&&(_e=St&&St.onVnodeBeforeMount)&&Ys(_e,Zt,ae),Up(q,!0),it&&at){const Ve=()=>{q.subTree=tx(q),at(it,q.subTree,q,Ce,null)};X&&gr.__asyncHydrate?gr.__asyncHydrate(it,q,Ve):Ve()}else{ur.ce&&ur.ce._injectChildStyle(gr);const Ve=q.subTree=tx(q);h(null,Ve,Ae,$e,q,Ce,je),ae.el=Ve.el}if(nn&&da(nn,Ce),!X&&(_e=St&&St.onVnodeMounted)){const Ve=ae;da(()=>Ys(_e,Zt,Ve),Ce)}(ae.shapeFlag&256||Zt&&A0(Zt.vnode)&&Zt.vnode.shapeFlag&256)&&q.a&&da(q.a,Ce),q.isMounted=!0,ae=Ae=$e=null}};q.scope.on();const qe=q.effect=new QW(Ke);q.scope.off();const We=q.update=qe.run.bind(qe),vt=q.job=qe.runIfDirty.bind(qe);vt.i=q,vt.id=q.uid,qe.scheduler=()=>vk(vt),Up(q,!0),We()},ne=(q,ae,Ae)=>{ae.component=q;const $e=q.vnode.props;q.vnode=ae,q.next=null,K1e(q,ae.props,$e,Ae),J1e(q,ae.children,Ae),Jh(),EL(q),ep()},Z=(q,ae,Ae,$e,Ce,je,Oe,Ke,qe=!1)=>{const We=q&&q.children,vt=q?q.shapeFlag:0,_e=ae.children,{patchFlag:it,shapeFlag:St}=ae;if(it>0){if(it&128){O(We,_e,Ae,$e,Ce,je,Oe,Ke,qe);return}else if(it&256){se(We,_e,Ae,$e,Ce,je,Oe,Ke,qe);return}}St&8?(vt&16&&xe(We,Ce,je),_e!==We&&f(Ae,_e)):vt&16?St&16?O(We,_e,Ae,$e,Ce,je,Oe,Ke,qe):xe(We,Ce,je,!0):(vt&8&&f(Ae,""),St&16&&S(_e,Ae,$e,Ce,je,Oe,Ke,qe))},se=(q,ae,Ae,$e,Ce,je,Oe,Ke,qe)=>{q=q||Zg,ae=ae||Zg;const We=q.length,vt=ae.length,_e=Math.min(We,vt);let it;for(it=0;it<_e;it++){const St=ae[it]=qe?eh(ae[it]):ed(ae[it]);h(q[it],St,Ae,null,Ce,je,Oe,Ke,qe)}We>vt?xe(q,Ce,je,!0,!1,_e):S(ae,Ae,$e,Ce,je,Oe,Ke,qe,_e)},O=(q,ae,Ae,$e,Ce,je,Oe,Ke,qe)=>{let We=0;const vt=ae.length;let _e=q.length-1,it=vt-1;for(;We<=_e&&We<=it;){const St=q[We],Gt=ae[We]=qe?eh(ae[We]):ed(ae[We]);if(oh(St,Gt))h(St,Gt,Ae,null,Ce,je,Oe,Ke,qe);else break;We++}for(;We<=_e&&We<=it;){const St=q[_e],Gt=ae[it]=qe?eh(ae[it]):ed(ae[it]);if(oh(St,Gt))h(St,Gt,Ae,null,Ce,je,Oe,Ke,qe);else break;_e--,it--}if(We>_e){if(We<=it){const St=it+1,Gt=St<vt?ae[St].el:$e;for(;We<=it;)h(null,ae[We]=qe?eh(ae[We]):ed(ae[We]),Ae,Gt,Ce,je,Oe,Ke,qe),We++}}else if(We>it)for(;We<=_e;)de(q[We],Ce,je,!0),We++;else{const St=We,Gt=We,nn=new Map;for(We=Gt;We<=it;We++){const pe=ae[We]=qe?eh(ae[We]):ed(ae[We]);pe.key!=null&&nn.set(pe.key,We)}let Zt,ur=0;const gr=it-Gt+1;let X=!1,Ve=0;const rt=new Array(gr);for(We=0;We<gr;We++)rt[We]=0;for(We=St;We<=_e;We++){const pe=q[We];if(ur>=gr){de(pe,Ce,je,!0);continue}let Pe;if(pe.key!=null)Pe=nn.get(pe.key);else for(Zt=Gt;Zt<=it;Zt++)if(rt[Zt-Gt]===0&&oh(pe,ae[Zt])){Pe=Zt;break}Pe===void 0?de(pe,Ce,je,!0):(rt[Pe-Gt]=We+1,Pe>=Ve?Ve=Pe:X=!0,h(pe,ae[Pe],Ae,null,Ce,je,Oe,Ke,qe),ur++)}const At=X?rge(rt):Zg;for(Zt=At.length-1,We=gr-1;We>=0;We--){const pe=Gt+We,Pe=ae[pe],z=pe+1<vt?ae[pe+1].el:$e;rt[We]===0?h(null,Pe,Ae,z,Ce,je,Oe,Ke,qe):X&&(Zt<0||We!==At[Zt]?V(Pe,Ae,z,2):Zt--)}}},V=(q,ae,Ae,$e,Ce=null)=>{const{el:je,type:Oe,transition:Ke,children:qe,shapeFlag:We}=q;if(We&6){V(q.component.subTree,ae,Ae,$e);return}if(We&128){q.suspense.move(ae,Ae,$e);return}if(We&64){Oe.move(q,ae,Ae,Ee);return}if(Oe===$r){r(je,ae,Ae);for(let _e=0;_e<qe.length;_e++)V(qe[_e],ae,Ae,$e);r(q.anchor,ae,Ae);return}if(Oe===p3){w(q,ae,Ae);return}if($e!==2&&We&1&&Ke)if($e===0)Ke.beforeEnter(je),r(je,ae,Ae),da(()=>Ke.enter(je),Ce);else{const{leave:_e,delayLeave:it,afterLeave:St}=Ke,Gt=()=>r(je,ae,Ae),nn=()=>{_e(je,()=>{Gt(),St&&St()})};it?it(je,Gt,nn):nn()}else r(je,ae,Ae)},de=(q,ae,Ae,$e=!1,Ce=!1)=>{const{type:je,props:Oe,ref:Ke,children:qe,dynamicChildren:We,shapeFlag:vt,patchFlag:_e,dirs:it,cacheIndex:St}=q;if(_e===-2&&(Ce=!1),Ke!=null&&Y_(Ke,null,Ae,q,!0),St!=null&&(ae.renderCache[St]=void 0),vt&256){ae.ctx.deactivate(q);return}const Gt=vt&1&&it,nn=!A0(q);let Zt;if(nn&&(Zt=Oe&&Oe.onVnodeBeforeUnmount)&&Ys(Zt,ae,q),vt&6)ve(q.component,Ae,$e);else{if(vt&128){q.suspense.unmount(Ae,$e);return}Gt&&mp(q,null,ae,"beforeUnmount"),vt&64?q.type.remove(q,ae,Ae,Ee,$e):We&&!We.hasOnce&&(je!==$r||_e>0&&_e&64)?xe(We,ae,Ae,!1,!0):(je===$r&&_e&384||!Ce&&vt&16)&&xe(qe,ae,Ae),$e&&oe(q)}(nn&&(Zt=Oe&&Oe.onVnodeUnmounted)||Gt)&&da(()=>{Zt&&Ys(Zt,ae,q),Gt&&mp(q,null,ae,"unmounted")},Ae)},oe=q=>{const{type:ae,el:Ae,anchor:$e,transition:Ce}=q;if(ae===$r){me(Ae,$e);return}if(ae===p3){E(q);return}const je=()=>{a(Ae),Ce&&!Ce.persisted&&Ce.afterLeave&&Ce.afterLeave()};if(q.shapeFlag&1&&Ce&&!Ce.persisted){const{leave:Oe,delayLeave:Ke}=Ce,qe=()=>Oe(Ae,je);Ke?Ke(q.el,je,qe):qe()}else je()},me=(q,ae)=>{let Ae;for(;q!==ae;)Ae=g(q),a(q),q=Ae;a(ae)},ve=(q,ae,Ae)=>{const{bum:$e,scope:Ce,job:je,subTree:Oe,um:Ke,m:qe,a:We}=q;ZA(qe),ZA(We),$e&&Jg($e),Ce.stop(),je&&(je.flags|=8,de(Oe,q,ae,Ae)),Ke&&da(Ke,ae),da(()=>{q.isUnmounted=!0},ae),ae&&ae.pendingBranch&&!ae.isUnmounted&&q.asyncDep&&!q.asyncResolved&&q.suspenseId===ae.pendingId&&(ae.deps--,ae.deps===0&&ae.resolve())},xe=(q,ae,Ae,$e=!1,Ce=!1,je=0)=>{for(let Oe=je;Oe<q.length;Oe++)de(q[Oe],ae,Ae,$e,Ce)},le=q=>{if(q.shapeFlag&6)return le(q.component.subTree);if(q.shapeFlag&128)return q.suspense.next();const ae=g(q.anchor||q.el),Ae=ae&&ae[uV];return Ae?g(Ae):ae};let he=!1;const ge=(q,ae,Ae)=>{q==null?ae._vnode&&de(ae._vnode,null,null,!0):h(ae._vnode||null,q,ae,null,null,null,Ae),ae._vnode=q,he||(he=!0,EL(),lV(),he=!1)},Ee={p:h,um:de,m:V,r:oe,mt:re,mc:S,pc:Z,pbc:R,n:le,o:e};let ze,at;return{render:ge,hydrate:ze,createApp:W1e(ge,ze)}}function ex({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Up({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function nge(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function xk(e,t,n=!1){const r=e.children,a=t.children;if(jt(r)&&jt(a))for(let o=0;o<r.length;o++){const s=r[o];let l=a[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=a[o]=eh(a[o]),l.el=s.el),!n&&l.patchFlag!==-2&&xk(s,l)),l.type===r2&&(l.el=s.el)}}function rge(e){const t=e.slice(),n=[0];let r,a,o,s,l;const d=e.length;for(r=0;r<d;r++){const u=e[r];if(u!==0){if(a=n[n.length-1],e[a]<u){t[r]=a,n.push(r);continue}for(o=0,s=n.length-1;o<s;)l=o+s>>1,e[n[l]]<u?o=l+1:s=l;u<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}function FV(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:FV(t)}function ZA(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ige=Symbol.for("v-scx"),age=()=>Nt(ige);function jV(e,t){return _k(e,null,t)}function Rt(e,t,n){return _k(e,t,n)}function _k(e,t,n=br){const{immediate:r,deep:a,flush:o,once:s}=n,l=Li({},n);let d;if(Ww)if(o==="sync"){const g=age();d=g.__watcherHandles||(g.__watcherHandles=[])}else if(!t||r)l.once=!0;else{const g=()=>{};return g.stop=qi,g.resume=qi,g.pause=qi,g}const u=ha;l.call=(g,v,c)=>mc(g,u,v,c);let f=!1;o==="post"?l.scheduler=g=>{da(g,u&&u.suspense)}:o!=="sync"&&(f=!0,l.scheduler=(g,v)=>{v?g():vk(g)}),l.augmentJob=g=>{t&&(g.flags|=4),f&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const p=v1e(e,t,l);return d&&d.push(p),p}function oge(e,t,n){const r=this.proxy,a=cn(e)?e.includes(".")?OV(r,e):()=>r[e]:e.bind(r,r);let o;Bt(t)?o=t:(o=t.handler,n=t);const s=ub(this),l=_k(a,o.bind(r),n);return s(),l}function OV(e,t){const n=t.split(".");return()=>{let r=e;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}const sge=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ks(t)}Modifiers`]||e[`${cf(t)}Modifiers`];function lge(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||br;let a=n;const o=t.startsWith("update:"),s=o&&sge(r,t.slice(7));s&&(s.trim&&(a=n.map(f=>cn(f)?f.trim():f)),s.number&&(a=n.map(H_)));let l,d=r[l=WE(t)]||r[l=WE(ks(t))];!d&&o&&(d=r[l=WE(cf(t))]),d&&mc(d,e,6,a);const u=r[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,mc(u,e,6,a)}}function zV(e,t,n=!1){const r=t.emitsCache,a=r.get(e);if(a!==void 0)return a;const o=e.emits;let s={},l=!1;if(!Bt(e)){const d=u=>{const f=zV(u,t,!0);f&&(l=!0,Li(s,f))};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!o&&!l?(Ln(e)&&r.set(e,null),null):(jt(o)?o.forEach(d=>s[d]=null):Li(s,o),Ln(e)&&r.set(e,s),s)}function Gw(e,t){return!e||!Nw(t)?!1:(t=t.slice(2).replace(/Once$/,""),Fn(e,t[0].toLowerCase()+t.slice(1))||Fn(e,cf(t))||Fn(e,t))}function tx(e){const{type:t,vnode:n,proxy:r,withProxy:a,propsOptions:[o],slots:s,attrs:l,emit:d,render:u,renderCache:f,props:p,data:g,setupState:v,ctx:c,inheritAttrs:h}=e,m=KA(e);let U,b;try{if(n.shapeFlag&4){const E=a||r,x=E;U=ed(u.call(x,E,f,p,v,g,c)),b=l}else{const E=t;U=ed(E.length>1?E(p,{attrs:l,slots:s,emit:d}):E(p,null)),b=t.props?l:cge(l)}}catch(E){Ev.length=0,Ow(E,e,1),U=Ge(Ea)}let w=U;if(b&&h!==!1){const E=Object.keys(b),{shapeFlag:x}=w;E.length&&x&7&&(o&&E.some(rk)&&(b=dge(b,o)),w=bd(w,b,!1,!0))}return n.dirs&&(w=bd(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&jh(w,n.transition),U=w,KA(m),U}const cge=e=>{let t;for(const n in e)(n==="class"||n==="style"||Nw(n))&&((t||(t={}))[n]=e[n]);return t},dge=(e,t)=>{const n={};for(const r in e)(!rk(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function uge(e,t,n){const{props:r,children:a,component:o}=e,{props:s,children:l,patchFlag:d}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return r?RL(r,s,u):!!s;if(d&8){const f=t.dynamicProps;for(let p=0;p<f.length;p++){const g=f[p];if(s[g]!==r[g]&&!Gw(u,g))return!0}}}else return(a||l)&&(!l||!l.$stable)?!0:r===s?!1:r?s?RL(r,s,u):!0:!!s;return!1}function RL(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const o=r[a];if(t[o]!==e[o]&&!Gw(n,o))return!0}return!1}function fge({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const qA=e=>e.__isSuspense;function hge(e,t){t&&t.pendingBranch?jt(e)?t.effects.push(...e):t.effects.push(e):A1e(e)}const $r=Symbol.for("v-fgt"),r2=Symbol.for("v-txt"),Ea=Symbol.for("v-cmt"),p3=Symbol.for("v-stc"),Ev=[];let bs=null;function Te(e=!1){Ev.push(bs=e?null:[])}function pge(){Ev.pop(),bs=Ev[Ev.length-1]||null}let vy=1;function DL(e){vy+=e,e<0&&bs&&(bs.hasOnce=!0)}function QV(e){return e.dynamicChildren=vy>0?bs||Zg:null,pge(),vy>0&&bs&&bs.push(e),e}function Ut(e,t,n,r,a,o){return QV(lt(e,t,n,r,a,o,!0))}function Ct(e,t,n,r,a){return QV(Ge(e,t,n,r,a,!0))}function Ms(e){return e?e.__v_isVNode===!0:!1}function oh(e,t){return e.type===t.type&&e.key===t.key}const HV=({key:e})=>e??null,g3=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?cn(e)||Ar(e)||Bt(e)?{i:Zi,r:e,k:t,f:!!n}:e:null);function lt(e,t=null,n=null,r=0,a=null,o=e===$r?0:1,s=!1,l=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&HV(t),ref:t&&g3(t),scopeId:dV,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Zi};return l?(Ck(d,n),o&128&&e.normalize(d)):n&&(d.shapeFlag|=cn(n)?8:16),vy>0&&!s&&bs&&(d.patchFlag>0||o&6)&&d.patchFlag!==32&&bs.push(d),d}const Ge=gge;function gge(e,t=null,n=null,r=0,a=null,o=!1){if((!e||e===xV)&&(e=Ea),Ms(e)){const l=bd(e,t,!0);return n&&Ck(l,n),vy>0&&!o&&bs&&(l.shapeFlag&6?bs[bs.indexOf(e)]=l:bs.push(l)),l.patchFlag=-2,l}if(wge(e)&&(e=e.__vccOpts),t){t=GV(t);let{class:l,style:d}=t;l&&!cn(l)&&(t.class=ft(l)),Ln(d)&&(mk(d)&&!jt(d)&&(d=Li({},d)),t.style=Ii(d))}const s=cn(e)?1:qA(e)?128:fV(e)?64:Ln(e)?4:Bt(e)?2:0;return lt(e,t,n,r,a,s,o,!0)}function GV(e){return e?mk(e)||BV(e)?Li({},e):e:null}function bd(e,t,n=!1,r=!1){const{props:a,ref:o,patchFlag:s,children:l,transition:d}=e,u=t?Ts(a||{},t):a,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&HV(u),ref:t&&t.ref?n&&o?jt(o)?o.concat(g3(t)):[o,g3(t)]:g3(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==$r?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&bd(e.ssContent),ssFallback:e.ssFallback&&bd(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&r&&jh(f,d.clone(f)),f}function za(e=" ",t=0){return Ge(r2,null,e,t)}function cqe(e,t){const n=Ge(p3,null,e);return n.staticCount=t,n}function $t(e="",t=!1){return t?(Te(),Ct(Ea,null,e)):Ge(Ea,null,e)}function ed(e){return e==null||typeof e=="boolean"?Ge(Ea):jt(e)?Ge($r,null,e.slice()):Ms(e)?eh(e):Ge(r2,null,String(e))}function eh(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:bd(e)}function Ck(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(jt(t))n=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),Ck(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!BV(t)?t._ctx=Zi:a===3&&Zi&&(Zi.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Bt(t)?(t={default:t,_ctx:Zi},n=32):(t=String(t),r&64?(n=16,t=[za(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ts(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=ft([t.class,r.class]));else if(a==="style")t.style=Ii([t.style,r.style]);else if(Nw(a)){const o=t[a],s=r[a];s&&o!==s&&!(jt(o)&&o.includes(s))&&(t[a]=o?[].concat(o,s):s)}else a!==""&&(t[a]=r[a])}return t}function Ys(e,t,n,r=null){mc(e,t,7,[n,r])}const mge=kV();let Uge=0;function vge(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||mge,o={uid:Uge++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new OW(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:DV(r,a),emitsOptions:zV(r,a),emit:null,emitted:null,propsDefaults:br,inheritAttrs:r.inheritAttrs,ctx:br,data:br,props:br,attrs:br,slots:br,refs:br,setupState:br,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=lge.bind(null,o),e.ce&&e.ce(o),o}let ha=null;const oi=()=>ha||Zi;let JA,J_;{const e=NW(),t=(n,r)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(r),o=>{a.length>1?a.forEach(s=>s(o)):a[0](o)}};JA=t("__VUE_INSTANCE_SETTERS__",n=>ha=n),J_=t("__VUE_SSR_SETTERS__",n=>Ww=n)}const ub=e=>{const t=ha;return JA(e),e.scope.on(),()=>{e.scope.off(),JA(t)}},PL=()=>{ha&&ha.scope.off(),JA(null)};function WV(e){return e.vnode.shapeFlag&4}let Ww=!1;function yge(e,t=!1,n=!1){t&&J_(t);const{props:r,children:a}=e.vnode,o=WV(e);Y1e(e,r,o,t),q1e(e,a,n);const s=o?bge(e,t):void 0;return t&&J_(!1),s}function bge(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,$1e);const{setup:r}=n;if(r){const a=e.setupContext=r.length>1?YV(e):null,o=ub(e);Jh();const s=cb(r,e,0,[e.props,a]);if(ep(),o(),GA(s)){if(A0(e)||yV(e),s.then(PL,PL),t)return s.then(l=>{LL(e,l,t)}).catch(l=>{Ow(l,e,0)});e.asyncDep=s}else LL(e,s,t)}else VV(e,t)}function LL(e,t,n){Bt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ln(t)&&(e.setupState=iV(t)),VV(e,n)}let NL;function VV(e,t,n){const r=e.type;if(!e.render){if(!t&&NL&&!r.render){const a=r.template||wk(e).template;if(a){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:l,compilerOptions:d}=r,u=Li(Li({isCustomElement:o,delimiters:l},s),d);r.render=NL(a,u)}}e.render=r.render||qi}{const a=ub(e);Jh();try{j1e(e)}finally{ep(),a()}}}const Age={get(e,t){return Va(e,"get",""),e[t]}};function YV(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Age),slots:e.slots,emit:e.emit,expose:t}}function Vw(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(iV(gy(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in wv)return wv[n](e)},has(t,n){return n in t||n in wv}})):e.proxy}function eC(e,t=!0){return Bt(e)?e.displayName||e.name:e.name||t&&e.__name}function wge(e){return Bt(e)&&"__vccOpts"in e}const be=(e,t)=>m1e(e,t,Ww);function _u(e,t,n){const r=arguments.length;return r===2?Ln(t)&&!jt(t)?Ms(t)?Ge(e,null,[t]):Ge(e,t):Ge(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ms(n)&&(n=[n]),Ge(e,t,n))}const Ege="3.5.11",xge=qi;/**
* @vue/runtime-dom v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let tC;const $L=typeof window<"u"&&window.trustedTypes;if($L)try{tC=$L.createPolicy("vue",{createHTML:e=>e})}catch{}const KV=tC?e=>tC.createHTML(e):e=>e,_ge="http://www.w3.org/2000/svg",Cge="http://www.w3.org/1998/Math/MathML",du=typeof document<"u"?document:null,FL=du&&du.createElement("template"),Sge={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t==="svg"?du.createElementNS(_ge,e):t==="mathml"?du.createElementNS(Cge,e):n?du.createElement(e,{is:n}):du.createElement(e);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>du.createTextNode(e),createComment:e=>du.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>du.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,o){const s=n?n.previousSibling:t.lastChild;if(a&&(a===o||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===o||!(a=a.nextSibling)););else{FL.innerHTML=KV(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const l=FL.content;if(r==="svg"||r==="mathml"){const d=l.firstChild;for(;d.firstChild;)l.appendChild(d.firstChild);l.removeChild(d)}t.insertBefore(l,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},kf="transition",G2="animation",vm=Symbol("_vtc"),XV={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ZV=Li({},gV,XV),Ige=e=>(e.displayName="Transition",e.props=ZV,e),q0=Ige((e,{slots:t})=>_u(S1e,qV(e),t)),vp=(e,t=[])=>{jt(e)?e.forEach(n=>n(...t)):e&&e(...t)},jL=e=>e?jt(e)?e.some(t=>t.length>1):e.length>1:!1;function qV(e){const t={};for(const L in e)L in XV||(t[L]=e[L]);if(e.css===!1)return t;const{name:n="v",type:r,duration:a,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:d=o,appearActiveClass:u=s,appearToClass:f=l,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,c=kge(a),h=c&&c[0],m=c&&c[1],{onBeforeEnter:U,onEnter:b,onEnterCancelled:w,onLeave:E,onLeaveCancelled:x,onBeforeAppear:C=U,onAppear:I=b,onAppearCancelled:S=w}=t,M=(L,j,re)=>{Of(L,j?f:l),Of(L,j?u:s),re&&re()},R=(L,j)=>{L._isLeaving=!1,Of(L,p),Of(L,v),Of(L,g),j&&j()},D=L=>(j,re)=>{const J=L?I:b,H=()=>M(j,L,re);vp(J,[j,H]),OL(()=>{Of(j,L?d:o),eu(j,L?f:l),jL(J)||zL(j,r,h,H)})};return Li(t,{onBeforeEnter(L){vp(U,[L]),eu(L,o),eu(L,s)},onBeforeAppear(L){vp(C,[L]),eu(L,d),eu(L,u)},onEnter:D(!1),onAppear:D(!0),onLeave(L,j){L._isLeaving=!0;const re=()=>R(L,j);eu(L,p),eu(L,g),eY(),OL(()=>{L._isLeaving&&(Of(L,p),eu(L,v),jL(E)||zL(L,r,m,re))}),vp(E,[L,re])},onEnterCancelled(L){M(L,!1),vp(w,[L])},onAppearCancelled(L){M(L,!0),vp(S,[L])},onLeaveCancelled(L){R(L),vp(x,[L])}})}function kge(e){if(e==null)return null;if(Ln(e))return[nx(e.enter),nx(e.leave)];{const t=nx(e);return[t,t]}}function nx(e){return P0e(e)}function eu(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[vm]||(e[vm]=new Set)).add(t)}function Of(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[vm];n&&(n.delete(t),n.size||(e[vm]=void 0))}function OL(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Mge=0;function zL(e,t,n,r){const a=e._endId=++Mge,o=()=>{a===e._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:s,timeout:l,propCount:d}=JV(e,t);if(!s)return r();const u=s+"end";let f=0;const p=()=>{e.removeEventListener(u,g),o()},g=v=>{v.target===e&&++f>=d&&p()};setTimeout(()=>{f<d&&p()},l+1),e.addEventListener(u,g)}function JV(e,t){const n=window.getComputedStyle(e),r=c=>(n[c]||"").split(", "),a=r(`${kf}Delay`),o=r(`${kf}Duration`),s=QL(a,o),l=r(`${G2}Delay`),d=r(`${G2}Duration`),u=QL(l,d);let f=null,p=0,g=0;t===kf?s>0&&(f=kf,p=s,g=o.length):t===G2?u>0&&(f=G2,p=u,g=d.length):(p=Math.max(s,u),f=p>0?s>u?kf:G2:null,g=f?f===kf?o.length:d.length:0);const v=f===kf&&/\b(transform|all)(,|$)/.test(r(`${kf}Property`).toString());return{type:f,timeout:p,propCount:g,hasTransform:v}}function QL(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>HL(n)+HL(e[r])))}function HL(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function eY(){return document.body.offsetHeight}function Tge(e,t,n){const r=e[vm];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const e8=Symbol("_vod"),tY=Symbol("_vsh"),md={beforeMount(e,{value:t},{transition:n}){e[e8]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):W2(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),W2(e,!0),r.enter(e)):r.leave(e,()=>{W2(e,!1)}):W2(e,t))},beforeUnmount(e,{value:t}){W2(e,t)}};function W2(e,t){e.style.display=t?e[e8]:"none",e[tY]=!t}const Bge=Symbol(""),Rge=/(^|;)\s*display\s*:/;function Dge(e,t,n){const r=e.style,a=cn(n);let o=!1;if(n&&!a){if(t)if(cn(t))for(const s of t.split(";")){const l=s.slice(0,s.indexOf(":")).trim();n[l]==null&&m3(r,l,"")}else for(const s in t)n[s]==null&&m3(r,s,"");for(const s in n)s==="display"&&(o=!0),m3(r,s,n[s])}else if(a){if(t!==n){const s=r[Bge];s&&(n+=";"+s),r.cssText=n,o=Rge.test(n)}}else t&&e.removeAttribute("style");e8 in e&&(e[e8]=o?r.display:"",e[tY]&&(r.display="none"))}const GL=/\s*!important$/;function m3(e,t,n){if(jt(n))n.forEach(r=>m3(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Pge(e,t);GL.test(n)?e.setProperty(cf(r),n.replace(GL,""),"important"):e[r]=n}}const WL=["Webkit","Moz","ms"],rx={};function Pge(e,t){const n=rx[t];if(n)return n;let r=ks(t);if(r!=="filter"&&r in e)return rx[t]=r;r=lb(r);for(let a=0;a<WL.length;a++){const o=WL[a]+r;if(o in e)return rx[t]=o}return t}const VL="http://www.w3.org/1999/xlink";function YL(e,t,n,r,a,o=z0e(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(VL,t.slice(6,t.length)):e.setAttributeNS(VL,t,n):n==null||o&&!$W(n)?e.removeAttribute(t):e.setAttribute(t,o?"":qh(n)?String(n):n)}function KL(e,t,n,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?KV(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const s=a==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(s!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const s=typeof e[t];s==="boolean"?n=$W(n):n==null&&s==="string"?(n="",o=!0):s==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(t)}function G1(e,t,n,r){e.addEventListener(t,n,r)}function Lge(e,t,n,r){e.removeEventListener(t,n,r)}const XL=Symbol("_vei");function Nge(e,t,n,r,a=null){const o=e[XL]||(e[XL]={}),s=o[t];if(r&&s)s.value=r;else{const[l,d]=$ge(t);if(r){const u=o[t]=Oge(r,a);G1(e,l,u,d)}else s&&(Lge(e,l,s,d),o[t]=void 0)}}const ZL=/(?:Once|Passive|Capture)$/;function $ge(e){let t;if(ZL.test(e)){t={};let r;for(;r=e.match(ZL);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):cf(e.slice(2)),t]}let ix=0;const Fge=Promise.resolve(),jge=()=>ix||(Fge.then(()=>ix=0),ix=Date.now());function Oge(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;mc(zge(r,n.value),t,5,[r])};return n.value=e,n.attached=jge(),n}function zge(e,t){if(jt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const qL=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Qge=(e,t,n,r,a,o)=>{const s=a==="svg";t==="class"?Tge(e,r,s):t==="style"?Dge(e,n,r):Nw(t)?rk(t)||Nge(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Hge(e,t,r,s))?(KL(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&YL(e,t,r,s,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!cn(r))?KL(e,ks(t),r):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),YL(e,t,r,s))};function Hge(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&qL(t)&&Bt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return qL(t)&&cn(n)?!1:t in e}const nY=new WeakMap,rY=new WeakMap,t8=Symbol("_moveCb"),JL=Symbol("_enterCb"),Gge=e=>(delete e.props.mode,e),Wge=Gge({name:"TransitionGroup",props:Li({},ZV,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=oi(),r=pV();let a,o;return n2(()=>{if(!a.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!Zge(a[0].el,n.vnode.el,s))return;a.forEach(Yge),a.forEach(Kge);const l=a.filter(Xge);eY(),l.forEach(d=>{const u=d.el,f=u.style;eu(u,s),f.transform=f.webkitTransform=f.transitionDuration="";const p=u[t8]=g=>{g&&g.target!==u||(!g||/transform$/.test(g.propertyName))&&(u.removeEventListener("transitionend",p),u[t8]=null,Of(u,s))};u.addEventListener("transitionend",p)})}),()=>{const s=Dn(e),l=qV(s);let d=s.tag||$r;if(a=[],o)for(let u=0;u<o.length;u++){const f=o[u];f.el&&f.el instanceof Element&&(a.push(f),jh(f,Uy(f,l,r,n)),nY.set(f,f.el.getBoundingClientRect()))}o=t.default?yk(t.default()):[];for(let u=0;u<o.length;u++){const f=o[u];f.key!=null&&jh(f,Uy(f,l,r,n))}return Ge(d,null,o)}}}),Vge=Wge;function Yge(e){const t=e.el;t[t8]&&t[t8](),t[JL]&&t[JL]()}function Kge(e){rY.set(e,e.el.getBoundingClientRect())}function Xge(e){const t=nY.get(e),n=rY.get(e),r=t.left-n.left,a=t.top-n.top;if(r||a){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${a}px)`,o.transitionDuration="0s",e}}function Zge(e,t,n){const r=e.cloneNode(),a=e[vm];a&&a.forEach(l=>{l.split(/\s+/).forEach(d=>d&&r.classList.remove(d))}),n.split(/\s+/).forEach(l=>l&&r.classList.add(l)),r.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(r);const{hasTransform:s}=JV(r);return o.removeChild(r),s}const eN=e=>{const t=e.props["onUpdate:modelValue"]||!1;return jt(t)?n=>Jg(t,n):t};function qge(e){e.target.composing=!0}function tN(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ax=Symbol("_assign"),dqe={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e[ax]=eN(a);const o=r||a.props&&a.props.type==="number";G1(e,t?"change":"input",s=>{if(s.target.composing)return;let l=e.value;n&&(l=l.trim()),o&&(l=H_(l)),e[ax](l)}),n&&G1(e,"change",()=>{e.value=e.value.trim()}),t||(G1(e,"compositionstart",qge),G1(e,"compositionend",tN),G1(e,"change",tN))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:a,number:o}},s){if(e[ax]=eN(s),e.composing)return;const l=(o||e.type==="number")&&!/^0\d/.test(e.value)?H_(e.value):e.value,d=t??"";l!==d&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||a&&e.value.trim()===d)||(e.value=d))}},Jge=["ctrl","shift","alt","meta"],eme={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Jge.some(n=>e[`${n}Key`]&&!t.includes(n))},cd=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(a,...o)=>{for(let s=0;s<t.length;s++){const l=eme[t[s]];if(l&&l(a,t))return}return e(a,...o)})},tme={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},RU=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=a=>{if(!("key"in a))return;const o=cf(a.key);if(t.some(s=>s===o||tme[s]===o))return e(a)})},nme=Li({patchProp:Qge},Sge);let nN;function iY(){return nN||(nN=ege(nme))}const n8=(...e)=>{iY().render(...e)},aY=(...e)=>{const t=iY().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=ime(r);if(!a)return;const o=t._component;!Bt(o)&&!o.render&&!o.template&&(o.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const s=n(a,!1,rme(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),s},t};function rme(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ime(e){return cn(e)?document.querySelector(e):e}var ame=!1;/*!
 * pinia v2.2.4
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let oY;const Yw=e=>oY=e,sY=Symbol();function nC(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var xv;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(xv||(xv={}));function ome(){const e=zW(!0),t=e.run(()=>Ie({}));let n=[],r=[];const a=gy({install(o){Yw(a),a._a=o,o.provide(sY,a),o.config.globalProperties.$pinia=a,r.forEach(s=>n.push(s)),r=[]},use(o){return!this._a&&!ame?r.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return a}const lY=()=>{};function rN(e,t,n,r=lY){e.push(t);const a=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),r())};return!n&&ok()&&sk(a),a}function x1(e,...t){e.slice().forEach(n=>{n(...t)})}const sme=e=>e(),iN=Symbol(),ox=Symbol();function rC(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],a=e[n];nC(a)&&nC(r)&&e.hasOwnProperty(n)&&!Ar(r)&&!Lu(r)?e[n]=rC(a,r):e[n]=r}return e}const lme=Symbol();function cme(e){return!nC(e)||!e.hasOwnProperty(lme)}const{assign:zf}=Object;function dme(e){return!!(Ar(e)&&e.effect)}function ume(e,t,n,r){const{state:a,actions:o,getters:s}=t,l=n.state.value[e];let d;function u(){l||(n.state.value[e]=a?a():{});const f=t2(n.state.value[e]);return zf(f,o,Object.keys(s||{}).reduce((p,g)=>(p[g]=gy(be(()=>{Yw(n);const v=n._s.get(e);return s[g].call(v,v)})),p),{}))}return d=cY(e,u,t,n,r,!0),d}function cY(e,t,n={},r,a,o){let s;const l=zf({actions:{}},n),d={deep:!0};let u,f,p=[],g=[],v;const c=r.state.value[e];!o&&!c&&(r.state.value[e]={}),Ie({});let h;function m(S){let M;u=f=!1,typeof S=="function"?(S(r.state.value[e]),M={type:xv.patchFunction,storeId:e,events:v}):(rC(r.state.value[e],S),M={type:xv.patchObject,payload:S,storeId:e,events:v});const R=h=Symbol();lr().then(()=>{h===R&&(u=!0)}),f=!0,x1(p,M,r.state.value[e])}const U=o?function(){const{state:M}=n,R=M?M():{};this.$patch(D=>{zf(D,R)})}:lY;function b(){s.stop(),p=[],g=[],r._s.delete(e)}const w=(S,M="")=>{if(iN in S)return S[ox]=M,S;const R=function(){Yw(r);const D=Array.from(arguments),L=[],j=[];function re(ne){L.push(ne)}function J(ne){j.push(ne)}x1(g,{args:D,name:R[ox],store:x,after:re,onError:J});let H;try{H=S.apply(this&&this.$id===e?this:x,D)}catch(ne){throw x1(j,ne),ne}return H instanceof Promise?H.then(ne=>(x1(L,ne),ne)).catch(ne=>(x1(j,ne),Promise.reject(ne))):(x1(L,H),H)};return R[iN]=!0,R[ox]=M,R},E={_p:r,$id:e,$onAction:rN.bind(null,g),$patch:m,$reset:U,$subscribe(S,M={}){const R=rN(p,S,M.detached,()=>D()),D=s.run(()=>Rt(()=>r.state.value[e],L=>{(M.flush==="sync"?f:u)&&S({storeId:e,type:xv.direct,events:v},L)},zf({},d,M)));return R},$dispose:b},x=Ji(E);r._s.set(e,x);const I=(r._a&&r._a.runWithContext||sme)(()=>r._e.run(()=>(s=zW()).run(()=>t({action:w}))));for(const S in I){const M=I[S];if(Ar(M)&&!dme(M)||Lu(M))o||(c&&cme(M)&&(Ar(M)?M.value=c[S]:rC(M,c[S])),r.state.value[e][S]=M);else if(typeof M=="function"){const R=w(M,S);I[S]=R,l.actions[S]=M}}return zf(x,I),zf(Dn(x),I),Object.defineProperty(x,"$state",{get:()=>r.state.value[e],set:S=>{m(M=>{zf(M,S)})}}),r._p.forEach(S=>{zf(x,s.run(()=>S({store:x,app:r._a,pinia:r,options:l})))}),c&&o&&n.hydrate&&n.hydrate(x.$state,c),u=!0,f=!0,x}function J0(e,t,n){let r,a;const o=typeof t=="function";typeof e=="string"?(r=e,a=o?n:t):(a=e,r=e.id);function s(l,d){const u=V1e();return l=l||(u?Nt(sY,null):null),l&&Yw(l),l=oY,l._s.has(r)||(o?cY(r,t,a,l):ume(r,a,l)),l._s.get(r)}return s.$id=r,s}function uqe(e){{e=Dn(e);const t={};for(const n in e){const r=e[n];(Ar(r)||Lu(r))&&(t[n]=xa(e,n))}return t}}const dY=Symbol(),_v="el",fme="is-",yp=(e,t,n,r,a)=>{let o=`${e}-${t}`;return n&&(o+=`-${n}`),r&&(o+=`__${r}`),a&&(o+=`--${a}`),o},uY=Symbol("namespaceContextKey"),Sk=e=>{const t=e||(oi()?Nt(uY,Ie(_v)):Ie(_v));return be(()=>Q(t)||_v)},dr=(e,t)=>{const n=Sk(t);return{namespace:n,b:(h="")=>yp(n.value,e,h,"",""),e:h=>h?yp(n.value,e,"",h,""):"",m:h=>h?yp(n.value,e,"","",h):"",be:(h,m)=>h&&m?yp(n.value,e,h,m,""):"",em:(h,m)=>h&&m?yp(n.value,e,"",h,m):"",bm:(h,m)=>h&&m?yp(n.value,e,h,"",m):"",bem:(h,m,U)=>h&&m&&U?yp(n.value,e,h,m,U):"",is:(h,...m)=>{const U=m.length>=1?m[0]:!0;return h&&U?`${fme}${h}`:""},cssVar:h=>{const m={};for(const U in h)h[U]&&(m[`--${n.value}-${U}`]=h[U]);return m},cssVarName:h=>`--${n.value}-${h}`,cssVarBlock:h=>{const m={};for(const U in h)h[U]&&(m[`--${n.value}-${e}-${U}`]=h[U]);return m},cssVarBlockName:h=>`--${n.value}-${e}-${h}`}};var fY=typeof global=="object"&&global&&global.Object===Object&&global,hme=typeof self=="object"&&self&&self.Object===Object&&self,bc=fY||hme||Function("return this")(),Ad=bc.Symbol,hY=Object.prototype,pme=hY.hasOwnProperty,gme=hY.toString,V2=Ad?Ad.toStringTag:void 0;function mme(e){var t=pme.call(e,V2),n=e[V2];try{e[V2]=void 0;var r=!0}catch{}var a=gme.call(e);return r&&(t?e[V2]=n:delete e[V2]),a}var Ume=Object.prototype,vme=Ume.toString;function yme(e){return vme.call(e)}var bme="[object Null]",Ame="[object Undefined]",aN=Ad?Ad.toStringTag:void 0;function i2(e){return e==null?e===void 0?Ame:bme:aN&&aN in Object(e)?mme(e):yme(e)}function a2(e){return e!=null&&typeof e=="object"}var wme="[object Symbol]";function Kw(e){return typeof e=="symbol"||a2(e)&&i2(e)==wme}function Eme(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var uf=Array.isArray,xme=1/0,oN=Ad?Ad.prototype:void 0,sN=oN?oN.toString:void 0;function pY(e){if(typeof e=="string")return e;if(uf(e))return Eme(e,pY)+"";if(Kw(e))return sN?sN.call(e):"";var t=e+"";return t=="0"&&1/e==-xme?"-0":t}var _me=/\s/;function Cme(e){for(var t=e.length;t--&&_me.test(e.charAt(t)););return t}var Sme=/^\s+/;function Ime(e){return e&&e.slice(0,Cme(e)+1).replace(Sme,"")}function wd(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var lN=NaN,kme=/^[-+]0x[0-9a-f]+$/i,Mme=/^0b[01]+$/i,Tme=/^0o[0-7]+$/i,Bme=parseInt;function cN(e){if(typeof e=="number")return e;if(Kw(e))return lN;if(wd(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=wd(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ime(e);var n=Mme.test(e);return n||Tme.test(e)?Bme(e.slice(2),n?2:8):kme.test(e)?lN:+e}function Rme(e){return e}var Dme="[object AsyncFunction]",Pme="[object Function]",Lme="[object GeneratorFunction]",Nme="[object Proxy]";function gY(e){if(!wd(e))return!1;var t=i2(e);return t==Pme||t==Lme||t==Dme||t==Nme}var sx=bc["__core-js_shared__"],dN=function(){var e=/[^.]+$/.exec(sx&&sx.keys&&sx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function $me(e){return!!dN&&dN in e}var Fme=Function.prototype,jme=Fme.toString;function e1(e){if(e!=null){try{return jme.call(e)}catch{}try{return e+""}catch{}}return""}var Ome=/[\\^$.*+?()[\]{}|]/g,zme=/^\[object .+?Constructor\]$/,Qme=Function.prototype,Hme=Object.prototype,Gme=Qme.toString,Wme=Hme.hasOwnProperty,Vme=RegExp("^"+Gme.call(Wme).replace(Ome,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Yme(e){if(!wd(e)||$me(e))return!1;var t=gY(e)?Vme:zme;return t.test(e1(e))}function Kme(e,t){return e==null?void 0:e[t]}function t1(e,t){var n=Kme(e,t);return Yme(n)?n:void 0}var iC=t1(bc,"WeakMap"),uN=Object.create,Xme=function(){function e(){}return function(t){if(!wd(t))return{};if(uN)return uN(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Zme(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function qme(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var Jme=800,e2e=16,t2e=Date.now;function n2e(e){var t=0,n=0;return function(){var r=t2e(),a=e2e-(r-n);if(n=r,a>0){if(++t>=Jme)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function r2e(e){return function(){return e}}var r8=function(){try{var e=t1(Object,"defineProperty");return e({},"",{}),e}catch{}}(),i2e=r8?function(e,t){return r8(e,"toString",{configurable:!0,enumerable:!1,value:r2e(t),writable:!0})}:Rme,a2e=n2e(i2e);function o2e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var s2e=9007199254740991,l2e=/^(?:0|[1-9]\d*)$/;function Ik(e,t){var n=typeof e;return t=t??s2e,!!t&&(n=="number"||n!="symbol"&&l2e.test(e))&&e>-1&&e%1==0&&e<t}function mY(e,t,n){t=="__proto__"&&r8?r8(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function UY(e,t){return e===t||e!==e&&t!==t}var c2e=Object.prototype,d2e=c2e.hasOwnProperty;function kk(e,t,n){var r=e[t];(!(d2e.call(e,t)&&UY(r,n))||n===void 0&&!(t in e))&&mY(e,t,n)}function Xw(e,t,n,r){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var l=t[o],d=void 0;d===void 0&&(d=e[l]),a?mY(n,l,d):kk(n,l,d)}return n}var fN=Math.max;function u2e(e,t,n){return t=fN(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=fN(r.length-t,0),s=Array(o);++a<o;)s[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(s),Zme(e,this,l)}}var f2e=9007199254740991;function Mk(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=f2e}function vY(e){return e!=null&&Mk(e.length)&&!gY(e)}var h2e=Object.prototype;function Tk(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||h2e;return e===n}function p2e(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var g2e="[object Arguments]";function hN(e){return a2(e)&&i2(e)==g2e}var yY=Object.prototype,m2e=yY.hasOwnProperty,U2e=yY.propertyIsEnumerable,Bk=hN(function(){return arguments}())?hN:function(e){return a2(e)&&m2e.call(e,"callee")&&!U2e.call(e,"callee")};function v2e(){return!1}var bY=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pN=bY&&typeof module=="object"&&module&&!module.nodeType&&module,y2e=pN&&pN.exports===bY,gN=y2e?bc.Buffer:void 0,b2e=gN?gN.isBuffer:void 0,AY=b2e||v2e,A2e="[object Arguments]",w2e="[object Array]",E2e="[object Boolean]",x2e="[object Date]",_2e="[object Error]",C2e="[object Function]",S2e="[object Map]",I2e="[object Number]",k2e="[object Object]",M2e="[object RegExp]",T2e="[object Set]",B2e="[object String]",R2e="[object WeakMap]",D2e="[object ArrayBuffer]",P2e="[object DataView]",L2e="[object Float32Array]",N2e="[object Float64Array]",$2e="[object Int8Array]",F2e="[object Int16Array]",j2e="[object Int32Array]",O2e="[object Uint8Array]",z2e="[object Uint8ClampedArray]",Q2e="[object Uint16Array]",H2e="[object Uint32Array]",Dr={};Dr[L2e]=Dr[N2e]=Dr[$2e]=Dr[F2e]=Dr[j2e]=Dr[O2e]=Dr[z2e]=Dr[Q2e]=Dr[H2e]=!0;Dr[A2e]=Dr[w2e]=Dr[D2e]=Dr[E2e]=Dr[P2e]=Dr[x2e]=Dr[_2e]=Dr[C2e]=Dr[S2e]=Dr[I2e]=Dr[k2e]=Dr[M2e]=Dr[T2e]=Dr[B2e]=Dr[R2e]=!1;function G2e(e){return a2(e)&&Mk(e.length)&&!!Dr[i2(e)]}function Rk(e){return function(t){return e(t)}}var wY=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Cv=wY&&typeof module=="object"&&module&&!module.nodeType&&module,W2e=Cv&&Cv.exports===wY,lx=W2e&&fY.process,ym=function(){try{var e=Cv&&Cv.require&&Cv.require("util").types;return e||lx&&lx.binding&&lx.binding("util")}catch{}}(),mN=ym&&ym.isTypedArray,V2e=mN?Rk(mN):G2e,Y2e=Object.prototype,K2e=Y2e.hasOwnProperty;function EY(e,t){var n=uf(e),r=!n&&Bk(e),a=!n&&!r&&AY(e),o=!n&&!r&&!a&&V2e(e),s=n||r||a||o,l=s?p2e(e.length,String):[],d=l.length;for(var u in e)(t||K2e.call(e,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Ik(u,d)))&&l.push(u);return l}function xY(e,t){return function(n){return e(t(n))}}var X2e=xY(Object.keys,Object),Z2e=Object.prototype,q2e=Z2e.hasOwnProperty;function J2e(e){if(!Tk(e))return X2e(e);var t=[];for(var n in Object(e))q2e.call(e,n)&&n!="constructor"&&t.push(n);return t}function Dk(e){return vY(e)?EY(e):J2e(e)}function eUe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var tUe=Object.prototype,nUe=tUe.hasOwnProperty;function rUe(e){if(!wd(e))return eUe(e);var t=Tk(e),n=[];for(var r in e)r=="constructor"&&(t||!nUe.call(e,r))||n.push(r);return n}function Pk(e){return vY(e)?EY(e,!0):rUe(e)}var iUe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,aUe=/^\w*$/;function oUe(e,t){if(uf(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Kw(e)?!0:aUe.test(e)||!iUe.test(e)||t!=null&&e in Object(t)}var yy=t1(Object,"create");function sUe(){this.__data__=yy?yy(null):{},this.size=0}function lUe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var cUe="__lodash_hash_undefined__",dUe=Object.prototype,uUe=dUe.hasOwnProperty;function fUe(e){var t=this.__data__;if(yy){var n=t[e];return n===cUe?void 0:n}return uUe.call(t,e)?t[e]:void 0}var hUe=Object.prototype,pUe=hUe.hasOwnProperty;function gUe(e){var t=this.__data__;return yy?t[e]!==void 0:pUe.call(t,e)}var mUe="__lodash_hash_undefined__";function UUe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yy&&t===void 0?mUe:t,this}function N0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}N0.prototype.clear=sUe;N0.prototype.delete=lUe;N0.prototype.get=fUe;N0.prototype.has=gUe;N0.prototype.set=UUe;function vUe(){this.__data__=[],this.size=0}function Zw(e,t){for(var n=e.length;n--;)if(UY(e[n][0],t))return n;return-1}var yUe=Array.prototype,bUe=yUe.splice;function AUe(e){var t=this.__data__,n=Zw(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():bUe.call(t,n,1),--this.size,!0}function wUe(e){var t=this.__data__,n=Zw(t,e);return n<0?void 0:t[n][1]}function EUe(e){return Zw(this.__data__,e)>-1}function xUe(e,t){var n=this.__data__,r=Zw(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ff(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ff.prototype.clear=vUe;ff.prototype.delete=AUe;ff.prototype.get=wUe;ff.prototype.has=EUe;ff.prototype.set=xUe;var by=t1(bc,"Map");function _Ue(){this.size=0,this.__data__={hash:new N0,map:new(by||ff),string:new N0}}function CUe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function qw(e,t){var n=e.__data__;return CUe(t)?n[typeof t=="string"?"string":"hash"]:n.map}function SUe(e){var t=qw(this,e).delete(e);return this.size-=t?1:0,t}function IUe(e){return qw(this,e).get(e)}function kUe(e){return qw(this,e).has(e)}function MUe(e,t){var n=qw(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function tp(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}tp.prototype.clear=_Ue;tp.prototype.delete=SUe;tp.prototype.get=IUe;tp.prototype.has=kUe;tp.prototype.set=MUe;var TUe="Expected a function";function Lk(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(TUe);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var s=e.apply(this,r);return n.cache=o.set(a,s)||o,s};return n.cache=new(Lk.Cache||tp),n}Lk.Cache=tp;var BUe=500;function RUe(e){var t=Lk(e,function(r){return n.size===BUe&&n.clear(),r}),n=t.cache;return t}var DUe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,PUe=/\\(\\)?/g,LUe=RUe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(DUe,function(n,r,a,o){t.push(a?o.replace(PUe,"$1"):r||n)}),t});function _Y(e){return e==null?"":pY(e)}function Jw(e,t){return uf(e)?e:oUe(e,t)?[e]:LUe(_Y(e))}var NUe=1/0;function Nk(e){if(typeof e=="string"||Kw(e))return e;var t=e+"";return t=="0"&&1/e==-NUe?"-0":t}function CY(e,t){t=Jw(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Nk(t[n++])];return n&&n==r?e:void 0}function SY(e,t,n){var r=e==null?void 0:CY(e,t);return r===void 0?n:r}function $k(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var UN=Ad?Ad.isConcatSpreadable:void 0;function $Ue(e){return uf(e)||Bk(e)||!!(UN&&e&&e[UN])}function FUe(e,t,n,r,a){var o=-1,s=e.length;for(n||(n=$Ue),a||(a=[]);++o<s;){var l=e[o];n(l)?$k(a,l):a[a.length]=l}return a}function jUe(e){var t=e==null?0:e.length;return t?FUe(e):[]}function OUe(e){return a2e(u2e(e,void 0,jUe),e+"")}var IY=xY(Object.getPrototypeOf,Object);function i8(){if(!arguments.length)return[];var e=arguments[0];return uf(e)?e:[e]}function zUe(){this.__data__=new ff,this.size=0}function QUe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function HUe(e){return this.__data__.get(e)}function GUe(e){return this.__data__.has(e)}var WUe=200;function VUe(e,t){var n=this.__data__;if(n instanceof ff){var r=n.__data__;if(!by||r.length<WUe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new tp(r)}return n.set(e,t),this.size=n.size,this}function o2(e){var t=this.__data__=new ff(e);this.size=t.size}o2.prototype.clear=zUe;o2.prototype.delete=QUe;o2.prototype.get=HUe;o2.prototype.has=GUe;o2.prototype.set=VUe;function YUe(e,t){return e&&Xw(t,Dk(t),e)}function KUe(e,t){return e&&Xw(t,Pk(t),e)}var kY=typeof exports=="object"&&exports&&!exports.nodeType&&exports,vN=kY&&typeof module=="object"&&module&&!module.nodeType&&module,XUe=vN&&vN.exports===kY,yN=XUe?bc.Buffer:void 0,bN=yN?yN.allocUnsafe:void 0;function ZUe(e,t){if(t)return e.slice();var n=e.length,r=bN?bN(n):new e.constructor(n);return e.copy(r),r}function qUe(e,t){for(var n=-1,r=e==null?0:e.length,a=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[a++]=s)}return o}function MY(){return[]}var JUe=Object.prototype,eve=JUe.propertyIsEnumerable,AN=Object.getOwnPropertySymbols,Fk=AN?function(e){return e==null?[]:(e=Object(e),qUe(AN(e),function(t){return eve.call(e,t)}))}:MY;function tve(e,t){return Xw(e,Fk(e),t)}var nve=Object.getOwnPropertySymbols,TY=nve?function(e){for(var t=[];e;)$k(t,Fk(e)),e=IY(e);return t}:MY;function rve(e,t){return Xw(e,TY(e),t)}function BY(e,t,n){var r=t(e);return uf(e)?r:$k(r,n(e))}function ive(e){return BY(e,Dk,Fk)}function ave(e){return BY(e,Pk,TY)}var aC=t1(bc,"DataView"),oC=t1(bc,"Promise"),sC=t1(bc,"Set"),wN="[object Map]",ove="[object Object]",EN="[object Promise]",xN="[object Set]",_N="[object WeakMap]",CN="[object DataView]",sve=e1(aC),lve=e1(by),cve=e1(oC),dve=e1(sC),uve=e1(iC),bu=i2;(aC&&bu(new aC(new ArrayBuffer(1)))!=CN||by&&bu(new by)!=wN||oC&&bu(oC.resolve())!=EN||sC&&bu(new sC)!=xN||iC&&bu(new iC)!=_N)&&(bu=function(e){var t=i2(e),n=t==ove?e.constructor:void 0,r=n?e1(n):"";if(r)switch(r){case sve:return CN;case lve:return wN;case cve:return EN;case dve:return xN;case uve:return _N}return t});var fve=Object.prototype,hve=fve.hasOwnProperty;function pve(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&hve.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var SN=bc.Uint8Array;function jk(e){var t=new e.constructor(e.byteLength);return new SN(t).set(new SN(e)),t}function gve(e,t){var n=t?jk(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var mve=/\w*$/;function Uve(e){var t=new e.constructor(e.source,mve.exec(e));return t.lastIndex=e.lastIndex,t}var IN=Ad?Ad.prototype:void 0,kN=IN?IN.valueOf:void 0;function vve(e){return kN?Object(kN.call(e)):{}}function yve(e,t){var n=t?jk(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var bve="[object Boolean]",Ave="[object Date]",wve="[object Map]",Eve="[object Number]",xve="[object RegExp]",_ve="[object Set]",Cve="[object String]",Sve="[object Symbol]",Ive="[object ArrayBuffer]",kve="[object DataView]",Mve="[object Float32Array]",Tve="[object Float64Array]",Bve="[object Int8Array]",Rve="[object Int16Array]",Dve="[object Int32Array]",Pve="[object Uint8Array]",Lve="[object Uint8ClampedArray]",Nve="[object Uint16Array]",$ve="[object Uint32Array]";function Fve(e,t,n){var r=e.constructor;switch(t){case Ive:return jk(e);case bve:case Ave:return new r(+e);case kve:return gve(e,n);case Mve:case Tve:case Bve:case Rve:case Dve:case Pve:case Lve:case Nve:case $ve:return yve(e,n);case wve:return new r;case Eve:case Cve:return new r(e);case xve:return Uve(e);case _ve:return new r;case Sve:return vve(e)}}function jve(e){return typeof e.constructor=="function"&&!Tk(e)?Xme(IY(e)):{}}var Ove="[object Map]";function zve(e){return a2(e)&&bu(e)==Ove}var MN=ym&&ym.isMap,Qve=MN?Rk(MN):zve,Hve="[object Set]";function Gve(e){return a2(e)&&bu(e)==Hve}var TN=ym&&ym.isSet,Wve=TN?Rk(TN):Gve,Vve=1,Yve=2,Kve=4,RY="[object Arguments]",Xve="[object Array]",Zve="[object Boolean]",qve="[object Date]",Jve="[object Error]",DY="[object Function]",eye="[object GeneratorFunction]",tye="[object Map]",nye="[object Number]",PY="[object Object]",rye="[object RegExp]",iye="[object Set]",aye="[object String]",oye="[object Symbol]",sye="[object WeakMap]",lye="[object ArrayBuffer]",cye="[object DataView]",dye="[object Float32Array]",uye="[object Float64Array]",fye="[object Int8Array]",hye="[object Int16Array]",pye="[object Int32Array]",gye="[object Uint8Array]",mye="[object Uint8ClampedArray]",Uye="[object Uint16Array]",vye="[object Uint32Array]",_r={};_r[RY]=_r[Xve]=_r[lye]=_r[cye]=_r[Zve]=_r[qve]=_r[dye]=_r[uye]=_r[fye]=_r[hye]=_r[pye]=_r[tye]=_r[nye]=_r[PY]=_r[rye]=_r[iye]=_r[aye]=_r[oye]=_r[gye]=_r[mye]=_r[Uye]=_r[vye]=!0;_r[Jve]=_r[DY]=_r[sye]=!1;function Sv(e,t,n,r,a,o){var s,l=t&Vve,d=t&Yve,u=t&Kve;if(s!==void 0)return s;if(!wd(e))return e;var f=uf(e);if(f){if(s=pve(e),!l)return qme(e,s)}else{var p=bu(e),g=p==DY||p==eye;if(AY(e))return ZUe(e,l);if(p==PY||p==RY||g&&!a){if(s=d||g?{}:jve(e),!l)return d?rve(e,KUe(s,e)):tve(e,YUe(s,e))}else{if(!_r[p])return a?e:{};s=Fve(e,p,l)}}o||(o=new o2);var v=o.get(e);if(v)return v;o.set(e,s),Wve(e)?e.forEach(function(m){s.add(Sv(m,t,n,m,e,o))}):Qve(e)&&e.forEach(function(m,U){s.set(U,Sv(m,t,n,U,e,o))});var c=u?d?ave:ive:d?Pk:Dk,h=f?void 0:c(e);return o2e(h||e,function(m,U){h&&(U=m,m=e[U]),kk(s,U,Sv(m,t,n,U,e,o))}),s}var yye=4;function BN(e){return Sv(e,yye)}var bye=1,Aye=4;function wye(e){return Sv(e,bye|Aye)}function Eye(e,t){return e!=null&&t in Object(e)}function xye(e,t,n){t=Jw(t,e);for(var r=-1,a=t.length,o=!1;++r<a;){var s=Nk(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=a?o:(a=e==null?0:e.length,!!a&&Mk(a)&&Ik(s,a)&&(uf(e)||Bk(e)))}function _ye(e,t){return e!=null&&xye(e,t,Eye)}var cx=function(){return bc.Date.now()},Cye="Expected a function",Sye=Math.max,Iye=Math.min;function kye(e,t,n){var r,a,o,s,l,d,u=0,f=!1,p=!1,g=!0;if(typeof e!="function")throw new TypeError(Cye);t=cN(t)||0,wd(n)&&(f=!!n.leading,p="maxWait"in n,o=p?Sye(cN(n.maxWait)||0,t):o,g="trailing"in n?!!n.trailing:g);function v(C){var I=r,S=a;return r=a=void 0,u=C,s=e.apply(S,I),s}function c(C){return u=C,l=setTimeout(U,t),f?v(C):s}function h(C){var I=C-d,S=C-u,M=t-I;return p?Iye(M,o-S):M}function m(C){var I=C-d,S=C-u;return d===void 0||I>=t||I<0||p&&S>=o}function U(){var C=cx();if(m(C))return b(C);l=setTimeout(U,h(C))}function b(C){return l=void 0,g&&r?v(C):(r=a=void 0,s)}function w(){l!==void 0&&clearTimeout(l),u=0,r=d=a=l=void 0}function E(){return l===void 0?s:b(cx())}function x(){var C=cx(),I=m(C);if(r=arguments,a=this,d=C,I){if(l===void 0)return c(d);if(p)return clearTimeout(l),l=setTimeout(U,t),v(d)}return l===void 0&&(l=setTimeout(U,t)),s}return x.cancel=w,x.flush=E,x}function a8(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r}function e4(e){return e==null}function LY(e){return e===void 0}function NY(e,t,n,r){if(!wd(e))return e;t=Jw(t,e);for(var a=-1,o=t.length,s=o-1,l=e;l!=null&&++a<o;){var d=Nk(t[a]),u=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(a!=s){var f=l[d];u=void 0,u===void 0&&(u=wd(f)?f:Ik(t[a+1])?[]:{})}kk(l,d,u),l=l[d]}return e}function Mye(e,t,n){for(var r=-1,a=t.length,o={};++r<a;){var s=t[r],l=CY(e,s);n(l,s)&&NY(o,Jw(s,e),l)}return o}function Tye(e,t){return Mye(e,t,function(n,r){return _ye(e,r)})}var Bye=OUe(function(e,t){return e==null?{}:Tye(e,t)});function Rye(e,t,n){return e==null?e:NY(e,t,n)}var Dye=0;function t4(e){var t=++Dye;return _Y(e)+t}const o8=e=>e===void 0,dc=e=>typeof e=="boolean",Si=e=>typeof e=="number",Bh=e=>typeof Element>"u"?!1:e instanceof Element,Pye=e=>cn(e)?!Number.isNaN(Number(e)):!1;var Lye=Object.defineProperty,Nye=Object.defineProperties,$ye=Object.getOwnPropertyDescriptors,RN=Object.getOwnPropertySymbols,Fye=Object.prototype.hasOwnProperty,jye=Object.prototype.propertyIsEnumerable,DN=(e,t,n)=>t in e?Lye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oye=(e,t)=>{for(var n in t||(t={}))Fye.call(t,n)&&DN(e,n,t[n]);if(RN)for(var n of RN(t))jye.call(t,n)&&DN(e,n,t[n]);return e},zye=(e,t)=>Nye(e,$ye(t));function lC(e,t){var n;const r=Th();return jV(()=>{r.value=e()},zye(Oye({},t),{flush:(n=void 0)!=null?n:"sync"})),e2(r)}var PN;const kr=typeof window<"u",Qye=e=>typeof e<"u",Hye=e=>typeof e=="function",Gye=e=>typeof e=="string",bm=()=>{},Wye=kr&&((PN=window==null?void 0:window.navigator)==null?void 0:PN.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Am(e){return typeof e=="function"?e():Q(e)}function $Y(e,t){function n(...r){return new Promise((a,o)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(a).catch(o)})}return n}function Vye(e,t={}){let n,r,a=bm;const o=l=>{clearTimeout(l),a(),a=bm};return l=>{const d=Am(e),u=Am(t.maxWait);return n&&o(n),d<=0||u!==void 0&&u<=0?(r&&(o(r),r=null),Promise.resolve(l())):new Promise((f,p)=>{a=t.rejectOnCancel?p:f,u&&!r&&(r=setTimeout(()=>{n&&o(n),r=null,f(l())},u)),n=setTimeout(()=>{r&&o(r),r=null,f(l())},d)})}}function Yye(e,t=!0,n=!0,r=!1){let a=0,o,s=!0,l=bm,d;const u=()=>{o&&(clearTimeout(o),o=void 0,l(),l=bm)};return p=>{const g=Am(e),v=Date.now()-a,c=()=>d=p();return u(),g<=0?(a=Date.now(),c()):(v>g&&(n||!s)?(a=Date.now(),c()):t&&(d=new Promise((h,m)=>{l=r?m:h,o=setTimeout(()=>{a=Date.now(),s=!0,h(c()),u()},Math.max(0,g-v))})),!n&&!o&&(o=setTimeout(()=>s=!0,g)),s=!1,d)}}function Kye(e){return e}function fb(e){return ok()?(sk(e),!0):!1}function Xye(e,t=200,n={}){return $Y(Vye(t,n),e)}function Zye(e,t=200,n={}){const r=Ie(e.value),a=Xye(()=>{r.value=e.value},t,n);return Rt(e,()=>a()),r}function fqe(e,t=200,n=!1,r=!0,a=!1){return $Y(Yye(t,n,r,a),e)}function qye(e,t=!0){oi()?Mr(e):t?e():lr(e)}function cC(e,t,n={}){const{immediate:r=!0}=n,a=Ie(!1);let o=null;function s(){o&&(clearTimeout(o),o=null)}function l(){a.value=!1,s()}function d(...u){s(),a.value=!0,o=setTimeout(()=>{a.value=!1,o=null,e(...u)},Am(t))}return r&&(a.value=!0,kr&&d()),fb(l),{isPending:e2(a),start:d,stop:l}}function Iu(e){var t;const n=Am(e);return(t=n==null?void 0:n.$el)!=null?t:n}const hb=kr?window:void 0,Jye=kr?window.document:void 0;function zo(...e){let t,n,r,a;if(Gye(e[0])||Array.isArray(e[0])?([n,r,a]=e,t=hb):[t,n,r,a]=e,!t)return bm;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],s=()=>{o.forEach(f=>f()),o.length=0},l=(f,p,g,v)=>(f.addEventListener(p,g,v),()=>f.removeEventListener(p,g,v)),d=Rt(()=>[Iu(t),Am(a)],([f,p])=>{s(),f&&o.push(...n.flatMap(g=>r.map(v=>l(f,g,v,p))))},{immediate:!0,flush:"post"}),u=()=>{d(),s()};return fb(u),u}let LN=!1;function ebe(e,t,n={}){const{window:r=hb,ignore:a=[],capture:o=!0,detectIframe:s=!1}=n;if(!r)return;Wye&&!LN&&(LN=!0,Array.from(r.document.body.children).forEach(g=>g.addEventListener("click",bm)));let l=!0;const d=g=>a.some(v=>{if(typeof v=="string")return Array.from(r.document.querySelectorAll(v)).some(c=>c===g.target||g.composedPath().includes(c));{const c=Iu(v);return c&&(g.target===c||g.composedPath().includes(c))}}),f=[zo(r,"click",g=>{const v=Iu(e);if(!(!v||v===g.target||g.composedPath().includes(v))){if(g.detail===0&&(l=!d(g)),!l){l=!0;return}t(g)}},{passive:!0,capture:o}),zo(r,"pointerdown",g=>{const v=Iu(e);v&&(l=!g.composedPath().includes(v)&&!d(g))},{passive:!0}),s&&zo(r,"blur",g=>{var v;const c=Iu(e);((v=r.document.activeElement)==null?void 0:v.tagName)==="IFRAME"&&!(c!=null&&c.contains(r.document.activeElement))&&t(g)})].filter(Boolean);return()=>f.forEach(g=>g())}function FY(e,t=!1){const n=Ie(),r=()=>n.value=!!e();return r(),qye(r,t),n}function tbe(e){return JSON.parse(JSON.stringify(e))}const NN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$N="__vueuse_ssr_handlers__";NN[$N]=NN[$N]||{};function nbe({document:e=Jye}={}){if(!e)return Ie("visible");const t=Ie(e.visibilityState);return zo(e,"visibilitychange",()=>{t.value=e.visibilityState}),t}var FN=Object.getOwnPropertySymbols,rbe=Object.prototype.hasOwnProperty,ibe=Object.prototype.propertyIsEnumerable,abe=(e,t)=>{var n={};for(var r in e)rbe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FN)for(var r of FN(e))t.indexOf(r)<0&&ibe.call(e,r)&&(n[r]=e[r]);return n};function $0(e,t,n={}){const r=n,{window:a=hb}=r,o=abe(r,["window"]);let s;const l=FY(()=>a&&"ResizeObserver"in a),d=()=>{s&&(s.disconnect(),s=void 0)},u=Rt(()=>Iu(e),p=>{d(),l.value&&a&&p&&(s=new ResizeObserver(t),s.observe(p,o))},{immediate:!0,flush:"post"}),f=()=>{d(),u()};return fb(f),{isSupported:l,stop:f}}var jN=Object.getOwnPropertySymbols,obe=Object.prototype.hasOwnProperty,sbe=Object.prototype.propertyIsEnumerable,lbe=(e,t)=>{var n={};for(var r in e)obe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jN)for(var r of jN(e))t.indexOf(r)<0&&sbe.call(e,r)&&(n[r]=e[r]);return n};function hqe(e,t,n={}){const r=n,{window:a=hb}=r,o=lbe(r,["window"]);let s;const l=FY(()=>a&&"MutationObserver"in a),d=()=>{s&&(s.disconnect(),s=void 0)},u=Rt(()=>Iu(e),p=>{d(),l.value&&a&&p&&(s=new MutationObserver(t),s.observe(p,o))},{immediate:!0}),f=()=>{d(),u()};return fb(f),{isSupported:l,stop:f}}var ON;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(ON||(ON={}));var cbe=Object.defineProperty,zN=Object.getOwnPropertySymbols,dbe=Object.prototype.hasOwnProperty,ube=Object.prototype.propertyIsEnumerable,QN=(e,t,n)=>t in e?cbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fbe=(e,t)=>{for(var n in t||(t={}))dbe.call(t,n)&&QN(e,n,t[n]);if(zN)for(var n of zN(t))ube.call(t,n)&&QN(e,n,t[n]);return e};const hbe={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};fbe({linear:Kye},hbe);function pqe(e,t,n,r={}){var a,o,s;const{clone:l=!1,passive:d=!1,eventName:u,deep:f=!1,defaultValue:p}=r,g=oi(),v=(g==null?void 0:g.emit)||((a=g==null?void 0:g.$emit)==null?void 0:a.bind(g))||((s=(o=g==null?void 0:g.proxy)==null?void 0:o.$emit)==null?void 0:s.bind(g==null?void 0:g.proxy));let c=u;c=u||c||`update:${t.toString()}`;const h=U=>l?Hye(l)?l(U):tbe(U):U,m=()=>Qye(e[t])?h(e[t]):p;if(d){const U=m(),b=Ie(U);return Rt(()=>e[t],w=>b.value=h(w)),Rt(b,w=>{(w!==e[t]||f)&&v(c,w)},{deep:f}),b}else return be({get(){return m()},set(U){v(c,U)}})}function pbe({window:e=hb}={}){if(!e)return Ie(!1);const t=Ie(e.document.hasFocus());return zo(e,"blur",()=>{t.value=!1}),zo(e,"focus",()=>{t.value=!0}),t}class gbe extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function n1(e,t){throw new gbe(`[${e}] ${t}`)}function gqe(e,t){}const HN={current:0},GN=Ie(0),jY=2e3,WN=Symbol("elZIndexContextKey"),OY=Symbol("zIndexContextKey"),Ok=e=>{const t=oi()?Nt(WN,HN):HN,n=e||(oi()?Nt(OY,void 0):void 0),r=be(()=>{const s=Q(n);return Si(s)?s:jY}),a=be(()=>r.value+GN.value),o=()=>(t.current++,GN.value=t.current,a.value);return!kr&&Nt(WN),{initialZIndex:r,currentZIndex:a,nextZIndex:o}};var mbe={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const Ube=e=>(t,n)=>vbe(t,n,Q(e)),vbe=(e,t,n)=>SY(n,e,e).replace(/\{(\w+)\}/g,(r,a)=>{var o;return`${(o=t==null?void 0:t[a])!=null?o:`{${a}}`}`}),ybe=e=>{const t=be(()=>Q(e).name),n=Ar(e)?e:Ie(e);return{lang:t,locale:n,t:Ube(e)}},zY=Symbol("localeContextKey"),zk=e=>{const t=e||Nt(zY,Ie());return ybe(be(()=>t.value||mbe))},QY="__epPropKey",Pt=e=>e,bbe=e=>Ln(e)&&!!e[QY],n4=(e,t)=>{if(!Ln(e)||bbe(e))return e;const{values:n,required:r,default:a,type:o,validator:s}=e,d={type:o,required:!!r,validator:n||s?u=>{let f=!1,p=[];if(n&&(p=Array.from(n),Fn(e,"default")&&p.push(a),f||(f=p.includes(u))),s&&(f||(f=s(u))),!f&&p.length>0){const g=[...new Set(p)].map(v=>JSON.stringify(v)).join(", ");xge(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${g}], got value ${JSON.stringify(u)}.`)}return f}:void 0,[QY]:!0};return Fn(e,"default")&&(d.default=a),d},kn=e=>a8(Object.entries(e).map(([t,n])=>[t,n4(n,t)])),r4=["","default","small","large"],Qk=n4({type:String,values:r4,required:!1}),HY=Symbol("size"),Abe=()=>{const e=Nt(HY,{});return be(()=>Q(e.size)||"")},GY=Symbol("emptyValuesContextKey"),wbe=["",void 0,null],Ebe=void 0,xbe=kn({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:e=>Bt(e)?!e():!e}}),mqe=(e,t)=>{const n=oi()?Nt(GY,Ie({})):Ie({}),r=be(()=>e.emptyValues||n.value.emptyValues||wbe),a=be(()=>Bt(e.valueOnClear)?e.valueOnClear():e.valueOnClear!==void 0?e.valueOnClear:Bt(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:Ebe),o=s=>r.value.includes(s);return r.value.includes(a.value),{emptyValues:r,valueOnClear:a,isEmptyValue:o}},VN=e=>Object.keys(e),Uqe=e=>Object.entries(e),dx=(e,t,n)=>({get value(){return SY(e,t,n)},set value(r){Rye(e,t,r)}}),s8=Ie();function i4(e,t=void 0){const n=oi()?Nt(dY,s8):s8;return e?be(()=>{var r,a;return(a=(r=n.value)==null?void 0:r[e])!=null?a:t}):n}function Hk(e,t){const n=i4(),r=dr(e,be(()=>{var l;return((l=n.value)==null?void 0:l.namespace)||_v})),a=zk(be(()=>{var l;return(l=n.value)==null?void 0:l.locale})),o=Ok(be(()=>{var l;return((l=n.value)==null?void 0:l.zIndex)||jY})),s=be(()=>{var l;return Q(t)||((l=n.value)==null?void 0:l.size)||""});return WY(be(()=>Q(n)||{})),{ns:r,locale:a,zIndex:o,size:s}}const WY=(e,t,n=!1)=>{var r;const a=!!oi(),o=a?i4():void 0,s=(r=void 0)!=null?r:a?ii:void 0;if(!s)return;const l=be(()=>{const d=Q(e);return o!=null&&o.value?_be(o.value,d):d});return s(dY,l),s(zY,be(()=>l.value.locale)),s(uY,be(()=>l.value.namespace)),s(OY,be(()=>l.value.zIndex)),s(HY,{size:be(()=>l.value.size||"")}),s(GY,be(()=>({emptyValues:l.value.emptyValues,valueOnClear:l.value.valueOnClear}))),(n||!s8.value)&&(s8.value=l.value),l},_be=(e,t)=>{const n=[...new Set([...VN(e),...VN(t)])],r={};for(const a of n)r[a]=t[a]!==void 0?t[a]:e[a];return r},Ed="update:modelValue",dC="change",uC="input";var Nn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n};const VY=(e="")=>e.split(" ").filter(t=>!!t.trim()),YN=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},fC=(e,t)=>{!e||!t.trim()||e.classList.add(...VY(t))},Ay=(e,t)=>{!e||!t.trim()||e.classList.remove(...VY(t))},qp=(e,t)=>{var n;if(!kr||!e||!t)return"";let r=ks(t);r==="float"&&(r="cssFloat");try{const a=e.style[r];if(a)return a;const o=(n=document.defaultView)==null?void 0:n.getComputedStyle(e,"");return o?o[r]:""}catch{return e.style[r]}};function bl(e,t="px"){if(!e)return"";if(Si(e)||Pye(e))return`${e}${t}`;if(cn(e))return e}const Cbe=(e,t)=>{if(!kr)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=qp(e,n);return["scroll","auto","overlay"].some(a=>r.includes(a))},vqe=(e,t)=>{if(!kr)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(Cbe(n,t))return n;n=n.parentNode}return n};let o5;const Sbe=e=>{var t;if(!kr)return 0;if(o5!==void 0)return o5;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const a=document.createElement("div");a.style.width="100%",n.appendChild(a);const o=a.offsetWidth;return(t=n.parentNode)==null||t.removeChild(n),o5=r-o,o5};function yqe(e,t){if(!kr)return;if(!t){e.scrollTop=0;return}const n=[];let r=t.offsetParent;for(;r!==null&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;const a=t.offsetTop+n.reduce((d,u)=>d+u.offsetTop,0),o=a+t.offsetHeight,s=e.scrollTop,l=s+e.clientHeight;a<s?e.scrollTop=a:o>l&&(e.scrollTop=o-e.clientHeight)}const Ko=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},Ibe=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),bqe=(e,t)=>(e.install=n=>{n.directive(t,e)},e),pb=e=>(e.install=qi,e),kbe=kn({size:{type:Pt([Number,String])},color:{type:String}}),Mbe=ot({name:"ElIcon",inheritAttrs:!1}),Tbe=ot({...Mbe,props:kbe,setup(e){const t=e,n=dr("icon"),r=be(()=>{const{size:a,color:o}=t;return!a&&!o?{}:{fontSize:o8(a)?void 0:bl(a),"--color":o}});return(a,o)=>(Te(),Ut("i",Ts({class:Q(n).b(),style:Q(r)},a.$attrs),[Ht(a.$slots,"default")],16))}});var Bbe=Nn(Tbe,[["__file","icon.vue"]]);const ti=Ko(Bbe);/*! Element Plus Icons Vue v2.3.1 */var Rbe=ot({name:"ArrowDown",__name:"arrow-down",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Dbe=Rbe,Pbe=ot({name:"ArrowLeft",__name:"arrow-left",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),Lbe=Pbe,Nbe=ot({name:"ArrowRight",__name:"arrow-right",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),$be=Nbe,Fbe=ot({name:"ArrowUp",__name:"arrow-up",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),Aqe=Fbe,jbe=ot({name:"Check",__name:"check",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),wqe=jbe,Obe=ot({name:"CircleCheck",__name:"circle-check",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),lt("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),zbe=Obe,Qbe=ot({name:"CircleCloseFilled",__name:"circle-close-filled",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),YY=Qbe,Hbe=ot({name:"CircleClose",__name:"circle-close",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),lt("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),KY=Hbe,Gbe=ot({name:"Close",__name:"close",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),Gk=Gbe,Wbe=ot({name:"Delete",__name:"delete",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),Eqe=Wbe,Vbe=ot({name:"Document",__name:"document",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),xqe=Vbe,Ybe=ot({name:"FullScreen",__name:"full-screen",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),_qe=Ybe,Kbe=ot({name:"Hide",__name:"hide",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),lt("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),Xbe=Kbe,Zbe=ot({name:"InfoFilled",__name:"info-filled",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),XY=Zbe,qbe=ot({name:"Loading",__name:"loading",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),wy=qbe,Jbe=ot({name:"Minus",__name:"minus",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),Cqe=Jbe,e6e=ot({name:"Plus",__name:"plus",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),t6e=e6e,n6e=ot({name:"RefreshLeft",__name:"refresh-left",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),Sqe=n6e,r6e=ot({name:"RefreshRight",__name:"refresh-right",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),Iqe=r6e,i6e=ot({name:"ScaleToOriginal",__name:"scale-to-original",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),kqe=i6e,a6e=ot({name:"SuccessFilled",__name:"success-filled",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),ZY=a6e,o6e=ot({name:"View",__name:"view",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),s6e=o6e,l6e=ot({name:"WarningFilled",__name:"warning-filled",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),qY=l6e,c6e=ot({name:"ZoomIn",__name:"zoom-in",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),Mqe=c6e,d6e=ot({name:"ZoomOut",__name:"zoom-out",setup(e){return(t,n)=>(Te(),Ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[lt("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),Tqe=d6e;const nc=Pt([String,Object,Function]),u6e={Close:Gk},JY={Close:Gk,SuccessFilled:ZY,InfoFilled:XY,WarningFilled:qY,CircleCloseFilled:YY},l8={success:ZY,warning:qY,error:YY,info:XY},f6e={validating:wy,success:zbe,error:KY},h6e=()=>kr&&/firefox/i.test(window.navigator.userAgent);let Rl;const p6e=`
  height:0 !important;
  visibility:hidden !important;
  ${h6e()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,g6e=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function m6e(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),a=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:g6e.map(s=>`${s}:${t.getPropertyValue(s)}`).join(";"),paddingSize:r,borderSize:a,boxSizing:n}}function KN(e,t=1,n){var r;Rl||(Rl=document.createElement("textarea"),document.body.appendChild(Rl));const{paddingSize:a,borderSize:o,boxSizing:s,contextStyle:l}=m6e(e);Rl.setAttribute("style",`${l};${p6e}`),Rl.value=e.value||e.placeholder||"";let d=Rl.scrollHeight;const u={};s==="border-box"?d=d+o:s==="content-box"&&(d=d-a),Rl.value="";const f=Rl.scrollHeight-a;if(Si(t)){let p=f*t;s==="border-box"&&(p=p+a+o),d=Math.max(p,d),u.minHeight=`${p}px`}if(Si(n)){let p=f*n;s==="border-box"&&(p=p+a+o),d=Math.min(p,d)}return u.height=`${d}px`,(r=Rl.parentNode)==null||r.removeChild(Rl),Rl=void 0,u}const a4=e=>e,U6e=kn({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),gb=e=>Bye(U6e,e),v6e=kn({id:{type:String,default:void 0},size:Qk,disabled:Boolean,modelValue:{type:Pt([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Pt([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:nc},prefixIcon:{type:nc},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Pt([Object,Array,String]),default:()=>a4({})},autofocus:Boolean,rows:{type:Number,default:2},...gb(["ariaLabel"])}),y6e={[Ed]:e=>cn(e),input:e=>cn(e),change:e=>cn(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},b6e=["class","style"],A6e=/^on[A-Z]/,w6e=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=be(()=>((n==null?void 0:n.value)||[]).concat(b6e)),a=oi();return be(a?()=>{var o;return a8(Object.entries((o=a.proxy)==null?void 0:o.$attrs).filter(([s])=>!r.value.includes(s)&&!(t&&A6e.test(s))))}:()=>({}))},s2=Symbol("formContextKey"),F0=Symbol("formItemContextKey"),XN={prefix:Math.floor(Math.random()*1e4),current:0},E6e=Symbol("elIdInjection"),eK=()=>oi()?Nt(E6e,XN):XN,Yu=e=>{const t=eK(),n=Sk();return lC(()=>Q(e)||`${n.value}-id-${t.prefix}-${t.current++}`)},Wk=()=>{const e=Nt(s2,void 0),t=Nt(F0,void 0);return{form:e,formItem:t}},tK=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=Ie(!1)),r||(r=Ie(!1));const a=Ie();let o;const s=be(()=>{var l;return!!(!(e.label||e.ariaLabel)&&t&&t.inputIds&&((l=t.inputIds)==null?void 0:l.length)<=1)});return Mr(()=>{o=Rt([xa(e,"id"),n],([l,d])=>{const u=l??(d?void 0:Yu().value);u!==a.value&&(t!=null&&t.removeInputId&&(a.value&&t.removeInputId(a.value),!(r!=null&&r.value)&&!d&&u&&t.addInputId(u)),a.value=u)},{immediate:!0})}),Hw(()=>{o&&o(),t!=null&&t.removeInputId&&a.value&&t.removeInputId(a.value)}),{isLabeledByFormItem:s,inputId:a}},nK=e=>{const t=oi();return be(()=>{var n,r;return(r=(n=t==null?void 0:t.proxy)==null?void 0:n.$props)==null?void 0:r[e]})},l2=(e,t={})=>{const n=Ie(void 0),r=t.prop?n:nK("size"),a=t.global?n:Abe(),o=t.form?{size:void 0}:Nt(s2,void 0),s=t.formItem?{size:void 0}:Nt(F0,void 0);return be(()=>r.value||Q(e)||(s==null?void 0:s.size)||(o==null?void 0:o.size)||a.value||"")},o4=e=>{const t=nK("disabled"),n=Nt(s2,void 0);return be(()=>t.value||Q(e)||(n==null?void 0:n.disabled)||!1)};function x6e(e,{beforeFocus:t,afterFocus:n,beforeBlur:r,afterBlur:a}={}){const o=oi(),{emit:s}=o,l=Th(),d=Ie(!1),u=g=>{Bt(t)&&t(g)||d.value||(d.value=!0,s("focus",g),n==null||n())},f=g=>{var v;Bt(r)&&r(g)||g.relatedTarget&&((v=l.value)!=null&&v.contains(g.relatedTarget))||(d.value=!1,s("blur",g),a==null||a())},p=()=>{var g,v;(g=l.value)!=null&&g.contains(document.activeElement)&&l.value!==document.activeElement||(v=e.value)==null||v.focus()};return Rt(l,g=>{g&&g.setAttribute("tabindex","-1")}),zo(l,"focus",u,!0),zo(l,"blur",f,!0),zo(l,"click",p,!0),{isFocused:d,wrapperRef:l,handleFocus:u,handleBlur:f}}const _6e=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function C6e({afterComposition:e,emit:t}){const n=Ie(!1),r=l=>{t==null||t("compositionstart",l),n.value=!0},a=l=>{var d;t==null||t("compositionupdate",l);const u=(d=l.target)==null?void 0:d.value,f=u[u.length-1]||"";n.value=!_6e(f)},o=l=>{t==null||t("compositionend",l),n.value&&(n.value=!1,lr(()=>e(l)))};return{isComposing:n,handleComposition:l=>{l.type==="compositionend"?o(l):a(l)},handleCompositionStart:r,handleCompositionUpdate:a,handleCompositionEnd:o}}function S6e(e){let t;function n(){if(e.value==null)return;const{selectionStart:a,selectionEnd:o,value:s}=e.value;if(a==null||o==null)return;const l=s.slice(0,Math.max(0,a)),d=s.slice(Math.max(0,o));t={selectionStart:a,selectionEnd:o,value:s,beforeTxt:l,afterTxt:d}}function r(){if(e.value==null||t==null)return;const{value:a}=e.value,{beforeTxt:o,afterTxt:s,selectionStart:l}=t;if(o==null||s==null||l==null)return;let d=a.length;if(a.endsWith(s))d=a.length-s.length;else if(a.startsWith(o))d=o.length;else{const u=o[l-1],f=a.indexOf(u,l-1);f!==-1&&(d=f+1)}e.value.setSelectionRange(d,d)}return[n,r]}const I6e=ot({name:"ElInput",inheritAttrs:!1}),k6e=ot({...I6e,props:v6e,emits:y6e,setup(e,{expose:t,emit:n}){const r=e,a=F1e(),o=w6e(),s=db(),l=be(()=>[r.type==="textarea"?h.b():c.b(),c.m(g.value),c.is("disabled",v.value),c.is("exceed",de.value),{[c.b("group")]:s.prepend||s.append,[c.m("prefix")]:s.prefix||r.prefixIcon,[c.m("suffix")]:s.suffix||r.suffixIcon||r.clearable||r.showPassword,[c.bm("suffix","password-clear")]:Z.value&&se.value,[c.b("hidden")]:r.type==="hidden"},a.class]),d=be(()=>[c.e("wrapper"),c.is("focus",S.value)]),{form:u,formItem:f}=Wk(),{inputId:p}=tK(r,{formItemContext:f}),g=l2(),v=o4(),c=dr("input"),h=dr("textarea"),m=Th(),U=Th(),b=Ie(!1),w=Ie(!1),E=Ie(),x=Th(r.inputStyle),C=be(()=>m.value||U.value),{wrapperRef:I,isFocused:S,handleFocus:M,handleBlur:R}=x6e(C,{beforeFocus(){return v.value},afterBlur(){var _e;r.validateEvent&&((_e=f==null?void 0:f.validate)==null||_e.call(f,"blur").catch(it=>void 0))}}),D=be(()=>{var _e;return(_e=u==null?void 0:u.statusIcon)!=null?_e:!1}),L=be(()=>(f==null?void 0:f.validateState)||""),j=be(()=>L.value&&f6e[L.value]),re=be(()=>w.value?s6e:Xbe),J=be(()=>[a.style]),H=be(()=>[r.inputStyle,x.value,{resize:r.resize}]),ne=be(()=>e4(r.modelValue)?"":String(r.modelValue)),Z=be(()=>r.clearable&&!v.value&&!r.readonly&&!!ne.value&&(S.value||b.value)),se=be(()=>r.showPassword&&!v.value&&!!ne.value&&(!!ne.value||S.value)),O=be(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!v.value&&!r.readonly&&!r.showPassword),V=be(()=>ne.value.length),de=be(()=>!!O.value&&V.value>Number(r.maxlength)),oe=be(()=>!!s.suffix||!!r.suffixIcon||Z.value||r.showPassword||O.value||!!L.value&&D.value),[me,ve]=S6e(m);$0(U,_e=>{if(he(),!O.value||r.resize!=="both")return;const it=_e[0],{width:St}=it.contentRect;E.value={right:`calc(100% - ${St+15+6}px)`}});const xe=()=>{const{type:_e,autosize:it}=r;if(!(!kr||_e!=="textarea"||!U.value))if(it){const St=Ln(it)?it.minRows:void 0,Gt=Ln(it)?it.maxRows:void 0,nn=KN(U.value,St,Gt);x.value={overflowY:"hidden",...nn},lr(()=>{U.value.offsetHeight,x.value=nn})}else x.value={minHeight:KN(U.value).minHeight}},he=(_e=>{let it=!1;return()=>{var St;if(it||!r.autosize)return;((St=U.value)==null?void 0:St.offsetParent)===null||(_e(),it=!0)}})(xe),ge=()=>{const _e=C.value,it=r.formatter?r.formatter(ne.value):ne.value;!_e||_e.value===it||(_e.value=it)},Ee=async _e=>{me();let{value:it}=_e.target;if(r.formatter&&(it=r.parser?r.parser(it):it),!at.value){if(it===ne.value){ge();return}n(Ed,it),n("input",it),await lr(),ge(),ve()}},ze=_e=>{n("change",_e.target.value)},{isComposing:at,handleCompositionStart:q,handleCompositionUpdate:ae,handleCompositionEnd:Ae}=C6e({emit:n,afterComposition:Ee}),$e=()=>{me(),w.value=!w.value,setTimeout(ve)},Ce=()=>{var _e;return(_e=C.value)==null?void 0:_e.focus()},je=()=>{var _e;return(_e=C.value)==null?void 0:_e.blur()},Oe=_e=>{b.value=!1,n("mouseleave",_e)},Ke=_e=>{b.value=!0,n("mouseenter",_e)},qe=_e=>{n("keydown",_e)},We=()=>{var _e;(_e=C.value)==null||_e.select()},vt=()=>{n(Ed,""),n("change",""),n("clear"),n("input","")};return Rt(()=>r.modelValue,()=>{var _e;lr(()=>xe()),r.validateEvent&&((_e=f==null?void 0:f.validate)==null||_e.call(f,"change").catch(it=>void 0))}),Rt(ne,()=>ge()),Rt(()=>r.type,async()=>{await lr(),ge(),xe()}),Mr(()=>{!r.formatter&&r.parser,ge(),lr(xe)}),t({input:m,textarea:U,ref:C,textareaStyle:H,autosize:xa(r,"autosize"),isComposing:at,focus:Ce,blur:je,select:We,clear:vt,resizeTextarea:xe}),(_e,it)=>(Te(),Ut("div",{class:ft([Q(l),{[Q(c).bm("group","append")]:_e.$slots.append,[Q(c).bm("group","prepend")]:_e.$slots.prepend}]),style:Ii(Q(J)),onMouseenter:Ke,onMouseleave:Oe},[$t(" input "),_e.type!=="textarea"?(Te(),Ut($r,{key:0},[$t(" prepend slot "),_e.$slots.prepend?(Te(),Ut("div",{key:0,class:ft(Q(c).be("group","prepend"))},[Ht(_e.$slots,"prepend")],2)):$t("v-if",!0),lt("div",{ref_key:"wrapperRef",ref:I,class:ft(Q(d))},[$t(" prefix slot "),_e.$slots.prefix||_e.prefixIcon?(Te(),Ut("span",{key:0,class:ft(Q(c).e("prefix"))},[lt("span",{class:ft(Q(c).e("prefix-inner"))},[Ht(_e.$slots,"prefix"),_e.prefixIcon?(Te(),Ct(Q(ti),{key:0,class:ft(Q(c).e("icon"))},{default:tt(()=>[(Te(),Ct(Ui(_e.prefixIcon)))]),_:1},8,["class"])):$t("v-if",!0)],2)],2)):$t("v-if",!0),lt("input",Ts({id:Q(p),ref_key:"input",ref:m,class:Q(c).e("inner")},Q(o),{minlength:_e.minlength,maxlength:_e.maxlength,type:_e.showPassword?w.value?"text":"password":_e.type,disabled:Q(v),readonly:_e.readonly,autocomplete:_e.autocomplete,tabindex:_e.tabindex,"aria-label":_e.ariaLabel,placeholder:_e.placeholder,style:_e.inputStyle,form:_e.form,autofocus:_e.autofocus,role:_e.containerRole,onCompositionstart:Q(q),onCompositionupdate:Q(ae),onCompositionend:Q(Ae),onInput:Ee,onChange:ze,onKeydown:qe}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),$t(" suffix slot "),Q(oe)?(Te(),Ut("span",{key:1,class:ft(Q(c).e("suffix"))},[lt("span",{class:ft(Q(c).e("suffix-inner"))},[!Q(Z)||!Q(se)||!Q(O)?(Te(),Ut($r,{key:0},[Ht(_e.$slots,"suffix"),_e.suffixIcon?(Te(),Ct(Q(ti),{key:0,class:ft(Q(c).e("icon"))},{default:tt(()=>[(Te(),Ct(Ui(_e.suffixIcon)))]),_:1},8,["class"])):$t("v-if",!0)],64)):$t("v-if",!0),Q(Z)?(Te(),Ct(Q(ti),{key:1,class:ft([Q(c).e("icon"),Q(c).e("clear")]),onMousedown:cd(Q(qi),["prevent"]),onClick:vt},{default:tt(()=>[Ge(Q(KY))]),_:1},8,["class","onMousedown"])):$t("v-if",!0),Q(se)?(Te(),Ct(Q(ti),{key:2,class:ft([Q(c).e("icon"),Q(c).e("password")]),onClick:$e},{default:tt(()=>[(Te(),Ct(Ui(Q(re))))]),_:1},8,["class"])):$t("v-if",!0),Q(O)?(Te(),Ut("span",{key:3,class:ft(Q(c).e("count"))},[lt("span",{class:ft(Q(c).e("count-inner"))},Wr(Q(V))+" / "+Wr(_e.maxlength),3)],2)):$t("v-if",!0),Q(L)&&Q(j)&&Q(D)?(Te(),Ct(Q(ti),{key:4,class:ft([Q(c).e("icon"),Q(c).e("validateIcon"),Q(c).is("loading",Q(L)==="validating")])},{default:tt(()=>[(Te(),Ct(Ui(Q(j))))]),_:1},8,["class"])):$t("v-if",!0)],2)],2)):$t("v-if",!0)],2),$t(" append slot "),_e.$slots.append?(Te(),Ut("div",{key:1,class:ft(Q(c).be("group","append"))},[Ht(_e.$slots,"append")],2)):$t("v-if",!0)],64)):(Te(),Ut($r,{key:1},[$t(" textarea "),lt("textarea",Ts({id:Q(p),ref_key:"textarea",ref:U,class:[Q(h).e("inner"),Q(c).is("focus",Q(S))]},Q(o),{minlength:_e.minlength,maxlength:_e.maxlength,tabindex:_e.tabindex,disabled:Q(v),readonly:_e.readonly,autocomplete:_e.autocomplete,style:Q(H),"aria-label":_e.ariaLabel,placeholder:_e.placeholder,form:_e.form,autofocus:_e.autofocus,rows:_e.rows,role:_e.containerRole,onCompositionstart:Q(q),onCompositionupdate:Q(ae),onCompositionend:Q(Ae),onInput:Ee,onFocus:Q(M),onBlur:Q(R),onChange:ze,onKeydown:qe}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),Q(O)?(Te(),Ut("span",{key:0,style:Ii(E.value),class:ft(Q(c).e("count"))},Wr(Q(V))+" / "+Wr(_e.maxlength),7)):$t("v-if",!0)],64))],38))}});var M6e=Nn(k6e,[["__file","input.vue"]]);const s4=Ko(M6e),_1=4,T6e={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},B6e=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),Vk=Symbol("scrollbarContextKey"),R6e=kn({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),D6e="Thumb",P6e=ot({__name:"thumb",props:R6e,setup(e){const t=e,n=Nt(Vk),r=dr("scrollbar");n||n1(D6e,"can not inject scrollbar context");const a=Ie(),o=Ie(),s=Ie({}),l=Ie(!1);let d=!1,u=!1,f=kr?document.onselectstart:null;const p=be(()=>T6e[t.vertical?"vertical":"horizontal"]),g=be(()=>B6e({size:t.size,move:t.move,bar:p.value})),v=be(()=>a.value[p.value.offset]**2/n.wrapElement[p.value.scrollSize]/t.ratio/o.value[p.value.offset]),c=C=>{var I;if(C.stopPropagation(),C.ctrlKey||[1,2].includes(C.button))return;(I=window.getSelection())==null||I.removeAllRanges(),m(C);const S=C.currentTarget;S&&(s.value[p.value.axis]=S[p.value.offset]-(C[p.value.client]-S.getBoundingClientRect()[p.value.direction]))},h=C=>{if(!o.value||!a.value||!n.wrapElement)return;const I=Math.abs(C.target.getBoundingClientRect()[p.value.direction]-C[p.value.client]),S=o.value[p.value.offset]/2,M=(I-S)*100*v.value/a.value[p.value.offset];n.wrapElement[p.value.scroll]=M*n.wrapElement[p.value.scrollSize]/100},m=C=>{C.stopImmediatePropagation(),d=!0,document.addEventListener("mousemove",U),document.addEventListener("mouseup",b),f=document.onselectstart,document.onselectstart=()=>!1},U=C=>{if(!a.value||!o.value||d===!1)return;const I=s.value[p.value.axis];if(!I)return;const S=(a.value.getBoundingClientRect()[p.value.direction]-C[p.value.client])*-1,M=o.value[p.value.offset]-I,R=(S-M)*100*v.value/a.value[p.value.offset];n.wrapElement[p.value.scroll]=R*n.wrapElement[p.value.scrollSize]/100},b=()=>{d=!1,s.value[p.value.axis]=0,document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",b),x(),u&&(l.value=!1)},w=()=>{u=!1,l.value=!!t.size},E=()=>{u=!0,l.value=d};na(()=>{x(),document.removeEventListener("mouseup",b)});const x=()=>{document.onselectstart!==f&&(document.onselectstart=f)};return zo(xa(n,"scrollbarElement"),"mousemove",w),zo(xa(n,"scrollbarElement"),"mouseleave",E),(C,I)=>(Te(),Ct(q0,{name:Q(r).b("fade"),persisted:""},{default:tt(()=>[cc(lt("div",{ref_key:"instance",ref:a,class:ft([Q(r).e("bar"),Q(r).is(Q(p).key)]),onMousedown:h},[lt("div",{ref_key:"thumb",ref:o,class:ft(Q(r).e("thumb")),style:Ii(Q(g)),onMousedown:c},null,38)],34),[[md,C.always||l.value]])]),_:1},8,["name"]))}});var ZN=Nn(P6e,[["__file","thumb.vue"]]);const L6e=kn({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),N6e=ot({__name:"bar",props:L6e,setup(e,{expose:t}){const n=e,r=Nt(Vk),a=Ie(0),o=Ie(0),s=Ie(""),l=Ie(""),d=Ie(1),u=Ie(1);return t({handleScroll:g=>{if(g){const v=g.offsetHeight-_1,c=g.offsetWidth-_1;o.value=g.scrollTop*100/v*d.value,a.value=g.scrollLeft*100/c*u.value}},update:()=>{const g=r==null?void 0:r.wrapElement;if(!g)return;const v=g.offsetHeight-_1,c=g.offsetWidth-_1,h=v**2/g.scrollHeight,m=c**2/g.scrollWidth,U=Math.max(h,n.minSize),b=Math.max(m,n.minSize);d.value=h/(v-h)/(U/(v-U)),u.value=m/(c-m)/(b/(c-b)),l.value=U+_1<v?`${U}px`:"",s.value=b+_1<c?`${b}px`:""}}),(g,v)=>(Te(),Ut($r,null,[Ge(ZN,{move:a.value,ratio:u.value,size:s.value,always:g.always},null,8,["move","ratio","size","always"]),Ge(ZN,{move:o.value,ratio:d.value,size:l.value,vertical:"",always:g.always},null,8,["move","ratio","size","always"])],64))}});var $6e=Nn(N6e,[["__file","bar.vue"]]);const F6e=kn({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Pt([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...gb(["ariaLabel","ariaOrientation"])}),j6e={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(Si)},O6e="ElScrollbar",z6e=ot({name:O6e}),Q6e=ot({...z6e,props:F6e,emits:j6e,setup(e,{expose:t,emit:n}){const r=e,a=dr("scrollbar");let o,s,l=0,d=0;const u=Ie(),f=Ie(),p=Ie(),g=Ie(),v=be(()=>{const x={};return r.height&&(x.height=bl(r.height)),r.maxHeight&&(x.maxHeight=bl(r.maxHeight)),[r.wrapStyle,x]}),c=be(()=>[r.wrapClass,a.e("wrap"),{[a.em("wrap","hidden-default")]:!r.native}]),h=be(()=>[a.e("view"),r.viewClass]),m=()=>{var x;f.value&&((x=g.value)==null||x.handleScroll(f.value),l=f.value.scrollTop,d=f.value.scrollLeft,n("scroll",{scrollTop:f.value.scrollTop,scrollLeft:f.value.scrollLeft}))};function U(x,C){Ln(x)?f.value.scrollTo(x):Si(x)&&Si(C)&&f.value.scrollTo(x,C)}const b=x=>{Si(x)&&(f.value.scrollTop=x)},w=x=>{Si(x)&&(f.value.scrollLeft=x)},E=()=>{var x;(x=g.value)==null||x.update()};return Rt(()=>r.noresize,x=>{x?(o==null||o(),s==null||s()):({stop:o}=$0(p,E),s=zo("resize",E))},{immediate:!0}),Rt(()=>[r.maxHeight,r.height],()=>{r.native||lr(()=>{var x;E(),f.value&&((x=g.value)==null||x.handleScroll(f.value))})}),ii(Vk,Ji({scrollbarElement:u,wrapElement:f})),bV(()=>{f.value&&(f.value.scrollTop=l,f.value.scrollLeft=d)}),Mr(()=>{r.native||lr(()=>{E()})}),n2(()=>E()),t({wrapRef:f,update:E,scrollTo:U,setScrollTop:b,setScrollLeft:w,handleScroll:m}),(x,C)=>(Te(),Ut("div",{ref_key:"scrollbarRef",ref:u,class:ft(Q(a).b())},[lt("div",{ref_key:"wrapRef",ref:f,class:ft(Q(c)),style:Ii(Q(v)),tabindex:x.tabindex,onScroll:m},[(Te(),Ct(Ui(x.tag),{id:x.id,ref_key:"resizeRef",ref:p,class:ft(Q(h)),style:Ii(x.viewStyle),role:x.role,"aria-label":x.ariaLabel,"aria-orientation":x.ariaOrientation},{default:tt(()=>[Ht(x.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),x.native?$t("v-if",!0):(Te(),Ct($6e,{key:0,ref_key:"barRef",ref:g,always:x.always,"min-size":x.minSize},null,8,["always","min-size"]))],2))}});var H6e=Nn(Q6e,[["__file","scrollbar.vue"]]);const G6e=Ko(H6e),Yk=Symbol("popper"),rK=Symbol("popperContent"),W6e=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],iK=kn({role:{type:String,values:W6e,default:"tooltip"}}),V6e=ot({name:"ElPopper",inheritAttrs:!1}),Y6e=ot({...V6e,props:iK,setup(e,{expose:t}){const n=e,r=Ie(),a=Ie(),o=Ie(),s=Ie(),l=be(()=>n.role),d={triggerRef:r,popperInstanceRef:a,contentRef:o,referenceRef:s,role:l};return t(d),ii(Yk,d),(u,f)=>Ht(u.$slots,"default")}});var K6e=Nn(Y6e,[["__file","popper.vue"]]);const aK=kn({arrowOffset:{type:Number,default:5}}),X6e=ot({name:"ElPopperArrow",inheritAttrs:!1}),Z6e=ot({...X6e,props:aK,setup(e,{expose:t}){const n=e,r=dr("popper"),{arrowOffset:a,arrowRef:o,arrowStyle:s}=Nt(rK,void 0);return Rt(()=>n.arrowOffset,l=>{a.value=l}),na(()=>{o.value=void 0}),t({arrowRef:o}),(l,d)=>(Te(),Ut("span",{ref_key:"arrowRef",ref:o,class:ft(Q(r).e("arrow")),style:Ii(Q(s)),"data-popper-arrow":""},null,6))}});var q6e=Nn(Z6e,[["__file","arrow.vue"]]);const oK=kn({virtualRef:{type:Pt(Object)},virtualTriggering:Boolean,onMouseenter:{type:Pt(Function)},onMouseleave:{type:Pt(Function)},onClick:{type:Pt(Function)},onKeydown:{type:Pt(Function)},onFocus:{type:Pt(Function)},onBlur:{type:Pt(Function)},onContextmenu:{type:Pt(Function)},id:String,open:Boolean}),sK=Symbol("elForwardRef"),J6e=e=>{ii(sK,{setForwardRef:n=>{e.value=n}})},e5e=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),t5e='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',n5e=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,qN=e=>Array.from(e.querySelectorAll(t5e)).filter(t=>hC(t)&&n5e(t)),hC=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.tabIndex<0||e.hasAttribute("disabled")||e.getAttribute("aria-disabled")==="true")return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},r5e="ElOnlyChild",lK=ot({name:r5e,setup(e,{slots:t,attrs:n}){var r;const a=Nt(sK),o=e5e((r=a==null?void 0:a.setForwardRef)!=null?r:qi);return()=>{var s;const l=(s=t.default)==null?void 0:s.call(t,n);if(!l||l.length>1)return null;const d=cK(l);return d?cc(bd(d,n),[[o]]):null}}});function cK(e){if(!e)return null;const t=e;for(const n of t){if(Ln(n))switch(n.type){case Ea:continue;case r2:case"svg":return JN(n);case $r:return cK(n.children);default:return n}return JN(n)}return null}function JN(e){const t=dr("only-child");return Ge("span",{class:t.e("content")},[e])}const i5e=ot({name:"ElPopperTrigger",inheritAttrs:!1}),a5e=ot({...i5e,props:oK,setup(e,{expose:t}){const n=e,{role:r,triggerRef:a}=Nt(Yk,void 0);J6e(a);const o=be(()=>l.value?n.id:void 0),s=be(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),l=be(()=>{if(r&&r.value!=="tooltip")return r.value}),d=be(()=>l.value?`${n.open}`:void 0);let u;const f=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return Mr(()=>{Rt(()=>n.virtualRef,p=>{p&&(a.value=Iu(p))},{immediate:!0}),Rt(a,(p,g)=>{u==null||u(),u=void 0,Bh(p)&&(f.forEach(v=>{var c;const h=n[v];h&&(p.addEventListener(v.slice(2).toLowerCase(),h),(c=g==null?void 0:g.removeEventListener)==null||c.call(g,v.slice(2).toLowerCase(),h))}),hC(p)&&(u=Rt([o,s,l,d],v=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((c,h)=>{e4(v[h])?p.removeAttribute(c):p.setAttribute(c,v[h])})},{immediate:!0}))),Bh(g)&&hC(g)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(v=>g.removeAttribute(v))},{immediate:!0})}),na(()=>{if(u==null||u(),u=void 0,a.value&&Bh(a.value)){const p=a.value;f.forEach(g=>{const v=n[g];v&&p.removeEventListener(g.slice(2).toLowerCase(),v)}),a.value=void 0}}),t({triggerRef:a}),(p,g)=>p.virtualTriggering?$t("v-if",!0):(Te(),Ct(Q(lK),Ts({key:0},p.$attrs,{"aria-controls":Q(o),"aria-describedby":Q(s),"aria-expanded":Q(d),"aria-haspopup":Q(l)}),{default:tt(()=>[Ht(p.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var o5e=Nn(a5e,[["__file","trigger.vue"]]);const ux="focus-trap.focus-after-trapped",fx="focus-trap.focus-after-released",s5e="focus-trap.focusout-prevented",e$={cancelable:!0,bubbles:!1},l5e={cancelable:!0,bubbles:!1},t$="focusAfterTrapped",n$="focusAfterReleased",Kk=Symbol("elFocusTrap"),Xk=Ie(),l4=Ie(0),Zk=Ie(0);let s5=0;const dK=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},r$=(e,t)=>{for(const n of e)if(!c5e(n,t))return n},c5e=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},d5e=e=>{const t=dK(e),n=r$(t,e),r=r$(t.reverse(),e);return[n,r]},u5e=e=>e instanceof HTMLInputElement&&"select"in e,Qf=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),Zk.value=window.performance.now(),e!==n&&u5e(e)&&t&&e.select()}};function i$(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const f5e=()=>{let e=[];return{push:r=>{const a=e[0];a&&r!==a&&a.pause(),e=i$(e,r),e.unshift(r)},remove:r=>{var a,o;e=i$(e,r),(o=(a=e[0])==null?void 0:a.resume)==null||o.call(a)}}},h5e=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(Qf(r,t),document.activeElement!==n)return},a$=f5e(),p5e=()=>l4.value>Zk.value,l5=()=>{Xk.value="pointer",l4.value=window.performance.now()},o$=()=>{Xk.value="keyboard",l4.value=window.performance.now()},g5e=()=>(Mr(()=>{s5===0&&(document.addEventListener("mousedown",l5),document.addEventListener("touchstart",l5),document.addEventListener("keydown",o$)),s5++}),na(()=>{s5--,s5<=0&&(document.removeEventListener("mousedown",l5),document.removeEventListener("touchstart",l5),document.removeEventListener("keydown",o$))}),{focusReason:Xk,lastUserFocusTimestamp:l4,lastAutomatedFocusTimestamp:Zk}),c5=e=>new CustomEvent(s5e,{...l5e,detail:e}),er={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let W1=[];const s$=e=>{e.code===er.esc&&W1.forEach(t=>t(e))},m5e=e=>{Mr(()=>{W1.length===0&&document.addEventListener("keydown",s$),kr&&W1.push(e)}),na(()=>{W1=W1.filter(t=>t!==e),W1.length===0&&kr&&document.removeEventListener("keydown",s$)})},U5e=ot({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[t$,n$,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=Ie();let r,a;const{focusReason:o}=g5e();m5e(c=>{e.trapped&&!s.paused&&t("release-requested",c)});const s={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},l=c=>{if(!e.loop&&!e.trapped||s.paused)return;const{code:h,altKey:m,ctrlKey:U,metaKey:b,currentTarget:w,shiftKey:E}=c,{loop:x}=e,C=h===er.tab&&!m&&!U&&!b,I=document.activeElement;if(C&&I){const S=w,[M,R]=d5e(S);if(M&&R){if(!E&&I===R){const L=c5({focusReason:o.value});t("focusout-prevented",L),L.defaultPrevented||(c.preventDefault(),x&&Qf(M,!0))}else if(E&&[M,S].includes(I)){const L=c5({focusReason:o.value});t("focusout-prevented",L),L.defaultPrevented||(c.preventDefault(),x&&Qf(R,!0))}}else if(I===S){const L=c5({focusReason:o.value});t("focusout-prevented",L),L.defaultPrevented||c.preventDefault()}}};ii(Kk,{focusTrapRef:n,onKeydown:l}),Rt(()=>e.focusTrapEl,c=>{c&&(n.value=c)},{immediate:!0}),Rt([n],([c],[h])=>{c&&(c.addEventListener("keydown",l),c.addEventListener("focusin",f),c.addEventListener("focusout",p)),h&&(h.removeEventListener("keydown",l),h.removeEventListener("focusin",f),h.removeEventListener("focusout",p))});const d=c=>{t(t$,c)},u=c=>t(n$,c),f=c=>{const h=Q(n);if(!h)return;const m=c.target,U=c.relatedTarget,b=m&&h.contains(m);e.trapped||U&&h.contains(U)||(r=U),b&&t("focusin",c),!s.paused&&e.trapped&&(b?a=m:Qf(a,!0))},p=c=>{const h=Q(n);if(!(s.paused||!h))if(e.trapped){const m=c.relatedTarget;!e4(m)&&!h.contains(m)&&setTimeout(()=>{if(!s.paused&&e.trapped){const U=c5({focusReason:o.value});t("focusout-prevented",U),U.defaultPrevented||Qf(a,!0)}},0)}else{const m=c.target;m&&h.contains(m)||t("focusout",c)}};async function g(){await lr();const c=Q(n);if(c){a$.push(s);const h=c.contains(document.activeElement)?r:document.activeElement;if(r=h,!c.contains(h)){const U=new Event(ux,e$);c.addEventListener(ux,d),c.dispatchEvent(U),U.defaultPrevented||lr(()=>{let b=e.focusStartEl;cn(b)||(Qf(b),document.activeElement!==b&&(b="first")),b==="first"&&h5e(dK(c),!0),(document.activeElement===h||b==="container")&&Qf(c)})}}}function v(){const c=Q(n);if(c){c.removeEventListener(ux,d);const h=new CustomEvent(fx,{...e$,detail:{focusReason:o.value}});c.addEventListener(fx,u),c.dispatchEvent(h),!h.defaultPrevented&&(o.value=="keyboard"||!p5e()||c.contains(document.activeElement))&&Qf(r??document.body),c.removeEventListener(fx,u),a$.remove(s)}}return Mr(()=>{e.trapped&&g(),Rt(()=>e.trapped,c=>{c?g():v()})}),na(()=>{e.trapped&&v(),n.value&&(n.value.removeEventListener("keydown",l),n.value.removeEventListener("focusin",f),n.value.removeEventListener("focusout",p),n.value=void 0)}),{onKeydown:l}}});function v5e(e,t,n,r,a,o){return Ht(e.$slots,"default",{handleKeydown:e.onKeydown})}var qk=Nn(U5e,[["render",v5e],["__file","focus-trap.vue"]]),Qo="top",Al="bottom",wl="right",Ho="left",Jk="auto",mb=[Qo,Al,wl,Ho],wm="start",Ey="end",y5e="clippingParents",uK="viewport",Y2="popper",b5e="reference",l$=mb.reduce(function(e,t){return e.concat([t+"-"+wm,t+"-"+Ey])},[]),eM=[].concat(mb,[Jk]).reduce(function(e,t){return e.concat([t,t+"-"+wm,t+"-"+Ey])},[]),A5e="beforeRead",w5e="read",E5e="afterRead",x5e="beforeMain",_5e="main",C5e="afterMain",S5e="beforeWrite",I5e="write",k5e="afterWrite",M5e=[A5e,w5e,E5e,x5e,_5e,C5e,S5e,I5e,k5e];function xd(e){return e?(e.nodeName||"").toLowerCase():null}function Ac(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Em(e){var t=Ac(e).Element;return e instanceof t||e instanceof Element}function pl(e){var t=Ac(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function tM(e){if(typeof ShadowRoot>"u")return!1;var t=Ac(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function T5e(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},a=t.attributes[n]||{},o=t.elements[n];!pl(o)||!xd(o)||(Object.assign(o.style,r),Object.keys(a).forEach(function(s){var l=a[s];l===!1?o.removeAttribute(s):o.setAttribute(s,l===!0?"":l)}))})}function B5e(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var a=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=s.reduce(function(d,u){return d[u]="",d},{});!pl(a)||!xd(a)||(Object.assign(a.style,l),Object.keys(o).forEach(function(d){a.removeAttribute(d)}))})}}var fK={name:"applyStyles",enabled:!0,phase:"write",fn:T5e,effect:B5e,requires:["computeStyles"]};function Ud(e){return e.split("-")[0]}var E0=Math.max,c8=Math.min,xm=Math.round;function _m(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,a=1;if(pl(e)&&t){var o=e.offsetHeight,s=e.offsetWidth;s>0&&(r=xm(n.width)/s||1),o>0&&(a=xm(n.height)/o||1)}return{width:n.width/r,height:n.height/a,top:n.top/a,right:n.right/r,bottom:n.bottom/a,left:n.left/r,x:n.left/r,y:n.top/a}}function nM(e){var t=_m(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function hK(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&tM(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ku(e){return Ac(e).getComputedStyle(e)}function R5e(e){return["table","td","th"].indexOf(xd(e))>=0}function np(e){return((Em(e)?e.ownerDocument:e.document)||window.document).documentElement}function c4(e){return xd(e)==="html"?e:e.assignedSlot||e.parentNode||(tM(e)?e.host:null)||np(e)}function c$(e){return!pl(e)||Ku(e).position==="fixed"?null:e.offsetParent}function D5e(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&pl(e)){var r=Ku(e);if(r.position==="fixed")return null}var a=c4(e);for(tM(a)&&(a=a.host);pl(a)&&["html","body"].indexOf(xd(a))<0;){var o=Ku(a);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return a;a=a.parentNode}return null}function Ub(e){for(var t=Ac(e),n=c$(e);n&&R5e(n)&&Ku(n).position==="static";)n=c$(n);return n&&(xd(n)==="html"||xd(n)==="body"&&Ku(n).position==="static")?t:n||D5e(e)||t}function rM(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Iv(e,t,n){return E0(e,c8(t,n))}function P5e(e,t,n){var r=Iv(e,t,n);return r>n?n:r}function pK(){return{top:0,right:0,bottom:0,left:0}}function gK(e){return Object.assign({},pK(),e)}function mK(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var L5e=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,gK(typeof e!="number"?e:mK(e,mb))};function N5e(e){var t,n=e.state,r=e.name,a=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,l=Ud(n.placement),d=rM(l),u=[Ho,wl].indexOf(l)>=0,f=u?"height":"width";if(!(!o||!s)){var p=L5e(a.padding,n),g=nM(o),v=d==="y"?Qo:Ho,c=d==="y"?Al:wl,h=n.rects.reference[f]+n.rects.reference[d]-s[d]-n.rects.popper[f],m=s[d]-n.rects.reference[d],U=Ub(o),b=U?d==="y"?U.clientHeight||0:U.clientWidth||0:0,w=h/2-m/2,E=p[v],x=b-g[f]-p[c],C=b/2-g[f]/2+w,I=Iv(E,C,x),S=d;n.modifiersData[r]=(t={},t[S]=I,t.centerOffset=I-C,t)}}function $5e(e){var t=e.state,n=e.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||!hK(t.elements.popper,a)||(t.elements.arrow=a))}var F5e={name:"arrow",enabled:!0,phase:"main",fn:N5e,effect:$5e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Cm(e){return e.split("-")[1]}var j5e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function O5e(e){var t=e.x,n=e.y,r=window,a=r.devicePixelRatio||1;return{x:xm(t*a)/a||0,y:xm(n*a)/a||0}}function d$(e){var t,n=e.popper,r=e.popperRect,a=e.placement,o=e.variation,s=e.offsets,l=e.position,d=e.gpuAcceleration,u=e.adaptive,f=e.roundOffsets,p=e.isFixed,g=s.x,v=g===void 0?0:g,c=s.y,h=c===void 0?0:c,m=typeof f=="function"?f({x:v,y:h}):{x:v,y:h};v=m.x,h=m.y;var U=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),w=Ho,E=Qo,x=window;if(u){var C=Ub(n),I="clientHeight",S="clientWidth";if(C===Ac(n)&&(C=np(n),Ku(C).position!=="static"&&l==="absolute"&&(I="scrollHeight",S="scrollWidth")),C=C,a===Qo||(a===Ho||a===wl)&&o===Ey){E=Al;var M=p&&C===x&&x.visualViewport?x.visualViewport.height:C[I];h-=M-r.height,h*=d?1:-1}if(a===Ho||(a===Qo||a===Al)&&o===Ey){w=wl;var R=p&&C===x&&x.visualViewport?x.visualViewport.width:C[S];v-=R-r.width,v*=d?1:-1}}var D=Object.assign({position:l},u&&j5e),L=f===!0?O5e({x:v,y:h}):{x:v,y:h};if(v=L.x,h=L.y,d){var j;return Object.assign({},D,(j={},j[E]=b?"0":"",j[w]=U?"0":"",j.transform=(x.devicePixelRatio||1)<=1?"translate("+v+"px, "+h+"px)":"translate3d("+v+"px, "+h+"px, 0)",j))}return Object.assign({},D,(t={},t[E]=b?h+"px":"",t[w]=U?v+"px":"",t.transform="",t))}function z5e(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,l=n.roundOffsets,d=l===void 0?!0:l,u={placement:Ud(t.placement),variation:Cm(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,d$(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,d$(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var UK={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:z5e,data:{}},d5={passive:!0};function Q5e(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,o=a===void 0?!0:a,s=r.resize,l=s===void 0?!0:s,d=Ac(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(f){f.addEventListener("scroll",n.update,d5)}),l&&d.addEventListener("resize",n.update,d5),function(){o&&u.forEach(function(f){f.removeEventListener("scroll",n.update,d5)}),l&&d.removeEventListener("resize",n.update,d5)}}var vK={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Q5e,data:{}},H5e={left:"right",right:"left",bottom:"top",top:"bottom"};function U3(e){return e.replace(/left|right|bottom|top/g,function(t){return H5e[t]})}var G5e={start:"end",end:"start"};function u$(e){return e.replace(/start|end/g,function(t){return G5e[t]})}function iM(e){var t=Ac(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function aM(e){return _m(np(e)).left+iM(e).scrollLeft}function W5e(e){var t=Ac(e),n=np(e),r=t.visualViewport,a=n.clientWidth,o=n.clientHeight,s=0,l=0;return r&&(a=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,l=r.offsetTop)),{width:a,height:o,x:s+aM(e),y:l}}function V5e(e){var t,n=np(e),r=iM(e),a=(t=e.ownerDocument)==null?void 0:t.body,o=E0(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=E0(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-r.scrollLeft+aM(e),d=-r.scrollTop;return Ku(a||n).direction==="rtl"&&(l+=E0(n.clientWidth,a?a.clientWidth:0)-o),{width:o,height:s,x:l,y:d}}function oM(e){var t=Ku(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function yK(e){return["html","body","#document"].indexOf(xd(e))>=0?e.ownerDocument.body:pl(e)&&oM(e)?e:yK(c4(e))}function kv(e,t){var n;t===void 0&&(t=[]);var r=yK(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),o=Ac(r),s=a?[o].concat(o.visualViewport||[],oM(r)?r:[]):r,l=t.concat(s);return a?l:l.concat(kv(c4(s)))}function pC(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Y5e(e){var t=_m(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function f$(e,t){return t===uK?pC(W5e(e)):Em(t)?Y5e(t):pC(V5e(np(e)))}function K5e(e){var t=kv(c4(e)),n=["absolute","fixed"].indexOf(Ku(e).position)>=0,r=n&&pl(e)?Ub(e):e;return Em(r)?t.filter(function(a){return Em(a)&&hK(a,r)&&xd(a)!=="body"}):[]}function X5e(e,t,n){var r=t==="clippingParents"?K5e(e):[].concat(t),a=[].concat(r,[n]),o=a[0],s=a.reduce(function(l,d){var u=f$(e,d);return l.top=E0(u.top,l.top),l.right=c8(u.right,l.right),l.bottom=c8(u.bottom,l.bottom),l.left=E0(u.left,l.left),l},f$(e,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function bK(e){var t=e.reference,n=e.element,r=e.placement,a=r?Ud(r):null,o=r?Cm(r):null,s=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,d;switch(a){case Qo:d={x:s,y:t.y-n.height};break;case Al:d={x:s,y:t.y+t.height};break;case wl:d={x:t.x+t.width,y:l};break;case Ho:d={x:t.x-n.width,y:l};break;default:d={x:t.x,y:t.y}}var u=a?rM(a):null;if(u!=null){var f=u==="y"?"height":"width";switch(o){case wm:d[u]=d[u]-(t[f]/2-n[f]/2);break;case Ey:d[u]=d[u]+(t[f]/2-n[f]/2);break}}return d}function xy(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=r===void 0?e.placement:r,o=n.boundary,s=o===void 0?y5e:o,l=n.rootBoundary,d=l===void 0?uK:l,u=n.elementContext,f=u===void 0?Y2:u,p=n.altBoundary,g=p===void 0?!1:p,v=n.padding,c=v===void 0?0:v,h=gK(typeof c!="number"?c:mK(c,mb)),m=f===Y2?b5e:Y2,U=e.rects.popper,b=e.elements[g?m:f],w=X5e(Em(b)?b:b.contextElement||np(e.elements.popper),s,d),E=_m(e.elements.reference),x=bK({reference:E,element:U,strategy:"absolute",placement:a}),C=pC(Object.assign({},U,x)),I=f===Y2?C:E,S={top:w.top-I.top+h.top,bottom:I.bottom-w.bottom+h.bottom,left:w.left-I.left+h.left,right:I.right-w.right+h.right},M=e.modifiersData.offset;if(f===Y2&&M){var R=M[a];Object.keys(S).forEach(function(D){var L=[wl,Al].indexOf(D)>=0?1:-1,j=[Qo,Al].indexOf(D)>=0?"y":"x";S[D]+=R[j]*L})}return S}function Z5e(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=n.boundary,o=n.rootBoundary,s=n.padding,l=n.flipVariations,d=n.allowedAutoPlacements,u=d===void 0?eM:d,f=Cm(r),p=f?l?l$:l$.filter(function(c){return Cm(c)===f}):mb,g=p.filter(function(c){return u.indexOf(c)>=0});g.length===0&&(g=p);var v=g.reduce(function(c,h){return c[h]=xy(e,{placement:h,boundary:a,rootBoundary:o,padding:s})[Ud(h)],c},{});return Object.keys(v).sort(function(c,h){return v[c]-v[h]})}function q5e(e){if(Ud(e)===Jk)return[];var t=U3(e);return[u$(e),t,u$(t)]}function J5e(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,o=a===void 0?!0:a,s=n.altAxis,l=s===void 0?!0:s,d=n.fallbackPlacements,u=n.padding,f=n.boundary,p=n.rootBoundary,g=n.altBoundary,v=n.flipVariations,c=v===void 0?!0:v,h=n.allowedAutoPlacements,m=t.options.placement,U=Ud(m),b=U===m,w=d||(b||!c?[U3(m)]:q5e(m)),E=[m].concat(w).reduce(function(me,ve){return me.concat(Ud(ve)===Jk?Z5e(t,{placement:ve,boundary:f,rootBoundary:p,padding:u,flipVariations:c,allowedAutoPlacements:h}):ve)},[]),x=t.rects.reference,C=t.rects.popper,I=new Map,S=!0,M=E[0],R=0;R<E.length;R++){var D=E[R],L=Ud(D),j=Cm(D)===wm,re=[Qo,Al].indexOf(L)>=0,J=re?"width":"height",H=xy(t,{placement:D,boundary:f,rootBoundary:p,altBoundary:g,padding:u}),ne=re?j?wl:Ho:j?Al:Qo;x[J]>C[J]&&(ne=U3(ne));var Z=U3(ne),se=[];if(o&&se.push(H[L]<=0),l&&se.push(H[ne]<=0,H[Z]<=0),se.every(function(me){return me})){M=D,S=!1;break}I.set(D,se)}if(S)for(var O=c?3:1,V=function(me){var ve=E.find(function(xe){var le=I.get(xe);if(le)return le.slice(0,me).every(function(he){return he})});if(ve)return M=ve,"break"},de=O;de>0;de--){var oe=V(de);if(oe==="break")break}t.placement!==M&&(t.modifiersData[r]._skip=!0,t.placement=M,t.reset=!0)}}var e3e={name:"flip",enabled:!0,phase:"main",fn:J5e,requiresIfExists:["offset"],data:{_skip:!1}};function h$(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function p$(e){return[Qo,wl,Al,Ho].some(function(t){return e[t]>=0})}function t3e(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,o=t.modifiersData.preventOverflow,s=xy(t,{elementContext:"reference"}),l=xy(t,{altBoundary:!0}),d=h$(s,r),u=h$(l,a,o),f=p$(d),p=p$(u);t.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:u,isReferenceHidden:f,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}var n3e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:t3e};function r3e(e,t,n){var r=Ud(e),a=[Ho,Qo].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],l=o[1];return s=s||0,l=(l||0)*a,[Ho,wl].indexOf(r)>=0?{x:l,y:s}:{x:s,y:l}}function i3e(e){var t=e.state,n=e.options,r=e.name,a=n.offset,o=a===void 0?[0,0]:a,s=eM.reduce(function(f,p){return f[p]=r3e(p,t.rects,o),f},{}),l=s[t.placement],d=l.x,u=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=s}var a3e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:i3e};function o3e(e){var t=e.state,n=e.name;t.modifiersData[n]=bK({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var AK={name:"popperOffsets",enabled:!0,phase:"read",fn:o3e,data:{}};function s3e(e){return e==="x"?"y":"x"}function l3e(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,o=a===void 0?!0:a,s=n.altAxis,l=s===void 0?!1:s,d=n.boundary,u=n.rootBoundary,f=n.altBoundary,p=n.padding,g=n.tether,v=g===void 0?!0:g,c=n.tetherOffset,h=c===void 0?0:c,m=xy(t,{boundary:d,rootBoundary:u,padding:p,altBoundary:f}),U=Ud(t.placement),b=Cm(t.placement),w=!b,E=rM(U),x=s3e(E),C=t.modifiersData.popperOffsets,I=t.rects.reference,S=t.rects.popper,M=typeof h=="function"?h(Object.assign({},t.rects,{placement:t.placement})):h,R=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,L={x:0,y:0};if(C){if(o){var j,re=E==="y"?Qo:Ho,J=E==="y"?Al:wl,H=E==="y"?"height":"width",ne=C[E],Z=ne+m[re],se=ne-m[J],O=v?-S[H]/2:0,V=b===wm?I[H]:S[H],de=b===wm?-S[H]:-I[H],oe=t.elements.arrow,me=v&&oe?nM(oe):{width:0,height:0},ve=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:pK(),xe=ve[re],le=ve[J],he=Iv(0,I[H],me[H]),ge=w?I[H]/2-O-he-xe-R.mainAxis:V-he-xe-R.mainAxis,Ee=w?-I[H]/2+O+he+le+R.mainAxis:de+he+le+R.mainAxis,ze=t.elements.arrow&&Ub(t.elements.arrow),at=ze?E==="y"?ze.clientTop||0:ze.clientLeft||0:0,q=(j=D==null?void 0:D[E])!=null?j:0,ae=ne+ge-q-at,Ae=ne+Ee-q,$e=Iv(v?c8(Z,ae):Z,ne,v?E0(se,Ae):se);C[E]=$e,L[E]=$e-ne}if(l){var Ce,je=E==="x"?Qo:Ho,Oe=E==="x"?Al:wl,Ke=C[x],qe=x==="y"?"height":"width",We=Ke+m[je],vt=Ke-m[Oe],_e=[Qo,Ho].indexOf(U)!==-1,it=(Ce=D==null?void 0:D[x])!=null?Ce:0,St=_e?We:Ke-I[qe]-S[qe]-it+R.altAxis,Gt=_e?Ke+I[qe]+S[qe]-it-R.altAxis:vt,nn=v&&_e?P5e(St,Ke,Gt):Iv(v?St:We,Ke,v?Gt:vt);C[x]=nn,L[x]=nn-Ke}t.modifiersData[r]=L}}var c3e={name:"preventOverflow",enabled:!0,phase:"main",fn:l3e,requiresIfExists:["offset"]};function d3e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function u3e(e){return e===Ac(e)||!pl(e)?iM(e):d3e(e)}function f3e(e){var t=e.getBoundingClientRect(),n=xm(t.width)/e.offsetWidth||1,r=xm(t.height)/e.offsetHeight||1;return n!==1||r!==1}function h3e(e,t,n){n===void 0&&(n=!1);var r=pl(t),a=pl(t)&&f3e(t),o=np(t),s=_m(e,a),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&((xd(t)!=="body"||oM(o))&&(l=u3e(t)),pl(t)?(d=_m(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):o&&(d.x=aM(o))),{x:s.left+l.scrollLeft-d.x,y:s.top+l.scrollTop-d.y,width:s.width,height:s.height}}function p3e(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function a(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!n.has(l)){var d=t.get(l);d&&a(d)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||a(o)}),r}function g3e(e){var t=p3e(e);return M5e.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function m3e(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function U3e(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var g$={placement:"bottom",modifiers:[],strategy:"absolute"};function m$(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function sM(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,o=a===void 0?g$:a;return function(s,l,d){d===void 0&&(d=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},g$,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],p=!1,g={state:u,setOptions:function(h){var m=typeof h=="function"?h(u.options):h;c(),u.options=Object.assign({},o,u.options,m),u.scrollParents={reference:Em(s)?kv(s):s.contextElement?kv(s.contextElement):[],popper:kv(l)};var U=g3e(U3e([].concat(r,u.options.modifiers)));return u.orderedModifiers=U.filter(function(b){return b.enabled}),v(),g.update()},forceUpdate:function(){if(!p){var h=u.elements,m=h.reference,U=h.popper;if(m$(m,U)){u.rects={reference:h3e(m,Ub(U),u.options.strategy==="fixed"),popper:nM(U)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(S){return u.modifiersData[S.name]=Object.assign({},S.data)});for(var b=0;b<u.orderedModifiers.length;b++){if(u.reset===!0){u.reset=!1,b=-1;continue}var w=u.orderedModifiers[b],E=w.fn,x=w.options,C=x===void 0?{}:x,I=w.name;typeof E=="function"&&(u=E({state:u,options:C,name:I,instance:g})||u)}}}},update:m3e(function(){return new Promise(function(h){g.forceUpdate(),h(u)})}),destroy:function(){c(),p=!0}};if(!m$(s,l))return g;g.setOptions(d).then(function(h){!p&&d.onFirstUpdate&&d.onFirstUpdate(h)});function v(){u.orderedModifiers.forEach(function(h){var m=h.name,U=h.options,b=U===void 0?{}:U,w=h.effect;if(typeof w=="function"){var E=w({state:u,name:m,instance:g,options:b}),x=function(){};f.push(E||x)}})}function c(){f.forEach(function(h){return h()}),f=[]}return g}}sM();var v3e=[vK,AK,UK,fK];sM({defaultModifiers:v3e});var y3e=[vK,AK,UK,fK,a3e,e3e,c3e,F5e,n3e],b3e=sM({defaultModifiers:y3e});const A3e=["fixed","absolute"],w3e=kn({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Pt(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:eM,default:"bottom"},popperOptions:{type:Pt(Object),default:()=>({})},strategy:{type:String,values:A3e,default:"absolute"}}),wK=kn({...w3e,id:String,style:{type:Pt([String,Array,Object])},className:{type:Pt([String,Array,Object])},effect:{type:Pt(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Pt([String,Array,Object])},popperStyle:{type:Pt([String,Array,Object])},referenceEl:{type:Pt(Object)},triggerTargetEl:{type:Pt(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...gb(["ariaLabel"])}),E3e={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},x3e=(e,t)=>{const n=Ie(!1),r=Ie();return{focusStartRef:r,trapped:n,onFocusAfterReleased:u=>{var f;((f=u.detail)==null?void 0:f.focusReason)!=="pointer"&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:u=>{e.visible&&!n.value&&(u.target&&(r.value=u.target),n.value=!0)},onFocusoutPrevented:u=>{e.trapping||(u.detail.focusReason==="pointer"&&u.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}},_3e=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:a}=e,o={placement:n,strategy:r,...a,modifiers:[...S3e(e),...t]};return I3e(o,a==null?void 0:a.modifiers),o},C3e=e=>{if(kr)return Iu(e)};function S3e(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function I3e(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const k3e=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:d})=>{const u=M3e(d);Object.assign(s.value,u)},requires:["computeStyles"]},a=be(()=>{const{onFirstUpdate:d,placement:u,strategy:f,modifiers:p}=Q(n);return{onFirstUpdate:d,placement:u||"bottom",strategy:f||"absolute",modifiers:[...p||[],r,{name:"applyStyles",enabled:!1}]}}),o=Th(),s=Ie({styles:{popper:{position:Q(a).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=()=>{o.value&&(o.value.destroy(),o.value=void 0)};return Rt(a,d=>{const u=Q(o);u&&u.setOptions(d)},{deep:!0}),Rt([e,t],([d,u])=>{l(),!(!d||!u)&&(o.value=b3e(d,u,Q(a)))}),na(()=>{l()}),{state:be(()=>{var d;return{...((d=Q(o))==null?void 0:d.state)||{}}}),styles:be(()=>Q(s).styles),attributes:be(()=>Q(s).attributes),update:()=>{var d;return(d=Q(o))==null?void 0:d.update()},forceUpdate:()=>{var d;return(d=Q(o))==null?void 0:d.forceUpdate()},instanceRef:be(()=>Q(o))}};function M3e(e){const t=Object.keys(e.elements),n=a8(t.map(a=>[a,e.styles[a]||{}])),r=a8(t.map(a=>[a,e.attributes[a]]));return{styles:n,attributes:r}}const T3e=0,B3e=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:a}=Nt(Yk,void 0),o=Ie(),s=Ie(),l=be(()=>({name:"eventListeners",enabled:!!e.visible})),d=be(()=>{var U;const b=Q(o),w=(U=Q(s))!=null?U:T3e;return{name:"arrow",enabled:!LY(b),options:{element:b,padding:w}}}),u=be(()=>({onFirstUpdate:()=>{c()},..._3e(e,[Q(d),Q(l)])})),f=be(()=>C3e(e.referenceEl)||Q(r)),{attributes:p,state:g,styles:v,update:c,forceUpdate:h,instanceRef:m}=k3e(f,n,u);return Rt(m,U=>t.value=U),Mr(()=>{Rt(()=>{var U;return(U=Q(f))==null?void 0:U.getBoundingClientRect()},()=>{c()})}),{attributes:p,arrowRef:o,contentRef:n,instanceRef:m,state:g,styles:v,role:a,forceUpdate:h,update:c}},R3e=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:a}=Ok(),o=dr("popper"),s=be(()=>Q(t).popper),l=Ie(Si(e.zIndex)?e.zIndex:a()),d=be(()=>[o.b(),o.is("pure",e.pure),o.is(e.effect),e.popperClass]),u=be(()=>[{zIndex:Q(l)},Q(n).popper,e.popperStyle||{}]),f=be(()=>r.value==="dialog"?"false":void 0),p=be(()=>Q(n).arrow||{});return{ariaModal:f,arrowStyle:p,contentAttrs:s,contentClass:d,contentStyle:u,contentZIndex:l,updateZIndex:()=>{l.value=Si(e.zIndex)?e.zIndex:a()}}},D3e=ot({name:"ElPopperContent"}),P3e=ot({...D3e,props:wK,emits:E3e,setup(e,{expose:t,emit:n}){const r=e,{focusStartRef:a,trapped:o,onFocusAfterReleased:s,onFocusAfterTrapped:l,onFocusInTrap:d,onFocusoutPrevented:u,onReleaseRequested:f}=x3e(r,n),{attributes:p,arrowRef:g,contentRef:v,styles:c,instanceRef:h,role:m,update:U}=B3e(r),{ariaModal:b,arrowStyle:w,contentAttrs:E,contentClass:x,contentStyle:C,updateZIndex:I}=R3e(r,{styles:c,attributes:p,role:m}),S=Nt(F0,void 0),M=Ie();ii(rK,{arrowStyle:w,arrowRef:g,arrowOffset:M}),S&&ii(F0,{...S,addInputId:qi,removeInputId:qi});let R;const D=(j=!0)=>{U(),j&&I()},L=()=>{D(!1),r.visible&&r.focusOnShow?o.value=!0:r.visible===!1&&(o.value=!1)};return Mr(()=>{Rt(()=>r.triggerTargetEl,(j,re)=>{R==null||R(),R=void 0;const J=Q(j||v.value),H=Q(re||v.value);Bh(J)&&(R=Rt([m,()=>r.ariaLabel,b,()=>r.id],ne=>{["role","aria-label","aria-modal","id"].forEach((Z,se)=>{e4(ne[se])?J.removeAttribute(Z):J.setAttribute(Z,ne[se])})},{immediate:!0})),H!==J&&Bh(H)&&["role","aria-label","aria-modal","id"].forEach(ne=>{H.removeAttribute(ne)})},{immediate:!0}),Rt(()=>r.visible,L,{immediate:!0})}),na(()=>{R==null||R(),R=void 0}),t({popperContentRef:v,popperInstanceRef:h,updatePopper:D,contentStyle:C}),(j,re)=>(Te(),Ut("div",Ts({ref_key:"contentRef",ref:v},Q(E),{style:Q(C),class:Q(x),tabindex:"-1",onMouseenter:J=>j.$emit("mouseenter",J),onMouseleave:J=>j.$emit("mouseleave",J)}),[Ge(Q(qk),{trapped:Q(o),"trap-on-focus-in":!0,"focus-trap-el":Q(v),"focus-start-el":Q(a),onFocusAfterTrapped:Q(l),onFocusAfterReleased:Q(s),onFocusin:Q(d),onFocusoutPrevented:Q(u),onReleaseRequested:Q(f)},{default:tt(()=>[Ht(j.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var L3e=Nn(P3e,[["__file","content.vue"]]);const N3e=Ko(K6e),lM=Symbol("elTooltip");function U$(){let e;const t=(r,a)=>{n(),e=window.setTimeout(r,a)},n=()=>window.clearTimeout(e);return fb(()=>n()),{registerTimeout:t,cancelTimeout:n}}const $3e=kn({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),F3e=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:a})=>{const{registerTimeout:o}=U$(),{registerTimeout:s,cancelTimeout:l}=U$();return{onOpen:f=>{o(()=>{r(f);const p=Q(n);Si(p)&&p>0&&s(()=>{a(f)},p)},Q(e))},onClose:f=>{l(),o(()=>{a(f)},Q(t))}}},d8=kn({...$3e,...wK,appendTo:{type:Pt([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:Pt(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...gb(["ariaLabel"])}),cM=kn({...oK,disabled:Boolean,trigger:{type:Pt([String,Array]),default:"hover"},triggerKeys:{type:Pt(Array),default:()=>[er.enter,er.numpadEnter,er.space]}}),j3e=n4({type:Pt(Boolean),default:null}),O3e=n4({type:Pt(Function)}),z3e=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],a={[e]:j3e,[n]:O3e};return{useModelToggle:({indicator:s,toggleReason:l,shouldHideWhenRouteChanges:d,shouldProceed:u,onShow:f,onHide:p})=>{const g=oi(),{emit:v}=g,c=g.props,h=be(()=>Bt(c[n])),m=be(()=>c[e]===null),U=I=>{s.value!==!0&&(s.value=!0,l&&(l.value=I),Bt(f)&&f(I))},b=I=>{s.value!==!1&&(s.value=!1,l&&(l.value=I),Bt(p)&&p(I))},w=I=>{if(c.disabled===!0||Bt(u)&&!u())return;const S=h.value&&kr;S&&v(t,!0),(m.value||!S)&&U(I)},E=I=>{if(c.disabled===!0||!kr)return;const S=h.value&&kr;S&&v(t,!1),(m.value||!S)&&b(I)},x=I=>{dc(I)&&(c.disabled&&I?h.value&&v(t,!1):s.value!==I&&(I?U():b()))},C=()=>{s.value?E():w()};return Rt(()=>c[e],x),d&&g.appContext.config.globalProperties.$route!==void 0&&Rt(()=>({...g.proxy.$route}),()=>{d.value&&s.value&&E()}),Mr(()=>{x(c[e])}),{hide:E,show:w,toggle:C,hasUpdateHandler:h}},useModelToggleProps:a,useModelToggleEmits:r}},{useModelToggleProps:Q3e,useModelToggleEmits:H3e,useModelToggle:G3e}=z3e("visible"),W3e=kn({...iK,...Q3e,...d8,...cM,...aK,showArrow:{type:Boolean,default:!0}}),V3e=[...H3e,"before-show","before-hide","show","hide","open","close"],Y3e=(e,t)=>jt(e)?e.includes(t):e===t,C1=(e,t,n)=>r=>{Y3e(Q(e),t)&&n(r)},Ti=(e,t,{checkForDefaultPrevented:n=!0}={})=>a=>{const o=e==null?void 0:e(a);if(n===!1||!o)return t==null?void 0:t(a)},v$=e=>t=>t.pointerType==="mouse"?e(t):void 0,K3e=ot({name:"ElTooltipTrigger"}),X3e=ot({...K3e,props:cM,setup(e,{expose:t}){const n=e,r=dr("tooltip"),{controlled:a,id:o,open:s,onOpen:l,onClose:d,onToggle:u}=Nt(lM,void 0),f=Ie(null),p=()=>{if(Q(a)||n.disabled)return!0},g=xa(n,"trigger"),v=Ti(p,C1(g,"hover",l)),c=Ti(p,C1(g,"hover",d)),h=Ti(p,C1(g,"click",E=>{E.button===0&&u(E)})),m=Ti(p,C1(g,"focus",l)),U=Ti(p,C1(g,"focus",d)),b=Ti(p,C1(g,"contextmenu",E=>{E.preventDefault(),u(E)})),w=Ti(p,E=>{const{code:x}=E;n.triggerKeys.includes(x)&&(E.preventDefault(),u(E))});return t({triggerRef:f}),(E,x)=>(Te(),Ct(Q(o5e),{id:Q(o),"virtual-ref":E.virtualRef,open:Q(s),"virtual-triggering":E.virtualTriggering,class:ft(Q(r).e("trigger")),onBlur:Q(U),onClick:Q(h),onContextmenu:Q(b),onFocus:Q(m),onMouseenter:Q(v),onMouseleave:Q(c),onKeydown:Q(w)},{default:tt(()=>[Ht(E.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var Z3e=Nn(X3e,[["__file","trigger.vue"]]);const q3e=kn({to:{type:Pt([String,Object]),required:!0},disabled:Boolean}),J3e=ot({__name:"teleport",props:q3e,setup(e){return(t,n)=>t.disabled?Ht(t.$slots,"default",{key:0}):(Te(),Ct(_1e,{key:1,to:t.to},[Ht(t.$slots,"default")],8,["to"]))}});var eAe=Nn(J3e,[["__file","teleport.vue"]]);const EK=Ko(eAe),xK=()=>{const e=Sk(),t=eK(),n=be(()=>`${e.value}-popper-container-${t.prefix}`),r=be(()=>`#${n.value}`);return{id:n,selector:r}},tAe=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},nAe=()=>{const{id:e,selector:t}=xK();return EV(()=>{kr&&(document.body.querySelector(t.value)||tAe(e.value))}),{id:e,selector:t}},rAe=ot({name:"ElTooltipContent",inheritAttrs:!1}),iAe=ot({...rAe,props:d8,setup(e,{expose:t}){const n=e,{selector:r}=xK(),a=dr("tooltip"),o=Ie();let s;const{controlled:l,id:d,open:u,trigger:f,onClose:p,onOpen:g,onShow:v,onHide:c,onBeforeShow:h,onBeforeHide:m}=Nt(lM,void 0),U=be(()=>n.transition||`${a.namespace.value}-fade-in-linear`),b=be(()=>n.persistent);na(()=>{s==null||s()});const w=be(()=>Q(b)?!0:Q(u)),E=be(()=>n.disabled?!1:Q(u)),x=be(()=>n.appendTo||r.value),C=be(()=>{var H;return(H=n.style)!=null?H:{}}),I=Ie(!0),S=()=>{c(),I.value=!0},M=()=>{if(Q(l))return!0},R=Ti(M,()=>{n.enterable&&Q(f)==="hover"&&g()}),D=Ti(M,()=>{Q(f)==="hover"&&p()}),L=()=>{var H,ne;(ne=(H=o.value)==null?void 0:H.updatePopper)==null||ne.call(H),h==null||h()},j=()=>{m==null||m()},re=()=>{v(),s=ebe(be(()=>{var H;return(H=o.value)==null?void 0:H.popperContentRef}),()=>{if(Q(l))return;Q(f)!=="hover"&&p()})},J=()=>{n.virtualTriggering||p()};return Rt(()=>Q(u),H=>{H?I.value=!1:s==null||s()},{flush:"post"}),Rt(()=>n.content,()=>{var H,ne;(ne=(H=o.value)==null?void 0:H.updatePopper)==null||ne.call(H)}),t({contentRef:o}),(H,ne)=>(Te(),Ct(Q(EK),{disabled:!H.teleported,to:Q(x)},{default:tt(()=>[Ge(q0,{name:Q(U),onAfterLeave:S,onBeforeEnter:L,onAfterEnter:re,onBeforeLeave:j},{default:tt(()=>[Q(w)?cc((Te(),Ct(Q(L3e),Ts({key:0,id:Q(d),ref_key:"contentRef",ref:o},H.$attrs,{"aria-label":H.ariaLabel,"aria-hidden":I.value,"boundaries-padding":H.boundariesPadding,"fallback-placements":H.fallbackPlacements,"gpu-acceleration":H.gpuAcceleration,offset:H.offset,placement:H.placement,"popper-options":H.popperOptions,strategy:H.strategy,effect:H.effect,enterable:H.enterable,pure:H.pure,"popper-class":H.popperClass,"popper-style":[H.popperStyle,Q(C)],"reference-el":H.referenceEl,"trigger-target-el":H.triggerTargetEl,visible:Q(E),"z-index":H.zIndex,onMouseenter:Q(R),onMouseleave:Q(D),onBlur:J,onClose:Q(p)}),{default:tt(()=>[Ht(H.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[md,Q(E)]]):$t("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var aAe=Nn(iAe,[["__file","content.vue"]]);const oAe=ot({name:"ElTooltip"}),sAe=ot({...oAe,props:W3e,emits:V3e,setup(e,{expose:t,emit:n}){const r=e;nAe();const a=Yu(),o=Ie(),s=Ie(),l=()=>{var U;const b=Q(o);b&&((U=b.popperInstanceRef)==null||U.update())},d=Ie(!1),u=Ie(),{show:f,hide:p,hasUpdateHandler:g}=G3e({indicator:d,toggleReason:u}),{onOpen:v,onClose:c}=F3e({showAfter:xa(r,"showAfter"),hideAfter:xa(r,"hideAfter"),autoClose:xa(r,"autoClose"),open:f,close:p}),h=be(()=>dc(r.visible)&&!g.value);ii(lM,{controlled:h,id:a,open:e2(d),trigger:xa(r,"trigger"),onOpen:U=>{v(U)},onClose:U=>{c(U)},onToggle:U=>{Q(d)?c(U):v(U)},onShow:()=>{n("show",u.value)},onHide:()=>{n("hide",u.value)},onBeforeShow:()=>{n("before-show",u.value)},onBeforeHide:()=>{n("before-hide",u.value)},updatePopper:l}),Rt(()=>r.disabled,U=>{U&&d.value&&(d.value=!1)});const m=U=>{var b,w;const E=(w=(b=s.value)==null?void 0:b.contentRef)==null?void 0:w.popperContentRef,x=(U==null?void 0:U.relatedTarget)||document.activeElement;return E&&E.contains(x)};return AV(()=>d.value&&p()),t({popperRef:o,contentRef:s,isFocusInsideContent:m,updatePopper:l,onOpen:v,onClose:c,hide:p}),(U,b)=>(Te(),Ct(Q(N3e),{ref_key:"popperRef",ref:o,role:U.role},{default:tt(()=>[Ge(Z3e,{disabled:U.disabled,trigger:U.trigger,"trigger-keys":U.triggerKeys,"virtual-ref":U.virtualRef,"virtual-triggering":U.virtualTriggering},{default:tt(()=>[U.$slots.default?Ht(U.$slots,"default",{key:0}):$t("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),Ge(aAe,{ref_key:"contentRef",ref:s,"aria-label":U.ariaLabel,"boundaries-padding":U.boundariesPadding,content:U.content,disabled:U.disabled,effect:U.effect,enterable:U.enterable,"fallback-placements":U.fallbackPlacements,"hide-after":U.hideAfter,"gpu-acceleration":U.gpuAcceleration,offset:U.offset,persistent:U.persistent,"popper-class":U.popperClass,"popper-style":U.popperStyle,placement:U.placement,"popper-options":U.popperOptions,pure:U.pure,"raw-content":U.rawContent,"reference-el":U.referenceEl,"trigger-target-el":U.triggerTargetEl,"show-after":U.showAfter,strategy:U.strategy,teleported:U.teleported,transition:U.transition,"virtual-triggering":U.virtualTriggering,"z-index":U.zIndex,"append-to":U.appendTo},{default:tt(()=>[Ht(U.$slots,"content",{},()=>[U.rawContent?(Te(),Ut("span",{key:0,innerHTML:U.content},null,8,["innerHTML"])):(Te(),Ut("span",{key:1},Wr(U.content),1))]),U.showArrow?(Te(),Ct(Q(q6e),{key:0,"arrow-offset":U.arrowOffset},null,8,["arrow-offset"])):$t("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var lAe=Nn(sAe,[["__file","tooltip.vue"]]);const cAe=Ko(lAe),dAe=kn({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:Pt([String,Object,Array])},offset:{type:Pt(Array),default:[0,0]},badgeClass:{type:String}}),uAe=ot({name:"ElBadge"}),fAe=ot({...uAe,props:dAe,setup(e,{expose:t}){const n=e,r=dr("badge"),a=be(()=>n.isDot?"":Si(n.value)&&Si(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`),o=be(()=>{var s,l,d,u,f;return[{backgroundColor:n.color,marginRight:bl(-((l=(s=n.offset)==null?void 0:s[0])!=null?l:0)),marginTop:bl((u=(d=n.offset)==null?void 0:d[1])!=null?u:0)},(f=n.badgeStyle)!=null?f:{}]});return t({content:a}),(s,l)=>(Te(),Ut("div",{class:ft(Q(r).b())},[Ht(s.$slots,"default"),Ge(q0,{name:`${Q(r).namespace.value}-zoom-in-center`,persisted:""},{default:tt(()=>[cc(lt("sup",{class:ft([Q(r).e("content"),Q(r).em("content",s.type),Q(r).is("fixed",!!s.$slots.default),Q(r).is("dot",s.isDot),Q(r).is("hide-zero",!s.showZero&&n.value===0),s.badgeClass]),style:Ii(Q(o))},[Ht(s.$slots,"content",{value:Q(a)},()=>[za(Wr(Q(a)),1)])],6),[[md,!s.hidden&&(Q(a)||s.isDot||s.$slots.content)]])]),_:3},8,["name"])],2))}});var hAe=Nn(fAe,[["__file","badge.vue"]]);const pAe=Ko(hAe),_K=Symbol("buttonGroupContextKey"),CK=({from:e,replacement:t,scope:n,version:r,ref:a,type:o="API"},s)=>{Rt(()=>Q(s),l=>{},{immediate:!0})},gAe=(e,t)=>{CK({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},be(()=>e.type==="text"));const n=Nt(_K,void 0),r=i4("button"),{form:a}=Wk(),o=l2(be(()=>n==null?void 0:n.size)),s=o4(),l=Ie(),d=db(),u=be(()=>e.type||(n==null?void 0:n.type)||""),f=be(()=>{var c,h,m;return(m=(h=e.autoInsertSpace)!=null?h:(c=r.value)==null?void 0:c.autoInsertSpace)!=null?m:!1}),p=be(()=>e.tag==="button"?{ariaDisabled:s.value||e.loading,disabled:s.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),g=be(()=>{var c;const h=(c=d.default)==null?void 0:c.call(d);if(f.value&&(h==null?void 0:h.length)===1){const m=h[0];if((m==null?void 0:m.type)===r2){const U=m.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(U.trim())}}return!1});return{_disabled:s,_size:o,_type:u,_ref:l,_props:p,shouldAddSpace:g,handleClick:c=>{if(s.value||e.loading){c.stopPropagation();return}e.nativeType==="reset"&&(a==null||a.resetFields()),t("click",c)}}},mAe=["default","primary","success","warning","info","danger","text",""],UAe=["button","submit","reset"],gC=kn({size:Qk,disabled:Boolean,type:{type:String,values:mAe,default:""},icon:{type:nc},nativeType:{type:String,values:UAe,default:"button"},loading:Boolean,loadingIcon:{type:nc,default:()=>wy},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Pt([String,Object]),default:"button"}}),vAe={click:e=>e instanceof MouseEvent};function Ca(e,t){yAe(e)&&(e="100%");var n=bAe(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function u5(e){return Math.min(1,Math.max(0,e))}function yAe(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function bAe(e){return typeof e=="string"&&e.indexOf("%")!==-1}function SK(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function f5(e){return e<=1?"".concat(Number(e)*100,"%"):e}function s0(e){return e.length===1?"0"+e:String(e)}function AAe(e,t,n){return{r:Ca(e,255)*255,g:Ca(t,255)*255,b:Ca(n,255)*255}}function y$(e,t,n){e=Ca(e,255),t=Ca(t,255),n=Ca(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),o=0,s=0,l=(r+a)/2;if(r===a)s=0,o=0;else{var d=r-a;switch(s=l>.5?d/(2-r-a):d/(r+a),r){case e:o=(t-n)/d+(t<n?6:0);break;case t:o=(n-e)/d+2;break;case n:o=(e-t)/d+4;break}o/=6}return{h:o,s,l}}function hx(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function wAe(e,t,n){var r,a,o;if(e=Ca(e,360),t=Ca(t,100),n=Ca(n,100),t===0)a=n,o=n,r=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=hx(l,s,e+1/3),a=hx(l,s,e),o=hx(l,s,e-1/3)}return{r:r*255,g:a*255,b:o*255}}function b$(e,t,n){e=Ca(e,255),t=Ca(t,255),n=Ca(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),o=0,s=r,l=r-a,d=r===0?0:l/r;if(r===a)o=0;else{switch(r){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4;break}o/=6}return{h:o,s:d,v:s}}function EAe(e,t,n){e=Ca(e,360)*6,t=Ca(t,100),n=Ca(n,100);var r=Math.floor(e),a=e-r,o=n*(1-t),s=n*(1-a*t),l=n*(1-(1-a)*t),d=r%6,u=[n,s,o,o,l,n][d],f=[l,n,n,s,o,o][d],p=[o,o,l,n,n,s][d];return{r:u*255,g:f*255,b:p*255}}function A$(e,t,n,r){var a=[s0(Math.round(e).toString(16)),s0(Math.round(t).toString(16)),s0(Math.round(n).toString(16))];return r&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function xAe(e,t,n,r,a){var o=[s0(Math.round(e).toString(16)),s0(Math.round(t).toString(16)),s0(Math.round(n).toString(16)),s0(_Ae(r))];return a&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function _Ae(e){return Math.round(parseFloat(e)*255).toString(16)}function w$(e){return ds(e)/255}function ds(e){return parseInt(e,16)}function CAe(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var mC={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function SAe(e){var t={r:0,g:0,b:0},n=1,r=null,a=null,o=null,s=!1,l=!1;return typeof e=="string"&&(e=MAe(e)),typeof e=="object"&&(Kd(e.r)&&Kd(e.g)&&Kd(e.b)?(t=AAe(e.r,e.g,e.b),s=!0,l=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Kd(e.h)&&Kd(e.s)&&Kd(e.v)?(r=f5(e.s),a=f5(e.v),t=EAe(e.h,r,a),s=!0,l="hsv"):Kd(e.h)&&Kd(e.s)&&Kd(e.l)&&(r=f5(e.s),o=f5(e.l),t=wAe(e.h,r,o),s=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=SK(n),{ok:s,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var IAe="[-\\+]?\\d+%?",kAe="[-\\+]?\\d*\\.\\d+%?",ph="(?:".concat(kAe,")|(?:").concat(IAe,")"),px="[\\s|\\(]+(".concat(ph,")[,|\\s]+(").concat(ph,")[,|\\s]+(").concat(ph,")\\s*\\)?"),gx="[\\s|\\(]+(".concat(ph,")[,|\\s]+(").concat(ph,")[,|\\s]+(").concat(ph,")[,|\\s]+(").concat(ph,")\\s*\\)?"),Fl={CSS_UNIT:new RegExp(ph),rgb:new RegExp("rgb"+px),rgba:new RegExp("rgba"+gx),hsl:new RegExp("hsl"+px),hsla:new RegExp("hsla"+gx),hsv:new RegExp("hsv"+px),hsva:new RegExp("hsva"+gx),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function MAe(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(mC[e])e=mC[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Fl.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=Fl.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Fl.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=Fl.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Fl.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=Fl.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Fl.hex8.exec(e),n?{r:ds(n[1]),g:ds(n[2]),b:ds(n[3]),a:w$(n[4]),format:t?"name":"hex8"}:(n=Fl.hex6.exec(e),n?{r:ds(n[1]),g:ds(n[2]),b:ds(n[3]),format:t?"name":"hex"}:(n=Fl.hex4.exec(e),n?{r:ds(n[1]+n[1]),g:ds(n[2]+n[2]),b:ds(n[3]+n[3]),a:w$(n[4]+n[4]),format:t?"name":"hex8"}:(n=Fl.hex3.exec(e),n?{r:ds(n[1]+n[1]),g:ds(n[2]+n[2]),b:ds(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function Kd(e){return!!Fl.CSS_UNIT.exec(String(e))}var TAe=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=CAe(t)),this.originalInput=t;var a=SAe(t);this.originalInput=t,this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:a.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=a.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,a,o=t.r/255,s=t.g/255,l=t.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),l<=.03928?a=l/12.92:a=Math.pow((l+.055)/1.055,2.4),.2126*n+.7152*r+.0722*a},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=SK(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=b$(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=b$(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(a,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=y$(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=y$(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(a,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),A$(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),xAe(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(Ca(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(Ca(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+A$(this.r,this.g,this.b,!1),n=0,r=Object.entries(mC);n<r.length;n++){var a=r[n],o=a[0],s=a[1];if(t===s)return o}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,a=this.a<1&&this.a>=0,o=!n&&a&&(t.startsWith("hex")||t==="name");return o?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=u5(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=u5(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=u5(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=u5(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),a=new e(t).toRgb(),o=n/100,s={r:(a.r-r.r)*o+r.r,g:(a.g-r.g)*o+r.g,b:(a.b-r.b)*o+r.b,a:(a.a-r.a)*o+r.a};return new e(s)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),a=360/n,o=[this];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,a=n.s,o=n.v,s=[],l=1/t;t--;)s.push(new e({h:r,s:a,v:o})),o=(o+l)%1;return s},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),a=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/a,g:(n.g*n.a+r.g*r.a*(1-n.a))/a,b:(n.b*n.a+r.b*r.a*(1-n.a))/a,a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,a=[this],o=360/t,s=1;s<t;s++)a.push(new e({h:(r+s*o)%360,s:n.s,l:n.l}));return a},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function Mf(e,t=20){return e.mix("#141414",t).toString()}function BAe(e){const t=o4(),n=dr("button");return be(()=>{let r={},a=e.color;if(a){const o=a.match(/var\((.*?)\)/);o&&(a=window.getComputedStyle(window.document.documentElement).getPropertyValue(o[1]));const s=new TAe(a),l=e.dark?s.tint(20).toString():Mf(s,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?Mf(s,90):s.tint(90).toString(),"text-color":a,"border-color":e.dark?Mf(s,50):s.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":a,"hover-border-color":a,"active-bg-color":l,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":l}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?Mf(s,90):s.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?Mf(s,50):s.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?Mf(s,80):s.tint(80).toString());else{const d=e.dark?Mf(s,30):s.tint(30).toString(),u=s.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":a,"text-color":u,"border-color":a,"hover-bg-color":d,"hover-text-color":u,"hover-border-color":d,"active-bg-color":l,"active-border-color":l}),t.value){const f=e.dark?Mf(s,50):s.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=f,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=f}}}return r})}const RAe=ot({name:"ElButton"}),DAe=ot({...RAe,props:gC,emits:vAe,setup(e,{expose:t,emit:n}){const r=e,a=BAe(r),o=dr("button"),{_ref:s,_size:l,_type:d,_disabled:u,_props:f,shouldAddSpace:p,handleClick:g}=gAe(r,n),v=be(()=>[o.b(),o.m(d.value),o.m(l.value),o.is("disabled",u.value),o.is("loading",r.loading),o.is("plain",r.plain),o.is("round",r.round),o.is("circle",r.circle),o.is("text",r.text),o.is("link",r.link),o.is("has-bg",r.bg)]);return t({ref:s,size:l,type:d,disabled:u,shouldAddSpace:p}),(c,h)=>(Te(),Ct(Ui(c.tag),Ts({ref_key:"_ref",ref:s},Q(f),{class:Q(v),style:Q(a),onClick:Q(g)}),{default:tt(()=>[c.loading?(Te(),Ut($r,{key:0},[c.$slots.loading?Ht(c.$slots,"loading",{key:0}):(Te(),Ct(Q(ti),{key:1,class:ft(Q(o).is("loading"))},{default:tt(()=>[(Te(),Ct(Ui(c.loadingIcon)))]),_:1},8,["class"]))],64)):c.icon||c.$slots.icon?(Te(),Ct(Q(ti),{key:1},{default:tt(()=>[c.icon?(Te(),Ct(Ui(c.icon),{key:0})):Ht(c.$slots,"icon",{key:1})]),_:3})):$t("v-if",!0),c.$slots.default?(Te(),Ut("span",{key:2,class:ft({[Q(o).em("text","expand")]:Q(p)})},[Ht(c.$slots,"default")],2)):$t("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var PAe=Nn(DAe,[["__file","button.vue"]]);const LAe={size:gC.size,type:gC.type},NAe=ot({name:"ElButtonGroup"}),$Ae=ot({...NAe,props:LAe,setup(e){const t=e;ii(_K,Ji({size:xa(t,"size"),type:xa(t,"type")}));const n=dr("button");return(r,a)=>(Te(),Ut("div",{class:ft(Q(n).b("group"))},[Ht(r.$slots,"default")],2))}});var IK=Nn($Ae,[["__file","button-group.vue"]]);const r1=Ko(PAe,{ButtonGroup:IK}),Bqe=pb(IK);var v3=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(v3||{});const y3=e=>{const t=jt(e)?e:[e],n=[];return t.forEach(r=>{var a;jt(r)?n.push(...y3(r)):Ms(r)&&((a=r.component)!=null&&a.subTree)?n.push(r,...y3(r.component.subTree)):Ms(r)&&jt(r.children)?n.push(...y3(r.children)):n.push(r)}),n},FAe=(e,t,n)=>y3(e.subTree).filter(o=>{var s;return Ms(o)&&((s=o.type)==null?void 0:s.name)===t&&!!o.component}).map(o=>o.component.uid).map(o=>n[o]).filter(o=>!!o),jAe=(e,t)=>{const n={},r=Th([]);return{children:r,addChild:s=>{n[s.uid]=s,r.value=FAe(e,t,n)},removeChild:s=>{delete n[s],r.value=r.value.filter(l=>l.uid!==s)}}},Rqe=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),sh=e=>lb(e),OAe=kn({a11y:{type:Boolean,default:!0},locale:{type:Pt(Object)},size:Qk,button:{type:Pt(Object)},experimentalFeatures:{type:Pt(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:Pt(Object)},zIndex:Number,namespace:{type:String,default:"el"},...xbe}),Vl={},zAe=ot({name:"ElConfigProvider",props:OAe,setup(e,{slots:t}){Rt(()=>e.message,r=>{Object.assign(Vl,r??{})},{immediate:!0,deep:!0});const n=WY(e);return()=>Ht(t,"default",{config:n==null?void 0:n.value})}}),QAe=Ko(zAe),dM=e=>{if(!e)return{onClick:qi,onMousedown:qi,onMouseup:qi};let t=!1,n=!1;return{onClick:s=>{t&&n&&e(s),t=n=!1},onMousedown:s=>{t=s.target===s.currentTarget},onMouseup:s=>{n=s.target===s.currentTarget}}},HAe=kn({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:Pt([String,Array,Object])},zIndex:{type:Pt([String,Number])}}),GAe={click:e=>e instanceof MouseEvent},WAe="overlay";var VAe=ot({name:"ElOverlay",props:HAe,emits:GAe,setup(e,{slots:t,emit:n}){const r=dr(WAe),a=d=>{n("click",d)},{onClick:o,onMousedown:s,onMouseup:l}=dM(e.customMaskEvent?void 0:a);return()=>e.mask?Ge("div",{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:o,onMousedown:s,onMouseup:l},[Ht(t,"default")],v3.STYLE|v3.CLASS|v3.PROPS,["onClick","onMouseup","onMousedown"]):_u("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Ht(t,"default")])}});const kK=VAe,MK=Symbol("dialogInjectionKey"),TK=kn({center:Boolean,alignCenter:Boolean,closeIcon:{type:nc},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),YAe={close:()=>!0},BK=(e,t,n,r)=>{let a={offsetX:0,offsetY:0};const o=u=>{const f=u.clientX,p=u.clientY,{offsetX:g,offsetY:v}=a,c=e.value.getBoundingClientRect(),h=c.left,m=c.top,U=c.width,b=c.height,w=document.documentElement.clientWidth,E=document.documentElement.clientHeight,x=-h+g,C=-m+v,I=w-h-U+g,S=E-m-b+v,M=D=>{let L=g+D.clientX-f,j=v+D.clientY-p;r!=null&&r.value||(L=Math.min(Math.max(L,x),I),j=Math.min(Math.max(j,C),S)),a={offsetX:L,offsetY:j},e.value&&(e.value.style.transform=`translate(${bl(L)}, ${bl(j)})`)},R=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",R)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",R)},s=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",o)},l=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",o)},d=()=>{a={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return Mr(()=>{jV(()=>{n.value?s():l()})}),na(()=>{l()}),{resetPosition:d}},uM=(...e)=>t=>{e.forEach(n=>{Bt(n)?n(t):n.value=t})},KAe=ot({name:"ElDialogContent"}),XAe=ot({...KAe,props:TK,emits:YAe,setup(e,{expose:t}){const n=e,{t:r}=zk(),{Close:a}=u6e,{dialogRef:o,headerRef:s,bodyId:l,ns:d,style:u}=Nt(MK),{focusTrapRef:f}=Nt(Kk),p=be(()=>[d.b(),d.is("fullscreen",n.fullscreen),d.is("draggable",n.draggable),d.is("align-center",n.alignCenter),{[d.m("center")]:n.center}]),g=uM(f,o),v=be(()=>n.draggable),c=be(()=>n.overflow),{resetPosition:h}=BK(o,s,v,c);return t({resetPosition:h}),(m,U)=>(Te(),Ut("div",{ref:Q(g),class:ft(Q(p)),style:Ii(Q(u)),tabindex:"-1"},[lt("header",{ref_key:"headerRef",ref:s,class:ft([Q(d).e("header"),{"show-close":m.showClose}])},[Ht(m.$slots,"header",{},()=>[lt("span",{role:"heading","aria-level":m.ariaLevel,class:ft(Q(d).e("title"))},Wr(m.title),11,["aria-level"])]),m.showClose?(Te(),Ut("button",{key:0,"aria-label":Q(r)("el.dialog.close"),class:ft(Q(d).e("headerbtn")),type:"button",onClick:b=>m.$emit("close")},[Ge(Q(ti),{class:ft(Q(d).e("close"))},{default:tt(()=>[(Te(),Ct(Ui(m.closeIcon||Q(a))))]),_:1},8,["class"])],10,["aria-label","onClick"])):$t("v-if",!0)],2),lt("div",{id:Q(l),class:ft(Q(d).e("body"))},[Ht(m.$slots,"default")],10,["id"]),m.$slots.footer?(Te(),Ut("footer",{key:0,class:ft(Q(d).e("footer"))},[Ht(m.$slots,"footer")],2)):$t("v-if",!0)],6))}});var ZAe=Nn(XAe,[["__file","dialog-content.vue"]]);const qAe=kn({...TK,appendToBody:Boolean,appendTo:{type:Pt([String,Object]),default:"body"},beforeClose:{type:Pt(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),JAe={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Ed]:e=>dc(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},RK=(e,t={})=>{Ar(e)||n1("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||dr("popup"),r=be(()=>n.bm("parent","hidden"));if(!kr||YN(document.body,r.value))return;let a=0,o=!1,s="0";const l=()=>{setTimeout(()=>{typeof document>"u"||(Ay(document==null?void 0:document.body,r.value),o&&document&&(document.body.style.width=s))},200)};Rt(e,d=>{if(!d){l();return}o=!YN(document.body,r.value),o&&(s=document.body.style.width),a=Sbe(n.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,f=qp(document.body,"overflowY");a>0&&(u||f==="scroll")&&o&&(document.body.style.width=`calc(100% - ${a}px)`),fC(document.body,r.value)}),sk(()=>l())},e8e=(e,t)=>{var n;const a=oi().emit,{nextZIndex:o}=Ok();let s="";const l=Yu(),d=Yu(),u=Ie(!1),f=Ie(!1),p=Ie(!1),g=Ie((n=e.zIndex)!=null?n:o());let v,c;const h=i4("namespace",_v),m=be(()=>{const J={},H=`--${h.value}-dialog`;return e.fullscreen||(e.top&&(J[`${H}-margin-top`]=e.top),e.width&&(J[`${H}-width`]=bl(e.width))),J}),U=be(()=>e.alignCenter?{display:"flex"}:{});function b(){a("opened")}function w(){a("closed"),a(Ed,!1),e.destroyOnClose&&(p.value=!1)}function E(){a("close")}function x(){c==null||c(),v==null||v(),e.openDelay&&e.openDelay>0?{stop:v}=cC(()=>M(),e.openDelay):M()}function C(){v==null||v(),c==null||c(),e.closeDelay&&e.closeDelay>0?{stop:c}=cC(()=>R(),e.closeDelay):R()}function I(){function J(H){H||(f.value=!0,u.value=!1)}e.beforeClose?e.beforeClose(J):C()}function S(){e.closeOnClickModal&&I()}function M(){kr&&(u.value=!0)}function R(){u.value=!1}function D(){a("openAutoFocus")}function L(){a("closeAutoFocus")}function j(J){var H;((H=J.detail)==null?void 0:H.focusReason)==="pointer"&&J.preventDefault()}e.lockScroll&&RK(u);function re(){e.closeOnPressEscape&&I()}return Rt(()=>e.modelValue,J=>{J?(f.value=!1,x(),p.value=!0,g.value=LY(e.zIndex)?o():g.value++,lr(()=>{a("open"),t.value&&(t.value.scrollTop=0)})):u.value&&C()}),Rt(()=>e.fullscreen,J=>{t.value&&(J?(s=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=s)}),Mr(()=>{e.modelValue&&(u.value=!0,p.value=!0,x())}),{afterEnter:b,afterLeave:w,beforeLeave:E,handleClose:I,onModalClick:S,close:C,doClose:R,onOpenAutoFocus:D,onCloseAutoFocus:L,onCloseRequested:re,onFocusoutPrevented:j,titleId:l,bodyId:d,closed:f,style:m,overlayDialogStyle:U,rendered:p,visible:u,zIndex:g}},t8e=ot({name:"ElDialog",inheritAttrs:!1}),n8e=ot({...t8e,props:qAe,emits:JAe,setup(e,{expose:t}){const n=e,r=db();CK({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},be(()=>!!r.title));const a=dr("dialog"),o=Ie(),s=Ie(),l=Ie(),{visible:d,titleId:u,bodyId:f,style:p,overlayDialogStyle:g,rendered:v,zIndex:c,afterEnter:h,afterLeave:m,beforeLeave:U,handleClose:b,onModalClick:w,onOpenAutoFocus:E,onCloseAutoFocus:x,onCloseRequested:C,onFocusoutPrevented:I}=e8e(n,o);ii(MK,{dialogRef:o,headerRef:s,bodyId:f,ns:a,rendered:v,style:p});const S=dM(w),M=be(()=>n.draggable&&!n.fullscreen);return t({visible:d,dialogContentRef:l,resetPosition:()=>{var D;(D=l.value)==null||D.resetPosition()}}),(D,L)=>(Te(),Ct(Q(EK),{to:D.appendTo,disabled:D.appendTo!=="body"?!1:!D.appendToBody},{default:tt(()=>[Ge(q0,{name:"dialog-fade",onAfterEnter:Q(h),onAfterLeave:Q(m),onBeforeLeave:Q(U),persisted:""},{default:tt(()=>[cc(Ge(Q(kK),{"custom-mask-event":"",mask:D.modal,"overlay-class":D.modalClass,"z-index":Q(c)},{default:tt(()=>[lt("div",{role:"dialog","aria-modal":"true","aria-label":D.title||void 0,"aria-labelledby":D.title?void 0:Q(u),"aria-describedby":Q(f),class:ft(`${Q(a).namespace.value}-overlay-dialog`),style:Ii(Q(g)),onClick:Q(S).onClick,onMousedown:Q(S).onMousedown,onMouseup:Q(S).onMouseup},[Ge(Q(qk),{loop:"",trapped:Q(d),"focus-start-el":"container",onFocusAfterTrapped:Q(E),onFocusAfterReleased:Q(x),onFocusoutPrevented:Q(I),onReleaseRequested:Q(C)},{default:tt(()=>[Q(v)?(Te(),Ct(ZAe,Ts({key:0,ref_key:"dialogContentRef",ref:l},D.$attrs,{center:D.center,"align-center":D.alignCenter,"close-icon":D.closeIcon,draggable:Q(M),overflow:D.overflow,fullscreen:D.fullscreen,"show-close":D.showClose,title:D.title,"aria-level":D.headerAriaLevel,onClose:Q(b)}),_V({header:tt(()=>[D.$slots.title?Ht(D.$slots,"title",{key:1}):Ht(D.$slots,"header",{key:0,close:Q(b),titleId:Q(u),titleClass:Q(a).e("title")})]),default:tt(()=>[Ht(D.$slots,"default")]),_:2},[D.$slots.footer?{name:"footer",fn:tt(()=>[Ht(D.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):$t("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[md,Q(d)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var r8e=Nn(n8e,[["__file","dialog.vue"]]);const fM=Ko(r8e),i8e=ot({inheritAttrs:!1});function a8e(e,t,n,r,a,o){return Ht(e.$slots,"default")}var o8e=Nn(i8e,[["render",a8e],["__file","collection.vue"]]);const s8e=ot({name:"ElCollectionItem",inheritAttrs:!1});function l8e(e,t,n,r,a,o){return Ht(e.$slots,"default")}var c8e=Nn(s8e,[["render",l8e],["__file","collection-item.vue"]]);const DK="data-el-collection-item",PK=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),a=Symbol(n),o={...o8e,name:t,setup(){const l=Ie(null),d=new Map;ii(r,{itemMap:d,getItems:()=>{const f=Q(l);if(!f)return[];const p=Array.from(f.querySelectorAll(`[${DK}]`));return[...d.values()].sort((v,c)=>p.indexOf(v.ref)-p.indexOf(c.ref))},collectionRef:l})}},s={...c8e,name:n,setup(l,{attrs:d}){const u=Ie(null),f=Nt(r,void 0);ii(a,{collectionItemRef:u}),Mr(()=>{const p=Q(u);p&&f.itemMap.set(p,{ref:p,...d})}),na(()=>{const p=Q(u);f.itemMap.delete(p)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:a,ElCollection:o,ElCollectionItem:s}},d8e=kn({style:{type:Pt([String,Array,Object])},currentTabId:{type:Pt(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Pt(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:u8e,ElCollectionItem:f8e,COLLECTION_INJECTION_KEY:hM,COLLECTION_ITEM_INJECTION_KEY:h8e}=PK("RovingFocusGroup"),pM=Symbol("elRovingFocusGroup"),LK=Symbol("elRovingFocusGroupItem"),p8e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},g8e=(e,t)=>e,m8e=(e,t,n)=>{const r=g8e(e.code);return p8e[r]},U8e=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),gM=e=>{const{activeElement:t}=document;for(const n of e)if(n===t||(n.focus(),t!==document.activeElement))return},E$="currentTabIdChange",x$="rovingFocusGroup.entryFocus",v8e={bubbles:!1,cancelable:!0},y8e=ot({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:d8e,emits:[E$,"entryFocus"],setup(e,{emit:t}){var n;const r=Ie((n=e.currentTabId||e.defaultCurrentTabId)!=null?n:null),a=Ie(!1),o=Ie(!1),s=Ie(null),{getItems:l}=Nt(hM,void 0),d=be(()=>[{outline:"none"},e.style]),u=h=>{t(E$,h)},f=()=>{a.value=!0},p=Ti(h=>{var m;(m=e.onMousedown)==null||m.call(e,h)},()=>{o.value=!0}),g=Ti(h=>{var m;(m=e.onFocus)==null||m.call(e,h)},h=>{const m=!Q(o),{target:U,currentTarget:b}=h;if(U===b&&m&&!Q(a)){const w=new Event(x$,v8e);if(b==null||b.dispatchEvent(w),!w.defaultPrevented){const E=l().filter(M=>M.focusable),x=E.find(M=>M.active),C=E.find(M=>M.id===Q(r)),S=[x,C,...E].filter(Boolean).map(M=>M.ref);gM(S)}}o.value=!1}),v=Ti(h=>{var m;(m=e.onBlur)==null||m.call(e,h)},()=>{a.value=!1}),c=(...h)=>{t("entryFocus",...h)};ii(pM,{currentTabbedId:e2(r),loop:xa(e,"loop"),tabIndex:be(()=>Q(a)?-1:0),rovingFocusGroupRef:s,rovingFocusGroupRootStyle:d,orientation:xa(e,"orientation"),dir:xa(e,"dir"),onItemFocus:u,onItemShiftTab:f,onBlur:v,onFocus:g,onMousedown:p}),Rt(()=>e.currentTabId,h=>{r.value=h??null}),zo(s,x$,c)}});function b8e(e,t,n,r,a,o){return Ht(e.$slots,"default")}var A8e=Nn(y8e,[["render",b8e],["__file","roving-focus-group-impl.vue"]]);const w8e=ot({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:u8e,ElRovingFocusGroupImpl:A8e}});function E8e(e,t,n,r,a,o){const s=qr("el-roving-focus-group-impl"),l=qr("el-focus-group-collection");return Te(),Ct(l,null,{default:tt(()=>[Ge(s,j0e(GV(e.$attrs)),{default:tt(()=>[Ht(e.$slots,"default")]),_:3},16)]),_:3})}var x8e=Nn(w8e,[["render",E8e],["__file","roving-focus-group.vue"]]);const _8e=kn({trigger:cM.trigger,triggerKeys:{type:Pt(Array),default:()=>[er.enter,er.numpadEnter,er.space,er.down]},effect:{...d8.effect,default:"light"},type:{type:Pt(String)},placement:{type:Pt(String),default:"bottom"},popperOptions:{type:Pt(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Pt([Number,String]),default:0},maxHeight:{type:Pt([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:Pt(Object)},teleported:d8.teleported}),NK=kn({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:nc}}),C8e=kn({onKeydown:{type:Pt(Function)}}),S8e=[er.down,er.pageDown,er.home],$K=[er.up,er.pageUp,er.end],I8e=[...S8e,...$K],{ElCollection:k8e,ElCollectionItem:M8e,COLLECTION_INJECTION_KEY:T8e,COLLECTION_ITEM_INJECTION_KEY:B8e}=PK("Dropdown"),d4=Symbol("elDropdown"),{ButtonGroup:R8e}=r1,D8e=ot({name:"ElDropdown",components:{ElButton:r1,ElButtonGroup:R8e,ElScrollbar:G6e,ElDropdownCollection:k8e,ElTooltip:cAe,ElRovingFocusGroup:x8e,ElOnlyChild:lK,ElIcon:ti,ArrowDown:Dbe},props:_8e,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=oi(),r=dr("dropdown"),{t:a}=zk(),o=Ie(),s=Ie(),l=Ie(null),d=Ie(null),u=Ie(null),f=Ie(null),p=Ie(!1),g=be(()=>({maxHeight:bl(e.maxHeight)})),v=be(()=>[r.m(E.value)]),c=be(()=>i8(e.trigger)),h=Yu().value,m=be(()=>e.id||h);Rt([o,c],([H,ne],[Z])=>{var se,O,V;(se=Z==null?void 0:Z.$el)!=null&&se.removeEventListener&&Z.$el.removeEventListener("pointerenter",C),(O=H==null?void 0:H.$el)!=null&&O.removeEventListener&&H.$el.removeEventListener("pointerenter",C),(V=H==null?void 0:H.$el)!=null&&V.addEventListener&&ne.includes("hover")&&H.$el.addEventListener("pointerenter",C)},{immediate:!0}),na(()=>{var H,ne;(ne=(H=o.value)==null?void 0:H.$el)!=null&&ne.removeEventListener&&o.value.$el.removeEventListener("pointerenter",C)});function U(){b()}function b(){var H;(H=l.value)==null||H.onClose()}function w(){var H;(H=l.value)==null||H.onOpen()}const E=l2();function x(...H){t("command",...H)}function C(){var H,ne;(ne=(H=o.value)==null?void 0:H.$el)==null||ne.focus()}function I(){}function S(){const H=Q(d);c.value.includes("hover")&&(H==null||H.focus()),f.value=null}function M(H){f.value=H}function R(H){p.value||(H.preventDefault(),H.stopImmediatePropagation())}function D(){t("visible-change",!0)}function L(H){(H==null?void 0:H.type)==="keydown"&&d.value.focus()}function j(){t("visible-change",!1)}return ii(d4,{contentRef:d,role:be(()=>e.role),triggerId:m,isUsingKeyboard:p,onItemEnter:I,onItemLeave:S}),ii("elDropdown",{instance:n,dropdownSize:E,handleClick:U,commandHandler:x,trigger:xa(e,"trigger"),hideOnClick:xa(e,"hideOnClick")}),{t:a,ns:r,scrollbar:u,wrapStyle:g,dropdownTriggerKls:v,dropdownSize:E,triggerId:m,currentTabId:f,handleCurrentTabIdChange:M,handlerMainButtonClick:H=>{t("click",H)},handleEntryFocus:R,handleClose:b,handleOpen:w,handleBeforeShowTooltip:D,handleShowTooltip:L,handleBeforeHideTooltip:j,onFocusAfterTrapped:H=>{var ne,Z;H.preventDefault(),(Z=(ne=d.value)==null?void 0:ne.focus)==null||Z.call(ne,{preventScroll:!0})},popperRef:l,contentRef:d,triggeringElementRef:o,referenceElementRef:s}}});function P8e(e,t,n,r,a,o){var s;const l=qr("el-dropdown-collection"),d=qr("el-roving-focus-group"),u=qr("el-scrollbar"),f=qr("el-only-child"),p=qr("el-tooltip"),g=qr("el-button"),v=qr("arrow-down"),c=qr("el-icon"),h=qr("el-button-group");return Te(),Ut("div",{class:ft([e.ns.b(),e.ns.is("disabled",e.disabled)])},[Ge(p,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(s=e.referenceElementRef)==null?void 0:s.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},_V({content:tt(()=>[Ge(u,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:tt(()=>[Ge(d,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:tt(()=>[Ge(l,null,{default:tt(()=>[Ht(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:tt(()=>[Ge(f,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:tt(()=>[Ht(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(Te(),Ct(h,{key:0},{default:tt(()=>[Ge(g,Ts({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:tt(()=>[Ht(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),Ge(g,Ts({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:tt(()=>[Ge(c,{class:ft(e.ns.e("icon"))},{default:tt(()=>[Ge(v)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):$t("v-if",!0)],2)}var L8e=Nn(D8e,[["render",P8e],["__file","dropdown.vue"]]);const N8e=ot({components:{ElRovingFocusCollectionItem:f8e},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,loop:r,onItemFocus:a,onItemShiftTab:o}=Nt(pM,void 0),{getItems:s}=Nt(hM,void 0),l=Yu(),d=Ie(null),u=Ti(v=>{t("mousedown",v)},v=>{e.focusable?a(Q(l)):v.preventDefault()}),f=Ti(v=>{t("focus",v)},()=>{a(Q(l))}),p=Ti(v=>{t("keydown",v)},v=>{const{code:c,shiftKey:h,target:m,currentTarget:U}=v;if(c===er.tab&&h){o();return}if(m!==U)return;const b=m8e(v);if(b){v.preventDefault();let E=s().filter(x=>x.focusable).map(x=>x.ref);switch(b){case"last":{E.reverse();break}case"prev":case"next":{b==="prev"&&E.reverse();const x=E.indexOf(U);E=r.value?U8e(E,x+1):E.slice(x+1);break}}lr(()=>{gM(E)})}}),g=be(()=>n.value===Q(l));return ii(LK,{rovingFocusGroupItemRef:d,tabIndex:be(()=>Q(g)?0:-1),handleMousedown:u,handleFocus:f,handleKeydown:p}),{id:l,handleKeydown:p,handleFocus:f,handleMousedown:u}}});function $8e(e,t,n,r,a,o){const s=qr("el-roving-focus-collection-item");return Te(),Ct(s,{id:e.id,focusable:e.focusable,active:e.active},{default:tt(()=>[Ht(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var F8e=Nn(N8e,[["render",$8e],["__file","roving-focus-item.vue"]]);const j8e=ot({name:"DropdownItemImpl",components:{ElIcon:ti},props:NK,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=dr("dropdown"),{role:r}=Nt(d4,void 0),{collectionItemRef:a}=Nt(B8e,void 0),{collectionItemRef:o}=Nt(h8e,void 0),{rovingFocusGroupItemRef:s,tabIndex:l,handleFocus:d,handleKeydown:u,handleMousedown:f}=Nt(LK,void 0),p=uM(a,o,s),g=be(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),v=Ti(c=>{if([er.enter,er.numpadEnter,er.space].includes(c.code))return c.preventDefault(),c.stopImmediatePropagation(),t("clickimpl",c),!0},u);return{ns:n,itemRef:p,dataset:{[DK]:""},role:g,tabIndex:l,handleFocus:d,handleKeydown:v,handleMousedown:f}}});function O8e(e,t,n,r,a,o){const s=qr("el-icon");return Te(),Ut($r,null,[e.divided?(Te(),Ut("li",{key:0,role:"separator",class:ft(e.ns.bem("menu","item","divided"))},null,2)):$t("v-if",!0),lt("li",Ts({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:l=>e.$emit("clickimpl",l),onFocus:e.handleFocus,onKeydown:cd(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:l=>e.$emit("pointermove",l),onPointerleave:l=>e.$emit("pointerleave",l)}),[e.icon?(Te(),Ct(s,{key:0},{default:tt(()=>[(Te(),Ct(Ui(e.icon)))]),_:1})):$t("v-if",!0),Ht(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var z8e=Nn(j8e,[["render",O8e],["__file","dropdown-item-impl.vue"]]);const FK=()=>{const e=Nt("elDropdown",{}),t=be(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},Q8e=ot({name:"ElDropdownItem",components:{ElDropdownCollectionItem:M8e,ElRovingFocusItem:F8e,ElDropdownItemImpl:z8e},inheritAttrs:!1,props:NK,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=FK(),a=oi(),o=Ie(null),s=be(()=>{var v,c;return(c=(v=Q(o))==null?void 0:v.textContent)!=null?c:""}),{onItemEnter:l,onItemLeave:d}=Nt(d4,void 0),u=Ti(v=>(t("pointermove",v),v.defaultPrevented),v$(v=>{if(e.disabled){d(v);return}const c=v.currentTarget;c===document.activeElement||c.contains(document.activeElement)||(l(v),v.defaultPrevented||c==null||c.focus())})),f=Ti(v=>(t("pointerleave",v),v.defaultPrevented),v$(d)),p=Ti(v=>{if(!e.disabled)return t("click",v),v.type!=="keydown"&&v.defaultPrevented},v=>{var c,h,m;if(e.disabled){v.stopImmediatePropagation();return}(c=r==null?void 0:r.hideOnClick)!=null&&c.value&&((h=r.handleClick)==null||h.call(r)),(m=r.commandHandler)==null||m.call(r,e.command,a,v)}),g=be(()=>({...e,...n}));return{handleClick:p,handlePointerMove:u,handlePointerLeave:f,textContent:s,propsAndAttrs:g}}});function H8e(e,t,n,r,a,o){var s;const l=qr("el-dropdown-item-impl"),d=qr("el-roving-focus-item"),u=qr("el-dropdown-collection-item");return Te(),Ct(u,{disabled:e.disabled,"text-value":(s=e.textValue)!=null?s:e.textContent},{default:tt(()=>[Ge(d,{focusable:!e.disabled},{default:tt(()=>[Ge(l,Ts(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:tt(()=>[Ht(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var jK=Nn(Q8e,[["render",H8e],["__file","dropdown-item.vue"]]);const G8e=ot({name:"ElDropdownMenu",props:C8e,setup(e){const t=dr("dropdown"),{_elDropdownSize:n}=FK(),r=n.value,{focusTrapRef:a,onKeydown:o}=Nt(Kk,void 0),{contentRef:s,role:l,triggerId:d}=Nt(d4,void 0),{collectionRef:u,getItems:f}=Nt(T8e,void 0),{rovingFocusGroupRef:p,rovingFocusGroupRootStyle:g,tabIndex:v,onBlur:c,onFocus:h,onMousedown:m}=Nt(pM,void 0),{collectionRef:U}=Nt(hM,void 0),b=be(()=>[t.b("menu"),t.bm("menu",r==null?void 0:r.value)]),w=uM(s,u,a,p,U),E=Ti(C=>{var I;(I=e.onKeydown)==null||I.call(e,C)},C=>{const{currentTarget:I,code:S,target:M}=C;if(I.contains(M),er.tab===S&&C.stopImmediatePropagation(),C.preventDefault(),M!==Q(s)||!I8e.includes(S))return;const D=f().filter(L=>!L.disabled).map(L=>L.ref);$K.includes(S)&&D.reverse(),gM(D)});return{size:r,rovingFocusGroupRootStyle:g,tabIndex:v,dropdownKls:b,role:l,triggerId:d,dropdownListWrapperRef:w,handleKeydown:C=>{E(C),o(C)},onBlur:c,onFocus:h,onMousedown:m}}});function W8e(e,t,n,r,a,o){return Te(),Ut("ul",{ref:e.dropdownListWrapperRef,class:ft(e.dropdownKls),style:Ii(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:cd(e.handleKeydown,["self"]),onMousedown:cd(e.onMousedown,["self"])},[Ht(e.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var OK=Nn(G8e,[["render",W8e],["__file","dropdown-menu.vue"]]);const V8e=Ko(L8e,{DropdownItem:jK,DropdownMenu:OK}),Y8e=pb(jK),K8e=pb(OK),X8e=kn({size:{type:String,values:r4},disabled:Boolean}),Z8e=kn({...X8e,model:Object,rules:{type:Pt(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),q8e={validate:(e,t,n)=>(jt(e)||cn(e))&&dc(t)&&cn(n)};function J8e(){const e=Ie([]),t=be(()=>{if(!e.value.length)return"0";const o=Math.max(...e.value);return o?`${o}px`:""});function n(o){const s=e.value.indexOf(o);return s===-1&&t.value,s}function r(o,s){if(o&&s){const l=n(s);e.value.splice(l,1,o)}else o&&e.value.push(o)}function a(o){const s=n(o);s>-1&&e.value.splice(s,1)}return{autoLabelWidth:t,registerLabelWidth:r,deregisterLabelWidth:a}}const h5=(e,t)=>{const n=i8(t);return n.length>0?e.filter(r=>r.prop&&n.includes(r.prop)):e},ewe="ElForm",twe=ot({name:ewe}),nwe=ot({...twe,props:Z8e,emits:q8e,setup(e,{expose:t,emit:n}){const r=e,a=[],o=l2(),s=dr("form"),l=be(()=>{const{labelPosition:w,inline:E}=r;return[s.b(),s.m(o.value||"default"),{[s.m(`label-${w}`)]:w,[s.m("inline")]:E}]}),d=w=>a.find(E=>E.prop===w),u=w=>{a.push(w)},f=w=>{w.prop&&a.splice(a.indexOf(w),1)},p=(w=[])=>{r.model&&h5(a,w).forEach(E=>E.resetField())},g=(w=[])=>{h5(a,w).forEach(E=>E.clearValidate())},v=be(()=>!!r.model),c=w=>{if(a.length===0)return[];const E=h5(a,w);return E.length?E:[]},h=async w=>U(void 0,w),m=async(w=[])=>{if(!v.value)return!1;const E=c(w);if(E.length===0)return!0;let x={};for(const C of E)try{await C.validate("")}catch(I){x={...x,...I}}return Object.keys(x).length===0?!0:Promise.reject(x)},U=async(w=[],E)=>{const x=!Bt(E);try{const C=await m(w);return C===!0&&await(E==null?void 0:E(C)),C}catch(C){if(C instanceof Error)throw C;const I=C;return r.scrollToError&&b(Object.keys(I)[0]),await(E==null?void 0:E(!1,I)),x&&Promise.reject(I)}},b=w=>{var E;const x=h5(a,w)[0];x&&((E=x.$el)==null||E.scrollIntoView(r.scrollIntoViewOptions))};return Rt(()=>r.rules,()=>{r.validateOnRuleChange&&h().catch(w=>void 0)},{deep:!0}),ii(s2,Ji({...t2(r),emit:n,resetFields:p,clearValidate:g,validateField:U,getField:d,addField:u,removeField:f,...J8e()})),t({validate:h,validateField:U,resetFields:p,clearValidate:g,scrollToField:b,fields:a}),(w,E)=>(Te(),Ut("form",{class:ft(Q(l))},[Ht(w.$slots,"default")],2))}});var rwe=Nn(nwe,[["__file","form.vue"]]);function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l0.apply(this,arguments)}function iwe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_y(e,t)}function UC(e){return UC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},UC(e)}function _y(e,t){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},_y(e,t)}function awe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b3(e,t,n){return awe()?b3=Reflect.construct.bind():b3=function(a,o,s){var l=[null];l.push.apply(l,o);var d=Function.bind.apply(a,l),u=new d;return s&&_y(u,s.prototype),u},b3.apply(null,arguments)}function owe(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function vC(e){var t=typeof Map=="function"?new Map:void 0;return vC=function(r){if(r===null||!owe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,a)}function a(){return b3(r,arguments,UC(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),_y(a,r)},vC(e)}var swe=/%[sdj%]/g,lwe=function(){};function yC(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var r=n.field;t[r]=t[r]||[],t[r].push(n)}),t}function As(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=0,o=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var s=e.replace(swe,function(l){if(l==="%%")return"%";if(a>=o)return l;switch(l){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch{return"[Circular]"}break;default:return l}});return s}return e}function cwe(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function ea(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||cwe(t)&&typeof e=="string"&&!e)}function dwe(e,t,n){var r=[],a=0,o=e.length;function s(l){r.push.apply(r,l||[]),a++,a===o&&n(r)}e.forEach(function(l){t(l,s)})}function _$(e,t,n){var r=0,a=e.length;function o(s){if(s&&s.length){n(s);return}var l=r;r=r+1,l<a?t(e[l],o):n([])}o([])}function uwe(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}var C$=function(e){iwe(t,e);function t(n,r){var a;return a=e.call(this,"Async Validation Error")||this,a.errors=n,a.fields=r,a}return t}(vC(Error));function fwe(e,t,n,r,a){if(t.first){var o=new Promise(function(g,v){var c=function(U){return r(U),U.length?v(new C$(U,yC(U))):g(a)},h=uwe(e);_$(h,n,c)});return o.catch(function(g){return g}),o}var s=t.firstFields===!0?Object.keys(e):t.firstFields||[],l=Object.keys(e),d=l.length,u=0,f=[],p=new Promise(function(g,v){var c=function(m){if(f.push.apply(f,m),u++,u===d)return r(f),f.length?v(new C$(f,yC(f))):g(a)};l.length||(r(f),g(a)),l.forEach(function(h){var m=e[h];s.indexOf(h)!==-1?_$(m,n,c):dwe(m,n,c)})});return p.catch(function(g){return g}),p}function hwe(e){return!!(e&&e.message!==void 0)}function pwe(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function S$(e,t){return function(n){var r;return e.fullFields?r=pwe(t,e.fullFields):r=t[n.field||e.fullField],hwe(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||e.fullField}}}function I$(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];typeof r=="object"&&typeof e[n]=="object"?e[n]=l0({},e[n],r):e[n]=r}}return e}var zK=function(t,n,r,a,o,s){t.required&&(!r.hasOwnProperty(t.field)||ea(n,s||t.type))&&a.push(As(o.messages.required,t.fullField))},gwe=function(t,n,r,a,o){(/^\s+$/.test(n)||n==="")&&a.push(As(o.messages.whitespace,t.fullField))},p5,mwe=function(){if(p5)return p5;var e="[a-fA-F\\d:]",t=function(E){return E&&E.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",a=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+a+"$)"),s=new RegExp("^"+n+"$"),l=new RegExp("^"+a+"$"),d=function(E){return E&&E.exact?o:new RegExp("(?:"+t(E)+n+t(E)+")|(?:"+t(E)+a+t(E)+")","g")};d.v4=function(w){return w&&w.exact?s:new RegExp(""+t(w)+n+t(w),"g")},d.v6=function(w){return w&&w.exact?l:new RegExp(""+t(w)+a+t(w),"g")};var u="(?:(?:[a-z]+:)?//)",f="(?:\\S+(?::\\S*)?@)?",p=d.v4().source,g=d.v6().source,v="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",c="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",h="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",m="(?::\\d{2,5})?",U='(?:[/?#][^\\s"]*)?',b="(?:"+u+"|www\\.)"+f+"(?:localhost|"+p+"|"+g+"|"+v+c+h+")"+m+U;return p5=new RegExp("(?:^"+b+"$)","i"),p5},k$={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},DU={integer:function(t){return DU.number(t)&&parseInt(t,10)===t},float:function(t){return DU.number(t)&&!DU.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!DU.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(k$.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(mwe())},hex:function(t){return typeof t=="string"&&!!t.match(k$.hex)}},Uwe=function(t,n,r,a,o){if(t.required&&n===void 0){zK(t,n,r,a,o);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],l=t.type;s.indexOf(l)>-1?DU[l](n)||a.push(As(o.messages.types[l],t.fullField,t.type)):l&&typeof n!==t.type&&a.push(As(o.messages.types[l],t.fullField,t.type))},vwe=function(t,n,r,a,o){var s=typeof t.len=="number",l=typeof t.min=="number",d=typeof t.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=n,p=null,g=typeof n=="number",v=typeof n=="string",c=Array.isArray(n);if(g?p="number":v?p="string":c&&(p="array"),!p)return!1;c&&(f=n.length),v&&(f=n.replace(u,"_").length),s?f!==t.len&&a.push(As(o.messages[p].len,t.fullField,t.len)):l&&!d&&f<t.min?a.push(As(o.messages[p].min,t.fullField,t.min)):d&&!l&&f>t.max?a.push(As(o.messages[p].max,t.fullField,t.max)):l&&d&&(f<t.min||f>t.max)&&a.push(As(o.messages[p].range,t.fullField,t.min,t.max))},S1="enum",ywe=function(t,n,r,a,o){t[S1]=Array.isArray(t[S1])?t[S1]:[],t[S1].indexOf(n)===-1&&a.push(As(o.messages[S1],t.fullField,t[S1].join(", ")))},bwe=function(t,n,r,a,o){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||a.push(As(o.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var s=new RegExp(t.pattern);s.test(n)||a.push(As(o.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},In={required:zK,whitespace:gwe,type:Uwe,range:vwe,enum:ywe,pattern:bwe},Awe=function(t,n,r,a,o){var s=[],l=t.required||!t.required&&a.hasOwnProperty(t.field);if(l){if(ea(n,"string")&&!t.required)return r();In.required(t,n,a,s,o,"string"),ea(n,"string")||(In.type(t,n,a,s,o),In.range(t,n,a,s,o),In.pattern(t,n,a,s,o),t.whitespace===!0&&In.whitespace(t,n,a,s,o))}r(s)},wwe=function(t,n,r,a,o){var s=[],l=t.required||!t.required&&a.hasOwnProperty(t.field);if(l){if(ea(n)&&!t.required)return r();In.required(t,n,a,s,o),n!==void 0&&In.type(t,n,a,s,o)}r(s)},Ewe=function(t,n,r,a,o){var s=[],l=t.required||!t.required&&a.hasOwnProperty(t.field);if(l){if(n===""&&(n=void 0),ea(n)&&!t.required)return r();In.required(t,n,a,s,o),n!==void 0&&(In.type(t,n,a,s,o),In.range(t,n,a,s,o))}r(s)},xwe=function(t,n,r,a,o){var s=[],l=t.required||!t.required&&a.hasOwnProperty(t.field);if(l){if(ea(n)&&!t.required)return r();In.required(t,n,a,s,o),n!==void 0&&In.type(t,n,a,s,o)}r(s)},_we=function(t,n,r,a,o){var s=[],l=t.required||!t.required&&a.hasOwnProperty(t.field);if(l){if(ea(n)&&!t.required)return r();In.required(t,n,a,s,o),ea(n)||In.type(t,n,a,s,o)}r(s)},Cwe=function(t,n,r,a,o){var s=[],l=t.required||!t.required&&a.hasOwnProperty(t.field);if(l){if(ea(n)&&!t.required)return r();In.required(t,n,a,s,o),n!==void 0&&(In.type(t,n,a,s,o),In.range(t,n,a,s,o))}r(s)},Swe=function(t,n,r,a,o){var s=[],l=t.required||!t.required&&a.hasOwnProperty(t.field);if(l){if(ea(n)&&!t.required)return r();In.required(t,n,a,s,o),n!==void 0&&(In.type(t,n,a,s,o),In.range(t,n,a,s,o))}r(s)},Iwe=function(t,n,r,a,o){var s=[],l=t.required||!t.required&&a.hasOwnProperty(t.field);if(l){if(n==null&&!t.required)return r();In.required(t,n,a,s,o,"array"),n!=null&&(In.type(t,n,a,s,o),In.range(t,n,a,s,o))}r(s)},kwe=function(t,n,r,a,o){var s=[],l=t.required||!t.required&&a.hasOwnProperty(t.field);if(l){if(ea(n)&&!t.required)return r();In.required(t,n,a,s,o),n!==void 0&&In.type(t,n,a,s,o)}r(s)},Mwe="enum",Twe=function(t,n,r,a,o){var s=[],l=t.required||!t.required&&a.hasOwnProperty(t.field);if(l){if(ea(n)&&!t.required)return r();In.required(t,n,a,s,o),n!==void 0&&In[Mwe](t,n,a,s,o)}r(s)},Bwe=function(t,n,r,a,o){var s=[],l=t.required||!t.required&&a.hasOwnProperty(t.field);if(l){if(ea(n,"string")&&!t.required)return r();In.required(t,n,a,s,o),ea(n,"string")||In.pattern(t,n,a,s,o)}r(s)},Rwe=function(t,n,r,a,o){var s=[],l=t.required||!t.required&&a.hasOwnProperty(t.field);if(l){if(ea(n,"date")&&!t.required)return r();if(In.required(t,n,a,s,o),!ea(n,"date")){var d;n instanceof Date?d=n:d=new Date(n),In.type(t,d,a,s,o),d&&In.range(t,d.getTime(),a,s,o)}}r(s)},Dwe=function(t,n,r,a,o){var s=[],l=Array.isArray(n)?"array":typeof n;In.required(t,n,a,s,o,l),r(s)},mx=function(t,n,r,a,o){var s=t.type,l=[],d=t.required||!t.required&&a.hasOwnProperty(t.field);if(d){if(ea(n,s)&&!t.required)return r();In.required(t,n,a,l,o,s),ea(n,s)||In.type(t,n,a,l,o)}r(l)},Pwe=function(t,n,r,a,o){var s=[],l=t.required||!t.required&&a.hasOwnProperty(t.field);if(l){if(ea(n)&&!t.required)return r();In.required(t,n,a,s,o)}r(s)},Mv={string:Awe,method:wwe,number:Ewe,boolean:xwe,regexp:_we,integer:Cwe,float:Swe,array:Iwe,object:kwe,enum:Twe,pattern:Bwe,date:Rwe,url:mx,hex:mx,email:mx,required:Dwe,any:Pwe};function bC(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var AC=bC(),vb=function(){function e(n){this.rules=null,this._messages=AC,this.define(n)}var t=e.prototype;return t.define=function(r){var a=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var s=r[o];a.rules[o]=Array.isArray(s)?s:[s]})},t.messages=function(r){return r&&(this._messages=I$(bC(),r)),this._messages},t.validate=function(r,a,o){var s=this;a===void 0&&(a={}),o===void 0&&(o=function(){});var l=r,d=a,u=o;if(typeof d=="function"&&(u=d,d={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,l),Promise.resolve(l);function f(h){var m=[],U={};function b(E){if(Array.isArray(E)){var x;m=(x=m).concat.apply(x,E)}else m.push(E)}for(var w=0;w<h.length;w++)b(h[w]);m.length?(U=yC(m),u(m,U)):u(null,l)}if(d.messages){var p=this.messages();p===AC&&(p=bC()),I$(p,d.messages),d.messages=p}else d.messages=this.messages();var g={},v=d.keys||Object.keys(this.rules);v.forEach(function(h){var m=s.rules[h],U=l[h];m.forEach(function(b){var w=b;typeof w.transform=="function"&&(l===r&&(l=l0({},l)),U=l[h]=w.transform(U)),typeof w=="function"?w={validator:w}:w=l0({},w),w.validator=s.getValidationMethod(w),w.validator&&(w.field=h,w.fullField=w.fullField||h,w.type=s.getType(w),g[h]=g[h]||[],g[h].push({rule:w,value:U,source:l,field:h}))})});var c={};return fwe(g,d,function(h,m){var U=h.rule,b=(U.type==="object"||U.type==="array")&&(typeof U.fields=="object"||typeof U.defaultField=="object");b=b&&(U.required||!U.required&&h.value),U.field=h.field;function w(C,I){return l0({},I,{fullField:U.fullField+"."+C,fullFields:U.fullFields?[].concat(U.fullFields,[C]):[C]})}function E(C){C===void 0&&(C=[]);var I=Array.isArray(C)?C:[C];!d.suppressWarning&&I.length&&e.warning("async-validator:",I),I.length&&U.message!==void 0&&(I=[].concat(U.message));var S=I.map(S$(U,l));if(d.first&&S.length)return c[U.field]=1,m(S);if(!b)m(S);else{if(U.required&&!h.value)return U.message!==void 0?S=[].concat(U.message).map(S$(U,l)):d.error&&(S=[d.error(U,As(d.messages.required,U.field))]),m(S);var M={};U.defaultField&&Object.keys(h.value).map(function(L){M[L]=U.defaultField}),M=l0({},M,h.rule.fields);var R={};Object.keys(M).forEach(function(L){var j=M[L],re=Array.isArray(j)?j:[j];R[L]=re.map(w.bind(null,L))});var D=new e(R);D.messages(d.messages),h.rule.options&&(h.rule.options.messages=d.messages,h.rule.options.error=d.error),D.validate(h.value,h.rule.options||d,function(L){var j=[];S&&S.length&&j.push.apply(j,S),L&&L.length&&j.push.apply(j,L),m(j.length?j:null)})}}var x;if(U.asyncValidator)x=U.asyncValidator(U,h.value,E,h.source,d);else if(U.validator){try{x=U.validator(U,h.value,E,h.source,d)}catch(C){console.error==null||console.error(C),d.suppressValidatorError||setTimeout(function(){throw C},0),E(C.message)}x===!0?E():x===!1?E(typeof U.message=="function"?U.message(U.fullField||U.field):U.message||(U.fullField||U.field)+" fails"):x instanceof Array?E(x):x instanceof Error&&E(x.message)}x&&x.then&&x.then(function(){return E()},function(C){return E(C)})},function(h){f(h)},l)},t.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Mv.hasOwnProperty(r.type))throw new Error(As("Unknown rule type %s",r.type));return r.type||"string"},t.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var a=Object.keys(r),o=a.indexOf("message");return o!==-1&&a.splice(o,1),a.length===1&&a[0]==="required"?Mv.required:Mv[this.getType(r)]||void 0},e}();vb.register=function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Mv[t]=n};vb.warning=lwe;vb.messages=AC;vb.validators=Mv;const Lwe=["","error","validating","success"],Nwe=kn({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:Pt([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Pt([Object,Array])},error:String,validateStatus:{type:String,values:Lwe},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:r4}}),M$="ElLabelWrap";var $we=ot({name:M$,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const n=Nt(s2,void 0),r=Nt(F0);r||n1(M$,"usage: <el-form-item><label-wrap /></el-form-item>");const a=dr("form"),o=Ie(),s=Ie(0),l=()=>{var f;if((f=o.value)!=null&&f.firstElementChild){const p=window.getComputedStyle(o.value.firstElementChild).width;return Math.ceil(Number.parseFloat(p))}else return 0},d=(f="update")=>{lr(()=>{t.default&&e.isAutoWidth&&(f==="update"?s.value=l():f==="remove"&&(n==null||n.deregisterLabelWidth(s.value)))})},u=()=>d("update");return Mr(()=>{u()}),na(()=>{d("remove")}),n2(()=>u()),Rt(s,(f,p)=>{e.updateAll&&(n==null||n.registerLabelWidth(f,p))}),$0(be(()=>{var f,p;return(p=(f=o.value)==null?void 0:f.firstElementChild)!=null?p:null}),u),()=>{var f,p;if(!t)return null;const{isAutoWidth:g}=e;if(g){const v=n==null?void 0:n.autoLabelWidth,c=r==null?void 0:r.hasLabel,h={};if(c&&v&&v!=="auto"){const m=Math.max(0,Number.parseInt(v,10)-s.value),b=(r.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";m&&(h[b]=`${m}px`)}return Ge("div",{ref:o,class:[a.be("item","label-wrap")],style:h},[(f=t.default)==null?void 0:f.call(t)])}else return Ge($r,{ref:o},[(p=t.default)==null?void 0:p.call(t)])}}});const Fwe=ot({name:"ElFormItem"}),jwe=ot({...Fwe,props:Nwe,setup(e,{expose:t}){const n=e,r=db(),a=Nt(s2,void 0),o=Nt(F0,void 0),s=l2(void 0,{formItem:!1}),l=dr("form-item"),d=Yu().value,u=Ie([]),f=Ie(""),p=Zye(f,100),g=Ie(""),v=Ie();let c,h=!1;const m=be(()=>n.labelPosition||(a==null?void 0:a.labelPosition)),U=be(()=>{if(m.value==="top")return{};const he=bl(n.labelWidth||(a==null?void 0:a.labelWidth)||"");return he?{width:he}:{}}),b=be(()=>{if(m.value==="top"||a!=null&&a.inline)return{};if(!n.label&&!n.labelWidth&&R)return{};const he=bl(n.labelWidth||(a==null?void 0:a.labelWidth)||"");return!n.label&&!r.label?{marginLeft:he}:{}}),w=be(()=>[l.b(),l.m(s.value),l.is("error",f.value==="error"),l.is("validating",f.value==="validating"),l.is("success",f.value==="success"),l.is("required",J.value||n.required),l.is("no-asterisk",a==null?void 0:a.hideRequiredAsterisk),(a==null?void 0:a.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[l.m("feedback")]:a==null?void 0:a.statusIcon,[l.m(`label-${m.value}`)]:m.value}]),E=be(()=>dc(n.inlineMessage)?n.inlineMessage:(a==null?void 0:a.inlineMessage)||!1),x=be(()=>[l.e("error"),{[l.em("error","inline")]:E.value}]),C=be(()=>n.prop?cn(n.prop)?n.prop:n.prop.join("."):""),I=be(()=>!!(n.label||r.label)),S=be(()=>n.for||(u.value.length===1?u.value[0]:void 0)),M=be(()=>!S.value&&I.value),R=!!o,D=be(()=>{const he=a==null?void 0:a.model;if(!(!he||!n.prop))return dx(he,n.prop).value}),L=be(()=>{const{required:he}=n,ge=[];n.rules&&ge.push(...i8(n.rules));const Ee=a==null?void 0:a.rules;if(Ee&&n.prop){const ze=dx(Ee,n.prop).value;ze&&ge.push(...i8(ze))}if(he!==void 0){const ze=ge.map((at,q)=>[at,q]).filter(([at])=>Object.keys(at).includes("required"));if(ze.length>0)for(const[at,q]of ze)at.required!==he&&(ge[q]={...at,required:he});else ge.push({required:he})}return ge}),j=be(()=>L.value.length>0),re=he=>L.value.filter(Ee=>!Ee.trigger||!he?!0:jt(Ee.trigger)?Ee.trigger.includes(he):Ee.trigger===he).map(({trigger:Ee,...ze})=>ze),J=be(()=>L.value.some(he=>he.required)),H=be(()=>{var he;return p.value==="error"&&n.showMessage&&((he=a==null?void 0:a.showMessage)!=null?he:!0)}),ne=be(()=>`${n.label||""}${(a==null?void 0:a.labelSuffix)||""}`),Z=he=>{f.value=he},se=he=>{var ge,Ee;const{errors:ze,fields:at}=he;(!ze||!at)&&console.error(he),Z("error"),g.value=ze?(Ee=(ge=ze==null?void 0:ze[0])==null?void 0:ge.message)!=null?Ee:`${n.prop} is required`:"",a==null||a.emit("validate",n.prop,!1,g.value)},O=()=>{Z("success"),a==null||a.emit("validate",n.prop,!0,"")},V=async he=>{const ge=C.value;return new vb({[ge]:he}).validate({[ge]:D.value},{firstFields:!0}).then(()=>(O(),!0)).catch(ze=>(se(ze),Promise.reject(ze)))},de=async(he,ge)=>{if(h||!n.prop)return!1;const Ee=Bt(ge);if(!j.value)return ge==null||ge(!1),!1;const ze=re(he);return ze.length===0?(ge==null||ge(!0),!0):(Z("validating"),V(ze).then(()=>(ge==null||ge(!0),!0)).catch(at=>{const{fields:q}=at;return ge==null||ge(!1,q),Ee?!1:Promise.reject(q)}))},oe=()=>{Z(""),g.value="",h=!1},me=async()=>{const he=a==null?void 0:a.model;if(!he||!n.prop)return;const ge=dx(he,n.prop);h=!0,ge.value=BN(c),await lr(),oe(),h=!1},ve=he=>{u.value.includes(he)||u.value.push(he)},xe=he=>{u.value=u.value.filter(ge=>ge!==he)};Rt(()=>n.error,he=>{g.value=he||"",Z(he?"error":"")},{immediate:!0}),Rt(()=>n.validateStatus,he=>Z(he||""));const le=Ji({...t2(n),$el:v,size:s,validateState:f,labelId:d,inputIds:u,isGroup:M,hasLabel:I,fieldValue:D,addInputId:ve,removeInputId:xe,resetField:me,clearValidate:oe,validate:de});return ii(F0,le),Mr(()=>{n.prop&&(a==null||a.addField(le),c=BN(D.value))}),na(()=>{a==null||a.removeField(le)}),t({size:s,validateMessage:g,validateState:f,validate:de,clearValidate:oe,resetField:me}),(he,ge)=>{var Ee;return Te(),Ut("div",{ref_key:"formItemRef",ref:v,class:ft(Q(w)),role:Q(M)?"group":void 0,"aria-labelledby":Q(M)?Q(d):void 0},[Ge(Q($we),{"is-auto-width":Q(U).width==="auto","update-all":((Ee=Q(a))==null?void 0:Ee.labelWidth)==="auto"},{default:tt(()=>[Q(I)?(Te(),Ct(Ui(Q(S)?"label":"div"),{key:0,id:Q(d),for:Q(S),class:ft(Q(l).e("label")),style:Ii(Q(U))},{default:tt(()=>[Ht(he.$slots,"label",{label:Q(ne)},()=>[za(Wr(Q(ne)),1)])]),_:3},8,["id","for","class","style"])):$t("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),lt("div",{class:ft(Q(l).e("content")),style:Ii(Q(b))},[Ht(he.$slots,"default"),Ge(Vge,{name:`${Q(l).namespace.value}-zoom-in-top`},{default:tt(()=>[Q(H)?Ht(he.$slots,"error",{key:0,error:g.value},()=>[lt("div",{class:ft(Q(x))},Wr(g.value),3)]):$t("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var QK=Nn(jwe,[["__file","form-item.vue"]]);const mM=Ko(rwe,{FormItem:QK}),UM=pb(QK),HK=e=>["",...r4].includes(e),Owe=kn({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:HK},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:nc},activeActionIcon:{type:nc},activeIcon:{type:nc},inactiveIcon:{type:nc},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Pt(Function)},id:String,tabindex:{type:[String,Number]},...gb(["ariaLabel"])}),zwe={[Ed]:e=>dc(e)||cn(e)||Si(e),[dC]:e=>dc(e)||cn(e)||Si(e),[uC]:e=>dc(e)||cn(e)||Si(e)},GK="ElSwitch",Qwe=ot({name:GK}),Hwe=ot({...Qwe,props:Owe,emits:zwe,setup(e,{expose:t,emit:n}){const r=e,{formItem:a}=Wk(),o=l2(),s=dr("switch"),{inputId:l}=tK(r,{formItemContext:a}),d=o4(be(()=>r.loading)),u=Ie(r.modelValue!==!1),f=Ie(),p=Ie(),g=be(()=>[s.b(),s.m(o.value),s.is("disabled",d.value),s.is("checked",U.value)]),v=be(()=>[s.e("label"),s.em("label","left"),s.is("active",!U.value)]),c=be(()=>[s.e("label"),s.em("label","right"),s.is("active",U.value)]),h=be(()=>({width:bl(r.width)}));Rt(()=>r.modelValue,()=>{u.value=!0});const m=be(()=>u.value?r.modelValue:!1),U=be(()=>m.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(m.value)||(n(Ed,r.inactiveValue),n(dC,r.inactiveValue),n(uC,r.inactiveValue)),Rt(U,x=>{var C;f.value.checked=x,r.validateEvent&&((C=a==null?void 0:a.validate)==null||C.call(a,"change").catch(I=>void 0))});const b=()=>{const x=U.value?r.inactiveValue:r.activeValue;n(Ed,x),n(dC,x),n(uC,x),lr(()=>{f.value.checked=U.value})},w=()=>{if(d.value)return;const{beforeChange:x}=r;if(!x){b();return}const C=x();[GA(C),dc(C)].includes(!0)||n1(GK,"beforeChange must return type `Promise<boolean>` or `boolean`"),GA(C)?C.then(S=>{S&&b()}).catch(S=>{}):C&&b()},E=()=>{var x,C;(C=(x=f.value)==null?void 0:x.focus)==null||C.call(x)};return Mr(()=>{f.value.checked=U.value}),t({focus:E,checked:U}),(x,C)=>(Te(),Ut("div",{class:ft(Q(g)),onClick:cd(w,["prevent"])},[lt("input",{id:Q(l),ref_key:"input",ref:f,class:ft(Q(s).e("input")),type:"checkbox",role:"switch","aria-checked":Q(U),"aria-disabled":Q(d),"aria-label":x.ariaLabel,name:x.name,"true-value":x.activeValue,"false-value":x.inactiveValue,disabled:Q(d),tabindex:x.tabindex,onChange:b,onKeydown:RU(w,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!x.inlinePrompt&&(x.inactiveIcon||x.inactiveText)?(Te(),Ut("span",{key:0,class:ft(Q(v))},[x.inactiveIcon?(Te(),Ct(Q(ti),{key:0},{default:tt(()=>[(Te(),Ct(Ui(x.inactiveIcon)))]),_:1})):$t("v-if",!0),!x.inactiveIcon&&x.inactiveText?(Te(),Ut("span",{key:1,"aria-hidden":Q(U)},Wr(x.inactiveText),9,["aria-hidden"])):$t("v-if",!0)],2)):$t("v-if",!0),lt("span",{ref_key:"core",ref:p,class:ft(Q(s).e("core")),style:Ii(Q(h))},[x.inlinePrompt?(Te(),Ut("div",{key:0,class:ft(Q(s).e("inner"))},[x.activeIcon||x.inactiveIcon?(Te(),Ct(Q(ti),{key:0,class:ft(Q(s).is("icon"))},{default:tt(()=>[(Te(),Ct(Ui(Q(U)?x.activeIcon:x.inactiveIcon)))]),_:1},8,["class"])):x.activeText||x.inactiveText?(Te(),Ut("span",{key:1,class:ft(Q(s).is("text")),"aria-hidden":!Q(U)},Wr(Q(U)?x.activeText:x.inactiveText),11,["aria-hidden"])):$t("v-if",!0)],2)):$t("v-if",!0),lt("div",{class:ft(Q(s).e("action"))},[x.loading?(Te(),Ct(Q(ti),{key:0,class:ft(Q(s).is("loading"))},{default:tt(()=>[Ge(Q(wy))]),_:1},8,["class"])):Q(U)?Ht(x.$slots,"active-action",{key:1},()=>[x.activeActionIcon?(Te(),Ct(Q(ti),{key:0},{default:tt(()=>[(Te(),Ct(Ui(x.activeActionIcon)))]),_:1})):$t("v-if",!0)]):Q(U)?$t("v-if",!0):Ht(x.$slots,"inactive-action",{key:2},()=>[x.inactiveActionIcon?(Te(),Ct(Q(ti),{key:0},{default:tt(()=>[(Te(),Ct(Ui(x.inactiveActionIcon)))]),_:1})):$t("v-if",!0)])],2)],6),!x.inlinePrompt&&(x.activeIcon||x.activeText)?(Te(),Ut("span",{key:1,class:ft(Q(c))},[x.activeIcon?(Te(),Ct(Q(ti),{key:0},{default:tt(()=>[(Te(),Ct(Ui(x.activeIcon)))]),_:1})):$t("v-if",!0),!x.activeIcon&&x.activeText?(Te(),Ut("span",{key:1,"aria-hidden":!Q(U)},Wr(x.activeText),9,["aria-hidden"])):$t("v-if",!0)],2)):$t("v-if",!0)],10,["onClick"]))}});var Gwe=Nn(Hwe,[["__file","switch.vue"]]);const Wwe=Ko(Gwe),u4=Symbol("tabsRootContextKey"),Vwe=kn({tabs:{type:Pt(Array),default:()=>a4([])}}),WK="ElTabBar",Ywe=ot({name:WK}),Kwe=ot({...Ywe,props:Vwe,setup(e,{expose:t}){const n=e,r=oi(),a=Nt(u4);a||n1(WK,"<el-tabs><el-tab-bar /></el-tabs>");const o=dr("tabs"),s=Ie(),l=Ie(),d=()=>{let v=0,c=0;const h=["top","bottom"].includes(a.props.tabPosition)?"width":"height",m=h==="width"?"x":"y",U=m==="x"?"left":"top";return n.tabs.every(b=>{var w,E;const x=(E=(w=r.parent)==null?void 0:w.refs)==null?void 0:E[`tab-${b.uid}`];if(!x)return!1;if(!b.active)return!0;v=x[`offset${sh(U)}`],c=x[`client${sh(h)}`];const C=window.getComputedStyle(x);return h==="width"&&(c-=Number.parseFloat(C.paddingLeft)+Number.parseFloat(C.paddingRight),v+=Number.parseFloat(C.paddingLeft)),!1}),{[h]:`${c}px`,transform:`translate${sh(m)}(${v}px)`}},u=()=>l.value=d(),f=[],p=()=>{var v;f.forEach(h=>h.stop()),f.length=0;const c=(v=r.parent)==null?void 0:v.refs;if(c){for(const h in c)if(h.startsWith("tab-")){const m=c[h];m&&f.push($0(m,u))}}};Rt(()=>n.tabs,async()=>{await lr(),u(),p()},{immediate:!0});const g=$0(s,()=>u());return na(()=>{f.forEach(v=>v.stop()),f.length=0,g.stop()}),t({ref:s,update:u}),(v,c)=>(Te(),Ut("div",{ref_key:"barRef",ref:s,class:ft([Q(o).e("active-bar"),Q(o).is(Q(a).props.tabPosition)]),style:Ii(l.value)},null,6))}});var Xwe=Nn(Kwe,[["__file","tab-bar.vue"]]);const Zwe=kn({panes:{type:Pt(Array),default:()=>a4([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),qwe={tabClick:(e,t,n)=>n instanceof Event,tabRemove:(e,t)=>t instanceof Event},T$="ElTabNav",Jwe=ot({name:T$,props:Zwe,emits:qwe,setup(e,{expose:t,emit:n}){const r=Nt(u4);r||n1(T$,"<el-tabs><tab-nav /></el-tabs>");const a=dr("tabs"),o=nbe(),s=pbe(),l=Ie(),d=Ie(),u=Ie(),f=Ie(),p=Ie(!1),g=Ie(0),v=Ie(!1),c=Ie(!0),h=be(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),m=be(()=>({transform:`translate${h.value==="width"?"X":"Y"}(-${g.value}px)`})),U=()=>{if(!l.value)return;const S=l.value[`offset${sh(h.value)}`],M=g.value;if(!M)return;const R=M>S?M-S:0;g.value=R},b=()=>{if(!l.value||!d.value)return;const S=d.value[`offset${sh(h.value)}`],M=l.value[`offset${sh(h.value)}`],R=g.value;if(S-R<=M)return;const D=S-R>M*2?R+M:S-M;g.value=D},w=async()=>{const S=d.value;if(!p.value||!u.value||!l.value||!S)return;await lr();const M=u.value.querySelector(".is-active");if(!M)return;const R=l.value,D=["top","bottom"].includes(r.props.tabPosition),L=M.getBoundingClientRect(),j=R.getBoundingClientRect(),re=D?S.offsetWidth-j.width:S.offsetHeight-j.height,J=g.value;let H=J;D?(L.left<j.left&&(H=J-(j.left-L.left)),L.right>j.right&&(H=J+L.right-j.right)):(L.top<j.top&&(H=J-(j.top-L.top)),L.bottom>j.bottom&&(H=J+(L.bottom-j.bottom))),H=Math.max(H,0),g.value=Math.min(H,re)},E=()=>{var S;if(!d.value||!l.value)return;e.stretch&&((S=f.value)==null||S.update());const M=d.value[`offset${sh(h.value)}`],R=l.value[`offset${sh(h.value)}`],D=g.value;R<M?(p.value=p.value||{},p.value.prev=D,p.value.next=D+R<M,M-D<R&&(g.value=M-R)):(p.value=!1,D>0&&(g.value=0))},x=S=>{let M=0;switch(S.code){case er.left:case er.up:M=-1;break;case er.right:case er.down:M=1;break;default:return}const R=Array.from(S.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let L=R.indexOf(S.target)+M;L<0?L=R.length-1:L>=R.length&&(L=0),R[L].focus({preventScroll:!0}),R[L].click(),C()},C=()=>{c.value&&(v.value=!0)},I=()=>v.value=!1;return Rt(o,S=>{S==="hidden"?c.value=!1:S==="visible"&&setTimeout(()=>c.value=!0,50)}),Rt(s,S=>{S?setTimeout(()=>c.value=!0,50):c.value=!1}),$0(u,E),Mr(()=>setTimeout(()=>w(),0)),n2(()=>E()),t({scrollToActiveTab:w,removeFocus:I}),()=>{const S=p.value?[Ge("span",{class:[a.e("nav-prev"),a.is("disabled",!p.value.prev)],onClick:U},[Ge(ti,null,{default:()=>[Ge(Lbe,null,null)]})]),Ge("span",{class:[a.e("nav-next"),a.is("disabled",!p.value.next)],onClick:b},[Ge(ti,null,{default:()=>[Ge($be,null,null)]})])]:null,M=e.panes.map((R,D)=>{var L,j,re,J;const H=R.uid,ne=R.props.disabled,Z=(j=(L=R.props.name)!=null?L:R.index)!=null?j:`${D}`,se=!ne&&(R.isClosable||e.editable);R.index=`${D}`;const O=se?Ge(ti,{class:"is-icon-close",onClick:oe=>n("tabRemove",R,oe)},{default:()=>[Ge(Gk,null,null)]}):null,V=((J=(re=R.slots).label)==null?void 0:J.call(re))||R.props.label,de=!ne&&R.active?0:-1;return Ge("div",{ref:`tab-${H}`,class:[a.e("item"),a.is(r.props.tabPosition),a.is("active",R.active),a.is("disabled",ne),a.is("closable",se),a.is("focus",v.value)],id:`tab-${Z}`,key:`tab-${H}`,"aria-controls":`pane-${Z}`,role:"tab","aria-selected":R.active,tabindex:de,onFocus:()=>C(),onBlur:()=>I(),onClick:oe=>{I(),n("tabClick",R,Z,oe)},onKeydown:oe=>{se&&(oe.code===er.delete||oe.code===er.backspace)&&n("tabRemove",R,oe)}},[V,O])});return Ge("div",{ref:u,class:[a.e("nav-wrap"),a.is("scrollable",!!p.value),a.is(r.props.tabPosition)]},[S,Ge("div",{class:a.e("nav-scroll"),ref:l},[Ge("div",{class:[a.e("nav"),a.is(r.props.tabPosition),a.is("stretch",e.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:d,style:m.value,role:"tablist",onKeydown:x},[e.type?null:Ge(Xwe,{ref:f,tabs:[...e.panes]},null),M])])])}}}),e4e=kn({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Pt(Function),default:()=>!0},stretch:Boolean}),Ux=e=>cn(e)||Si(e),t4e={[Ed]:e=>Ux(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>Ux(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>Ux(e),tabAdd:()=>!0},n4e=ot({name:"ElTabs",props:e4e,emits:t4e,setup(e,{emit:t,slots:n,expose:r}){var a;const o=dr("tabs"),s=be(()=>["left","right"].includes(e.tabPosition)),{children:l,addChild:d,removeChild:u}=jAe(oi(),"ElTabPane"),f=Ie(),p=Ie((a=e.modelValue)!=null?a:"0"),g=async(U,b=!1)=>{var w,E,x;if(!(p.value===U||o8(U)))try{await((w=e.beforeLeave)==null?void 0:w.call(e,U,p.value))!==!1&&(p.value=U,b&&(t(Ed,U),t("tabChange",U)),(x=(E=f.value)==null?void 0:E.removeFocus)==null||x.call(E))}catch{}},v=(U,b,w)=>{U.props.disabled||(g(b,!0),t("tabClick",U,w))},c=(U,b)=>{U.props.disabled||o8(U.props.name)||(b.stopPropagation(),t("edit",U.props.name,"remove"),t("tabRemove",U.props.name))},h=()=>{t("edit",void 0,"add"),t("tabAdd")};Rt(()=>e.modelValue,U=>g(U)),Rt(p,async()=>{var U;await lr(),(U=f.value)==null||U.scrollToActiveTab()}),ii(u4,{props:e,currentName:p,registerPane:U=>{l.value.push(U)},sortPane:d,unregisterPane:u}),r({currentName:p});const m=({render:U})=>U();return()=>{const U=n["add-icon"],b=e.editable||e.addable?Ge("div",{class:[o.e("new-tab"),s.value&&o.e("new-tab-vertical")],tabindex:"0",onClick:h,onKeydown:x=>{[er.enter,er.numpadEnter].includes(x.code)&&h()}},[U?Ht(n,"add-icon"):Ge(ti,{class:o.is("icon-plus")},{default:()=>[Ge(t6e,null,null)]})]):null,w=Ge("div",{class:[o.e("header"),s.value&&o.e("header-vertical"),o.is(e.tabPosition)]},[Ge(m,{render:()=>{const x=l.value.some(C=>C.slots.label);return Ge(Jwe,{ref:f,currentName:p.value,editable:e.editable,type:e.type,panes:l.value,stretch:e.stretch,onTabClick:v,onTabRemove:c},{$stable:!x})}},null),b]),E=Ge("div",{class:o.e("content")},[Ht(n,"default")]);return Ge("div",{class:[o.b(),o.m(e.tabPosition),{[o.m("card")]:e.type==="card",[o.m("border-card")]:e.type==="border-card"}]},[E,w])}}});var r4e=n4e;const i4e=kn({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),VK="ElTabPane",a4e=ot({name:VK}),o4e=ot({...a4e,props:i4e,setup(e){const t=e,n=oi(),r=db(),a=Nt(u4);a||n1(VK,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const o=dr("tab-pane"),s=Ie(),l=be(()=>t.closable||a.props.closable),d=lC(()=>{var v;return a.currentName.value===((v=t.name)!=null?v:s.value)}),u=Ie(d.value),f=be(()=>{var v;return(v=t.name)!=null?v:s.value}),p=lC(()=>!t.lazy||u.value||d.value);Rt(d,v=>{v&&(u.value=!0)});const g=Ji({uid:n.uid,slots:r,props:t,paneName:f,active:d,index:s,isClosable:l});return a.registerPane(g),Mr(()=>{a.sortPane(g)}),Hw(()=>{a.unregisterPane(g.uid)}),(v,c)=>Q(p)?cc((Te(),Ut("div",{key:0,id:`pane-${Q(f)}`,class:ft(Q(o).b()),role:"tabpanel","aria-hidden":!Q(d),"aria-labelledby":`tab-${Q(f)}`},[Ht(v.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[md,Q(d)]]):$t("v-if",!0)}});var YK=Nn(o4e,[["__file","tab-pane.vue"]]);const s4e=Ko(r4e,{TabPane:YK}),l4e=pb(YK);function c4e(e){let t;const n=Ie(!1),r=Ji({...e,originalPosition:"",originalOverflow:"",visible:!1});function a(g){r.text=g}function o(){const g=r.parent,v=p.ns;if(!g.vLoadingAddClassList){let c=g.getAttribute("loading-number");c=Number.parseInt(c)-1,c?g.setAttribute("loading-number",c.toString()):(Ay(g,v.bm("parent","relative")),g.removeAttribute("loading-number")),Ay(g,v.bm("parent","hidden"))}s(),f.unmount()}function s(){var g,v;(v=(g=p.$el)==null?void 0:g.parentNode)==null||v.removeChild(p.$el)}function l(){var g;e.beforeClose&&!e.beforeClose()||(n.value=!0,clearTimeout(t),t=setTimeout(d,400),r.visible=!1,(g=e.closed)==null||g.call(e))}function d(){if(!n.value)return;const g=r.parent;n.value=!1,g.vLoadingAddClassList=void 0,o()}const f=aY(ot({name:"ElLoading",setup(g,{expose:v}){const{ns:c,zIndex:h}=Hk("loading");return v({ns:c,zIndex:h}),()=>{const m=r.spinner||r.svg,U=_u("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"0 0 50 50",...m?{innerHTML:m}:{}},[_u("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),b=r.text?_u("p",{class:c.b("text")},[r.text]):void 0;return _u(q0,{name:c.b("fade"),onAfterLeave:d},{default:tt(()=>[cc(Ge("div",{style:{backgroundColor:r.background||""},class:[c.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[_u("div",{class:c.b("spinner")},[U,b])]),[[md,r.visible]])])})}}})),p=f.mount(document.createElement("div"));return{...t2(r),setText:a,removeElLoadingChild:s,close:l,handleAfterLeave:d,vm:p,get $el(){return p.$el}}}let g5;const wC=function(e={}){if(!kr)return;const t=d4e(e);if(t.fullscreen&&g5)return g5;const n=c4e({...t,closed:()=>{var a;(a=t.closed)==null||a.call(t),t.fullscreen&&(g5=void 0)}});u4e(t,t.parent,n),B$(t,t.parent,n),t.parent.vLoadingAddClassList=()=>B$(t,t.parent,n);let r=t.parent.getAttribute("loading-number");return r?r=`${Number.parseInt(r)+1}`:r="1",t.parent.setAttribute("loading-number",r),t.parent.appendChild(n.$el),lr(()=>n.visible.value=t.visible),t.fullscreen&&(g5=n),n},d4e=e=>{var t,n,r,a;let o;return cn(e.target)?o=(t=document.querySelector(e.target))!=null?t:document.body:o=e.target||document.body,{parent:o===document.body||e.body?document.body:o,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:o===document.body&&((n=e.fullscreen)!=null?n:!0),lock:(r=e.lock)!=null?r:!1,customClass:e.customClass||"",visible:(a=e.visible)!=null?a:!0,beforeClose:e.beforeClose,closed:e.closed,target:o}},u4e=async(e,t,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,a={};if(e.fullscreen)n.originalPosition.value=qp(document.body,"position"),n.originalOverflow.value=qp(document.body,"overflow"),a.zIndex=r();else if(e.parent===document.body){n.originalPosition.value=qp(document.body,"position"),await lr();for(const o of["top","left"]){const s=o==="top"?"scrollTop":"scrollLeft";a[o]=`${e.target.getBoundingClientRect()[o]+document.body[s]+document.documentElement[s]-Number.parseInt(qp(document.body,`margin-${o}`),10)}px`}for(const o of["height","width"])a[o]=`${e.target.getBoundingClientRect()[o]}px`}else n.originalPosition.value=qp(t,"position");for(const[o,s]of Object.entries(a))n.$el.style[o]=s},B$=(e,t,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?Ay(t,r.bm("parent","relative")):fC(t,r.bm("parent","relative")),e.fullscreen&&e.lock?fC(t,r.bm("parent","hidden")):Ay(t,r.bm("parent","hidden"))},A3=Symbol("ElLoading"),R$=(e,t)=>{var n,r,a,o;const s=t.instance,l=g=>Ln(t.value)?t.value[g]:void 0,d=g=>{const v=cn(g)&&(s==null?void 0:s[g])||g;return v&&Ie(v)},u=g=>d(l(g)||e.getAttribute(`element-loading-${cf(g)}`)),f=(n=l("fullscreen"))!=null?n:t.modifiers.fullscreen,p={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:f,target:(r=l("target"))!=null?r:f?void 0:e,body:(a=l("body"))!=null?a:t.modifiers.body,lock:(o=l("lock"))!=null?o:t.modifiers.lock};e[A3]={options:p,instance:wC(p)}},f4e=(e,t)=>{for(const n of Object.keys(t))Ar(t[n])&&(t[n].value=e[n])},D$={mounted(e,t){t.value&&R$(e,t)},updated(e,t){const n=e[A3];t.oldValue!==t.value&&(t.value&&!t.oldValue?R$(e,t):t.value&&t.oldValue?Ln(t.value)&&f4e(t.value,n.options):n==null||n.instance.close())},unmounted(e){var t;(t=e[A3])==null||t.instance.close(),e[A3]=null}},P$={install(e){e.directive("loading",D$),e.config.globalProperties.$loading=wC},directive:D$,service:wC},KK=["success","info","warning","error"],Da=a4({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:kr?document.body:void 0}),h4e=kn({customClass:{type:String,default:Da.customClass},center:{type:Boolean,default:Da.center},dangerouslyUseHTMLString:{type:Boolean,default:Da.dangerouslyUseHTMLString},duration:{type:Number,default:Da.duration},icon:{type:nc,default:Da.icon},id:{type:String,default:Da.id},message:{type:Pt([String,Object,Function]),default:Da.message},onClose:{type:Pt(Function),default:Da.onClose},showClose:{type:Boolean,default:Da.showClose},type:{type:String,values:KK,default:Da.type},plain:{type:Boolean,default:Da.plain},offset:{type:Number,default:Da.offset},zIndex:{type:Number,default:Da.zIndex},grouping:{type:Boolean,default:Da.grouping},repeatNum:{type:Number,default:Da.repeatNum}}),p4e={destroy:()=>!0},rc=pk([]),g4e=e=>{const t=rc.findIndex(a=>a.id===e),n=rc[t];let r;return t>0&&(r=rc[t-1]),{current:n,prev:r}},m4e=e=>{const{prev:t}=g4e(e);return t?t.vm.exposed.bottom.value:0},U4e=(e,t)=>rc.findIndex(r=>r.id===e)>0?16:t,v4e=ot({name:"ElMessage"}),y4e=ot({...v4e,props:h4e,emits:p4e,setup(e,{expose:t}){const n=e,{Close:r}=JY,{ns:a,zIndex:o}=Hk("message"),{currentZIndex:s,nextZIndex:l}=o,d=Ie(),u=Ie(!1),f=Ie(0);let p;const g=be(()=>n.type?n.type==="error"?"danger":n.type:"info"),v=be(()=>{const I=n.type;return{[a.bm("icon",I)]:I&&l8[I]}}),c=be(()=>n.icon||l8[n.type]||""),h=be(()=>m4e(n.id)),m=be(()=>U4e(n.id,n.offset)+h.value),U=be(()=>f.value+m.value),b=be(()=>({top:`${m.value}px`,zIndex:s.value}));function w(){n.duration!==0&&({stop:p}=cC(()=>{x()},n.duration))}function E(){p==null||p()}function x(){u.value=!1}function C({code:I}){I===er.esc&&x()}return Mr(()=>{w(),l(),u.value=!0}),Rt(()=>n.repeatNum,()=>{E(),w()}),zo(document,"keydown",C),$0(d,()=>{f.value=d.value.getBoundingClientRect().height}),t({visible:u,bottom:U,close:x}),(I,S)=>(Te(),Ct(q0,{name:Q(a).b("fade"),onBeforeLeave:I.onClose,onAfterLeave:M=>I.$emit("destroy"),persisted:""},{default:tt(()=>[cc(lt("div",{id:I.id,ref_key:"messageRef",ref:d,class:ft([Q(a).b(),{[Q(a).m(I.type)]:I.type},Q(a).is("center",I.center),Q(a).is("closable",I.showClose),Q(a).is("plain",I.plain),I.customClass]),style:Ii(Q(b)),role:"alert",onMouseenter:E,onMouseleave:w},[I.repeatNum>1?(Te(),Ct(Q(pAe),{key:0,value:I.repeatNum,type:Q(g),class:ft(Q(a).e("badge"))},null,8,["value","type","class"])):$t("v-if",!0),Q(c)?(Te(),Ct(Q(ti),{key:1,class:ft([Q(a).e("icon"),Q(v)])},{default:tt(()=>[(Te(),Ct(Ui(Q(c))))]),_:1},8,["class"])):$t("v-if",!0),Ht(I.$slots,"default",{},()=>[I.dangerouslyUseHTMLString?(Te(),Ut($r,{key:1},[$t(" Caution here, message could've been compromised, never use user's input as message "),lt("p",{class:ft(Q(a).e("content")),innerHTML:I.message},null,10,["innerHTML"])],2112)):(Te(),Ut("p",{key:0,class:ft(Q(a).e("content"))},Wr(I.message),3))]),I.showClose?(Te(),Ct(Q(ti),{key:2,class:ft(Q(a).e("closeBtn")),onClick:cd(x,["stop"])},{default:tt(()=>[Ge(Q(r))]),_:1},8,["class","onClick"])):$t("v-if",!0)],46,["id"]),[[md,u.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var b4e=Nn(y4e,[["__file","message.vue"]]);let A4e=1;const XK=e=>{const t=!e||cn(e)||Ms(e)||Bt(e)?{message:e}:e,n={...Da,...t};if(!n.appendTo)n.appendTo=document.body;else if(cn(n.appendTo)){let r=document.querySelector(n.appendTo);Bh(r)||(r=document.body),n.appendTo=r}return dc(Vl.grouping)&&!n.grouping&&(n.grouping=Vl.grouping),Si(Vl.duration)&&n.duration===3e3&&(n.duration=Vl.duration),Si(Vl.offset)&&n.offset===16&&(n.offset=Vl.offset),dc(Vl.showClose)&&!n.showClose&&(n.showClose=Vl.showClose),n},w4e=e=>{const t=rc.indexOf(e);if(t===-1)return;rc.splice(t,1);const{handler:n}=e;n.close()},E4e=({appendTo:e,...t},n)=>{const r=`message_${A4e++}`,a=t.onClose,o=document.createElement("div"),s={...t,id:r,onClose:()=>{a==null||a(),w4e(f)},onDestroy:()=>{n8(null,o)}},l=Ge(b4e,s,Bt(s.message)||Ms(s.message)?{default:Bt(s.message)?s.message:()=>s.message}:null);l.appContext=n||Sm._context,n8(l,o),e.appendChild(o.firstElementChild);const d=l.component,f={id:r,vnode:l,vm:d,handler:{close:()=>{d.exposed.visible.value=!1}},props:l.component.props};return f},Sm=(e={},t)=>{if(!kr)return{close:()=>{}};const n=XK(e);if(n.grouping&&rc.length){const a=rc.find(({vnode:o})=>{var s;return((s=o.props)==null?void 0:s.message)===n.message});if(a)return a.props.repeatNum+=1,a.props.type=n.type,a.handler}if(Si(Vl.max)&&rc.length>=Vl.max)return{close:()=>{}};const r=E4e(n,t);return rc.push(r),r.handler};KK.forEach(e=>{Sm[e]=(t={},n)=>{const r=XK(t);return Sm({...r,type:e},n)}});function x4e(e){for(const t of rc)(!e||e===t.props.type)&&t.handler.close()}Sm.closeAll=x4e;Sm._context=null;const ar=Ibe(Sm,"$message"),EC="_trap-focus-children",c0=[],L$=e=>{if(c0.length===0)return;const t=c0[c0.length-1][EC];if(t.length>0&&e.code===er.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const n=e.shiftKey,r=e.target===t[0],a=e.target===t[t.length-1];r&&n&&(e.preventDefault(),t[t.length-1].focus()),a&&!n&&(e.preventDefault(),t[0].focus())}},_4e={beforeMount(e){e[EC]=qN(e),c0.push(e),c0.length<=1&&document.addEventListener("keydown",L$)},updated(e){lr(()=>{e[EC]=qN(e)})},unmounted(){c0.shift(),c0.length===0&&document.removeEventListener("keydown",L$)}},C4e=ot({name:"ElMessageBox",directives:{TrapFocus:_4e},components:{ElButton:r1,ElFocusTrap:qk,ElInput:s4,ElOverlay:kK,ElIcon:ti,...JY},inheritAttrs:!1,props:{buttonSize:{type:String,validator:HK},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:n,zIndex:r,ns:a,size:o}=Hk("message-box",be(()=>e.buttonSize)),{t:s}=n,{nextZIndex:l}=r,d=Ie(!1),u=Ji({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:gy(wy),cancelButtonLoadingIcon:gy(wy),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:l()}),f=be(()=>{const H=u.type;return{[a.bm("icon",H)]:H&&l8[H]}}),p=Yu(),g=Yu(),v=be(()=>u.icon||l8[u.type]||""),c=be(()=>!!u.message),h=Ie(),m=Ie(),U=Ie(),b=Ie(),w=Ie(),E=be(()=>u.confirmButtonClass);Rt(()=>u.inputValue,async H=>{await lr(),e.boxType==="prompt"&&H!==null&&L()},{immediate:!0}),Rt(()=>d.value,H=>{var ne,Z;H&&(e.boxType!=="prompt"&&(u.autofocus?U.value=(Z=(ne=w.value)==null?void 0:ne.$el)!=null?Z:h.value:U.value=h.value),u.zIndex=l()),e.boxType==="prompt"&&(H?lr().then(()=>{var se;b.value&&b.value.$el&&(u.autofocus?U.value=(se=j())!=null?se:h.value:U.value=h.value)}):(u.editorErrorMessage="",u.validateError=!1))});const x=be(()=>e.draggable),C=be(()=>e.overflow);BK(h,m,x,C),Mr(async()=>{await lr(),e.closeOnHashChange&&window.addEventListener("hashchange",I)}),na(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",I)});function I(){d.value&&(d.value=!1,lr(()=>{u.action&&t("action",u.action)}))}const S=()=>{e.closeOnClickModal&&D(u.distinguishCancelAndClose?"close":"cancel")},M=dM(S),R=H=>{if(u.inputType!=="textarea")return H.preventDefault(),D("confirm")},D=H=>{var ne;e.boxType==="prompt"&&H==="confirm"&&!L()||(u.action=H,u.beforeClose?(ne=u.beforeClose)==null||ne.call(u,H,u,I):I())},L=()=>{if(e.boxType==="prompt"){const H=u.inputPattern;if(H&&!H.test(u.inputValue||""))return u.editorErrorMessage=u.inputErrorMessage||s("el.messagebox.error"),u.validateError=!0,!1;const ne=u.inputValidator;if(Bt(ne)){const Z=ne(u.inputValue);if(Z===!1)return u.editorErrorMessage=u.inputErrorMessage||s("el.messagebox.error"),u.validateError=!0,!1;if(cn(Z))return u.editorErrorMessage=Z,u.validateError=!0,!1}}return u.editorErrorMessage="",u.validateError=!1,!0},j=()=>{const H=b.value.$refs;return H.input||H.textarea},re=()=>{D("close")},J=()=>{e.closeOnPressEscape&&re()};return e.lockScroll&&RK(d),{...t2(u),ns:a,overlayEvent:M,visible:d,hasMessage:c,typeClass:f,contentId:p,inputId:g,btnSize:o,iconComponent:v,confirmButtonClasses:E,rootRef:h,focusStartRef:U,headerRef:m,inputRef:b,confirmRef:w,doClose:I,handleClose:re,onCloseRequested:J,handleWrapperClick:S,handleInputEnter:R,handleAction:D,t:s}}});function S4e(e,t,n,r,a,o){const s=qr("el-icon"),l=qr("close"),d=qr("el-input"),u=qr("el-button"),f=qr("el-focus-trap"),p=qr("el-overlay");return Te(),Ct(q0,{name:"fade-in-linear",onAfterLeave:g=>e.$emit("vanish"),persisted:""},{default:tt(()=>[cc(Ge(p,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:tt(()=>[lt("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:ft(`${e.ns.namespace.value}-overlay-message-box`),onClick:e.overlayEvent.onClick,onMousedown:e.overlayEvent.onMousedown,onMouseup:e.overlayEvent.onMouseup},[Ge(f,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:tt(()=>[lt("div",{ref:"rootRef",class:ft([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:Ii(e.customStyle),tabindex:"-1",onClick:cd(()=>{},["stop"])},[e.title!==null&&e.title!==void 0?(Te(),Ut("div",{key:0,ref:"headerRef",class:ft([e.ns.e("header"),{"show-close":e.showClose}])},[lt("div",{class:ft(e.ns.e("title"))},[e.iconComponent&&e.center?(Te(),Ct(s,{key:0,class:ft([e.ns.e("status"),e.typeClass])},{default:tt(()=>[(Te(),Ct(Ui(e.iconComponent)))]),_:1},8,["class"])):$t("v-if",!0),lt("span",null,Wr(e.title),1)],2),e.showClose?(Te(),Ut("button",{key:0,type:"button",class:ft(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:g=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),onKeydown:RU(cd(g=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[Ge(s,{class:ft(e.ns.e("close"))},{default:tt(()=>[Ge(l)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):$t("v-if",!0)],2)):$t("v-if",!0),lt("div",{id:e.contentId,class:ft(e.ns.e("content"))},[lt("div",{class:ft(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(Te(),Ct(s,{key:0,class:ft([e.ns.e("status"),e.typeClass])},{default:tt(()=>[(Te(),Ct(Ui(e.iconComponent)))]),_:1},8,["class"])):$t("v-if",!0),e.hasMessage?(Te(),Ut("div",{key:1,class:ft(e.ns.e("message"))},[Ht(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(Te(),Ct(Ui(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(Te(),Ct(Ui(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:tt(()=>[za(Wr(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):$t("v-if",!0)],2),cc(lt("div",{class:ft(e.ns.e("input"))},[Ge(d,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":g=>e.inputValue=g,type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:ft({invalid:e.validateError}),onKeydown:RU(e.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),lt("div",{class:ft(e.ns.e("errormsg")),style:Ii({visibility:e.editorErrorMessage?"visible":"hidden"})},Wr(e.editorErrorMessage),7)],2),[[md,e.showInput]])],10,["id"]),lt("div",{class:ft(e.ns.e("btns"))},[e.showCancelButton?(Te(),Ct(u,{key:0,loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:ft([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:g=>e.handleAction("cancel"),onKeydown:RU(cd(g=>e.handleAction("cancel"),["prevent"]),["enter"])},{default:tt(()=>[za(Wr(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):$t("v-if",!0),cc(Ge(u,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:ft([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:g=>e.handleAction("confirm"),onKeydown:RU(cd(g=>e.handleAction("confirm"),["prevent"]),["enter"])},{default:tt(()=>[za(Wr(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[md,e.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[md,e.visible]])]),_:3},8,["onAfterLeave"])}var I4e=Nn(C4e,[["render",S4e],["__file","index.vue"]]);const Cy=new Map,k4e=e=>{let t=document.body;return e.appendTo&&(cn(e.appendTo)&&(t=document.querySelector(e.appendTo)),Bh(e.appendTo)&&(t=e.appendTo),Bh(t)||(t=document.body)),t},M4e=(e,t,n=null)=>{const r=Ge(I4e,e,Bt(e.message)||Ms(e.message)?{default:Bt(e.message)?e.message:()=>e.message}:null);return r.appContext=n,n8(r,t),k4e(e).appendChild(t.firstElementChild),r.component},T4e=()=>document.createElement("div"),B4e=(e,t)=>{const n=T4e();e.onVanish=()=>{n8(null,n),Cy.delete(a)},e.onAction=o=>{const s=Cy.get(a);let l;e.showInput?l={value:a.inputValue,action:o}:l=o,e.callback?e.callback(l,r.proxy):o==="cancel"||o==="close"?e.distinguishCancelAndClose&&o!=="cancel"?s.reject("close"):s.reject("cancel"):s.resolve(l)};const r=M4e(e,n,t),a=r.proxy;for(const o in e)Fn(e,o)&&!Fn(a.$props,o)&&(a[o]=e[o]);return a.visible=!0,a};function c2(e,t=null){if(!kr)return Promise.reject();let n;return cn(e)||Ms(e)?e={message:e}:n=e.callback,new Promise((r,a)=>{const o=B4e(e,t??c2._context);Cy.set(o,{options:e,callback:n,resolve:r,reject:a})})}const R4e=["alert","confirm","prompt"],D4e={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};R4e.forEach(e=>{c2[e]=P4e(e)});function P4e(e){return(t,n,r,a)=>{let o="";return Ln(n)?(r=n,o=""):o8(n)?o="":o=n,c2(Object.assign({title:o,message:t,type:"",...D4e[e]},r,{boxType:e}),a)}}c2.close=()=>{Cy.forEach((e,t)=>{t.doClose()}),Cy.clear()};c2._context=null;const Hf=c2;Hf.install=e=>{Hf._context=e._context,e.config.globalProperties.$msgbox=Hf,e.config.globalProperties.$messageBox=Hf,e.config.globalProperties.$alert=Hf.alert,e.config.globalProperties.$confirm=Hf.confirm,e.config.globalProperties.$prompt=Hf.prompt};const L4e=Hf;var ZK={};(function(e){var t=function(){var c=new Date,h=4,m=3,U=2,b=1,w=h,E={setLogLevel:function(x){x==this.debug?w=b:x==this.info?w=U:x==this.warn?w=m:(x==this.error,w=h)},debug:function(x,C){console.debug===void 0&&(console.debug=console.log),b>=w&&console.debug("["+t.getDurationString(new Date-c,1e3)+"]","["+x+"]",C)},log:function(x,C){this.debug(x.msg)},info:function(x,C){U>=w&&console.info("["+t.getDurationString(new Date-c,1e3)+"]","["+x+"]",C)},warn:function(x,C){m>=w&&console.warn("["+t.getDurationString(new Date-c,1e3)+"]","["+x+"]",C)},error:function(x,C){h>=w&&console.error("["+t.getDurationString(new Date-c,1e3)+"]","["+x+"]",C)}};return E}();t.getDurationString=function(c,h){var m;function U(I,S){for(var M=""+I,R=M.split(".");R[0].length<S;)R[0]="0"+R[0];return R.join(".")}c<0?(m=!0,c=-c):m=!1;var b=h||1,w=c/b,E=Math.floor(w/3600);w-=E*3600;var x=Math.floor(w/60);w-=x*60;var C=w*1e3;return w=Math.floor(w),C-=w*1e3,C=Math.floor(C),(m?"-":"")+E+":"+U(x,2)+":"+U(w,2)+"."+U(C,3)},t.printRanges=function(c){var h=c.length;if(h>0){for(var m="",U=0;U<h;U++)U>0&&(m+=","),m+="["+t.getDurationString(c.start(U))+","+t.getDurationString(c.end(U))+"]";return m}else return"(empty)"},e.Log=t;var n=function(c){if(c instanceof ArrayBuffer)this.buffer=c,this.dataview=new DataView(c);else throw"Needs an array buffer";this.position=0};n.prototype.getPosition=function(){return this.position},n.prototype.getEndPosition=function(){return this.buffer.byteLength},n.prototype.getLength=function(){return this.buffer.byteLength},n.prototype.seek=function(c){var h=Math.max(0,Math.min(this.buffer.byteLength,c));return this.position=isNaN(h)||!isFinite(h)?0:h,!0},n.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},n.prototype.readAnyInt=function(c,h){var m=0;if(this.position+c<=this.buffer.byteLength){switch(c){case 1:h?m=this.dataview.getInt8(this.position):m=this.dataview.getUint8(this.position);break;case 2:h?m=this.dataview.getInt16(this.position):m=this.dataview.getUint16(this.position);break;case 3:if(h)throw"No method for reading signed 24 bits values";m=this.dataview.getUint8(this.position)<<16,m|=this.dataview.getUint8(this.position+1)<<8,m|=this.dataview.getUint8(this.position+2);break;case 4:h?m=this.dataview.getInt32(this.position):m=this.dataview.getUint32(this.position);break;case 8:if(h)throw"No method for reading signed 64 bits values";m=this.dataview.getUint32(this.position)<<32,m|=this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+c}return this.position+=c,m}else throw"Not enough bytes in buffer"},n.prototype.readUint8=function(){return this.readAnyInt(1,!1)},n.prototype.readUint16=function(){return this.readAnyInt(2,!1)},n.prototype.readUint24=function(){return this.readAnyInt(3,!1)},n.prototype.readUint32=function(){return this.readAnyInt(4,!1)},n.prototype.readUint64=function(){return this.readAnyInt(8,!1)},n.prototype.readString=function(c){if(this.position+c<=this.buffer.byteLength){for(var h="",m=0;m<c;m++)h+=String.fromCharCode(this.readUint8());return h}else throw"Not enough bytes in buffer"},n.prototype.readCString=function(){for(var c=[];;){var h=this.readUint8();if(h!==0)c.push(h);else break}return String.fromCharCode.apply(null,c)},n.prototype.readInt8=function(){return this.readAnyInt(1,!0)},n.prototype.readInt16=function(){return this.readAnyInt(2,!0)},n.prototype.readInt32=function(){return this.readAnyInt(4,!0)},n.prototype.readInt64=function(){return this.readAnyInt(8,!1)},n.prototype.readUint8Array=function(c){for(var h=new Uint8Array(c),m=0;m<c;m++)h[m]=this.readUint8();return h},n.prototype.readInt16Array=function(c){for(var h=new Int16Array(c),m=0;m<c;m++)h[m]=this.readInt16();return h},n.prototype.readUint16Array=function(c){for(var h=new Int16Array(c),m=0;m<c;m++)h[m]=this.readUint16();return h},n.prototype.readUint32Array=function(c){for(var h=new Uint32Array(c),m=0;m<c;m++)h[m]=this.readUint32();return h},n.prototype.readInt32Array=function(c){for(var h=new Int32Array(c),m=0;m<c;m++)h[m]=this.readInt32();return h},e.MP4BoxStream=n;var r=function(c,h,m){this._byteOffset=h||0,c instanceof ArrayBuffer?this.buffer=c:typeof c=="object"?(this.dataView=c,h&&(this._byteOffset+=h)):this.buffer=new ArrayBuffer(c||0),this.position=0,this.endianness=m??r.LITTLE_ENDIAN};r.prototype={},r.prototype.getPosition=function(){return this.position},r.prototype._realloc=function(c){if(this._dynamicSize){var h=this._byteOffset+this.position+c,m=this._buffer.byteLength;if(h<=m){h>this._byteLength&&(this._byteLength=h);return}for(m<1&&(m=1);h>m;)m*=2;var U=new ArrayBuffer(m),b=new Uint8Array(this._buffer),w=new Uint8Array(U,0,b.length);w.set(b),this.buffer=U,this._byteLength=h}},r.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var c=new ArrayBuffer(this._byteLength),h=new Uint8Array(c),m=new Uint8Array(this._buffer,0,h.length);h.set(m),this.buffer=c}},r.BIG_ENDIAN=!1,r.LITTLE_ENDIAN=!0,r.prototype._byteLength=0,Object.defineProperty(r.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(r.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(c){this._buffer=c,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(r.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(c){this._byteOffset=c,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(r.prototype,"dataView",{get:function(){return this._dataView},set:function(c){this._byteOffset=c.byteOffset,this._buffer=c.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+c.byteLength}}),r.prototype.seek=function(c){var h=Math.max(0,Math.min(this.byteLength,c));this.position=isNaN(h)||!isFinite(h)?0:h},r.prototype.isEof=function(){return this.position>=this._byteLength},r.prototype.mapUint8Array=function(c){this._realloc(c*1);var h=new Uint8Array(this._buffer,this.byteOffset+this.position,c);return this.position+=c*1,h},r.prototype.readInt32Array=function(c,h){c=c??this.byteLength-this.position/4;var m=new Int32Array(c);return r.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,c*m.BYTES_PER_ELEMENT),r.arrayToNative(m,h??this.endianness),this.position+=m.byteLength,m},r.prototype.readInt16Array=function(c,h){c=c??this.byteLength-this.position/2;var m=new Int16Array(c);return r.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,c*m.BYTES_PER_ELEMENT),r.arrayToNative(m,h??this.endianness),this.position+=m.byteLength,m},r.prototype.readInt8Array=function(c){c=c??this.byteLength-this.position;var h=new Int8Array(c);return r.memcpy(h.buffer,0,this.buffer,this.byteOffset+this.position,c*h.BYTES_PER_ELEMENT),this.position+=h.byteLength,h},r.prototype.readUint32Array=function(c,h){c=c??this.byteLength-this.position/4;var m=new Uint32Array(c);return r.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,c*m.BYTES_PER_ELEMENT),r.arrayToNative(m,h??this.endianness),this.position+=m.byteLength,m},r.prototype.readUint16Array=function(c,h){c=c??this.byteLength-this.position/2;var m=new Uint16Array(c);return r.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,c*m.BYTES_PER_ELEMENT),r.arrayToNative(m,h??this.endianness),this.position+=m.byteLength,m},r.prototype.readUint8Array=function(c){c=c??this.byteLength-this.position;var h=new Uint8Array(c);return r.memcpy(h.buffer,0,this.buffer,this.byteOffset+this.position,c*h.BYTES_PER_ELEMENT),this.position+=h.byteLength,h},r.prototype.readFloat64Array=function(c,h){c=c??this.byteLength-this.position/8;var m=new Float64Array(c);return r.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,c*m.BYTES_PER_ELEMENT),r.arrayToNative(m,h??this.endianness),this.position+=m.byteLength,m},r.prototype.readFloat32Array=function(c,h){c=c??this.byteLength-this.position/4;var m=new Float32Array(c);return r.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,c*m.BYTES_PER_ELEMENT),r.arrayToNative(m,h??this.endianness),this.position+=m.byteLength,m},r.prototype.readInt32=function(c){var h=this._dataView.getInt32(this.position,c??this.endianness);return this.position+=4,h},r.prototype.readInt16=function(c){var h=this._dataView.getInt16(this.position,c??this.endianness);return this.position+=2,h},r.prototype.readInt8=function(){var c=this._dataView.getInt8(this.position);return this.position+=1,c},r.prototype.readUint32=function(c){var h=this._dataView.getUint32(this.position,c??this.endianness);return this.position+=4,h},r.prototype.readUint16=function(c){var h=this._dataView.getUint16(this.position,c??this.endianness);return this.position+=2,h},r.prototype.readUint8=function(){var c=this._dataView.getUint8(this.position);return this.position+=1,c},r.prototype.readFloat32=function(c){var h=this._dataView.getFloat32(this.position,c??this.endianness);return this.position+=4,h},r.prototype.readFloat64=function(c){var h=this._dataView.getFloat64(this.position,c??this.endianness);return this.position+=8,h},r.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,r.memcpy=function(c,h,m,U,b){var w=new Uint8Array(c,h,b),E=new Uint8Array(m,U,b);w.set(E)},r.arrayToNative=function(c,h){return h==this.endianness?c:this.flipArrayEndianness(c)},r.nativeToEndian=function(c,h){return this.endianness==h?c:this.flipArrayEndianness(c)},r.flipArrayEndianness=function(c){for(var h=new Uint8Array(c.buffer,c.byteOffset,c.byteLength),m=0;m<c.byteLength;m+=c.BYTES_PER_ELEMENT)for(var U=m+c.BYTES_PER_ELEMENT-1,b=m;U>b;U--,b++){var w=h[b];h[b]=h[U],h[U]=w}return c},r.prototype.failurePosition=0,String.fromCharCodeUint8=function(c){for(var h=[],m=0;m<c.length;m++)h[m]=c[m];return String.fromCharCode.apply(null,h)},r.prototype.readString=function(c,h){return h==null||h=="ASCII"?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(c??this.byteLength-this.position)]):new TextDecoder(h).decode(this.mapUint8Array(c))},r.prototype.readCString=function(c){var h=this.byteLength-this.position,m=new Uint8Array(this._buffer,this._byteOffset+this.position),U=h;c!=null&&(U=Math.min(c,h));for(var b=0;b<U&&m[b]!==0;b++);var w=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(b)]);return c!=null?this.position+=U-b:b!=h&&(this.position+=1),w};var a=Math.pow(2,32);r.prototype.readInt64=function(){return this.readInt32()*a+this.readUint32()},r.prototype.readUint64=function(){return this.readUint32()*a+this.readUint32()},r.prototype.readInt64=function(){return this.readUint32()*a+this.readUint32()},r.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},e.DataStream=r,r.prototype.save=function(c){var h=new Blob([this.buffer]);if(window.URL&&URL.createObjectURL){var m=window.URL.createObjectURL(h),U=document.createElement("a");document.body.appendChild(U),U.setAttribute("href",m),U.setAttribute("download",c),U.setAttribute("target","_self"),U.click(),window.URL.revokeObjectURL(m)}else throw"DataStream.save: Can't create object URL."},r.prototype._dynamicSize=!0,Object.defineProperty(r.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(c){c||this._trimAlloc(),this._dynamicSize=c}}),r.prototype.shift=function(c){var h=new ArrayBuffer(this._byteLength-c),m=new Uint8Array(h),U=new Uint8Array(this._buffer,c,m.length);m.set(U),this.buffer=h,this.position-=c},r.prototype.writeInt32Array=function(c,h){if(this._realloc(c.length*4),c instanceof Int32Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapInt32Array(c.length,h);else for(var m=0;m<c.length;m++)this.writeInt32(c[m],h)},r.prototype.writeInt16Array=function(c,h){if(this._realloc(c.length*2),c instanceof Int16Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapInt16Array(c.length,h);else for(var m=0;m<c.length;m++)this.writeInt16(c[m],h)},r.prototype.writeInt8Array=function(c){if(this._realloc(c.length*1),c instanceof Int8Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapInt8Array(c.length);else for(var h=0;h<c.length;h++)this.writeInt8(c[h])},r.prototype.writeUint32Array=function(c,h){if(this._realloc(c.length*4),c instanceof Uint32Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapUint32Array(c.length,h);else for(var m=0;m<c.length;m++)this.writeUint32(c[m],h)},r.prototype.writeUint16Array=function(c,h){if(this._realloc(c.length*2),c instanceof Uint16Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapUint16Array(c.length,h);else for(var m=0;m<c.length;m++)this.writeUint16(c[m],h)},r.prototype.writeUint8Array=function(c){if(this._realloc(c.length*1),c instanceof Uint8Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapUint8Array(c.length);else for(var h=0;h<c.length;h++)this.writeUint8(c[h])},r.prototype.writeFloat64Array=function(c,h){if(this._realloc(c.length*8),c instanceof Float64Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapFloat64Array(c.length,h);else for(var m=0;m<c.length;m++)this.writeFloat64(c[m],h)},r.prototype.writeFloat32Array=function(c,h){if(this._realloc(c.length*4),c instanceof Float32Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapFloat32Array(c.length,h);else for(var m=0;m<c.length;m++)this.writeFloat32(c[m],h)},r.prototype.writeInt32=function(c,h){this._realloc(4),this._dataView.setInt32(this.position,c,h??this.endianness),this.position+=4},r.prototype.writeInt16=function(c,h){this._realloc(2),this._dataView.setInt16(this.position,c,h??this.endianness),this.position+=2},r.prototype.writeInt8=function(c){this._realloc(1),this._dataView.setInt8(this.position,c),this.position+=1},r.prototype.writeUint32=function(c,h){this._realloc(4),this._dataView.setUint32(this.position,c,h??this.endianness),this.position+=4},r.prototype.writeUint16=function(c,h){this._realloc(2),this._dataView.setUint16(this.position,c,h??this.endianness),this.position+=2},r.prototype.writeUint8=function(c){this._realloc(1),this._dataView.setUint8(this.position,c),this.position+=1},r.prototype.writeFloat32=function(c,h){this._realloc(4),this._dataView.setFloat32(this.position,c,h??this.endianness),this.position+=4},r.prototype.writeFloat64=function(c,h){this._realloc(8),this._dataView.setFloat64(this.position,c,h??this.endianness),this.position+=8},r.prototype.writeUCS2String=function(c,h,m){m==null&&(m=c.length);for(var U=0;U<c.length&&U<m;U++)this.writeUint16(c.charCodeAt(U),h);for(;U<m;U++)this.writeUint16(0)},r.prototype.writeString=function(c,h,m){var U=0;if(h==null||h=="ASCII")if(m!=null){var b=Math.min(c.length,m);for(U=0;U<b;U++)this.writeUint8(c.charCodeAt(U));for(;U<m;U++)this.writeUint8(0)}else for(U=0;U<c.length;U++)this.writeUint8(c.charCodeAt(U));else this.writeUint8Array(new TextEncoder(h).encode(c.substring(0,m)))},r.prototype.writeCString=function(c,h){var m=0;if(h!=null){var U=Math.min(c.length,h);for(m=0;m<U;m++)this.writeUint8(c.charCodeAt(m));for(;m<h;m++)this.writeUint8(0)}else{for(m=0;m<c.length;m++)this.writeUint8(c.charCodeAt(m));this.writeUint8(0)}},r.prototype.writeStruct=function(c,h){for(var m=0;m<c.length;m+=2){var U=c[m+1];this.writeType(U,h[c[m]],h)}},r.prototype.writeType=function(c,h,m){var U;if(typeof c=="function")return c(this,h);if(typeof c=="object"&&!(c instanceof Array))return c.set(this,h,m);var b=null,w="ASCII",E=this.position;switch(typeof c=="string"&&/:/.test(c)&&(U=c.split(":"),c=U[0],b=parseInt(U[1])),typeof c=="string"&&/,/.test(c)&&(U=c.split(","),c=U[0],w=parseInt(U[1])),c){case"uint8":this.writeUint8(h);break;case"int8":this.writeInt8(h);break;case"uint16":this.writeUint16(h,this.endianness);break;case"int16":this.writeInt16(h,this.endianness);break;case"uint32":this.writeUint32(h,this.endianness);break;case"int32":this.writeInt32(h,this.endianness);break;case"float32":this.writeFloat32(h,this.endianness);break;case"float64":this.writeFloat64(h,this.endianness);break;case"uint16be":this.writeUint16(h,r.BIG_ENDIAN);break;case"int16be":this.writeInt16(h,r.BIG_ENDIAN);break;case"uint32be":this.writeUint32(h,r.BIG_ENDIAN);break;case"int32be":this.writeInt32(h,r.BIG_ENDIAN);break;case"float32be":this.writeFloat32(h,r.BIG_ENDIAN);break;case"float64be":this.writeFloat64(h,r.BIG_ENDIAN);break;case"uint16le":this.writeUint16(h,r.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(h,r.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(h,r.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(h,r.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(h,r.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(h,r.LITTLE_ENDIAN);break;case"cstring":this.writeCString(h,b);break;case"string":this.writeString(h,w,b);break;case"u16string":this.writeUCS2String(h,this.endianness,b);break;case"u16stringle":this.writeUCS2String(h,r.LITTLE_ENDIAN,b);break;case"u16stringbe":this.writeUCS2String(h,r.BIG_ENDIAN,b);break;default:if(c.length==3){for(var x=c[1],C=0;C<h.length;C++)this.writeType(x,h[C]);break}else{this.writeStruct(c,h);break}}b!=null&&(this.position=E,this._realloc(b),this.position=E+b)},r.prototype.writeUint64=function(c){var h=Math.floor(c/a);this.writeUint32(h),this.writeUint32(c&4294967295)},r.prototype.writeUint24=function(c){this.writeUint8((c&16711680)>>16),this.writeUint8((c&65280)>>8),this.writeUint8(c&255)},r.prototype.adjustUint32=function(c,h){var m=this.position;this.seek(c),this.writeUint32(h),this.seek(m)},r.prototype.mapInt32Array=function(c,h){this._realloc(c*4);var m=new Int32Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(m,h??this.endianness),this.position+=c*4,m},r.prototype.mapInt16Array=function(c,h){this._realloc(c*2);var m=new Int16Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(m,h??this.endianness),this.position+=c*2,m},r.prototype.mapInt8Array=function(c){this._realloc(c*1);var h=new Int8Array(this._buffer,this.byteOffset+this.position,c);return this.position+=c*1,h},r.prototype.mapUint32Array=function(c,h){this._realloc(c*4);var m=new Uint32Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(m,h??this.endianness),this.position+=c*4,m},r.prototype.mapUint16Array=function(c,h){this._realloc(c*2);var m=new Uint16Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(m,h??this.endianness),this.position+=c*2,m},r.prototype.mapFloat64Array=function(c,h){this._realloc(c*8);var m=new Float64Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(m,h??this.endianness),this.position+=c*8,m},r.prototype.mapFloat32Array=function(c,h){this._realloc(c*4);var m=new Float32Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(m,h??this.endianness),this.position+=c*4,m};var o=function(c){this.buffers=[],this.bufferIndex=-1,c&&(this.insertBuffer(c),this.bufferIndex=0)};o.prototype=new r(new ArrayBuffer,0,r.BIG_ENDIAN),o.prototype.initialized=function(){var c;return this.bufferIndex>-1?!0:this.buffers.length>0?(c=this.buffers[0],c.fileStart===0?(this.buffer=c,this.bufferIndex=0,t.debug("MultiBufferStream","Stream ready for parsing"),!0):(t.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1)):(t.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1)},ArrayBuffer.concat=function(c,h){t.debug("ArrayBuffer","Trying to create a new buffer of size: "+(c.byteLength+h.byteLength));var m=new Uint8Array(c.byteLength+h.byteLength);return m.set(new Uint8Array(c),0),m.set(new Uint8Array(h),c.byteLength),m.buffer},o.prototype.reduceBuffer=function(c,h,m){var U;return U=new Uint8Array(m),U.set(new Uint8Array(c,h,m)),U.buffer.fileStart=c.fileStart+h,U.buffer.usedBytes=0,U.buffer},o.prototype.insertBuffer=function(c){for(var h=!0,m=0;m<this.buffers.length;m++){var U=this.buffers[m];if(c.fileStart<=U.fileStart){if(c.fileStart===U.fileStart)if(c.byteLength>U.byteLength){this.buffers.splice(m,1),m--;continue}else t.warn("MultiBufferStream","Buffer (fileStart: "+c.fileStart+" - Length: "+c.byteLength+") already appended, ignoring");else c.fileStart+c.byteLength<=U.fileStart||(c=this.reduceBuffer(c,0,U.fileStart-c.fileStart)),t.debug("MultiBufferStream","Appending new buffer (fileStart: "+c.fileStart+" - Length: "+c.byteLength+")"),this.buffers.splice(m,0,c),m===0&&(this.buffer=c);h=!1;break}else if(c.fileStart<U.fileStart+U.byteLength){var b=U.fileStart+U.byteLength-c.fileStart,w=c.byteLength-b;if(w>0)c=this.reduceBuffer(c,b,w);else{h=!1;break}}}h&&(t.debug("MultiBufferStream","Appending new buffer (fileStart: "+c.fileStart+" - Length: "+c.byteLength+")"),this.buffers.push(c),m===0&&(this.buffer=c))},o.prototype.logBufferLevel=function(c){var h,m,U,b,w=[],E,x="";for(U=0,b=0,h=0;h<this.buffers.length;h++)m=this.buffers[h],h===0?(E={},w.push(E),E.start=m.fileStart,E.end=m.fileStart+m.byteLength,x+="["+E.start+"-"):E.end===m.fileStart?E.end=m.fileStart+m.byteLength:(E={},E.start=m.fileStart,x+=w[w.length-1].end-1+"], ["+E.start+"-",E.end=m.fileStart+m.byteLength,w.push(E)),U+=m.usedBytes,b+=m.byteLength;w.length>0&&(x+=E.end-1+"]");var C=c?t.info:t.debug;this.buffers.length===0?C("MultiBufferStream","No more buffer in memory"):C("MultiBufferStream",""+this.buffers.length+" stored buffer(s) ("+U+"/"+b+" bytes), continuous ranges: "+x)},o.prototype.cleanBuffers=function(){var c,h;for(c=0;c<this.buffers.length;c++)h=this.buffers[c],h.usedBytes===h.byteLength&&(t.debug("MultiBufferStream","Removing buffer #"+c),this.buffers.splice(c,1),c--)},o.prototype.mergeNextBuffer=function(){var c;if(this.bufferIndex+1<this.buffers.length)if(c=this.buffers[this.bufferIndex+1],c.fileStart===this.buffer.fileStart+this.buffer.byteLength){var h=this.buffer.byteLength,m=this.buffer.usedBytes,U=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,c),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=m,this.buffer.fileStart=U,t.debug("ISOFile","Concatenating buffer for box parsing (length: "+h+"->"+this.buffer.byteLength+")"),!0}else return!1;else return!1},o.prototype.findPosition=function(c,h,m){var U,b=null,w=-1;for(c===!0?U=0:U=this.bufferIndex;U<this.buffers.length&&(b=this.buffers[U],b.fileStart<=h);){w=U,m&&(b.fileStart+b.byteLength<=h?b.usedBytes=b.byteLength:b.usedBytes=h-b.fileStart,this.logBufferLevel());U++}return w!==-1?(b=this.buffers[w],b.fileStart+b.byteLength>=h?(t.debug("MultiBufferStream","Found position in existing buffer #"+w),w):-1):-1},o.prototype.findEndContiguousBuf=function(c){var h,m,U,b=c!==void 0?c:this.bufferIndex;if(m=this.buffers[b],this.buffers.length>b+1)for(h=b+1;h<this.buffers.length&&(U=this.buffers[h],U.fileStart===m.fileStart+m.byteLength);h++)m=U;return m.fileStart+m.byteLength},o.prototype.getEndFilePositionAfter=function(c){var h=this.findPosition(!0,c,!1);return h!==-1?this.findEndContiguousBuf(h):c},o.prototype.addUsedBytes=function(c){this.buffer.usedBytes+=c,this.logBufferLevel()},o.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},o.prototype.seek=function(c,h,m){var U;return U=this.findPosition(h,c,m),U!==-1?(this.buffer=this.buffers[U],this.bufferIndex=U,this.position=c-this.buffer.fileStart,t.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(t.debug("MultiBufferStream","Position "+c+" not found in buffered data"),!1)},o.prototype.getPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},o.prototype.getLength=function(){return this.byteLength},o.prototype.getEndPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength},e.MultiBufferStream=o;var s=function(){var c=3,h=4,m=5,U=6,b=[];b[c]="ES_Descriptor",b[h]="DecoderConfigDescriptor",b[m]="DecoderSpecificInfo",b[U]="SLConfigDescriptor",this.getDescriptorName=function(x){return b[x]};var w=this,E={};return this.parseOneDescriptor=function(x){var C=0,I,S,M;for(I=x.readUint8(),M=x.readUint8();M&128;)C=(M&127)<<7,M=x.readUint8();return C+=M&127,t.debug("MPEG4DescriptorParser","Found "+(b[I]||"Descriptor "+I)+", size "+C+" at position "+x.getPosition()),b[I]?S=new E[b[I]](C):S=new E.Descriptor(C),S.parse(x),S},E.Descriptor=function(x,C){this.tag=x,this.size=C,this.descs=[]},E.Descriptor.prototype.parse=function(x){this.data=x.readUint8Array(this.size)},E.Descriptor.prototype.findDescriptor=function(x){for(var C=0;C<this.descs.length;C++)if(this.descs[C].tag==x)return this.descs[C];return null},E.Descriptor.prototype.parseRemainingDescriptors=function(x){for(var C=x.position;x.position<C+this.size;){var I=w.parseOneDescriptor(x);this.descs.push(I)}},E.ES_Descriptor=function(x){E.Descriptor.call(this,c,x)},E.ES_Descriptor.prototype=new E.Descriptor,E.ES_Descriptor.prototype.parse=function(x){if(this.ES_ID=x.readUint16(),this.flags=x.readUint8(),this.size-=3,this.flags&128?(this.dependsOn_ES_ID=x.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,this.flags&64){var C=x.readUint8();this.URL=x.readString(C),this.size-=C+1}else this.URL="";this.flags&32?(this.OCR_ES_ID=x.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(x)},E.ES_Descriptor.prototype.getOTI=function(x){var C=this.findDescriptor(h);return C?C.oti:0},E.ES_Descriptor.prototype.getAudioConfig=function(x){var C=this.findDescriptor(h);if(!C)return null;var I=C.findDescriptor(m);if(I&&I.data){var S=(I.data[0]&248)>>3;return S===31&&I.data.length>=2&&(S=32+((I.data[0]&7)<<3)+((I.data[1]&224)>>5)),S}else return null},E.DecoderConfigDescriptor=function(x){E.Descriptor.call(this,h,x)},E.DecoderConfigDescriptor.prototype=new E.Descriptor,E.DecoderConfigDescriptor.prototype.parse=function(x){this.oti=x.readUint8(),this.streamType=x.readUint8(),this.upStream=(this.streamType>>1&1)!==0,this.streamType=this.streamType>>>2,this.bufferSize=x.readUint24(),this.maxBitrate=x.readUint32(),this.avgBitrate=x.readUint32(),this.size-=13,this.parseRemainingDescriptors(x)},E.DecoderSpecificInfo=function(x){E.Descriptor.call(this,m,x)},E.DecoderSpecificInfo.prototype=new E.Descriptor,E.SLConfigDescriptor=function(x){E.Descriptor.call(this,U,x)},E.SLConfigDescriptor.prototype=new E.Descriptor,this};e.MPEG4DescriptorParser=s;var l={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:["mdat","idat","free","skip","meco","strk"],FULL_BOXES:["hmhd","nmhd","iods","xml ","bxml","ipro","mere"],CONTAINER_BOXES:[["moov",["trak","pssh"]],["trak"],["edts"],["mdia"],["minf"],["dinf"],["stbl",["sgpd","sbgp"]],["mvex",["trex"]],["moof",["traf"]],["traf",["trun","sgpd","sbgp"]],["vttc"],["tref"],["iref"],["mfra",["tfra"]],["meco"],["hnti"],["hinf"],["strk"],["strd"],["sinf"],["rinf"],["schi"],["trgr"],["udta",["kind"]],["iprp",["ipma"]],["ipco"],["grpl"],["j2kH"],["etyp",["tyco"]]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){l.FullBox.prototype=new l.Box,l.ContainerBox.prototype=new l.Box,l.SampleEntry.prototype=new l.Box,l.TrackGroupTypeBox.prototype=new l.FullBox,l.BASIC_BOXES.forEach(function(c){l.createBoxCtor(c)}),l.FULL_BOXES.forEach(function(c){l.createFullBoxCtor(c)}),l.CONTAINER_BOXES.forEach(function(c){l.createContainerBoxCtor(c[0],null,c[1])})},Box:function(c,h,m){this.type=c,this.size=h,this.uuid=m},FullBox:function(c,h,m){l.Box.call(this,c,h,m),this.flags=0,this.version=0},ContainerBox:function(c,h,m){l.Box.call(this,c,h,m),this.boxes=[]},SampleEntry:function(c,h,m,U){l.ContainerBox.call(this,c,h),this.hdr_size=m,this.start=U},SampleGroupEntry:function(c){this.grouping_type=c},TrackGroupTypeBox:function(c,h){l.FullBox.call(this,c,h)},createBoxCtor:function(c,h){l.boxCodes.push(c),l[c+"Box"]=function(m){l.Box.call(this,c,m)},l[c+"Box"].prototype=new l.Box,h&&(l[c+"Box"].prototype.parse=h)},createFullBoxCtor:function(c,h){l[c+"Box"]=function(m){l.FullBox.call(this,c,m)},l[c+"Box"].prototype=new l.FullBox,l[c+"Box"].prototype.parse=function(m){this.parseFullHeader(m),h&&h.call(this,m)}},addSubBoxArrays:function(c){if(c){this.subBoxNames=c;for(var h=c.length,m=0;m<h;m++)this[c[m]+"s"]=[]}},createContainerBoxCtor:function(c,h,m){l[c+"Box"]=function(U){l.ContainerBox.call(this,c,U),l.addSubBoxArrays.call(this,m)},l[c+"Box"].prototype=new l.ContainerBox,h&&(l[c+"Box"].prototype.parse=h)},createMediaSampleEntryCtor:function(c,h,m){l.sampleEntryCodes[c]=[],l[c+"SampleEntry"]=function(U,b){l.SampleEntry.call(this,U,b),l.addSubBoxArrays.call(this,m)},l[c+"SampleEntry"].prototype=new l.SampleEntry,h&&(l[c+"SampleEntry"].prototype.parse=h)},createSampleEntryCtor:function(c,h,m,U){l.sampleEntryCodes[c].push(h),l[h+"SampleEntry"]=function(b){l[c+"SampleEntry"].call(this,h,b),l.addSubBoxArrays.call(this,U)},l[h+"SampleEntry"].prototype=new l[c+"SampleEntry"],m&&(l[h+"SampleEntry"].prototype.parse=m)},createEncryptedSampleEntryCtor:function(c,h,m){l.createSampleEntryCtor.call(this,c,h,m,["sinf"])},createSampleGroupCtor:function(c,h){l[c+"SampleGroupEntry"]=function(m){l.SampleGroupEntry.call(this,c,m)},l[c+"SampleGroupEntry"].prototype=new l.SampleGroupEntry,h&&(l[c+"SampleGroupEntry"].prototype.parse=h)},createTrackGroupCtor:function(c,h){l[c+"TrackGroupTypeBox"]=function(m){l.TrackGroupTypeBox.call(this,c,m)},l[c+"TrackGroupTypeBox"].prototype=new l.TrackGroupTypeBox,h&&(l[c+"TrackGroupTypeBox"].prototype.parse=h)},createUUIDBox:function(c,h,m,U){l.UUIDs.push(c),l.UUIDBoxes[c]=function(b){h?l.FullBox.call(this,"uuid",b,c):m?l.ContainerBox.call(this,"uuid",b,c):l.Box.call(this,"uuid",b,c)},l.UUIDBoxes[c].prototype=h?new l.FullBox:m?new l.ContainerBox:new l.Box,U&&(h?l.UUIDBoxes[c].prototype.parse=function(b){this.parseFullHeader(b),U&&U.call(this,b)}:l.UUIDBoxes[c].prototype.parse=U)}};l.initialize(),l.TKHD_FLAG_ENABLED=1,l.TKHD_FLAG_IN_MOVIE=2,l.TKHD_FLAG_IN_PREVIEW=4,l.TFHD_FLAG_BASE_DATA_OFFSET=1,l.TFHD_FLAG_SAMPLE_DESC=2,l.TFHD_FLAG_SAMPLE_DUR=8,l.TFHD_FLAG_SAMPLE_SIZE=16,l.TFHD_FLAG_SAMPLE_FLAGS=32,l.TFHD_FLAG_DUR_EMPTY=65536,l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,l.TRUN_FLAGS_DATA_OFFSET=1,l.TRUN_FLAGS_FIRST_FLAG=4,l.TRUN_FLAGS_DURATION=256,l.TRUN_FLAGS_SIZE=512,l.TRUN_FLAGS_FLAGS=1024,l.TRUN_FLAGS_CTS_OFFSET=2048,l.Box.prototype.add=function(c){return this.addBox(new l[c+"Box"])},l.Box.prototype.addBox=function(c){return this.boxes.push(c),this[c.type+"s"]?this[c.type+"s"].push(c):this[c.type]=c,c},l.Box.prototype.set=function(c,h){return this[c]=h,this},l.Box.prototype.addEntry=function(c,h){var m=h||"entries";return this[m]||(this[m]=[]),this[m].push(c),this},e.BoxParser=l,l.parseUUID=function(c){return l.parseHex16(c)},l.parseHex16=function(c){for(var h="",m=0;m<16;m++){var U=c.readUint8().toString(16);h+=U.length===1?"0"+U:U}return h},l.parseOneBox=function(c,h,m){var U,b=c.getPosition(),w=0,E,x;if(c.getEndPosition()-b<8)return t.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:l.ERR_NOT_ENOUGH_DATA};if(m&&m<8)return t.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:l.ERR_NOT_ENOUGH_DATA};var C=c.readUint32(),I=c.readString(4),S=I;if(t.debug("BoxParser","Found box of type '"+I+"' and size "+C+" at position "+b),w=8,I=="uuid"){if(c.getEndPosition()-c.getPosition()<16||m-w<16)return c.seek(b),t.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:l.ERR_NOT_ENOUGH_DATA};x=l.parseUUID(c),w+=16,S=x}if(C==1){if(c.getEndPosition()-c.getPosition()<8||m&&m-w<8)return c.seek(b),t.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+I+'" box'),{code:l.ERR_NOT_ENOUGH_DATA};C=c.readUint64(),w+=8}else if(C===0){if(m)C=m;else if(I!=="mdat")return t.error("BoxParser","Unlimited box size not supported for type: '"+I+"'"),U=new l.Box(I,C),{code:l.OK,box:U,size:U.size}}return C!==0&&C<w?(t.error("BoxParser","Box of type "+I+" has an invalid size "+C+" (too small to be a box)"),{code:l.ERR_NOT_ENOUGH_DATA,type:I,size:C,hdr_size:w,start:b}):C!==0&&m&&C>m?(t.error("BoxParser","Box of type '"+I+"' has a size "+C+" greater than its container size "+m),{code:l.ERR_NOT_ENOUGH_DATA,type:I,size:C,hdr_size:w,start:b}):C!==0&&b+C>c.getEndPosition()?(c.seek(b),t.info("BoxParser","Not enough data in stream to parse the entire '"+I+"' box"),{code:l.ERR_NOT_ENOUGH_DATA,type:I,size:C,hdr_size:w,start:b}):h?{code:l.OK,type:I,size:C,hdr_size:w,start:b}:(l[I+"Box"]?U=new l[I+"Box"](C):I!=="uuid"?(t.warn("BoxParser","Unknown box type: '"+I+"'"),U=new l.Box(I,C),U.has_unparsed_data=!0):l.UUIDBoxes[x]?U=new l.UUIDBoxes[x](C):(t.warn("BoxParser","Unknown uuid type: '"+x+"'"),U=new l.Box(I,C),U.uuid=x,U.has_unparsed_data=!0),U.hdr_size=w,U.start=b,U.write===l.Box.prototype.write&&U.type!=="mdat"&&(t.info("BoxParser","'"+S+"' box writing not yet implemented, keeping unparsed data in memory for later write"),U.parseDataAndRewind(c)),U.parse(c),E=c.getPosition()-(U.start+U.size),E<0?(t.warn("BoxParser","Parsing of box '"+S+"' did not read the entire indicated box data size (missing "+-E+" bytes), seeking forward"),c.seek(U.start+U.size)):E>0&&(t.error("BoxParser","Parsing of box '"+S+"' read "+E+" more bytes than the indicated box data size, seeking backwards"),U.size!==0&&c.seek(U.start+U.size)),{code:l.OK,box:U,size:U.size})},l.Box.prototype.parse=function(c){this.type!="mdat"?this.data=c.readUint8Array(this.size-this.hdr_size):this.size===0?c.seek(c.getEndPosition()):c.seek(this.start+this.size)},l.Box.prototype.parseDataAndRewind=function(c){this.data=c.readUint8Array(this.size-this.hdr_size),c.position-=this.size-this.hdr_size},l.FullBox.prototype.parseDataAndRewind=function(c){this.parseFullHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,c.position-=this.size-this.hdr_size},l.FullBox.prototype.parseFullHeader=function(c){this.version=c.readUint8(),this.flags=c.readUint24(),this.hdr_size+=4},l.FullBox.prototype.parse=function(c){this.parseFullHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size)},l.ContainerBox.prototype.parse=function(c){for(var h,m;c.getPosition()<this.start+this.size;)if(h=l.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),h.code===l.OK)if(m=h.box,this.boxes.push(m),this.subBoxNames&&this.subBoxNames.indexOf(m.type)!=-1)this[this.subBoxNames[this.subBoxNames.indexOf(m.type)]+"s"].push(m);else{var U=m.type!=="uuid"?m.type:m.uuid;this[U]?t.warn("Box of type "+U+" already stored in field of this type"):this[U]=m}else return},l.Box.prototype.parseLanguage=function(c){this.language=c.readUint16();var h=[];h[0]=this.language>>10&31,h[1]=this.language>>5&31,h[2]=this.language&31,this.languageString=String.fromCharCode(h[0]+96,h[1]+96,h[2]+96)},l.SAMPLE_ENTRY_TYPE_VISUAL="Visual",l.SAMPLE_ENTRY_TYPE_AUDIO="Audio",l.SAMPLE_ENTRY_TYPE_HINT="Hint",l.SAMPLE_ENTRY_TYPE_METADATA="Metadata",l.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle",l.SAMPLE_ENTRY_TYPE_SYSTEM="System",l.SAMPLE_ENTRY_TYPE_TEXT="Text",l.SampleEntry.prototype.parseHeader=function(c){c.readUint8Array(6),this.data_reference_index=c.readUint16(),this.hdr_size+=8},l.SampleEntry.prototype.parse=function(c){this.parseHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size)},l.SampleEntry.prototype.parseDataAndRewind=function(c){this.parseHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,c.position-=this.size-this.hdr_size},l.SampleEntry.prototype.parseFooter=function(c){l.ContainerBox.prototype.parse.call(this,c)},l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_HINT),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SYSTEM),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_TEXT),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,function(c){var h;this.parseHeader(c),c.readUint16(),c.readUint16(),c.readUint32Array(3),this.width=c.readUint16(),this.height=c.readUint16(),this.horizresolution=c.readUint32(),this.vertresolution=c.readUint32(),c.readUint32(),this.frame_count=c.readUint16(),h=Math.min(31,c.readUint8()),this.compressorname=c.readString(h),h<31&&c.readString(31-h),this.depth=c.readUint16(),c.readUint16(),this.parseFooter(c)}),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,function(c){this.parseHeader(c),c.readUint32Array(2),this.channel_count=c.readUint16(),this.samplesize=c.readUint16(),c.readUint16(),c.readUint16(),this.samplerate=c.readUint32()/65536,this.parseFooter(c)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc4"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"av01"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dav1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hev1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hvt1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"lhe1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dvh1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dvhe"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvi1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvs1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvcN"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vp08"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vp09"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avs3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"j2ki"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"mjp2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"mjpg"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"uncv"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ac-4"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"Opus"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mha1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mha2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mhm1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mhm2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"fLaC"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"encv"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"enca"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SYSTEM,"encs"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_TEXT,"enct"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"encm"),l.createBoxCtor("a1lx",function(c){var h=c.readUint8()&1,m=((h&1)+1)*16;this.layer_size=[];for(var U=0;U<3;U++)m==16?this.layer_size[U]=c.readUint16():this.layer_size[U]=c.readUint32()}),l.createBoxCtor("a1op",function(c){this.op_index=c.readUint8()}),l.createFullBoxCtor("auxC",function(c){this.aux_type=c.readCString();var h=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=c.readUint8Array(h)}),l.createBoxCtor("av1C",function(c){var h=c.readUint8();if(h>>7&!1){t.error("av1C marker problem");return}if(this.version=h&127,this.version!==1){t.error("av1C version "+this.version+" not supported");return}if(h=c.readUint8(),this.seq_profile=h>>5&7,this.seq_level_idx_0=h&31,h=c.readUint8(),this.seq_tier_0=h>>7&1,this.high_bitdepth=h>>6&1,this.twelve_bit=h>>5&1,this.monochrome=h>>4&1,this.chroma_subsampling_x=h>>3&1,this.chroma_subsampling_y=h>>2&1,this.chroma_sample_position=h&3,h=c.readUint8(),this.reserved_1=h>>5&7,this.reserved_1!==0){t.error("av1C reserved_1 parsing problem");return}if(this.initial_presentation_delay_present=h>>4&1,this.initial_presentation_delay_present===1)this.initial_presentation_delay_minus_one=h&15;else if(this.reserved_2=h&15,this.reserved_2!==0){t.error("av1C reserved_2 parsing problem");return}var m=this.size-this.hdr_size-4;this.configOBUs=c.readUint8Array(m)}),l.createBoxCtor("avcC",function(c){var h,m;for(this.configurationVersion=c.readUint8(),this.AVCProfileIndication=c.readUint8(),this.profile_compatibility=c.readUint8(),this.AVCLevelIndication=c.readUint8(),this.lengthSizeMinusOne=c.readUint8()&3,this.nb_SPS_nalus=c.readUint8()&31,m=this.size-this.hdr_size-6,this.SPS=[],h=0;h<this.nb_SPS_nalus;h++)this.SPS[h]={},this.SPS[h].length=c.readUint16(),this.SPS[h].nalu=c.readUint8Array(this.SPS[h].length),m-=2+this.SPS[h].length;for(this.nb_PPS_nalus=c.readUint8(),m--,this.PPS=[],h=0;h<this.nb_PPS_nalus;h++)this.PPS[h]={},this.PPS[h].length=c.readUint16(),this.PPS[h].nalu=c.readUint8Array(this.PPS[h].length),m-=2+this.PPS[h].length;m>0&&(this.ext=c.readUint8Array(m))}),l.createBoxCtor("btrt",function(c){this.bufferSizeDB=c.readUint32(),this.maxBitrate=c.readUint32(),this.avgBitrate=c.readUint32()}),l.createFullBoxCtor("ccst",function(c){var h=c.readUint8();this.all_ref_pics_intra=(h&128)==128,this.intra_pred_used=(h&64)==64,this.max_ref_per_pic=(h&63)>>2,c.readUint24()}),l.createBoxCtor("cdef",function(c){var h;for(this.channel_count=c.readUint16(),this.channel_indexes=[],this.channel_types=[],this.channel_associations=[],h=0;h<this.channel_count;h++)this.channel_indexes.push(c.readUint16()),this.channel_types.push(c.readUint16()),this.channel_associations.push(c.readUint16())}),l.createBoxCtor("clap",function(c){this.cleanApertureWidthN=c.readUint32(),this.cleanApertureWidthD=c.readUint32(),this.cleanApertureHeightN=c.readUint32(),this.cleanApertureHeightD=c.readUint32(),this.horizOffN=c.readUint32(),this.horizOffD=c.readUint32(),this.vertOffN=c.readUint32(),this.vertOffD=c.readUint32()}),l.createBoxCtor("clli",function(c){this.max_content_light_level=c.readUint16(),this.max_pic_average_light_level=c.readUint16()}),l.createFullBoxCtor("cmex",function(c){this.flags&1&&(this.pos_x=c.readInt32()),this.flags&2&&(this.pos_y=c.readInt32()),this.flags&4&&(this.pos_z=c.readInt32()),this.flags&8&&(this.version==0?this.flags&16?(this.quat_x=c.readInt32(),this.quat_y=c.readInt32(),this.quat_z=c.readInt32()):(this.quat_x=c.readInt16(),this.quat_y=c.readInt16(),this.quat_z=c.readInt16()):this.version==1),this.flags&32&&(this.id=c.readUint32())}),l.createFullBoxCtor("cmin",function(c){this.focal_length_x=c.readInt32(),this.principal_point_x=c.readInt32(),this.principal_point_y=c.readInt32(),this.flags&1&&(this.focal_length_y=c.readInt32(),this.skew_factor=c.readInt32())}),l.createBoxCtor("cmpd",function(c){for(this.component_count=c.readUint32(),this.component_types=[],this.component_type_urls=[],i=0;i<this.component_count;i++){var h=c.readUint16();this.component_types.push(h),h>=32768&&this.component_type_urls.push(c.readCString())}}),l.createFullBoxCtor("co64",function(c){var h,m;if(h=c.readUint32(),this.chunk_offsets=[],this.version===0)for(m=0;m<h;m++)this.chunk_offsets.push(c.readUint64())}),l.createFullBoxCtor("CoLL",function(c){this.maxCLL=c.readUint16(),this.maxFALL=c.readUint16()}),l.createBoxCtor("colr",function(c){if(this.colour_type=c.readString(4),this.colour_type==="nclx"){this.colour_primaries=c.readUint16(),this.transfer_characteristics=c.readUint16(),this.matrix_coefficients=c.readUint16();var h=c.readUint8();this.full_range_flag=h>>7}else this.colour_type==="rICC"?this.ICC_profile=c.readUint8Array(this.size-4):this.colour_type==="prof"&&(this.ICC_profile=c.readUint8Array(this.size-4))}),l.createFullBoxCtor("cprt",function(c){this.parseLanguage(c),this.notice=c.readCString()}),l.createFullBoxCtor("cslg",function(c){this.version===0&&(this.compositionToDTSShift=c.readInt32(),this.leastDecodeToDisplayDelta=c.readInt32(),this.greatestDecodeToDisplayDelta=c.readInt32(),this.compositionStartTime=c.readInt32(),this.compositionEndTime=c.readInt32())}),l.createFullBoxCtor("ctts",function(c){var h,m;if(h=c.readUint32(),this.sample_counts=[],this.sample_offsets=[],this.version===0)for(m=0;m<h;m++){this.sample_counts.push(c.readUint32());var U=c.readInt32();U<0&&t.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(U)}else if(this.version==1)for(m=0;m<h;m++)this.sample_counts.push(c.readUint32()),this.sample_offsets.push(c.readInt32())}),l.createBoxCtor("dac3",function(c){var h=c.readUint8(),m=c.readUint8(),U=c.readUint8();this.fscod=h>>6,this.bsid=h>>1&31,this.bsmod=(h&1)<<2|m>>6&3,this.acmod=m>>3&7,this.lfeon=m>>2&1,this.bit_rate_code=m&3|U>>5&7}),l.createBoxCtor("dec3",function(c){var h=c.readUint16();this.data_rate=h>>3,this.num_ind_sub=h&7,this.ind_subs=[];for(var m=0;m<this.num_ind_sub+1;m++){var U={};this.ind_subs.push(U);var b=c.readUint8(),w=c.readUint8(),E=c.readUint8();U.fscod=b>>6,U.bsid=b>>1&31,U.bsmod=(b&1)<<4|w>>4&15,U.acmod=w>>1&7,U.lfeon=w&1,U.num_dep_sub=E>>1&15,U.num_dep_sub>0&&(U.chan_loc=(E&1)<<8|c.readUint8())}}),l.createFullBoxCtor("dfLa",function(c){var h=127,m=128,U=[],b=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];do{var w=c.readUint8(),E=Math.min(w&h,b.length-1);if(E?c.readUint8Array(c.readUint24()):(c.readUint8Array(13),this.samplerate=c.readUint32()>>12,c.readUint8Array(20)),U.push(b[E]),w&m)break}while(!0);this.numMetadataBlocks=U.length+" ("+U.join(", ")+")"}),l.createBoxCtor("dimm",function(c){this.bytessent=c.readUint64()}),l.createBoxCtor("dmax",function(c){this.time=c.readUint32()}),l.createBoxCtor("dmed",function(c){this.bytessent=c.readUint64()}),l.createBoxCtor("dOps",function(c){if(this.Version=c.readUint8(),this.OutputChannelCount=c.readUint8(),this.PreSkip=c.readUint16(),this.InputSampleRate=c.readUint32(),this.OutputGain=c.readInt16(),this.ChannelMappingFamily=c.readUint8(),this.ChannelMappingFamily!==0){this.StreamCount=c.readUint8(),this.CoupledCount=c.readUint8(),this.ChannelMapping=[];for(var h=0;h<this.OutputChannelCount;h++)this.ChannelMapping[h]=c.readUint8()}}),l.createFullBoxCtor("dref",function(c){var h,m;this.entries=[];for(var U=c.readUint32(),b=0;b<U;b++)if(h=l.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),h.code===l.OK)m=h.box,this.entries.push(m);else return}),l.createBoxCtor("drep",function(c){this.bytessent=c.readUint64()}),l.createFullBoxCtor("elng",function(c){this.extended_language=c.readString(this.size-this.hdr_size)}),l.createFullBoxCtor("elst",function(c){this.entries=[];for(var h=c.readUint32(),m=0;m<h;m++){var U={};this.entries.push(U),this.version===1?(U.segment_duration=c.readUint64(),U.media_time=c.readInt64()):(U.segment_duration=c.readUint32(),U.media_time=c.readInt32()),U.media_rate_integer=c.readInt16(),U.media_rate_fraction=c.readInt16()}}),l.createFullBoxCtor("emsg",function(c){this.version==1?(this.timescale=c.readUint32(),this.presentation_time=c.readUint64(),this.event_duration=c.readUint32(),this.id=c.readUint32(),this.scheme_id_uri=c.readCString(),this.value=c.readCString()):(this.scheme_id_uri=c.readCString(),this.value=c.readCString(),this.timescale=c.readUint32(),this.presentation_time_delta=c.readUint32(),this.event_duration=c.readUint32(),this.id=c.readUint32());var h=this.size-this.hdr_size-(4*4+(this.scheme_id_uri.length+1)+(this.value.length+1));this.version==1&&(h-=4),this.message_data=c.readUint8Array(h)}),l.createEntityToGroupCtor=function(c,h){l[c+"Box"]=function(m){l.FullBox.call(this,c,m)},l[c+"Box"].prototype=new l.FullBox,l[c+"Box"].prototype.parse=function(m){if(this.parseFullHeader(m),h)h.call(this,m);else for(this.group_id=m.readUint32(),this.num_entities_in_group=m.readUint32(),this.entity_ids=[],i=0;i<this.num_entities_in_group;i++){var U=m.readUint32();this.entity_ids.push(U)}}},l.createEntityToGroupCtor("aebr"),l.createEntityToGroupCtor("afbr"),l.createEntityToGroupCtor("albc"),l.createEntityToGroupCtor("altr"),l.createEntityToGroupCtor("brst"),l.createEntityToGroupCtor("dobr"),l.createEntityToGroupCtor("eqiv"),l.createEntityToGroupCtor("favc"),l.createEntityToGroupCtor("fobr"),l.createEntityToGroupCtor("iaug"),l.createEntityToGroupCtor("pano"),l.createEntityToGroupCtor("slid"),l.createEntityToGroupCtor("ster"),l.createEntityToGroupCtor("tsyn"),l.createEntityToGroupCtor("wbbr"),l.createEntityToGroupCtor("prgr"),l.createEntityToGroupCtor("pymd",function(c){this.group_id=c.readUint32(),this.num_entities_in_group=c.readUint32(),this.entity_ids=[];for(var h=0;h<this.num_entities_in_group;h++){var m=c.readUint32();this.entity_ids.push(m)}for(this.tile_size_x=c.readUint16(),this.tile_size_y=c.readUint16(),this.layer_binning=[],this.tiles_in_layer_column_minus1=[],this.tiles_in_layer_row_minus1=[],h=0;h<this.num_entities_in_group;h++)this.layer_binning[h]=c.readUint16(),this.tiles_in_layer_row_minus1[h]=c.readUint16(),this.tiles_in_layer_column_minus1[h]=c.readUint16()}),l.createFullBoxCtor("esds",function(c){var h=c.readUint8Array(this.size-this.hdr_size);if(this.data=h,typeof s<"u"){var m=new s;this.esd=m.parseOneDescriptor(new r(h.buffer,0,r.BIG_ENDIAN))}}),l.createBoxCtor("fiel",function(c){this.fieldCount=c.readUint8(),this.fieldOrdering=c.readUint8()}),l.createBoxCtor("frma",function(c){this.data_format=c.readString(4)}),l.createBoxCtor("ftyp",function(c){var h=this.size-this.hdr_size;this.major_brand=c.readString(4),this.minor_version=c.readUint32(),h-=8,this.compatible_brands=[];for(var m=0;h>=4;)this.compatible_brands[m]=c.readString(4),h-=4,m++}),l.createFullBoxCtor("hdlr",function(c){this.version===0&&(c.readUint32(),this.handler=c.readString(4),c.readUint32Array(3),this.name=c.readString(this.size-this.hdr_size-20),this.name[this.name.length-1]==="\0"&&(this.name=this.name.slice(0,-1)))}),l.createBoxCtor("hvcC",function(c){var h,m,U,b;this.configurationVersion=c.readUint8(),b=c.readUint8(),this.general_profile_space=b>>6,this.general_tier_flag=(b&32)>>5,this.general_profile_idc=b&31,this.general_profile_compatibility=c.readUint32(),this.general_constraint_indicator=c.readUint8Array(6),this.general_level_idc=c.readUint8(),this.min_spatial_segmentation_idc=c.readUint16()&4095,this.parallelismType=c.readUint8()&3,this.chroma_format_idc=c.readUint8()&3,this.bit_depth_luma_minus8=c.readUint8()&7,this.bit_depth_chroma_minus8=c.readUint8()&7,this.avgFrameRate=c.readUint16(),b=c.readUint8(),this.constantFrameRate=b>>6,this.numTemporalLayers=(b&13)>>3,this.temporalIdNested=(b&4)>>2,this.lengthSizeMinusOne=b&3,this.nalu_arrays=[];var w=c.readUint8();for(h=0;h<w;h++){var E=[];this.nalu_arrays.push(E),b=c.readUint8(),E.completeness=(b&128)>>7,E.nalu_type=b&63;var x=c.readUint16();for(m=0;m<x;m++){var C={};E.push(C),U=c.readUint16(),C.data=c.readUint8Array(U)}}}),l.createFullBoxCtor("iinf",function(c){var h;this.version===0?this.entry_count=c.readUint16():this.entry_count=c.readUint32(),this.item_infos=[];for(var m=0;m<this.entry_count;m++)if(h=l.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),h.code===l.OK)h.box.type!=="infe"&&t.error("BoxParser","Expected 'infe' box, got "+h.box.type),this.item_infos[m]=h.box;else return}),l.createFullBoxCtor("iloc",function(c){var h;h=c.readUint8(),this.offset_size=h>>4&15,this.length_size=h&15,h=c.readUint8(),this.base_offset_size=h>>4&15,this.version===1||this.version===2?this.index_size=h&15:this.index_size=0,this.items=[];var m=0;if(this.version<2)m=c.readUint16();else if(this.version===2)m=c.readUint32();else throw"version of iloc box not supported";for(var U=0;U<m;U++){var b={};if(this.items.push(b),this.version<2)b.item_ID=c.readUint16();else if(this.version===2)b.item_ID=c.readUint32();else throw"version of iloc box not supported";switch(this.version===1||this.version===2?b.construction_method=c.readUint16()&15:b.construction_method=0,b.data_reference_index=c.readUint16(),this.base_offset_size){case 0:b.base_offset=0;break;case 4:b.base_offset=c.readUint32();break;case 8:b.base_offset=c.readUint64();break;default:throw"Error reading base offset size"}var w=c.readUint16();b.extents=[];for(var E=0;E<w;E++){var x={};if(b.extents.push(x),this.version===1||this.version===2)switch(this.index_size){case 0:x.extent_index=0;break;case 4:x.extent_index=c.readUint32();break;case 8:x.extent_index=c.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:x.extent_offset=0;break;case 4:x.extent_offset=c.readUint32();break;case 8:x.extent_offset=c.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:x.extent_length=0;break;case 4:x.extent_length=c.readUint32();break;case 8:x.extent_length=c.readUint64();break;default:throw"Error reading extent index"}}}}),l.createBoxCtor("imir",function(c){var h=c.readUint8();this.reserved=h>>7,this.axis=h&1}),l.createFullBoxCtor("infe",function(c){if((this.version===0||this.version===1)&&(this.item_ID=c.readUint16(),this.item_protection_index=c.readUint16(),this.item_name=c.readCString(),this.content_type=c.readCString(),this.content_encoding=c.readCString()),this.version===1){this.extension_type=c.readString(4),t.warn("BoxParser","Cannot parse extension type"),c.seek(this.start+this.size);return}this.version>=2&&(this.version===2?this.item_ID=c.readUint16():this.version===3&&(this.item_ID=c.readUint32()),this.item_protection_index=c.readUint16(),this.item_type=c.readString(4),this.item_name=c.readCString(),this.item_type==="mime"?(this.content_type=c.readCString(),this.content_encoding=c.readCString()):this.item_type==="uri "&&(this.item_uri_type=c.readCString()))}),l.createFullBoxCtor("ipma",function(c){var h,m;for(entry_count=c.readUint32(),this.associations=[],h=0;h<entry_count;h++){var U={};this.associations.push(U),this.version<1?U.id=c.readUint16():U.id=c.readUint32();var b=c.readUint8();for(U.props=[],m=0;m<b;m++){var w=c.readUint8(),E={};U.props.push(E),E.essential=(w&128)>>7===1,this.flags&1?E.property_index=(w&127)<<8|c.readUint8():E.property_index=w&127}}}),l.createFullBoxCtor("iref",function(c){var h,m;for(this.references=[];c.getPosition()<this.start+this.size;)if(h=l.parseOneBox(c,!0,this.size-(c.getPosition()-this.start)),h.code===l.OK)this.version===0?m=new l.SingleItemTypeReferenceBox(h.type,h.size,h.hdr_size,h.start):m=new l.SingleItemTypeReferenceBoxLarge(h.type,h.size,h.hdr_size,h.start),m.write===l.Box.prototype.write&&m.type!=="mdat"&&(t.warn("BoxParser",m.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),m.parseDataAndRewind(c)),m.parse(c),this.references.push(m);else return}),l.createBoxCtor("irot",function(c){this.angle=c.readUint8()&3}),l.createFullBoxCtor("ispe",function(c){this.image_width=c.readUint32(),this.image_height=c.readUint32()}),l.createFullBoxCtor("kind",function(c){this.schemeURI=c.readCString(),this.value=c.readCString()}),l.createFullBoxCtor("leva",function(c){var h=c.readUint8();this.levels=[];for(var m=0;m<h;m++){var U={};this.levels[m]=U,U.track_ID=c.readUint32();var b=c.readUint8();switch(U.padding_flag=b>>7,U.assignment_type=b&127,U.assignment_type){case 0:U.grouping_type=c.readString(4);break;case 1:U.grouping_type=c.readString(4),U.grouping_type_parameter=c.readUint32();break;case 2:break;case 3:break;case 4:U.sub_track_id=c.readUint32();break;default:t.warn("BoxParser","Unknown leva assignement type")}}}),l.createBoxCtor("lhvC",function(c){var h,m,U;this.configurationVersion=c.readUint8(),this.min_spatial_segmentation_idc=c.readUint16()&4095,this.parallelismType=c.readUint8()&3,U=c.readUint8(),this.numTemporalLayers=(U&13)>>3,this.temporalIdNested=(U&4)>>2,this.lengthSizeMinusOne=U&3,this.nalu_arrays=[];var b=c.readUint8();for(h=0;h<b;h++){var w=[];this.nalu_arrays.push(w),U=c.readUint8(),w.completeness=(U&128)>>7,w.nalu_type=U&63;var E=c.readUint16();for(m=0;m<E;m++){var x={};w.push(x);var C=c.readUint16();x.data=c.readUint8Array(C)}}}),l.createBoxCtor("lsel",function(c){this.layer_id=c.readUint16()}),l.createBoxCtor("maxr",function(c){this.period=c.readUint32(),this.bytes=c.readUint32()});function d(c,h){this.x=c,this.y=h}d.prototype.toString=function(){return"("+this.x+","+this.y+")"},l.createBoxCtor("mdcv",function(c){this.display_primaries=[],this.display_primaries[0]=new d(c.readUint16(),c.readUint16()),this.display_primaries[1]=new d(c.readUint16(),c.readUint16()),this.display_primaries[2]=new d(c.readUint16(),c.readUint16()),this.white_point=new d(c.readUint16(),c.readUint16()),this.max_display_mastering_luminance=c.readUint32(),this.min_display_mastering_luminance=c.readUint32()}),l.createFullBoxCtor("mdhd",function(c){this.version==1?(this.creation_time=c.readUint64(),this.modification_time=c.readUint64(),this.timescale=c.readUint32(),this.duration=c.readUint64()):(this.creation_time=c.readUint32(),this.modification_time=c.readUint32(),this.timescale=c.readUint32(),this.duration=c.readUint32()),this.parseLanguage(c),c.readUint16()}),l.createFullBoxCtor("mehd",function(c){this.flags&1&&(t.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.version==1?this.fragment_duration=c.readUint64():this.fragment_duration=c.readUint32()}),l.createFullBoxCtor("meta",function(c){this.boxes=[],l.ContainerBox.prototype.parse.call(this,c)}),l.createFullBoxCtor("mfhd",function(c){this.sequence_number=c.readUint32()}),l.createFullBoxCtor("mfro",function(c){this._size=c.readUint32()}),l.createFullBoxCtor("mskC",function(c){this.bits_per_pixel=c.readUint8()}),l.createFullBoxCtor("mvhd",function(c){this.version==1?(this.creation_time=c.readUint64(),this.modification_time=c.readUint64(),this.timescale=c.readUint32(),this.duration=c.readUint64()):(this.creation_time=c.readUint32(),this.modification_time=c.readUint32(),this.timescale=c.readUint32(),this.duration=c.readUint32()),this.rate=c.readUint32(),this.volume=c.readUint16()>>8,c.readUint16(),c.readUint32Array(2),this.matrix=c.readUint32Array(9),c.readUint32Array(6),this.next_track_id=c.readUint32()}),l.createBoxCtor("npck",function(c){this.packetssent=c.readUint32()}),l.createBoxCtor("nump",function(c){this.packetssent=c.readUint64()}),l.createFullBoxCtor("padb",function(c){var h=c.readUint32();this.padbits=[];for(var m=0;m<Math.floor((h+1)/2);m++)this.padbits=c.readUint8()}),l.createBoxCtor("pasp",function(c){this.hSpacing=c.readUint32(),this.vSpacing=c.readUint32()}),l.createBoxCtor("payl",function(c){this.text=c.readString(this.size-this.hdr_size)}),l.createBoxCtor("payt",function(c){this.payloadID=c.readUint32();var h=c.readUint8();this.rtpmap_string=c.readString(h)}),l.createFullBoxCtor("pdin",function(c){var h=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var m=0;m<h;m++)this.rate[m]=c.readUint32(),this.initial_delay[m]=c.readUint32()}),l.createFullBoxCtor("pitm",function(c){this.version===0?this.item_id=c.readUint16():this.item_id=c.readUint32()}),l.createFullBoxCtor("pixi",function(c){var h;for(this.num_channels=c.readUint8(),this.bits_per_channels=[],h=0;h<this.num_channels;h++)this.bits_per_channels[h]=c.readUint8()}),l.createBoxCtor("pmax",function(c){this.bytes=c.readUint32()}),l.createFullBoxCtor("prdi",function(c){if(this.step_count=c.readUint16(),this.item_count=[],this.flags&2)for(var h=0;h<this.step_count;h++)this.item_count[h]=c.readUint16()}),l.createFullBoxCtor("prft",function(c){this.ref_track_id=c.readUint32(),this.ntp_timestamp=c.readUint64(),this.version===0?this.media_time=c.readUint32():this.media_time=c.readUint64()}),l.createFullBoxCtor("pssh",function(c){if(this.system_id=l.parseHex16(c),this.version>0){var h=c.readUint32();this.kid=[];for(var m=0;m<h;m++)this.kid[m]=l.parseHex16(c)}var U=c.readUint32();U>0&&(this.data=c.readUint8Array(U))}),l.createFullBoxCtor("clef",function(c){this.width=c.readUint32(),this.height=c.readUint32()}),l.createFullBoxCtor("enof",function(c){this.width=c.readUint32(),this.height=c.readUint32()}),l.createFullBoxCtor("prof",function(c){this.width=c.readUint32(),this.height=c.readUint32()}),l.createContainerBoxCtor("tapt",null,["clef","prof","enof"]),l.createBoxCtor("rtp ",function(c){this.descriptionformat=c.readString(4),this.sdptext=c.readString(this.size-this.hdr_size-4)}),l.createFullBoxCtor("saio",function(c){this.flags&1&&(this.aux_info_type=c.readUint32(),this.aux_info_type_parameter=c.readUint32());var h=c.readUint32();this.offset=[];for(var m=0;m<h;m++)this.version===0?this.offset[m]=c.readUint32():this.offset[m]=c.readUint64()}),l.createFullBoxCtor("saiz",function(c){this.flags&1&&(this.aux_info_type=c.readUint32(),this.aux_info_type_parameter=c.readUint32()),this.default_sample_info_size=c.readUint8();var h=c.readUint32();if(this.sample_info_size=[],this.default_sample_info_size===0)for(var m=0;m<h;m++)this.sample_info_size[m]=c.readUint8()}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.mime_format=c.readCString(),this.parseFooter(c)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.namespace=c.readCString(),this.schema_location=c.readCString(),this.parseFooter(c)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.mime_format=c.readCString(),this.parseFooter(c)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(c){this.parseHeader(c),this.namespace=c.readCString(),this.schema_location=c.readCString(),this.auxiliary_mime_types=c.readCString(),this.parseFooter(c)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.mime_format=c.readCString(),this.parseFooter(c)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(c){this.parseHeader(c),this.displayFlags=c.readUint32(),this.horizontal_justification=c.readInt8(),this.vertical_justification=c.readInt8(),this.bg_color_rgba=c.readUint8Array(4),this.box_record=c.readInt16Array(4),this.style_record=c.readUint8Array(12),this.parseFooter(c)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(c){this.parseHeader(c),this.parseFooter(c)}),l.createSampleGroupCtor("alst",function(c){var h,m=c.readUint16();for(this.first_output_sample=c.readUint16(),this.sample_offset=[],h=0;h<m;h++)this.sample_offset[h]=c.readUint32();var U=this.description_length-4-4*m;for(this.num_output_samples=[],this.num_total_samples=[],h=0;h<U/4;h++)this.num_output_samples[h]=c.readUint16(),this.num_total_samples[h]=c.readUint16()}),l.createSampleGroupCtor("avll",function(c){this.layerNumber=c.readUint8(),this.accurateStatisticsFlag=c.readUint8(),this.avgBitRate=c.readUint16(),this.avgFrameRate=c.readUint16()}),l.createSampleGroupCtor("avss",function(c){this.subSequenceIdentifier=c.readUint16(),this.layerNumber=c.readUint8();var h=c.readUint8();this.durationFlag=h>>7,this.avgRateFlag=h>>6&1,this.durationFlag&&(this.duration=c.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=c.readUint8(),this.avgBitRate=c.readUint16(),this.avgFrameRate=c.readUint16()),this.dependency=[];for(var m=c.readUint8(),U=0;U<m;U++){var b={};this.dependency.push(b),b.subSeqDirectionFlag=c.readUint8(),b.layerNumber=c.readUint8(),b.subSequenceIdentifier=c.readUint16()}}),l.createSampleGroupCtor("dtrt",function(c){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("mvif",function(c){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("prol",function(c){this.roll_distance=c.readInt16()}),l.createSampleGroupCtor("rap ",function(c){var h=c.readUint8();this.num_leading_samples_known=h>>7,this.num_leading_samples=h&127}),l.createSampleGroupCtor("rash",function(c){if(this.operation_point_count=c.readUint16(),this.description_length!==2+(this.operation_point_count===1?2:this.operation_point_count*6)+9)t.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=c.readUint8Array(this.description_length-2);else{if(this.operation_point_count===1)this.target_rate_share=c.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var h=0;h<this.operation_point_count;h++)this.available_bitrate[h]=c.readUint32(),this.target_rate_share[h]=c.readUint16()}this.maximum_bitrate=c.readUint32(),this.minimum_bitrate=c.readUint32(),this.discard_priority=c.readUint8()}}),l.createSampleGroupCtor("roll",function(c){this.roll_distance=c.readInt16()}),l.SampleGroupEntry.prototype.parse=function(c){t.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=c.readUint8Array(this.description_length)},l.createSampleGroupCtor("scif",function(c){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("scnm",function(c){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("seig",function(c){this.reserved=c.readUint8();var h=c.readUint8();this.crypt_byte_block=h>>4,this.skip_byte_block=h&15,this.isProtected=c.readUint8(),this.Per_Sample_IV_Size=c.readUint8(),this.KID=l.parseHex16(c),this.constant_IV_size=0,this.constant_IV=0,this.isProtected===1&&this.Per_Sample_IV_Size===0&&(this.constant_IV_size=c.readUint8(),this.constant_IV=c.readUint8Array(this.constant_IV_size))}),l.createSampleGroupCtor("stsa",function(c){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("sync",function(c){var h=c.readUint8();this.NAL_unit_type=h&63}),l.createSampleGroupCtor("tele",function(c){var h=c.readUint8();this.level_independently_decodable=h>>7}),l.createSampleGroupCtor("tsas",function(c){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("tscl",function(c){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("vipr",function(c){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createFullBoxCtor("sbgp",function(c){this.grouping_type=c.readString(4),this.version===1?this.grouping_type_parameter=c.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var h=c.readUint32(),m=0;m<h;m++){var U={};this.entries.push(U),U.sample_count=c.readInt32(),U.group_description_index=c.readInt32()}});function u(c,h){this.bad_pixel_row=c,this.bad_pixel_column=h}u.prototype.toString=function(){return"[row: "+this.bad_pixel_row+", column: "+this.bad_pixel_column+"]"},l.createFullBoxCtor("sbpm",function(c){var h;for(this.component_count=c.readUint16(),this.component_index=[],h=0;h<this.component_count;h++)this.component_index.push(c.readUint16());var m=c.readUint8();for(this.correction_applied=(m&128)==128,this.num_bad_rows=c.readUint32(),this.num_bad_cols=c.readUint32(),this.num_bad_pixels=c.readUint32(),this.bad_rows=[],this.bad_columns=[],this.bad_pixels=[],h=0;h<this.num_bad_rows;h++)this.bad_rows.push(c.readUint32());for(h=0;h<this.num_bad_cols;h++)this.bad_columns.push(c.readUint32());for(h=0;h<this.num_bad_pixels;h++){var U=c.readUint32(),b=c.readUint32();this.bad_pixels.push(new u(U,b))}}),l.createFullBoxCtor("schm",function(c){this.scheme_type=c.readString(4),this.scheme_version=c.readUint32(),this.flags&1&&(this.scheme_uri=c.readString(this.size-this.hdr_size-8))}),l.createBoxCtor("sdp ",function(c){this.sdptext=c.readString(this.size-this.hdr_size)}),l.createFullBoxCtor("sdtp",function(c){var h,m=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var U=0;U<m;U++)h=c.readUint8(),this.is_leading[U]=h>>6,this.sample_depends_on[U]=h>>4&3,this.sample_is_depended_on[U]=h>>2&3,this.sample_has_redundancy[U]=h&3}),l.createFullBoxCtor("senc"),l.createFullBoxCtor("sgpd",function(c){this.grouping_type=c.readString(4),t.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.version===1?this.default_length=c.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=c.readUint32()),this.entries=[];for(var h=c.readUint32(),m=0;m<h;m++){var U;l[this.grouping_type+"SampleGroupEntry"]?U=new l[this.grouping_type+"SampleGroupEntry"](this.grouping_type):U=new l.SampleGroupEntry(this.grouping_type),this.entries.push(U),this.version===1?this.default_length===0?U.description_length=c.readUint32():U.description_length=this.default_length:U.description_length=this.default_length,U.write===l.SampleGroupEntry.prototype.write&&(t.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),U.data=c.readUint8Array(U.description_length),c.position-=U.description_length),U.parse(c)}}),l.createFullBoxCtor("sidx",function(c){this.reference_ID=c.readUint32(),this.timescale=c.readUint32(),this.version===0?(this.earliest_presentation_time=c.readUint32(),this.first_offset=c.readUint32()):(this.earliest_presentation_time=c.readUint64(),this.first_offset=c.readUint64()),c.readUint16(),this.references=[];for(var h=c.readUint16(),m=0;m<h;m++){var U={};this.references.push(U);var b=c.readUint32();U.reference_type=b>>31&1,U.referenced_size=b&2147483647,U.subsegment_duration=c.readUint32(),b=c.readUint32(),U.starts_with_SAP=b>>31&1,U.SAP_type=b>>28&7,U.SAP_delta_time=b&268435455}}),l.SingleItemTypeReferenceBox=function(c,h,m,U){l.Box.call(this,c,h),this.hdr_size=m,this.start=U},l.SingleItemTypeReferenceBox.prototype=new l.Box,l.SingleItemTypeReferenceBox.prototype.parse=function(c){this.from_item_ID=c.readUint16();var h=c.readUint16();this.references=[];for(var m=0;m<h;m++)this.references[m]={},this.references[m].to_item_ID=c.readUint16()},l.SingleItemTypeReferenceBoxLarge=function(c,h,m,U){l.Box.call(this,c,h),this.hdr_size=m,this.start=U},l.SingleItemTypeReferenceBoxLarge.prototype=new l.Box,l.SingleItemTypeReferenceBoxLarge.prototype.parse=function(c){this.from_item_ID=c.readUint32();var h=c.readUint16();this.references=[];for(var m=0;m<h;m++)this.references[m]={},this.references[m].to_item_ID=c.readUint32()},l.createFullBoxCtor("SmDm",function(c){this.primaryRChromaticity_x=c.readUint16(),this.primaryRChromaticity_y=c.readUint16(),this.primaryGChromaticity_x=c.readUint16(),this.primaryGChromaticity_y=c.readUint16(),this.primaryBChromaticity_x=c.readUint16(),this.primaryBChromaticity_y=c.readUint16(),this.whitePointChromaticity_x=c.readUint16(),this.whitePointChromaticity_y=c.readUint16(),this.luminanceMax=c.readUint32(),this.luminanceMin=c.readUint32()}),l.createFullBoxCtor("smhd",function(c){this.balance=c.readUint16(),c.readUint16()}),l.createFullBoxCtor("ssix",function(c){this.subsegments=[];for(var h=c.readUint32(),m=0;m<h;m++){var U={};this.subsegments.push(U),U.ranges=[];for(var b=c.readUint32(),w=0;w<b;w++){var E={};U.ranges.push(E),E.level=c.readUint8(),E.range_size=c.readUint24()}}}),l.createFullBoxCtor("stco",function(c){var h;if(h=c.readUint32(),this.chunk_offsets=[],this.version===0)for(var m=0;m<h;m++)this.chunk_offsets.push(c.readUint32())}),l.createFullBoxCtor("stdp",function(c){var h=(this.size-this.hdr_size)/2;this.priority=[];for(var m=0;m<h;m++)this.priority[m]=c.readUint16()}),l.createFullBoxCtor("sthd"),l.createFullBoxCtor("stri",function(c){this.switch_group=c.readUint16(),this.alternate_group=c.readUint16(),this.sub_track_id=c.readUint32();var h=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var m=0;m<h;m++)this.attribute_list[m]=c.readUint32()}),l.createFullBoxCtor("stsc",function(c){var h,m;if(h=c.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],this.version===0)for(m=0;m<h;m++)this.first_chunk.push(c.readUint32()),this.samples_per_chunk.push(c.readUint32()),this.sample_description_index.push(c.readUint32())}),l.createFullBoxCtor("stsd",function(c){var h,m,U,b;for(this.entries=[],U=c.readUint32(),h=1;h<=U;h++)if(m=l.parseOneBox(c,!0,this.size-(c.getPosition()-this.start)),m.code===l.OK)l[m.type+"SampleEntry"]?(b=new l[m.type+"SampleEntry"](m.size),b.hdr_size=m.hdr_size,b.start=m.start):(t.warn("BoxParser","Unknown sample entry type: "+m.type),b=new l.SampleEntry(m.type,m.size,m.hdr_size,m.start)),b.write===l.SampleEntry.prototype.write&&(t.info("BoxParser","SampleEntry "+b.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),b.parseDataAndRewind(c)),b.parse(c),this.entries.push(b);else return}),l.createFullBoxCtor("stsg",function(c){this.grouping_type=c.readUint32();var h=c.readUint16();this.group_description_index=[];for(var m=0;m<h;m++)this.group_description_index[m]=c.readUint32()}),l.createFullBoxCtor("stsh",function(c){var h,m;if(h=c.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],this.version===0)for(m=0;m<h;m++)this.shadowed_sample_numbers.push(c.readUint32()),this.sync_sample_numbers.push(c.readUint32())}),l.createFullBoxCtor("stss",function(c){var h,m;if(m=c.readUint32(),this.version===0)for(this.sample_numbers=[],h=0;h<m;h++)this.sample_numbers.push(c.readUint32())}),l.createFullBoxCtor("stsz",function(c){var h;if(this.sample_sizes=[],this.version===0)for(this.sample_size=c.readUint32(),this.sample_count=c.readUint32(),h=0;h<this.sample_count;h++)this.sample_size===0?this.sample_sizes.push(c.readUint32()):this.sample_sizes[h]=this.sample_size}),l.createFullBoxCtor("stts",function(c){var h,m,U;if(h=c.readUint32(),this.sample_counts=[],this.sample_deltas=[],this.version===0)for(m=0;m<h;m++)this.sample_counts.push(c.readUint32()),U=c.readInt32(),U<0&&(t.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),U=1),this.sample_deltas.push(U)}),l.createFullBoxCtor("stvi",function(c){var h=c.readUint32();this.single_view_allowed=h&3,this.stereo_scheme=c.readUint32();var m=c.readUint32();this.stereo_indication_type=c.readString(m);var U,b;for(this.boxes=[];c.getPosition()<this.start+this.size;)if(U=l.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),U.code===l.OK)b=U.box,this.boxes.push(b),this[b.type]=b;else return}),l.createBoxCtor("styp",function(c){l.ftypBox.prototype.parse.call(this,c)}),l.createFullBoxCtor("stz2",function(c){var h,m;if(this.sample_sizes=[],this.version===0)if(this.reserved=c.readUint24(),this.field_size=c.readUint8(),m=c.readUint32(),this.field_size===4)for(h=0;h<m;h+=2){var U=c.readUint8();this.sample_sizes[h]=U>>4&15,this.sample_sizes[h+1]=U&15}else if(this.field_size===8)for(h=0;h<m;h++)this.sample_sizes[h]=c.readUint8();else if(this.field_size===16)for(h=0;h<m;h++)this.sample_sizes[h]=c.readUint16();else t.error("BoxParser","Error in length field in stz2 box")}),l.createFullBoxCtor("subs",function(c){var h,m,U,b;for(U=c.readUint32(),this.entries=[],h=0;h<U;h++){var w={};if(this.entries[h]=w,w.sample_delta=c.readUint32(),w.subsamples=[],b=c.readUint16(),b>0)for(m=0;m<b;m++){var E={};w.subsamples.push(E),this.version==1?E.size=c.readUint32():E.size=c.readUint16(),E.priority=c.readUint8(),E.discardable=c.readUint8(),E.codec_specific_parameters=c.readUint32()}}}),l.createFullBoxCtor("tenc",function(c){if(c.readUint8(),this.version===0)c.readUint8();else{var h=c.readUint8();this.default_crypt_byte_block=h>>4&15,this.default_skip_byte_block=h&15}this.default_isProtected=c.readUint8(),this.default_Per_Sample_IV_Size=c.readUint8(),this.default_KID=l.parseHex16(c),this.default_isProtected===1&&this.default_Per_Sample_IV_Size===0&&(this.default_constant_IV_size=c.readUint8(),this.default_constant_IV=c.readUint8Array(this.default_constant_IV_size))}),l.createFullBoxCtor("tfdt",function(c){this.version==1?this.baseMediaDecodeTime=c.readUint64():this.baseMediaDecodeTime=c.readUint32()}),l.createFullBoxCtor("tfhd",function(c){var h=0;this.track_id=c.readUint32(),this.size-this.hdr_size>h&&this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=c.readUint64(),h+=8):this.base_data_offset=0,this.size-this.hdr_size>h&&this.flags&l.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=c.readUint32(),h+=4):this.default_sample_description_index=0,this.size-this.hdr_size>h&&this.flags&l.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=c.readUint32(),h+=4):this.default_sample_duration=0,this.size-this.hdr_size>h&&this.flags&l.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=c.readUint32(),h+=4):this.default_sample_size=0,this.size-this.hdr_size>h&&this.flags&l.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=c.readUint32(),h+=4):this.default_sample_flags=0}),l.createFullBoxCtor("tfra",function(c){this.track_ID=c.readUint32(),c.readUint24();var h=c.readUint8();this.length_size_of_traf_num=h>>4&3,this.length_size_of_trun_num=h>>2&3,this.length_size_of_sample_num=h&3,this.entries=[];for(var m=c.readUint32(),U=0;U<m;U++)this.version===1?(this.time=c.readUint64(),this.moof_offset=c.readUint64()):(this.time=c.readUint32(),this.moof_offset=c.readUint32()),this.traf_number=c["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=c["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=c["readUint"+8*(this.length_size_of_sample_num+1)]()}),l.createFullBoxCtor("tkhd",function(c){this.version==1?(this.creation_time=c.readUint64(),this.modification_time=c.readUint64(),this.track_id=c.readUint32(),c.readUint32(),this.duration=c.readUint64()):(this.creation_time=c.readUint32(),this.modification_time=c.readUint32(),this.track_id=c.readUint32(),c.readUint32(),this.duration=c.readUint32()),c.readUint32Array(2),this.layer=c.readInt16(),this.alternate_group=c.readInt16(),this.volume=c.readInt16()>>8,c.readUint16(),this.matrix=c.readInt32Array(9),this.width=c.readUint32(),this.height=c.readUint32()}),l.createBoxCtor("tmax",function(c){this.time=c.readUint32()}),l.createBoxCtor("tmin",function(c){this.time=c.readUint32()}),l.createBoxCtor("totl",function(c){this.bytessent=c.readUint32()}),l.createBoxCtor("tpay",function(c){this.bytessent=c.readUint32()}),l.createBoxCtor("tpyl",function(c){this.bytessent=c.readUint64()}),l.TrackGroupTypeBox.prototype.parse=function(c){this.parseFullHeader(c),this.track_group_id=c.readUint32()},l.createTrackGroupCtor("msrc"),l.TrackReferenceTypeBox=function(c,h,m,U){l.Box.call(this,c,h),this.hdr_size=m,this.start=U},l.TrackReferenceTypeBox.prototype=new l.Box,l.TrackReferenceTypeBox.prototype.parse=function(c){this.track_ids=c.readUint32Array((this.size-this.hdr_size)/4)},l.trefBox.prototype.parse=function(c){for(var h,m;c.getPosition()<this.start+this.size;)if(h=l.parseOneBox(c,!0,this.size-(c.getPosition()-this.start)),h.code===l.OK)m=new l.TrackReferenceTypeBox(h.type,h.size,h.hdr_size,h.start),m.write===l.Box.prototype.write&&m.type!=="mdat"&&(t.info("BoxParser","TrackReference "+m.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),m.parseDataAndRewind(c)),m.parse(c),this.boxes.push(m);else return},l.createFullBoxCtor("trep",function(c){for(this.track_ID=c.readUint32(),this.boxes=[];c.getPosition()<this.start+this.size;)if(ret=l.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),ret.code===l.OK)box=ret.box,this.boxes.push(box);else return}),l.createFullBoxCtor("trex",function(c){this.track_id=c.readUint32(),this.default_sample_description_index=c.readUint32(),this.default_sample_duration=c.readUint32(),this.default_sample_size=c.readUint32(),this.default_sample_flags=c.readUint32()}),l.createBoxCtor("trpy",function(c){this.bytessent=c.readUint64()}),l.createFullBoxCtor("trun",function(c){var h=0;if(this.sample_count=c.readUint32(),h+=4,this.size-this.hdr_size>h&&this.flags&l.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=c.readInt32(),h+=4):this.data_offset=0,this.size-this.hdr_size>h&&this.flags&l.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=c.readUint32(),h+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>h)for(var m=0;m<this.sample_count;m++)this.flags&l.TRUN_FLAGS_DURATION&&(this.sample_duration[m]=c.readUint32()),this.flags&l.TRUN_FLAGS_SIZE&&(this.sample_size[m]=c.readUint32()),this.flags&l.TRUN_FLAGS_FLAGS&&(this.sample_flags[m]=c.readUint32()),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?this.sample_composition_time_offset[m]=c.readUint32():this.sample_composition_time_offset[m]=c.readInt32())}),l.createFullBoxCtor("tsel",function(c){this.switch_group=c.readUint32();var h=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var m=0;m<h;m++)this.attribute_list[m]=c.readUint32()}),l.createFullBoxCtor("txtC",function(c){this.config=c.readCString()}),l.createBoxCtor("tyco",function(c){var h=(this.size-this.hdr_size)/4;this.compatible_brands=[];for(var m=0;m<h;m++)this.compatible_brands[m]=c.readString(4)}),l.createFullBoxCtor("udes",function(c){this.lang=c.readCString(),this.name=c.readCString(),this.description=c.readCString(),this.tags=c.readCString()}),l.createFullBoxCtor("uncC",function(c){var h;if(this.profile=c.readUint32(),this.version!=1){if(this.version==0){for(this.component_count=c.readUint32(),this.component_index=[],this.component_bit_depth_minus_one=[],this.component_format=[],this.component_align_size=[],h=0;h<this.component_count;h++)this.component_index.push(c.readUint16()),this.component_bit_depth_minus_one.push(c.readUint8()),this.component_format.push(c.readUint8()),this.component_align_size.push(c.readUint8());this.sampling_type=c.readUint8(),this.interleave_type=c.readUint8(),this.block_size=c.readUint8();var m=c.readUint8();this.component_little_endian=m>>7&1,this.block_pad_lsb=m>>6&1,this.block_little_endian=m>>5&1,this.block_reversed=m>>4&1,this.pad_unknown=m>>3&1,this.pixel_size=c.readUint32(),this.row_align_size=c.readUint32(),this.tile_align_size=c.readUint32(),this.num_tile_cols_minus_one=c.readUint32(),this.num_tile_rows_minus_one=c.readUint32()}}}),l.createFullBoxCtor("url ",function(c){this.flags!==1&&(this.location=c.readCString())}),l.createFullBoxCtor("urn ",function(c){this.name=c.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=c.readCString())}),l.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66",!0,!1,function(c){this.LiveServerManifest=c.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}),l.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3",!0,!1,function(c){this.system_id=l.parseHex16(c);var h=c.readUint32();h>0&&(this.data=c.readUint8Array(h))}),l.createUUIDBox("a2394f525a9b4f14a2446c427c648df4",!0,!1),l.createUUIDBox("8974dbce7be74c5184f97148f9882554",!0,!1,function(c){this.default_AlgorithmID=c.readUint24(),this.default_IV_size=c.readUint8(),this.default_KID=l.parseHex16(c)}),l.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f",!0,!1,function(c){this.fragment_count=c.readUint8(),this.entries=[];for(var h=0;h<this.fragment_count;h++){var m={},U=0,b=0;this.version===1?(U=c.readUint64(),b=c.readUint64()):(U=c.readUint32(),b=c.readUint32()),m.absolute_time=U,m.absolute_duration=b,this.entries.push(m)}}),l.createUUIDBox("6d1d9b0542d544e680e2141daff757b2",!0,!1,function(c){this.version===1?(this.absolute_time=c.readUint64(),this.duration=c.readUint64()):(this.absolute_time=c.readUint32(),this.duration=c.readUint32())}),l.createFullBoxCtor("vmhd",function(c){this.graphicsmode=c.readUint16(),this.opcolor=c.readUint16Array(3)}),l.createFullBoxCtor("vpcC",function(c){var h;this.version===1?(this.profile=c.readUint8(),this.level=c.readUint8(),h=c.readUint8(),this.bitDepth=h>>4,this.chromaSubsampling=h>>1&7,this.videoFullRangeFlag=h&1,this.colourPrimaries=c.readUint8(),this.transferCharacteristics=c.readUint8(),this.matrixCoefficients=c.readUint8(),this.codecIntializationDataSize=c.readUint16(),this.codecIntializationData=c.readUint8Array(this.codecIntializationDataSize)):(this.profile=c.readUint8(),this.level=c.readUint8(),h=c.readUint8(),this.bitDepth=h>>4&15,this.colorSpace=h&15,h=c.readUint8(),this.chromaSubsampling=h>>4&15,this.transferFunction=h>>1&7,this.videoFullRangeFlag=h&1,this.codecIntializationDataSize=c.readUint16(),this.codecIntializationData=c.readUint8Array(this.codecIntializationDataSize))}),l.createBoxCtor("vttC",function(c){this.text=c.readString(this.size-this.hdr_size)}),l.createFullBoxCtor("vvcC",function(c){var h,m,U={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function(D){this.held_bits=D.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function(D){this.held_bits=D.readUint16(),this.num_held_bits=16},extract_bits:function(D){var L=this.held_bits>>this.num_held_bits-D&(1<<D)-1;return this.num_held_bits-=D,L}};if(U.stream_read_1_bytes(c),U.extract_bits(5),this.lengthSizeMinusOne=U.extract_bits(2),this.ptl_present_flag=U.extract_bits(1),this.ptl_present_flag){U.stream_read_2_bytes(c),this.ols_idx=U.extract_bits(9),this.num_sublayers=U.extract_bits(3),this.constant_frame_rate=U.extract_bits(2),this.chroma_format_idc=U.extract_bits(2),U.stream_read_1_bytes(c),this.bit_depth_minus8=U.extract_bits(3),U.extract_bits(5);{if(U.stream_read_2_bytes(c),U.extract_bits(2),this.num_bytes_constraint_info=U.extract_bits(6),this.general_profile_idc=U.extract_bits(7),this.general_tier_flag=U.extract_bits(1),this.general_level_idc=c.readUint8(),U.stream_read_1_bytes(c),this.ptl_frame_only_constraint_flag=U.extract_bits(1),this.ptl_multilayer_enabled_flag=U.extract_bits(1),this.general_constraint_info=new Uint8Array(this.num_bytes_constraint_info),this.num_bytes_constraint_info){for(h=0;h<this.num_bytes_constraint_info-1;h++){var b=U.extract_bits(6);U.stream_read_1_bytes(c);var w=U.extract_bits(2);this.general_constraint_info[h]=b<<2|w}this.general_constraint_info[this.num_bytes_constraint_info-1]=U.extract_bits(6)}else U.extract_bits(6);if(this.num_sublayers>1){for(U.stream_read_1_bytes(c),this.ptl_sublayer_present_mask=0,m=this.num_sublayers-2;m>=0;--m){var E=U.extract_bits(1);this.ptl_sublayer_present_mask|=E<<m}for(m=this.num_sublayers;m<=8&&this.num_sublayers>1;++m)U.extract_bits(1);for(this.sublayer_level_idc=[],m=this.num_sublayers-2;m>=0;--m)this.ptl_sublayer_present_mask&1<<m&&(this.sublayer_level_idc[m]=c.readUint8())}if(this.ptl_num_sub_profiles=c.readUint8(),this.general_sub_profile_idc=[],this.ptl_num_sub_profiles)for(h=0;h<this.ptl_num_sub_profiles;h++)this.general_sub_profile_idc.push(c.readUint32())}this.max_picture_width=c.readUint16(),this.max_picture_height=c.readUint16(),this.avg_frame_rate=c.readUint16()}var x=12,C=13;this.nalu_arrays=[];var I=c.readUint8();for(h=0;h<I;h++){var S=[];this.nalu_arrays.push(S),U.stream_read_1_bytes(c),S.completeness=U.extract_bits(1),U.extract_bits(2),S.nalu_type=U.extract_bits(5);var M=1;for(S.nalu_type!=C&&S.nalu_type!=x&&(M=c.readUint16()),m=0;m<M;m++){var R=c.readUint16();S.push({data:c.readUint8Array(R),length:R})}}}),l.createFullBoxCtor("vvnC",function(c){var h=strm.readUint8();this.lengthSizeMinusOne=h&3}),l.SampleEntry.prototype.isVideo=function(){return!1},l.SampleEntry.prototype.isAudio=function(){return!1},l.SampleEntry.prototype.isSubtitle=function(){return!1},l.SampleEntry.prototype.isMetadata=function(){return!1},l.SampleEntry.prototype.isHint=function(){return!1},l.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},l.SampleEntry.prototype.getWidth=function(){return""},l.SampleEntry.prototype.getHeight=function(){return""},l.SampleEntry.prototype.getChannelCount=function(){return""},l.SampleEntry.prototype.getSampleRate=function(){return""},l.SampleEntry.prototype.getSampleSize=function(){return""},l.VisualSampleEntry.prototype.isVideo=function(){return!0},l.VisualSampleEntry.prototype.getWidth=function(){return this.width},l.VisualSampleEntry.prototype.getHeight=function(){return this.height},l.AudioSampleEntry.prototype.isAudio=function(){return!0},l.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},l.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},l.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},l.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},l.MetadataSampleEntry.prototype.isMetadata=function(){return!0},l.decimalToHex=function(c,h){var m=Number(c).toString(16);for(h=typeof h>"u"||h===null?h=2:h;m.length<h;)m="0"+m;return m},l.avc1SampleEntry.prototype.getCodec=l.avc2SampleEntry.prototype.getCodec=l.avc3SampleEntry.prototype.getCodec=l.avc4SampleEntry.prototype.getCodec=function(){var c=l.SampleEntry.prototype.getCodec.call(this);return this.avcC?c+"."+l.decimalToHex(this.avcC.AVCProfileIndication)+l.decimalToHex(this.avcC.profile_compatibility)+l.decimalToHex(this.avcC.AVCLevelIndication):c},l.hev1SampleEntry.prototype.getCodec=l.hvc1SampleEntry.prototype.getCodec=function(){var c,h=l.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(h+=".",this.hvcC.general_profile_space){case 0:h+="";break;case 1:h+="A";break;case 2:h+="B";break;case 3:h+="C";break}h+=this.hvcC.general_profile_idc,h+=".";var m=this.hvcC.general_profile_compatibility,U=0;for(c=0;c<32&&(U|=m&1,c!=31);c++)U<<=1,m>>=1;h+=l.decimalToHex(U,0),h+=".",this.hvcC.general_tier_flag===0?h+="L":h+="H",h+=this.hvcC.general_level_idc;var b=!1,w="";for(c=5;c>=0;c--)(this.hvcC.general_constraint_indicator[c]||b)&&(w="."+l.decimalToHex(this.hvcC.general_constraint_indicator[c],0)+w,b=!0);h+=w}return h},l.vvc1SampleEntry.prototype.getCodec=l.vvi1SampleEntry.prototype.getCodec=function(){var c,h=l.SampleEntry.prototype.getCodec.call(this);if(this.vvcC){h+="."+this.vvcC.general_profile_idc,this.vvcC.general_tier_flag?h+=".H":h+=".L",h+=this.vvcC.general_level_idc;var m="";if(this.vvcC.general_constraint_info){var U=[],b=0;b|=this.vvcC.ptl_frame_only_constraint<<7,b|=this.vvcC.ptl_multilayer_enabled<<6;var w;for(c=0;c<this.vvcC.general_constraint_info.length;++c)b|=this.vvcC.general_constraint_info[c]>>2&63,U.push(b),b&&(w=c),b=this.vvcC.general_constraint_info[c]>>2&3;if(w===void 0)m=".CA";else{m=".C";var E="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",x=0,C=0;for(c=0;c<=w;++c)for(x=x<<8|U[c],C+=8;C>=5;){var I=x>>C-5&31;m+=E[I],C-=5,x&=(1<<C)-1}C&&(x<<=5-C,m+=E[x&31])}}h+=m}return h},l.mp4aSampleEntry.prototype.getCodec=function(){var c=l.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var h=this.esds.esd.getOTI(),m=this.esds.esd.getAudioConfig();return c+"."+l.decimalToHex(h)+(m?"."+m:"")}else return c},l.stxtSampleEntry.prototype.getCodec=function(){var c=l.SampleEntry.prototype.getCodec.call(this);return this.mime_format?c+"."+this.mime_format:c},l.vp08SampleEntry.prototype.getCodec=l.vp09SampleEntry.prototype.getCodec=function(){var c=l.SampleEntry.prototype.getCodec.call(this),h=this.vpcC.level;h==0&&(h="00");var m=this.vpcC.bitDepth;return m==8&&(m="08"),c+".0"+this.vpcC.profile+"."+h+"."+m},l.av01SampleEntry.prototype.getCodec=function(){var c=l.SampleEntry.prototype.getCodec.call(this),h=this.av1C.seq_level_idx_0;h<10&&(h="0"+h);var m;return this.av1C.seq_profile===2&&this.av1C.high_bitdepth===1?m=this.av1C.twelve_bit===1?"12":"10":this.av1C.seq_profile<=2&&(m=this.av1C.high_bitdepth===1?"10":"08"),c+"."+this.av1C.seq_profile+"."+h+(this.av1C.seq_tier_0?"H":"M")+"."+m},l.Box.prototype.writeHeader=function(c,h){this.size+=8,this.size>a&&(this.size+=8),this.type==="uuid"&&(this.size+=16),t.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+c.getPosition()+(h||"")),this.size>a?c.writeUint32(1):(this.sizePosition=c.getPosition(),c.writeUint32(this.size)),c.writeString(this.type,null,4),this.type==="uuid"&&c.writeUint8Array(this.uuid),this.size>a&&c.writeUint64(this.size)},l.FullBox.prototype.writeHeader=function(c){this.size+=4,l.Box.prototype.writeHeader.call(this,c," v="+this.version+" f="+this.flags),c.writeUint8(this.version),c.writeUint24(this.flags)},l.Box.prototype.write=function(c){this.type==="mdat"?this.data&&(this.size=this.data.length,this.writeHeader(c),c.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(c),this.data&&c.writeUint8Array(this.data))},l.ContainerBox.prototype.write=function(c){this.size=0,this.writeHeader(c);for(var h=0;h<this.boxes.length;h++)this.boxes[h]&&(this.boxes[h].write(c),this.size+=this.boxes[h].size);t.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},l.TrackReferenceTypeBox.prototype.write=function(c){this.size=this.track_ids.length*4,this.writeHeader(c),c.writeUint32Array(this.track_ids)},l.avcCBox.prototype.write=function(c){var h;for(this.size=7,h=0;h<this.SPS.length;h++)this.size+=2+this.SPS[h].length;for(h=0;h<this.PPS.length;h++)this.size+=2+this.PPS[h].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(c),c.writeUint8(this.configurationVersion),c.writeUint8(this.AVCProfileIndication),c.writeUint8(this.profile_compatibility),c.writeUint8(this.AVCLevelIndication),c.writeUint8(this.lengthSizeMinusOne+252),c.writeUint8(this.SPS.length+224),h=0;h<this.SPS.length;h++)c.writeUint16(this.SPS[h].length),c.writeUint8Array(this.SPS[h].nalu);for(c.writeUint8(this.PPS.length),h=0;h<this.PPS.length;h++)c.writeUint16(this.PPS[h].length),c.writeUint8Array(this.PPS[h].nalu);this.ext&&c.writeUint8Array(this.ext)},l.co64Box.prototype.write=function(c){var h;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(c),c.writeUint32(this.chunk_offsets.length),h=0;h<this.chunk_offsets.length;h++)c.writeUint64(this.chunk_offsets[h])},l.cslgBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(c),c.writeInt32(this.compositionToDTSShift),c.writeInt32(this.leastDecodeToDisplayDelta),c.writeInt32(this.greatestDecodeToDisplayDelta),c.writeInt32(this.compositionStartTime),c.writeInt32(this.compositionEndTime)},l.cttsBox.prototype.write=function(c){var h;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(c),c.writeUint32(this.sample_counts.length),h=0;h<this.sample_counts.length;h++)c.writeUint32(this.sample_counts[h]),this.version===1?c.writeInt32(this.sample_offsets[h]):c.writeUint32(this.sample_offsets[h])},l.drefBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4,this.writeHeader(c),c.writeUint32(this.entries.length);for(var h=0;h<this.entries.length;h++)this.entries[h].write(c),this.size+=this.entries[h].size;t.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},l.elngBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(c),c.writeString(this.extended_language)},l.elstBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(c),c.writeUint32(this.entries.length);for(var h=0;h<this.entries.length;h++){var m=this.entries[h];c.writeUint32(m.segment_duration),c.writeInt32(m.media_time),c.writeInt16(m.media_rate_integer),c.writeInt16(m.media_rate_fraction)}},l.emsgBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*4+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(c),c.writeCString(this.scheme_id_uri),c.writeCString(this.value),c.writeUint32(this.timescale),c.writeUint32(this.presentation_time_delta),c.writeUint32(this.event_duration),c.writeUint32(this.id),c.writeUint8Array(this.message_data)},l.ftypBox.prototype.write=function(c){this.size=8+4*this.compatible_brands.length,this.writeHeader(c),c.writeString(this.major_brand,null,4),c.writeUint32(this.minor_version);for(var h=0;h<this.compatible_brands.length;h++)c.writeString(this.compatible_brands[h],null,4)},l.hdlrBox.prototype.write=function(c){this.size=5*4+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(c),c.writeUint32(0),c.writeString(this.handler,null,4),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeCString(this.name)},l.hvcCBox.prototype.write=function(c){var h,m;for(this.size=23,h=0;h<this.nalu_arrays.length;h++)for(this.size+=3,m=0;m<this.nalu_arrays[h].length;m++)this.size+=2+this.nalu_arrays[h][m].data.length;for(this.writeHeader(c),c.writeUint8(this.configurationVersion),c.writeUint8((this.general_profile_space<<6)+(this.general_tier_flag<<5)+this.general_profile_idc),c.writeUint32(this.general_profile_compatibility),c.writeUint8Array(this.general_constraint_indicator),c.writeUint8(this.general_level_idc),c.writeUint16(this.min_spatial_segmentation_idc+(15<<24)),c.writeUint8(this.parallelismType+252),c.writeUint8(this.chroma_format_idc+252),c.writeUint8(this.bit_depth_luma_minus8+248),c.writeUint8(this.bit_depth_chroma_minus8+248),c.writeUint16(this.avgFrameRate),c.writeUint8((this.constantFrameRate<<6)+(this.numTemporalLayers<<3)+(this.temporalIdNested<<2)+this.lengthSizeMinusOne),c.writeUint8(this.nalu_arrays.length),h=0;h<this.nalu_arrays.length;h++)for(c.writeUint8((this.nalu_arrays[h].completeness<<7)+this.nalu_arrays[h].nalu_type),c.writeUint16(this.nalu_arrays[h].length),m=0;m<this.nalu_arrays[h].length;m++)c.writeUint16(this.nalu_arrays[h][m].data.length),c.writeUint8Array(this.nalu_arrays[h][m].data)},l.kindBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(c),c.writeCString(this.schemeURI),c.writeCString(this.value)},l.mdhdBox.prototype.write=function(c){this.size=4*4+2*2,this.flags=0,this.version=0,this.writeHeader(c),c.writeUint32(this.creation_time),c.writeUint32(this.modification_time),c.writeUint32(this.timescale),c.writeUint32(this.duration),c.writeUint16(this.language),c.writeUint16(0)},l.mehdBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4,this.writeHeader(c),c.writeUint32(this.fragment_duration)},l.mfhdBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4,this.writeHeader(c),c.writeUint32(this.sequence_number)},l.mvhdBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=23*4+2*2,this.writeHeader(c),c.writeUint32(this.creation_time),c.writeUint32(this.modification_time),c.writeUint32(this.timescale),c.writeUint32(this.duration),c.writeUint32(this.rate),c.writeUint16(this.volume<<8),c.writeUint16(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32Array(this.matrix),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(this.next_track_id)},l.SampleEntry.prototype.writeHeader=function(c){this.size=8,l.Box.prototype.writeHeader.call(this,c),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint16(this.data_reference_index)},l.SampleEntry.prototype.writeFooter=function(c){for(var h=0;h<this.boxes.length;h++)this.boxes[h].write(c),this.size+=this.boxes[h].size;t.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},l.SampleEntry.prototype.write=function(c){this.writeHeader(c),c.writeUint8Array(this.data),this.size+=this.data.length,t.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},l.VisualSampleEntry.prototype.write=function(c){this.writeHeader(c),this.size+=2*7+6*4+32,c.writeUint16(0),c.writeUint16(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint16(this.width),c.writeUint16(this.height),c.writeUint32(this.horizresolution),c.writeUint32(this.vertresolution),c.writeUint32(0),c.writeUint16(this.frame_count),c.writeUint8(Math.min(31,this.compressorname.length)),c.writeString(this.compressorname,null,31),c.writeUint16(this.depth),c.writeInt16(-1),this.writeFooter(c)},l.AudioSampleEntry.prototype.write=function(c){this.writeHeader(c),this.size+=2*4+3*4,c.writeUint32(0),c.writeUint32(0),c.writeUint16(this.channel_count),c.writeUint16(this.samplesize),c.writeUint16(0),c.writeUint16(0),c.writeUint32(this.samplerate<<16),this.writeFooter(c)},l.stppSampleEntry.prototype.write=function(c){this.writeHeader(c),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,c.writeCString(this.namespace),c.writeCString(this.schema_location),c.writeCString(this.auxiliary_mime_types),this.writeFooter(c)},l.SampleGroupEntry.prototype.write=function(c){c.writeUint8Array(this.data)},l.sbgpBox.prototype.write=function(c){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(c),c.writeString(this.grouping_type,null,4),c.writeUint32(this.grouping_type_parameter),c.writeUint32(this.entries.length);for(var h=0;h<this.entries.length;h++){var m=this.entries[h];c.writeInt32(m.sample_count),c.writeInt32(m.group_description_index)}},l.sgpdBox.prototype.write=function(c){var h,m;for(this.flags=0,this.size=12,h=0;h<this.entries.length;h++)m=this.entries[h],this.version===1&&(this.default_length===0&&(this.size+=4),this.size+=m.data.length);for(this.writeHeader(c),c.writeString(this.grouping_type,null,4),this.version===1&&c.writeUint32(this.default_length),this.version>=2&&c.writeUint32(this.default_sample_description_index),c.writeUint32(this.entries.length),h=0;h<this.entries.length;h++)m=this.entries[h],this.version===1&&this.default_length===0&&c.writeUint32(m.description_length),m.write(c)},l.sidxBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*4+2+2+12*this.references.length,this.writeHeader(c),c.writeUint32(this.reference_ID),c.writeUint32(this.timescale),c.writeUint32(this.earliest_presentation_time),c.writeUint32(this.first_offset),c.writeUint16(0),c.writeUint16(this.references.length);for(var h=0;h<this.references.length;h++){var m=this.references[h];c.writeUint32(m.reference_type<<31|m.referenced_size),c.writeUint32(m.subsegment_duration),c.writeUint32(m.starts_with_SAP<<31|m.SAP_type<<28|m.SAP_delta_time)}},l.smhdBox.prototype.write=function(c){this.version=0,this.flags=1,this.size=4,this.writeHeader(c),c.writeUint16(this.balance),c.writeUint16(0)},l.stcoBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(c),c.writeUint32(this.chunk_offsets.length),c.writeUint32Array(this.chunk_offsets)},l.stscBox.prototype.write=function(c){var h;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(c),c.writeUint32(this.first_chunk.length),h=0;h<this.first_chunk.length;h++)c.writeUint32(this.first_chunk[h]),c.writeUint32(this.samples_per_chunk[h]),c.writeUint32(this.sample_description_index[h])},l.stsdBox.prototype.write=function(c){var h;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(c),c.writeUint32(this.entries.length),this.size+=4,h=0;h<this.entries.length;h++)this.entries[h].write(c),this.size+=this.entries[h].size;t.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},l.stshBox.prototype.write=function(c){var h;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(c),c.writeUint32(this.shadowed_sample_numbers.length),h=0;h<this.shadowed_sample_numbers.length;h++)c.writeUint32(this.shadowed_sample_numbers[h]),c.writeUint32(this.sync_sample_numbers[h])},l.stssBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(c),c.writeUint32(this.sample_numbers.length),c.writeUint32Array(this.sample_numbers)},l.stszBox.prototype.write=function(c){var h,m=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(h=0;h+1<this.sample_sizes.length;)if(this.sample_sizes[h+1]!==this.sample_sizes[0]){m=!1;break}else h++;else m=!1;this.size=8,m||(this.size+=4*this.sample_sizes.length),this.writeHeader(c),m?c.writeUint32(this.sample_sizes[0]):c.writeUint32(0),c.writeUint32(this.sample_sizes.length),m||c.writeUint32Array(this.sample_sizes)},l.sttsBox.prototype.write=function(c){var h;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(c),c.writeUint32(this.sample_counts.length),h=0;h<this.sample_counts.length;h++)c.writeUint32(this.sample_counts[h]),c.writeUint32(this.sample_deltas[h])},l.tfdtBox.prototype.write=function(c){var h=Math.pow(2,32)-1;this.version=this.baseMediaDecodeTime>h?1:0,this.flags=0,this.size=4,this.version===1&&(this.size+=4),this.writeHeader(c),this.version===1?c.writeUint64(this.baseMediaDecodeTime):c.writeUint32(this.baseMediaDecodeTime)},l.tfhdBox.prototype.write=function(c){this.version=0,this.size=4,this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&l.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(c),c.writeUint32(this.track_id),this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET&&c.writeUint64(this.base_data_offset),this.flags&l.TFHD_FLAG_SAMPLE_DESC&&c.writeUint32(this.default_sample_description_index),this.flags&l.TFHD_FLAG_SAMPLE_DUR&&c.writeUint32(this.default_sample_duration),this.flags&l.TFHD_FLAG_SAMPLE_SIZE&&c.writeUint32(this.default_sample_size),this.flags&l.TFHD_FLAG_SAMPLE_FLAGS&&c.writeUint32(this.default_sample_flags)},l.tkhdBox.prototype.write=function(c){this.version=0,this.size=4*18+2*4,this.writeHeader(c),c.writeUint32(this.creation_time),c.writeUint32(this.modification_time),c.writeUint32(this.track_id),c.writeUint32(0),c.writeUint32(this.duration),c.writeUint32(0),c.writeUint32(0),c.writeInt16(this.layer),c.writeInt16(this.alternate_group),c.writeInt16(this.volume<<8),c.writeUint16(0),c.writeInt32Array(this.matrix),c.writeUint32(this.width),c.writeUint32(this.height)},l.trexBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(c),c.writeUint32(this.track_id),c.writeUint32(this.default_sample_description_index),c.writeUint32(this.default_sample_duration),c.writeUint32(this.default_sample_size),c.writeUint32(this.default_sample_flags)},l.trunBox.prototype.write=function(c){this.version=0,this.size=4,this.flags&l.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&l.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&l.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&l.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&l.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(c),c.writeUint32(this.sample_count),this.flags&l.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=c.getPosition(),c.writeInt32(this.data_offset)),this.flags&l.TRUN_FLAGS_FIRST_FLAG&&c.writeUint32(this.first_sample_flags);for(var h=0;h<this.sample_count;h++)this.flags&l.TRUN_FLAGS_DURATION&&c.writeUint32(this.sample_duration[h]),this.flags&l.TRUN_FLAGS_SIZE&&c.writeUint32(this.sample_size[h]),this.flags&l.TRUN_FLAGS_FLAGS&&c.writeUint32(this.sample_flags[h]),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?c.writeUint32(this.sample_composition_time_offset[h]):c.writeInt32(this.sample_composition_time_offset[h]))},l["url Box"].prototype.write=function(c){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(c),this.location&&c.writeCString(this.location)},l["urn Box"].prototype.write=function(c){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(c),c.writeCString(this.name),this.location&&c.writeCString(this.location)},l.vmhdBox.prototype.write=function(c){this.version=0,this.flags=1,this.size=8,this.writeHeader(c),c.writeUint16(this.graphicsmode),c.writeUint16Array(this.opcolor)},l.cttsBox.prototype.unpack=function(c){var h,m,U;for(U=0,h=0;h<this.sample_counts.length;h++)for(m=0;m<this.sample_counts[h];m++)c[U].pts=c[U].dts+this.sample_offsets[h],U++},l.sttsBox.prototype.unpack=function(c){var h,m,U;for(U=0,h=0;h<this.sample_counts.length;h++)for(m=0;m<this.sample_counts[h];m++)U===0?c[U].dts=0:c[U].dts=c[U-1].dts+this.sample_deltas[h],U++},l.stcoBox.prototype.unpack=function(c){var h;for(h=0;h<this.chunk_offsets.length;h++)c[h].offset=this.chunk_offsets[h]},l.stscBox.prototype.unpack=function(c){var h,m,U,b,w;for(b=0,w=0,h=0;h<this.first_chunk.length;h++)for(m=0;m<(h+1<this.first_chunk.length?this.first_chunk[h+1]:1/0);m++)for(w++,U=0;U<this.samples_per_chunk[h];U++){if(c[b])c[b].description_index=this.sample_description_index[h],c[b].chunk_index=w;else return;b++}},l.stszBox.prototype.unpack=function(c){var h;for(h=0;h<this.sample_sizes.length;h++)c[h].size=this.sample_sizes[h]},l.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],l.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"],l.boxEqualFields=function(c,h){if(c&&!h)return!1;var m;for(m in c)if(!(l.DIFF_BOXES_PROP_NAMES.indexOf(m)>-1)){if(c[m]instanceof l.Box||h[m]instanceof l.Box)continue;if(typeof c[m]>"u"||typeof h[m]>"u")continue;if(typeof c[m]=="function"||typeof h[m]=="function")continue;if(c.subBoxNames&&c.subBoxNames.indexOf(m.slice(0,4))>-1||h.subBoxNames&&h.subBoxNames.indexOf(m.slice(0,4))>-1)continue;if(m==="data"||m==="start"||m==="size"||m==="creation_time"||m==="modification_time")continue;if(l.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(m)>-1)continue;if(c[m]!==h[m])return!1}return!0},l.boxEqual=function(c,h){if(!l.boxEqualFields(c,h))return!1;for(var m=0;m<l.DIFF_BOXES_PROP_NAMES.length;m++){var U=l.DIFF_BOXES_PROP_NAMES[m];if(c[U]&&h[U]&&!l.boxEqual(c[U],h[U]))return!1}return!0};var f=function(){};f.prototype.parseSample=function(c){var h={},m;h.resources=[];var U=new n(c.data.buffer);if(!c.subsamples||c.subsamples.length===0)h.documentString=U.readString(c.data.length);else if(h.documentString=U.readString(c.subsamples[0].size),c.subsamples.length>1)for(m=1;m<c.subsamples.length;m++)h.resources[m]=U.readUint8Array(c.subsamples[m].size);return typeof DOMParser<"u"&&(h.document=new DOMParser().parseFromString(h.documentString,"application/xml")),h};var p=function(){};p.prototype.parseSample=function(c){var h,m=new n(c.data.buffer);return h=m.readString(c.data.length),h},p.prototype.parseConfig=function(c){var h,m=new n(c.buffer);return m.readUint32(),h=m.readCString(),h},e.XMLSubtitlein4Parser=f,e.Textin4Parser=p;var g=function(c){this.stream=c||new o,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.onSidx=null,this.sidxSent=!1};g.prototype.setSegmentOptions=function(c,h,m){var U=this.getTrackById(c);if(U){var b={};this.fragmentedTracks.push(b),b.id=c,b.user=h,b.trak=U,U.nextSample=0,b.segmentStream=null,b.nb_samples=1e3,b.rapAlignement=!0,m&&(m.nbSamples&&(b.nb_samples=m.nbSamples),m.rapAlignement&&(b.rapAlignement=m.rapAlignement))}},g.prototype.unsetSegmentOptions=function(c){for(var h=-1,m=0;m<this.fragmentedTracks.length;m++){var U=this.fragmentedTracks[m];U.id==c&&(h=m)}h>-1&&this.fragmentedTracks.splice(h,1)},g.prototype.setExtractionOptions=function(c,h,m){var U=this.getTrackById(c);if(U){var b={};this.extractedTracks.push(b),b.id=c,b.user=h,b.trak=U,U.nextSample=0,b.nb_samples=1e3,b.samples=[],m&&m.nbSamples&&(b.nb_samples=m.nbSamples)}},g.prototype.unsetExtractionOptions=function(c){for(var h=-1,m=0;m<this.extractedTracks.length;m++){var U=this.extractedTracks[m];U.id==c&&(h=m)}h>-1&&this.extractedTracks.splice(h,1)},g.prototype.parse=function(){var c,h,m=!1;if(!(this.restoreParsePosition&&!this.restoreParsePosition()))for(;;)if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}else if(this.saveParsePosition&&this.saveParsePosition(),c=l.parseOneBox(this.stream,m),c.code===l.ERR_NOT_ENOUGH_DATA)if(this.processIncompleteBox){if(this.processIncompleteBox(c))continue;return}else return;else{var U;switch(h=c.box,U=h.type!=="uuid"?h.type:h.uuid,this.boxes.push(h),U){case"mdat":this.mdats.push(h);break;case"moof":this.moofs.push(h);break;case"moov":this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0);default:this[U]!==void 0&&t.warn("ISOFile","Duplicate Box of type: "+U+", overriding previous occurrence"),this[U]=h;break}this.updateUsedBytes&&this.updateUsedBytes(h,c)}},g.prototype.checkBuffer=function(c){if(c==null)throw"Buffer must be defined and non empty";if(c.fileStart===void 0)throw"Buffer must have a fileStart property";return c.byteLength===0?(t.warn("ISOFile","Ignoring empty buffer (fileStart: "+c.fileStart+")"),this.stream.logBufferLevel(),!1):(t.info("ISOFile","Processing buffer (fileStart: "+c.fileStart+")"),c.usedBytes=0,this.stream.insertBuffer(c),this.stream.logBufferLevel(),this.stream.initialized()?!0:(t.warn("ISOFile","Not ready to start parsing"),!1))},g.prototype.appendBuffer=function(c,h){var m;if(this.checkBuffer(c))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(h),this.nextSeekPosition?(m=this.nextSeekPosition,this.nextSeekPosition=void 0):m=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(m=this.stream.getEndFilePositionAfter(m))):this.nextParsePosition?m=this.nextParsePosition:m=0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(t.info("ISOFile","Done processing buffer (fileStart: "+c.fileStart+") - next buffer to fetch should have a fileStart position of "+m),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),t.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),m},g.prototype.getInfo=function(){var c,h,m={},U,b,w,E,x=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(m.hasMoov=!0,m.duration=this.moov.mvhd.duration,m.timescale=this.moov.mvhd.timescale,m.isFragmented=this.moov.mvex!=null,m.isFragmented&&this.moov.mvex.mehd&&(m.fragment_duration=this.moov.mvex.mehd.fragment_duration),m.isProgressive=this.isProgressive,m.hasIOD=this.moov.iods!=null,m.brands=[],m.brands.push(this.ftyp.major_brand),m.brands=m.brands.concat(this.ftyp.compatible_brands),m.created=new Date(x+this.moov.mvhd.creation_time*1e3),m.modified=new Date(x+this.moov.mvhd.modification_time*1e3),m.tracks=[],m.audioTracks=[],m.videoTracks=[],m.subtitleTracks=[],m.metadataTracks=[],m.hintTracks=[],m.otherTracks=[],c=0;c<this.moov.traks.length;c++){if(U=this.moov.traks[c],E=U.mdia.minf.stbl.stsd.entries[0],b={},m.tracks.push(b),b.id=U.tkhd.track_id,b.name=U.mdia.hdlr.name,b.references=[],U.tref)for(h=0;h<U.tref.boxes.length;h++)w={},b.references.push(w),w.type=U.tref.boxes[h].type,w.track_ids=U.tref.boxes[h].track_ids;U.edts&&(b.edits=U.edts.elst.entries),b.created=new Date(x+U.tkhd.creation_time*1e3),b.modified=new Date(x+U.tkhd.modification_time*1e3),b.movie_duration=U.tkhd.duration,b.movie_timescale=m.timescale,b.layer=U.tkhd.layer,b.alternate_group=U.tkhd.alternate_group,b.volume=U.tkhd.volume,b.matrix=U.tkhd.matrix,b.track_width=U.tkhd.width/65536,b.track_height=U.tkhd.height/65536,b.timescale=U.mdia.mdhd.timescale,b.cts_shift=U.mdia.minf.stbl.cslg,b.duration=U.mdia.mdhd.duration,b.samples_duration=U.samples_duration,b.codec=E.getCodec(),b.kind=U.udta&&U.udta.kinds.length?U.udta.kinds[0]:{schemeURI:"",value:""},b.language=U.mdia.elng?U.mdia.elng.extended_language:U.mdia.mdhd.languageString,b.nb_samples=U.samples.length,b.size=U.samples_size,b.bitrate=b.size*8*b.timescale/b.samples_duration,E.isAudio()?(b.type="audio",m.audioTracks.push(b),b.audio={},b.audio.sample_rate=E.getSampleRate(),b.audio.channel_count=E.getChannelCount(),b.audio.sample_size=E.getSampleSize()):E.isVideo()?(b.type="video",m.videoTracks.push(b),b.video={},b.video.width=E.getWidth(),b.video.height=E.getHeight()):E.isSubtitle()?(b.type="subtitles",m.subtitleTracks.push(b)):E.isHint()?(b.type="metadata",m.hintTracks.push(b)):E.isMetadata()?(b.type="metadata",m.metadataTracks.push(b)):(b.type="metadata",m.otherTracks.push(b))}else m.hasMoov=!1;if(m.mime="",m.hasMoov&&m.tracks){for(m.videoTracks&&m.videoTracks.length>0?m.mime+='video/mp4; codecs="':m.audioTracks&&m.audioTracks.length>0?m.mime+='audio/mp4; codecs="':m.mime+='application/mp4; codecs="',c=0;c<m.tracks.length;c++)c!==0&&(m.mime+=","),m.mime+=m.tracks[c].codec;m.mime+='"; profiles="',m.mime+=this.ftyp.compatible_brands.join(),m.mime+='"'}return m},g.prototype.setNextSeekPositionFromSample=function(c){c&&(this.nextSeekPosition?this.nextSeekPosition=Math.min(c.offset+c.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=c.offset+c.alreadyRead)},g.prototype.processSamples=function(c){var h,m;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&this.onSegment!==null)for(h=0;h<this.fragmentedTracks.length;h++){var U=this.fragmentedTracks[h];for(m=U.trak;m.nextSample<m.samples.length&&this.sampleProcessingStarted;){t.debug("ISOFile","Creating media fragment on track #"+U.id+" for sample "+m.nextSample);var b=this.createFragment(U.id,m.nextSample,U.segmentStream);if(b)U.segmentStream=b,m.nextSample++;else break;if((m.nextSample%U.nb_samples===0||c||m.nextSample>=m.samples.length)&&(t.info("ISOFile","Sending fragmented data on track #"+U.id+" for samples ["+Math.max(0,m.nextSample-U.nb_samples)+","+(m.nextSample-1)+"]"),t.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(U.id,U.user,U.segmentStream.buffer,m.nextSample,c||m.nextSample>=m.samples.length),U.segmentStream=null,U!==this.fragmentedTracks[h]))break}}if(this.onSamples!==null)for(h=0;h<this.extractedTracks.length;h++){var w=this.extractedTracks[h];for(m=w.trak;m.nextSample<m.samples.length&&this.sampleProcessingStarted;){t.debug("ISOFile","Exporting on track #"+w.id+" sample #"+m.nextSample);var E=this.getSample(m,m.nextSample);if(E)m.nextSample++,w.samples.push(E);else{this.setNextSeekPositionFromSample(m.samples[m.nextSample]);break}if((m.nextSample%w.nb_samples===0||m.nextSample>=m.samples.length)&&(t.debug("ISOFile","Sending samples on track #"+w.id+" for sample "+m.nextSample),this.onSamples&&this.onSamples(w.id,w.user,w.samples),w.samples=[],w!==this.extractedTracks[h]))break}}}},g.prototype.getBox=function(c){var h=this.getBoxes(c,!0);return h.length?h[0]:null},g.prototype.getBoxes=function(c,h){var m=[];return g._sweep.call(this,c,m,h),m},g._sweep=function(c,h,m){this.type&&this.type==c&&h.push(this);for(var U in this.boxes){if(h.length&&m)return;g._sweep.call(this.boxes[U],c,h,m)}},g.prototype.getTrackSamplesInfo=function(c){var h=this.getTrackById(c);if(h)return h.samples},g.prototype.getTrackSample=function(c,h){var m=this.getTrackById(c),U=this.getSample(m,h);return U},g.prototype.releaseUsedSamples=function(c,h){var m=0,U=this.getTrackById(c);U.lastValidSample||(U.lastValidSample=0);for(var b=U.lastValidSample;b<h;b++)m+=this.releaseSample(U,b);t.info("ISOFile","Track #"+c+" released samples up to "+h+" (released size: "+m+", remaining: "+this.samplesDataSize+")"),U.lastValidSample=h},g.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},g.prototype.stop=function(){this.sampleProcessingStarted=!1},g.prototype.flush=function(){t.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},g.prototype.seekTrack=function(c,h,m){var U,b,w=1/0,E=0,x=0,C;if(m.samples.length===0)return t.info("ISOFile","No sample in track, cannot seek! Using time "+t.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(U=0;U<m.samples.length;U++){if(b=m.samples[U],U===0)x=0,C=b.timescale;else if(b.cts>c*b.timescale){x=U-1;break}h&&b.is_sync&&(E=U)}for(h&&(x=E),c=m.samples[x].cts,m.nextSample=x;m.samples[x].alreadyRead===m.samples[x].size&&m.samples[x+1];)x++;return w=m.samples[x].offset+m.samples[x].alreadyRead,t.info("ISOFile","Seeking to "+(h?"RAP":"")+" sample #"+m.nextSample+" on track "+m.tkhd.track_id+", time "+t.getDurationString(c,C)+" and offset: "+w),{offset:w,time:c/C}},g.prototype.getTrackDuration=function(c){var h;return c.samples?(h=c.samples[c.samples.length-1],(h.cts+h.duration)/h.timescale):1/0},g.prototype.seek=function(c,h){var m=this.moov,U,b,w,E={offset:1/0,time:1/0};if(this.moov){for(w=0;w<m.traks.length;w++)U=m.traks[w],!(c>this.getTrackDuration(U))&&(b=this.seekTrack(c,h,U),b.offset<E.offset&&(E.offset=b.offset),b.time<E.time&&(E.time=b.time));return t.info("ISOFile","Seeking at time "+t.getDurationString(E.time,1)+" needs a buffer with a fileStart position of "+E.offset),E.offset===1/0?E={offset:this.nextParsePosition,time:0}:E.offset=this.stream.getEndFilePositionAfter(E.offset),t.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+E.offset),E}else throw"Cannot seek: moov not received!"},g.prototype.equal=function(c){for(var h=0;h<this.boxes.length&&h<c.boxes.length;){var m=this.boxes[h],U=c.boxes[h];if(!l.boxEqual(m,U))return!1;h++}return!0},e.ISOFile=g,g.prototype.lastBoxStartPosition=0,g.prototype.parsingMdat=null,g.prototype.nextParsePosition=0,g.prototype.discardMdatData=!1,g.prototype.processIncompleteBox=function(c){var h,m,U;return c.type==="mdat"?(h=new l[c.type+"Box"](c.size),this.parsingMdat=h,this.boxes.push(h),this.mdats.push(h),h.start=c.start,h.hdr_size=c.hdr_size,this.stream.addUsedBytes(h.hdr_size),this.lastBoxStartPosition=h.start+h.size,U=this.stream.seek(h.start+h.size,!1,this.discardMdatData),U?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=h.start+h.size,!1)):(c.type==="moov"&&(this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0)),m=this.stream.mergeNextBuffer?this.stream.mergeNextBuffer():!1,m?(this.nextParsePosition=this.stream.getEndPosition(),!0):(c.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+c.size:this.nextParsePosition=this.stream.getEndPosition(),!1))},g.prototype.hasIncompleteMdat=function(){return this.parsingMdat!==null},g.prototype.processIncompleteMdat=function(){var c,h;return c=this.parsingMdat,h=this.stream.seek(c.start+c.size,!1,this.discardMdatData),h?(t.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},g.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},g.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},g.prototype.updateUsedBytes=function(c,h){this.stream.addUsedBytes&&(c.type==="mdat"?(this.stream.addUsedBytes(c.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(c.size-c.hdr_size)):this.stream.addUsedBytes(c.size))},g.prototype.add=l.Box.prototype.add,g.prototype.addBox=l.Box.prototype.addBox,g.prototype.init=function(c){var h=c||{};this.add("ftyp").set("major_brand",h.brands&&h.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",h.brands||["iso4"]);var m=this.add("moov");return m.add("mvhd").set("timescale",h.timescale||600).set("rate",h.rate||65536).set("creation_time",0).set("modification_time",0).set("duration",h.duration||0).set("volume",h.width?0:256).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("next_track_id",1),m.add("mvex"),this},g.prototype.addTrack=function(c){this.moov||this.init(c);var h=c||{};h.width=h.width||320,h.height=h.height||320,h.id=h.id||this.moov.mvhd.next_track_id,h.type=h.type||"avc1";var m=this.moov.add("trak");this.moov.mvhd.next_track_id=h.id+1,m.add("tkhd").set("flags",l.TKHD_FLAG_ENABLED|l.TKHD_FLAG_IN_MOVIE|l.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",h.id).set("duration",h.duration||0).set("layer",h.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("width",h.width<<16).set("height",h.height<<16);var U=m.add("mdia");U.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",h.timescale||1).set("duration",h.media_duration||0).set("language",h.language||"und"),U.add("hdlr").set("handler",h.hdlr||"vide").set("name",h.name||"Track created with MP4Box.js"),U.add("elng").set("extended_language",h.language||"fr-FR");var b=U.add("minf");if(l[h.type+"SampleEntry"]!==void 0){var w=new l[h.type+"SampleEntry"];w.data_reference_index=1;var E="";for(var x in l.sampleEntryCodes)for(var C=l.sampleEntryCodes[x],I=0;I<C.length;I++)if(C.indexOf(h.type)>-1){E=x;break}switch(E){case"Visual":if(b.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),w.set("width",h.width).set("height",h.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",h.type+" Compressor").set("depth",24),h.avcDecoderConfigRecord){var S=new l.avcCBox;S.parse(new n(h.avcDecoderConfigRecord)),w.addBox(S)}else if(h.hevcDecoderConfigRecord){var M=new l.hvcCBox;M.parse(new n(h.hevcDecoderConfigRecord)),w.addBox(M)}break;case"Audio":b.add("smhd").set("balance",h.balance||0),w.set("channel_count",h.channel_count||2).set("samplesize",h.samplesize||16).set("samplerate",h.samplerate||65536);break;case"Hint":b.add("hmhd");break;case"Subtitle":switch(b.add("sthd"),h.type){case"stpp":w.set("namespace",h.namespace||"nonamespace").set("schema_location",h.schema_location||"").set("auxiliary_mime_types",h.auxiliary_mime_types||"");break}break;case"Metadata":b.add("nmhd");break;case"System":b.add("nmhd");break;default:b.add("nmhd");break}h.description&&w.addBox(h.description),h.description_boxes&&h.description_boxes.forEach(function(D){w.addBox(D)}),b.add("dinf").add("dref").addEntry(new l["url Box"]().set("flags",1));var R=b.add("stbl");return R.add("stsd").addEntry(w),R.add("stts").set("sample_counts",[]).set("sample_deltas",[]),R.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),R.add("stco").set("chunk_offsets",[]),R.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",h.id).set("default_sample_description_index",h.default_sample_description_index||1).set("default_sample_duration",h.default_sample_duration||0).set("default_sample_size",h.default_sample_size||0).set("default_sample_flags",h.default_sample_flags||0),this.buildTrakSampleLists(m),h.id}},l.Box.prototype.computeSize=function(c){var h=c||new r;h.endianness=r.BIG_ENDIAN,this.write(h)},g.prototype.addSample=function(c,h,m){var U=m||{},b={},w=this.getTrackById(c);if(w!==null){b.number=w.samples.length,b.track_id=w.tkhd.track_id,b.timescale=w.mdia.mdhd.timescale,b.description_index=U.sample_description_index?U.sample_description_index-1:0,b.description=w.mdia.minf.stbl.stsd.entries[b.description_index],b.data=h,b.size=h.byteLength,b.alreadyRead=b.size,b.duration=U.duration||1,b.cts=U.cts||0,b.dts=U.dts||0,b.is_sync=U.is_sync||!1,b.is_leading=U.is_leading||0,b.depends_on=U.depends_on||0,b.is_depended_on=U.is_depended_on||0,b.has_redundancy=U.has_redundancy||0,b.degradation_priority=U.degradation_priority||0,b.offset=0,b.subsamples=U.subsamples,w.samples.push(b),w.samples_size+=b.size,w.samples_duration+=b.duration,w.first_dts===void 0&&(w.first_dts=U.dts),this.processSamples();var E=this.createSingleSampleMoof(b);return this.addBox(E),E.computeSize(),E.trafs[0].truns[0].data_offset=E.size+8,this.add("mdat").data=new Uint8Array(h),b}},g.prototype.createSingleSampleMoof=function(c){var h=0;c.is_sync?h=1<<25:h=65536;var m=new l.moofBox;m.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var U=m.add("traf"),b=this.getTrackById(c.track_id);return U.add("tfhd").set("track_id",c.track_id).set("flags",l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),U.add("tfdt").set("baseMediaDecodeTime",c.dts-(b.first_dts||0)),U.add("trun").set("flags",l.TRUN_FLAGS_DATA_OFFSET|l.TRUN_FLAGS_DURATION|l.TRUN_FLAGS_SIZE|l.TRUN_FLAGS_FLAGS|l.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[c.duration]).set("sample_size",[c.size]).set("sample_flags",[h]).set("sample_composition_time_offset",[c.cts-c.dts]),m},g.prototype.lastMoofIndex=0,g.prototype.samplesDataSize=0,g.prototype.resetTables=function(){var c,h,m,U,b,w,E,x;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,c=0;c<this.moov.traks.length;c++){h=this.moov.traks[c],h.tkhd.duration=0,h.mdia.mdhd.duration=0,m=h.mdia.minf.stbl.stco||h.mdia.minf.stbl.co64,m.chunk_offsets=[],U=h.mdia.minf.stbl.stsc,U.first_chunk=[],U.samples_per_chunk=[],U.sample_description_index=[],b=h.mdia.minf.stbl.stsz||h.mdia.minf.stbl.stz2,b.sample_sizes=[],w=h.mdia.minf.stbl.stts,w.sample_counts=[],w.sample_deltas=[],E=h.mdia.minf.stbl.ctts,E&&(E.sample_counts=[],E.sample_offsets=[]),x=h.mdia.minf.stbl.stss;var C=h.mdia.minf.stbl.boxes.indexOf(x);C!=-1&&(h.mdia.minf.stbl.boxes[C]=null)}},g.initSampleGroups=function(c,h,m,U,b){var w,E,x,C;function I(S,M,R){this.grouping_type=S,this.grouping_type_parameter=M,this.sbgp=R,this.last_sample_in_run=-1,this.entry_index=-1}for(h&&(h.sample_groups_info=[]),c.sample_groups_info||(c.sample_groups_info=[]),E=0;E<m.length;E++){for(C=m[E].grouping_type+"/"+m[E].grouping_type_parameter,x=new I(m[E].grouping_type,m[E].grouping_type_parameter,m[E]),h&&(h.sample_groups_info[C]=x),c.sample_groups_info[C]||(c.sample_groups_info[C]=x),w=0;w<U.length;w++)U[w].grouping_type===m[E].grouping_type&&(x.description=U[w],x.description.used=!0);if(b)for(w=0;w<b.length;w++)b[w].grouping_type===m[E].grouping_type&&(x.fragment_description=b[w],x.fragment_description.used=!0,x.is_fragment=!0)}if(h){if(b)for(E=0;E<b.length;E++)!b[E].used&&b[E].version>=2&&(C=b[E].grouping_type+"/0",x=new I(b[E].grouping_type,0),x.is_fragment=!0,h.sample_groups_info[C]||(h.sample_groups_info[C]=x))}else for(E=0;E<U.length;E++)!U[E].used&&U[E].version>=2&&(C=U[E].grouping_type+"/0",x=new I(U[E].grouping_type,0),c.sample_groups_info[C]||(c.sample_groups_info[C]=x))},g.setSampleGroupProperties=function(c,h,m,U){var b,w;h.sample_groups=[];for(b in U)if(h.sample_groups[b]={},h.sample_groups[b].grouping_type=U[b].grouping_type,h.sample_groups[b].grouping_type_parameter=U[b].grouping_type_parameter,m>=U[b].last_sample_in_run&&(U[b].last_sample_in_run<0&&(U[b].last_sample_in_run=0),U[b].entry_index++,U[b].entry_index<=U[b].sbgp.entries.length-1&&(U[b].last_sample_in_run+=U[b].sbgp.entries[U[b].entry_index].sample_count)),U[b].entry_index<=U[b].sbgp.entries.length-1?h.sample_groups[b].group_description_index=U[b].sbgp.entries[U[b].entry_index].group_description_index:h.sample_groups[b].group_description_index=-1,h.sample_groups[b].group_description_index!==0){var E;U[b].fragment_description?E=U[b].fragment_description:E=U[b].description,h.sample_groups[b].group_description_index>0?(h.sample_groups[b].group_description_index>65535?w=(h.sample_groups[b].group_description_index>>16)-1:w=h.sample_groups[b].group_description_index-1,E&&w>=0&&(h.sample_groups[b].description=E.entries[w])):E&&E.version>=2&&E.default_group_description_index>0&&(h.sample_groups[b].description=E.entries[E.default_group_description_index-1])}},g.process_sdtp=function(c,h,m){h&&(c?(h.is_leading=c.is_leading[m],h.depends_on=c.sample_depends_on[m],h.is_depended_on=c.sample_is_depended_on[m],h.has_redundancy=c.sample_has_redundancy[m]):(h.is_leading=0,h.depends_on=0,h.is_depended_on=0,h.has_redundancy=0))},g.prototype.buildSampleLists=function(){var c,h;for(c=0;c<this.moov.traks.length;c++)h=this.moov.traks[c],this.buildTrakSampleLists(h)},g.prototype.buildTrakSampleLists=function(c){var h,m,U,b,w,E,x,C,I,S,M,R,D,L,j,re,J,H,ne,Z,se,O,V,de;if(c.samples=[],c.samples_duration=0,c.samples_size=0,m=c.mdia.minf.stbl.stco||c.mdia.minf.stbl.co64,U=c.mdia.minf.stbl.stsc,b=c.mdia.minf.stbl.stsz||c.mdia.minf.stbl.stz2,w=c.mdia.minf.stbl.stts,E=c.mdia.minf.stbl.ctts,x=c.mdia.minf.stbl.stss,C=c.mdia.minf.stbl.stsd,I=c.mdia.minf.stbl.subs,R=c.mdia.minf.stbl.stdp,S=c.mdia.minf.stbl.sbgps,M=c.mdia.minf.stbl.sgpds,H=-1,ne=-1,Z=-1,se=-1,O=0,V=0,de=0,g.initSampleGroups(c,null,S,M),!(typeof b>"u")){for(h=0;h<b.sample_sizes.length;h++){var oe={};oe.number=h,oe.track_id=c.tkhd.track_id,oe.timescale=c.mdia.mdhd.timescale,oe.alreadyRead=0,c.samples[h]=oe,oe.size=b.sample_sizes[h],c.samples_size+=oe.size,h===0?(L=1,D=0,oe.chunk_index=L,oe.chunk_run_index=D,J=U.samples_per_chunk[D],re=0,D+1<U.first_chunk.length?j=U.first_chunk[D+1]-1:j=1/0):h<J?(oe.chunk_index=L,oe.chunk_run_index=D):(L++,oe.chunk_index=L,re=0,L<=j||(D++,D+1<U.first_chunk.length?j=U.first_chunk[D+1]-1:j=1/0),oe.chunk_run_index=D,J+=U.samples_per_chunk[D]),oe.description_index=U.sample_description_index[oe.chunk_run_index]-1,oe.description=C.entries[oe.description_index],oe.offset=m.chunk_offsets[oe.chunk_index-1]+re,re+=oe.size,h>H&&(ne++,H<0&&(H=0),H+=w.sample_counts[ne]),h>0?(c.samples[h-1].duration=w.sample_deltas[ne],c.samples_duration+=c.samples[h-1].duration,oe.dts=c.samples[h-1].dts+c.samples[h-1].duration):oe.dts=0,E?(h>=Z&&(se++,Z<0&&(Z=0),Z+=E.sample_counts[se]),oe.cts=c.samples[h].dts+E.sample_offsets[se]):oe.cts=oe.dts,x?(h==x.sample_numbers[O]-1?(oe.is_sync=!0,O++):(oe.is_sync=!1,oe.degradation_priority=0),I&&I.entries[V].sample_delta+de==h+1&&(oe.subsamples=I.entries[V].subsamples,de+=I.entries[V].sample_delta,V++)):oe.is_sync=!0,g.process_sdtp(c.mdia.minf.stbl.sdtp,oe,oe.number),R?oe.degradation_priority=R.priority[h]:oe.degradation_priority=0,I&&I.entries[V].sample_delta+de==h&&(oe.subsamples=I.entries[V].subsamples,de+=I.entries[V].sample_delta),(S.length>0||M.length>0)&&g.setSampleGroupProperties(c,oe,h,c.sample_groups_info)}h>0&&(c.samples[h-1].duration=Math.max(c.mdia.mdhd.duration-c.samples[h-1].dts,0),c.samples_duration+=c.samples[h-1].duration)}},g.prototype.updateSampleLists=function(){var c,h,m,U,b,w,E,x,C,I,S,M,R,D,L;if(this.moov!==void 0){for(;this.lastMoofIndex<this.moofs.length;)if(C=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,C.type=="moof")for(I=C,c=0;c<I.trafs.length;c++){for(S=I.trafs[c],M=this.getTrackById(S.tfhd.track_id),R=this.getTrexById(S.tfhd.track_id),S.tfhd.flags&l.TFHD_FLAG_SAMPLE_DESC?U=S.tfhd.default_sample_description_index:U=R?R.default_sample_description_index:1,S.tfhd.flags&l.TFHD_FLAG_SAMPLE_DUR?b=S.tfhd.default_sample_duration:b=R?R.default_sample_duration:0,S.tfhd.flags&l.TFHD_FLAG_SAMPLE_SIZE?w=S.tfhd.default_sample_size:w=R?R.default_sample_size:0,S.tfhd.flags&l.TFHD_FLAG_SAMPLE_FLAGS?E=S.tfhd.default_sample_flags:E=R?R.default_sample_flags:0,S.sample_number=0,S.sbgps.length>0&&g.initSampleGroups(M,S,S.sbgps,M.mdia.minf.stbl.sgpds,S.sgpds),h=0;h<S.truns.length;h++){var j=S.truns[h];for(m=0;m<j.sample_count;m++){D={},D.moof_number=this.lastMoofIndex,D.number_in_traf=S.sample_number,S.sample_number++,D.number=M.samples.length,S.first_sample_index=M.samples.length,M.samples.push(D),D.track_id=M.tkhd.track_id,D.timescale=M.mdia.mdhd.timescale,D.description_index=U-1,D.description=M.mdia.minf.stbl.stsd.entries[D.description_index],D.size=w,j.flags&l.TRUN_FLAGS_SIZE&&(D.size=j.sample_size[m]),M.samples_size+=D.size,D.duration=b,j.flags&l.TRUN_FLAGS_DURATION&&(D.duration=j.sample_duration[m]),M.samples_duration+=D.duration,M.first_traf_merged||m>0?D.dts=M.samples[M.samples.length-2].dts+M.samples[M.samples.length-2].duration:(S.tfdt?D.dts=S.tfdt.baseMediaDecodeTime:D.dts=0,M.first_traf_merged=!0),D.cts=D.dts,j.flags&l.TRUN_FLAGS_CTS_OFFSET&&(D.cts=D.dts+j.sample_composition_time_offset[m]),L=E,j.flags&l.TRUN_FLAGS_FLAGS?L=j.sample_flags[m]:m===0&&j.flags&l.TRUN_FLAGS_FIRST_FLAG&&(L=j.first_sample_flags),D.is_sync=!(L>>16&1),D.is_leading=L>>26&3,D.depends_on=L>>24&3,D.is_depended_on=L>>22&3,D.has_redundancy=L>>20&3,D.degradation_priority=L&65535;var re=!!(S.tfhd.flags&l.TFHD_FLAG_BASE_DATA_OFFSET),J=!!(S.tfhd.flags&l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),H=!!(j.flags&l.TRUN_FLAGS_DATA_OFFSET),ne=0;re?ne=S.tfhd.base_data_offset:J||h===0?ne=I.start:ne=x,h===0&&m===0?H?D.offset=ne+j.data_offset:D.offset=ne:D.offset=x,x=D.offset+D.size,(S.sbgps.length>0||S.sgpds.length>0||M.mdia.minf.stbl.sbgps.length>0||M.mdia.minf.stbl.sgpds.length>0)&&g.setSampleGroupProperties(M,D,D.number_in_traf,S.sample_groups_info)}}if(S.subs){M.has_fragment_subsamples=!0;var Z=S.first_sample_index;for(h=0;h<S.subs.entries.length;h++)Z+=S.subs.entries[h].sample_delta,D=M.samples[Z-1],D.subsamples=S.subs.entries[h].subsamples}}}},g.prototype.getSample=function(c,h){var m,U=c.samples[h];if(!this.moov)return null;if(!U.data)U.data=new Uint8Array(U.size),U.alreadyRead=0,this.samplesDataSize+=U.size,t.debug("ISOFile","Allocating sample #"+h+" on track #"+c.tkhd.track_id+" of size "+U.size+" (total: "+this.samplesDataSize+")");else if(U.alreadyRead==U.size)return U;for(;;){var b=this.stream.findPosition(!0,U.offset+U.alreadyRead,!1);if(b>-1){m=this.stream.buffers[b];var w=m.byteLength-(U.offset+U.alreadyRead-m.fileStart);if(U.size-U.alreadyRead<=w)return t.debug("ISOFile","Getting sample #"+h+" data (alreadyRead: "+U.alreadyRead+" offset: "+(U.offset+U.alreadyRead-m.fileStart)+" read size: "+(U.size-U.alreadyRead)+" full size: "+U.size+")"),r.memcpy(U.data.buffer,U.alreadyRead,m,U.offset+U.alreadyRead-m.fileStart,U.size-U.alreadyRead),m.usedBytes+=U.size-U.alreadyRead,this.stream.logBufferLevel(),U.alreadyRead=U.size,U;if(w===0)return null;t.debug("ISOFile","Getting sample #"+h+" partial data (alreadyRead: "+U.alreadyRead+" offset: "+(U.offset+U.alreadyRead-m.fileStart)+" read size: "+w+" full size: "+U.size+")"),r.memcpy(U.data.buffer,U.alreadyRead,m,U.offset+U.alreadyRead-m.fileStart,w),U.alreadyRead+=w,m.usedBytes+=w,this.stream.logBufferLevel()}else return null}},g.prototype.releaseSample=function(c,h){var m=c.samples[h];return m.data?(this.samplesDataSize-=m.size,m.data=null,m.alreadyRead=0,m.size):0},g.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},g.prototype.getCodecs=function(){var c,h="";for(c=0;c<this.moov.traks.length;c++){var m=this.moov.traks[c];c>0&&(h+=","),h+=m.mdia.minf.stbl.stsd.entries[0].getCodec()}return h},g.prototype.getTrexById=function(c){var h;if(!this.moov||!this.moov.mvex)return null;for(h=0;h<this.moov.mvex.trexs.length;h++){var m=this.moov.mvex.trexs[h];if(m.track_id==c)return m}return null},g.prototype.getTrackById=function(c){if(this.moov===void 0)return null;for(var h=0;h<this.moov.traks.length;h++){var m=this.moov.traks[h];if(m.tkhd.track_id==c)return m}return null},g.prototype.items=[],g.prototype.entity_groups=[],g.prototype.itemsDataSize=0,g.prototype.flattenItemInfo=function(){var c=this.items,h=this.entity_groups,m,U,b,w=this.meta;if(w!=null&&w.hdlr!==void 0&&w.iinf!==void 0){for(m=0;m<w.iinf.item_infos.length;m++)b={},b.id=w.iinf.item_infos[m].item_ID,c[b.id]=b,b.ref_to=[],b.name=w.iinf.item_infos[m].item_name,w.iinf.item_infos[m].protection_index>0&&(b.protection=w.ipro.protections[w.iinf.item_infos[m].protection_index-1]),w.iinf.item_infos[m].item_type?b.type=w.iinf.item_infos[m].item_type:b.type="mime",b.content_type=w.iinf.item_infos[m].content_type,b.content_encoding=w.iinf.item_infos[m].content_encoding;if(w.grpl)for(m=0;m<w.grpl.boxes.length;m++)entity_group={},entity_group.id=w.grpl.boxes[m].group_id,entity_group.entity_ids=w.grpl.boxes[m].entity_ids,entity_group.type=w.grpl.boxes[m].type,h[entity_group.id]=entity_group;if(w.iloc)for(m=0;m<w.iloc.items.length;m++){var E=w.iloc.items[m];switch(b=c[E.item_ID],E.data_reference_index!==0&&(t.warn("Item storage with reference to other files: not supported"),b.source=w.dinf.boxes[E.data_reference_index-1]),E.construction_method){case 0:break;case 1:t.warn("Item storage with construction_method : not supported");break;case 2:t.warn("Item storage with construction_method : not supported");break}for(b.extents=[],b.size=0,U=0;U<E.extents.length;U++)b.extents[U]={},b.extents[U].offset=E.extents[U].extent_offset+E.base_offset,b.extents[U].length=E.extents[U].extent_length,b.extents[U].alreadyRead=0,b.size+=b.extents[U].length}if(w.pitm&&(c[w.pitm.item_id].primary=!0),w.iref)for(m=0;m<w.iref.references.length;m++){var x=w.iref.references[m];for(U=0;U<x.references.length;U++)c[x.from_item_ID].ref_to.push({type:x.type,id:x.references[U]})}if(w.iprp)for(var C=0;C<w.iprp.ipmas.length;C++){var I=w.iprp.ipmas[C];for(m=0;m<I.associations.length;m++){var S=I.associations[m];if(b=c[S.id],b||(b=h[S.id]),b)for(b.properties===void 0&&(b.properties={},b.properties.boxes=[]),U=0;U<S.props.length;U++){var M=S.props[U];if(M.property_index>0&&M.property_index-1<w.iprp.ipco.boxes.length){var R=w.iprp.ipco.boxes[M.property_index-1];b.properties[R.type]=R,b.properties.boxes.push(R)}}}}}},g.prototype.getItem=function(c){var h,m;if(!this.meta)return null;if(m=this.items[c],!m.data&&m.size)m.data=new Uint8Array(m.size),m.alreadyRead=0,this.itemsDataSize+=m.size,t.debug("ISOFile","Allocating item #"+c+" of size "+m.size+" (total: "+this.itemsDataSize+")");else if(m.alreadyRead===m.size)return m;for(var U=0;U<m.extents.length;U++){var b=m.extents[U];if(b.alreadyRead!==b.length){var w=this.stream.findPosition(!0,b.offset+b.alreadyRead,!1);if(w>-1){h=this.stream.buffers[w];var E=h.byteLength-(b.offset+b.alreadyRead-h.fileStart);if(b.length-b.alreadyRead<=E)t.debug("ISOFile","Getting item #"+c+" extent #"+U+" data (alreadyRead: "+b.alreadyRead+" offset: "+(b.offset+b.alreadyRead-h.fileStart)+" read size: "+(b.length-b.alreadyRead)+" full extent size: "+b.length+" full item size: "+m.size+")"),r.memcpy(m.data.buffer,m.alreadyRead,h,b.offset+b.alreadyRead-h.fileStart,b.length-b.alreadyRead),h.usedBytes+=b.length-b.alreadyRead,this.stream.logBufferLevel(),m.alreadyRead+=b.length-b.alreadyRead,b.alreadyRead=b.length;else return t.debug("ISOFile","Getting item #"+c+" extent #"+U+" partial data (alreadyRead: "+b.alreadyRead+" offset: "+(b.offset+b.alreadyRead-h.fileStart)+" read size: "+E+" full extent size: "+b.length+" full item size: "+m.size+")"),r.memcpy(m.data.buffer,m.alreadyRead,h,b.offset+b.alreadyRead-h.fileStart,E),b.alreadyRead+=E,m.alreadyRead+=E,h.usedBytes+=E,this.stream.logBufferLevel(),null}else return null}}return m.alreadyRead===m.size?m:null},g.prototype.releaseItem=function(c){var h=this.items[c];if(h.data){this.itemsDataSize-=h.size,h.data=null,h.alreadyRead=0;for(var m=0;m<h.extents.length;m++){var U=h.extents[m];U.alreadyRead=0}return h.size}else return 0},g.prototype.processItems=function(c){for(var h in this.items){var m=this.items[h];this.getItem(m.id),c&&!m.sent&&(c(m),m.sent=!0,m.data=null)}},g.prototype.hasItem=function(c){for(var h in this.items){var m=this.items[h];if(m.name===c)return m.id}return-1},g.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},g.prototype.getPrimaryItem=function(){return!this.meta||!this.meta.pitm?null:this.getItem(this.meta.pitm.item_id)},g.prototype.itemToFragmentedTrackFile=function(c){var h=c||{},m=null;if(h.itemId?m=this.getItem(h.itemId):m=this.getPrimaryItem(),m==null)return null;var U=new g;U.discardMdatData=!1;var b={type:m.type,description_boxes:m.properties.boxes};m.properties.ispe&&(b.width=m.properties.ispe.image_width,b.height=m.properties.ispe.image_height);var w=U.addTrack(b);return w?(U.addSample(w,m.data),U):null},g.prototype.write=function(c){for(var h=0;h<this.boxes.length;h++)this.boxes[h].write(c)},g.prototype.createFragment=function(c,h,m){var U=this.getTrackById(c),b=this.getSample(U,h);if(b==null)return this.setNextSeekPositionFromSample(U.samples[h]),null;var w=m||new r;w.endianness=r.BIG_ENDIAN;var E=this.createSingleSampleMoof(b);E.write(w),E.trafs[0].truns[0].data_offset=E.size+8,t.debug("MP4Box","Adjusting data_offset with new value "+E.trafs[0].truns[0].data_offset),w.adjustUint32(E.trafs[0].truns[0].data_offset_position,E.trafs[0].truns[0].data_offset);var x=new l.mdatBox;return x.data=b.data,x.write(w),w},g.writeInitializationSegment=function(c,h,m,U){var b;t.debug("ISOFile","Generating initialization segment");var w=new r;w.endianness=r.BIG_ENDIAN,c.write(w);var E=h.add("mvex");for(m&&E.add("mehd").set("fragment_duration",m),b=0;b<h.traks.length;b++)E.add("trex").set("track_id",h.traks[b].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",U).set("default_sample_size",0).set("default_sample_flags",65536);return h.write(w),w.buffer},g.prototype.save=function(c){var h=new r;h.endianness=r.BIG_ENDIAN,this.write(h),h.save(c)},g.prototype.getBuffer=function(){var c=new r;return c.endianness=r.BIG_ENDIAN,this.write(c),c.buffer},g.prototype.initializeSegmentation=function(){var c,h,m,U;for(this.onSegment===null&&t.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),h=[],c=0;c<this.fragmentedTracks.length;c++){var b=new l.moovBox;b.mvhd=this.moov.mvhd,b.boxes.push(b.mvhd),m=this.getTrackById(this.fragmentedTracks[c].id),b.boxes.push(m),b.traks.push(m),U={},U.id=m.tkhd.track_id,U.user=this.fragmentedTracks[c].user,U.buffer=g.writeInitializationSegment(this.ftyp,b,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[c].samples.length>0?this.moov.traks[c].samples[0].duration:0),h.push(U)}return h},l.Box.prototype.printHeader=function(c){this.size+=8,this.size>a&&(this.size+=8),this.type==="uuid"&&(this.size+=16),c.log(c.indent+"size:"+this.size),c.log(c.indent+"type:"+this.type)},l.FullBox.prototype.printHeader=function(c){this.size+=4,l.Box.prototype.printHeader.call(this,c),c.log(c.indent+"version:"+this.version),c.log(c.indent+"flags:"+this.flags)},l.Box.prototype.print=function(c){this.printHeader(c)},l.ContainerBox.prototype.print=function(c){this.printHeader(c);for(var h=0;h<this.boxes.length;h++)if(this.boxes[h]){var m=c.indent;c.indent+=" ",this.boxes[h].print(c),c.indent=m}},g.prototype.print=function(c){c.indent="";for(var h=0;h<this.boxes.length;h++)this.boxes[h]&&this.boxes[h].print(c)},l.mvhdBox.prototype.print=function(c){l.FullBox.prototype.printHeader.call(this,c),c.log(c.indent+"creation_time: "+this.creation_time),c.log(c.indent+"modification_time: "+this.modification_time),c.log(c.indent+"timescale: "+this.timescale),c.log(c.indent+"duration: "+this.duration),c.log(c.indent+"rate: "+this.rate),c.log(c.indent+"volume: "+(this.volume>>8)),c.log(c.indent+"matrix: "+this.matrix.join(", ")),c.log(c.indent+"next_track_id: "+this.next_track_id)},l.tkhdBox.prototype.print=function(c){l.FullBox.prototype.printHeader.call(this,c),c.log(c.indent+"creation_time: "+this.creation_time),c.log(c.indent+"modification_time: "+this.modification_time),c.log(c.indent+"track_id: "+this.track_id),c.log(c.indent+"duration: "+this.duration),c.log(c.indent+"volume: "+(this.volume>>8)),c.log(c.indent+"matrix: "+this.matrix.join(", ")),c.log(c.indent+"layer: "+this.layer),c.log(c.indent+"alternate_group: "+this.alternate_group),c.log(c.indent+"width: "+this.width),c.log(c.indent+"height: "+this.height)};var v={};v.createFile=function(c,h){var m=c!==void 0?c:!0,U=new g(h);return U.discardMdatData=!m,U},e.createFile=v.createFile})(ZK);const Nu=oI(ZK);var N4e=Object.defineProperty,qK=e=>{throw TypeError(e)},$4e=(e,t,n)=>t in e?N4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vx=(e,t,n)=>$4e(e,typeof t!="symbol"?t+"":t,n),F4e=(e,t,n)=>t.has(e)||qK("Cannot "+n),I1=(e,t,n)=>(F4e(e,t,"read from private field"),n?n.call(e):t.get(e)),j4e=(e,t,n)=>t.has(e)?qK("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Gf;let f4=class{constructor(){j4e(this,Gf,new Map),vx(this,"on",(t,n)=>{const r=I1(this,Gf).get(t)??new Set;return r.add(n),I1(this,Gf).has(t)||I1(this,Gf).set(t,r),()=>{r.delete(n),r.size===0&&I1(this,Gf).delete(t)}}),vx(this,"once",(t,n)=>{const r=this.on(t,(...a)=>{r(),n(...a)});return r}),vx(this,"emit",(t,...n)=>{const r=I1(this,Gf).get(t);r!=null&&r.forEach(a=>a(...n))})}static forwardEvent(t,n,r){const a=r.map(o=>{const[s,l]=Array.isArray(o)?o:[o,o];return t.on(s,(...d)=>{n.emit(l,...d)})});return()=>{a.forEach(o=>o())}}destroy(){I1(this,Gf).clear()}};Gf=new WeakMap;const O4e=()=>{let e,t=16.6;self.onmessage=n=>{n.data.event==="start"&&(self.clearInterval(e),e=self.setInterval(()=>{self.postMessage({})},t)),n.data.event==="stop"&&self.clearInterval(e)}},z4e=()=>{const e=new Blob([`(${O4e.toString()})()`]),t=URL.createObjectURL(e);return new Worker(t)},V1=new Map;let xC=1,Cg=null;globalThis.Worker!=null&&(Cg=z4e(),Cg.onmessage=()=>{xC+=1;for(const[e,t]of V1)if(xC%e===0)for(const n of t)n()});const JK=(e,t)=>{const n=Math.round(t/16.6),r=V1.get(n)??new Set;return r.add(e),V1.set(n,r),V1.size===1&&r.size===1&&(Cg==null||Cg.postMessage({event:"start"})),()=>{r.delete(e),r.size===0&&V1.delete(n),V1.size===0&&(xC=0,Cg==null||Cg.postMessage({event:"stop"}))}};function Q4e(e,t){let n=!1;async function r(){const a=e.getReader();for(;!n;){const{value:o,done:s}=await a.read();if(s){t.onDone();return}await t.onChunk(o)}a.releaseLock(),await e.cancel()}return r().catch(console.error),()=>{n=!0}}function H4e(e,t,n){let r=0,a=0;const o=e.boxes;let s=!1;const l=()=>{var p;if(!s)if(o.find(c=>c.type==="moof")!=null)s=!0;else return null;if(a>=o.length)return null;const g=new Nu.DataStream;g.endianness=Nu.DataStream.BIG_ENDIAN;let v=a;try{for(;v<o.length;)o[v].write(g),delete o[v],v+=1}catch(c){const h=o[v];throw c instanceof Error&&h!=null?Error(`${c.message} | deltaBuf( boxType: ${h.type}, boxSize: ${h.size}, boxDataLen: ${((p=h.data)==null?void 0:p.length)??-1})`):c}return G4e(e),a=o.length,new Uint8Array(g.buffer)};let d=!1,u=!1,f=null;return{stream:new ReadableStream({start(p){r=self.setInterval(()=>{const g=l();g!=null&&!u&&p.enqueue(g)},t),f=g=>{if(clearInterval(r),e.flush(),g!=null){p.error(g);return}const v=l();v!=null&&!u&&p.enqueue(v),u||p.close()},d&&f()},cancel(){u=!0,clearInterval(r),n==null||n()}}),stop:p=>{d||(d=!0,f==null||f(p))}}}function G4e(e){if(e.moov!=null){for(var t=0;t<e.moov.traks.length;t++)e.moov.traks[t].samples=[];e.mdats=[],e.moofs=[]}}const vM=(e,t)=>{const n=new Uint8Array(8);new DataView(n.buffer).setUint32(0,t);for(let r=0;r<4;r++)n[4+r]=e.charCodeAt(r);return n},W4e=()=>{const e=new TextEncoder,t=e.encode("mdta"),n=e.encode("mp4 handler"),r=32+n.byteLength+1,a=new Uint8Array(r),o=new DataView(a.buffer);return a.set(vM("hdlr",r),0),o.setUint32(8,0),a.set(t,16),a.set(n,32),a},V4e=e=>{const t=new TextEncoder,n=t.encode("mdta"),r=e.map(d=>{const u=t.encode(d),f=8+u.byteLength,p=new Uint8Array(f);return new DataView(p.buffer).setUint32(0,f),p.set(n,4),p.set(u,4+n.byteLength),p}),a=16+r.reduce((d,u)=>d+u.byteLength,0),o=new Uint8Array(a),s=new DataView(o.buffer);o.set(vM("keys",a),0),s.setUint32(8,0),s.setUint32(12,e.length);let l=16;for(const d of r)o.set(d,l),l+=d.byteLength;return o},Y4e=e=>{const t=new TextEncoder,n=t.encode("data"),r=Object.entries(e).map(([l,d],u)=>{const f=u+1,p=t.encode(d),g=24+p.byteLength,v=new Uint8Array(g),c=new DataView(v.buffer);return c.setUint32(0,g),c.setUint32(4,f),c.setUint32(8,16+p.byteLength),v.set(n,12),c.setUint32(16,1),v.set(p,24),v}),a=8+r.reduce((l,d)=>l+d.byteLength,0),o=new Uint8Array(a);o.set(vM("ilst",a),0);let s=8;for(const l of r)o.set(l,s),s+=l.byteLength;return o},K4e=e=>{const t=W4e(),n=V4e(Object.keys(e)),r=Y4e(e),a=t.length+n.length+r.length,o=new Uint8Array(a);return o.set(t,0),o.set(n,t.length),o.set(r,t.length+n.length),o};function X4e(e){return e instanceof Error?String(e):typeof e=="object"?JSON.stringify(e,(t,n)=>n instanceof Error?String(n):n):String(e)}function Z4e(){const e=new Date;return`${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}.${e.getMilliseconds()}`}let eX=1;const tX=[],N$=["debug","info","warn","error"].reduce((e,t,n)=>Object.assign(e,{[t]:(...r)=>{eX<=n&&(console[t](...r),tX.push({lvName:t,timeStr:Z4e(),args:r}))}}),{}),yb=new Map,Kn={setLogLevel:e=>{eX=yb.get(e)??1},...N$,create:e=>Object.fromEntries(Object.entries(N$).map(([t,n])=>[t,(...r)=>n(e,...r)])),async dump(){return tX.reduce((e,{lvName:t,timeStr:n,args:r})=>e+`[${t}][${n}]  ${r.map(a=>X4e(a)).join(" ")}
`,"")}};yb.set(Kn.debug,0);yb.set(Kn.info,1);yb.set(Kn.warn,2);yb.set(Kn.error,3);(async function(){await Promise.resolve(),globalThis.navigator!=null&&(Kn.info(`@webav version: 1.0.10, date: ${new Date().toLocaleDateString()}`),Kn.info(globalThis.navigator.userAgent))})();function q4e(e){Kn.info("recodemux opts:",e);const t=Nu.createFile(),n=new f4,r=(d,u)=>{const f=d.add("udta").add("meta");f.data=K4e(u),f.size=f.data.byteLength};let a=!1;const o=()=>{t.moov==null||a||(a=!0,e.metaDataTags!=null&&r(t.moov,e.metaDataTags),e.duration!=null&&(t.moov.mvhd.duration=e.duration))};n.once("VideoReady",o),n.once("AudioReady",o);let s=e.video!=null?J4e(e.video,t,n):null,l=e.audio!=null?t7e(e.audio,t,n):null;return e.video==null&&n.emit("VideoReady"),e.audio==null&&n.emit("AudioReady"),{encodeVideo:(d,u)=>{s==null||s.encode(d,u),d.close()},encodeAudio:d=>{if(l!=null)try{l.encode(d),d.close()}catch(u){const f=`encode audio chunk error: ${u.message}, state: ${JSON.stringify({qSize:l.encodeQueueSize,state:l.state})}`;throw Kn.error(f),Error(f)}},getEncodeQueueSize:()=>(s==null?void 0:s.encodeQueueSize)??(l==null?void 0:l.encodeQueueSize)??0,flush:async()=>{await Promise.all([s==null?void 0:s.flush(),(l==null?void 0:l.state)==="configured"?l.flush():null])},close:()=>{n.destroy(),s==null||s.close(),(l==null?void 0:l.state)==="configured"&&l.close()},mp4file:t}}function J4e(e,t,n){const r={timescale:1e6,width:e.width,height:e.height,brands:["isom","iso2","avc1","mp42","mp41"],avcDecoderConfigRecord:null,name:"Track created with WebAV"};let a=-1,o=!1;n.once("AudioReady",()=>{o=!0});const s={encoder0:[],encoder1:[]},l=(U,b,w)=>{var E;if(a===-1&&w!=null){const x=(E=w.decoderConfig)==null?void 0:E.description;e7e(x),r.avcDecoderConfigRecord=x,a=t.addTrack(r),n.emit("VideoReady"),Kn.info("VideoEncoder, video track ready, trackId:",a)}s[U].push(_C(b))};let d="encoder1",u=0;const f=Math.floor(1e3/e.expectFPS*1e3);function p(){if(!o)return;const U=d==="encoder1"?"encoder0":"encoder1",b=s[d],w=s[U];if(b.length===0&&w.length===0)return;let E=b[0];if(E!=null&&(!E.is_sync||E.cts-u<f)){const C=g(b);C>u&&(u=C)}const x=w[0];if(x!=null&&x.is_sync&&x.cts-u<f){d=U,p();return}if(E!=null&&E.is_sync&&x!=null&&x.is_sync)if(E.cts<=x.cts){const C=g(b);C>u&&(u=C)}else{d=U,p();return}}function g(U){let b=-1,w=0;for(;w<U.length;w++){const E=U[w];if(w>0&&E.is_sync)break;t.addSample(a,E.data,E),b=E.cts+E.duration}return U.splice(0,w),b}const v=JK(p,15),c=$$(e,(U,b)=>l("encoder0",U,b)),h=$$(e,(U,b)=>l("encoder1",U,b));let m=0;return{get encodeQueueSize(){return c.encodeQueueSize+h.encodeQueueSize},encode:(U,b)=>{try{b.keyFrame&&(m+=1),(m%2===0?c:h).encode(U,b)}catch(w){const E=`encode video frame error: ${w.message}, state: ${JSON.stringify({ts:U.timestamp,keyFrame:b.keyFrame,duration:U.duration,gopId:m})}`;throw Kn.error(E),Error(E)}},flush:async()=>{await Promise.all([c.state==="configured"?await c.flush():null,h.state==="configured"?await h.flush():null]),v(),p()},close:()=>{c.state==="configured"&&c.close(),h.state==="configured"&&h.close()}}}function e7e(e){const t=new Uint8Array(e);t[2].toString(2).slice(-2).includes("1")&&(t[2]=0)}function $$(e,t){const n={codec:e.codec,framerate:e.expectFPS,hardwareAcceleration:e.__unsafe_hardwareAcceleration__,bitrate:e.bitrate,width:e.width,height:e.height,alpha:"discard",avc:{format:"avc"}},r=new VideoEncoder({error:a=>{const o=`VideoEncoder error: ${a.message}, config: ${JSON.stringify(n)}, state: ${JSON.stringify({qSize:r.encodeQueueSize,state:r.state})}`;throw Kn.error(o),Error(o)},output:t});return r.configure(n),r}function t7e(e,t,n){const r={timescale:1e6,samplerate:e.sampleRate,channel_count:e.channelCount,hdlr:"soun",type:e.codec==="aac"?"mp4a":"Opus",name:"Track created with WebAV"};let a=-1,o=[],s=!1;n.once("VideoReady",()=>{s=!0,o.forEach(u=>{const f=_C(u);t.addSample(a,f.data,f)}),o=[]});const l={codec:e.codec==="aac"?"mp4a.40.2":"opus",sampleRate:e.sampleRate,numberOfChannels:e.channelCount,bitrate:128e3},d=new AudioEncoder({error:u=>{const f=`AudioEncoder error: ${u.message}, config: ${JSON.stringify(l)}, state: ${JSON.stringify({qSize:d.encodeQueueSize,state:d.state})}`;throw Kn.error(f),Error(f)},output:(u,f)=>{var p;if(a===-1){const g=(p=f.decoderConfig)==null?void 0:p.description;a=t.addTrack({...r,description:g==null?void 0:n7e(g)}),n.emit("AudioReady"),Kn.info("AudioEncoder, audio track ready, trackId:",a)}if(s){const g=_C(u);t.addSample(a,g.data,g)}else o.push(u)}});return d.configure(l),d}function n7e(e){const t=e.byteLength,n=new Uint8Array([0,0,0,0,3,23+t,0,2,0,4,18+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5,t,...new Uint8Array(e instanceof ArrayBuffer?e:e.buffer),6,1,2]),r=new Nu.BoxParser.esdsBox(n.byteLength);return r.hdr_size=0,r.parse(new Nu.DataStream(n,0,Nu.DataStream.BIG_ENDIAN)),r}function _C(e){const t=new ArrayBuffer(e.byteLength);e.copyTo(t);const n=e.timestamp;return{duration:e.duration??0,dts:n,cts:n,is_sync:e.type==="key",data:t}}class r7e{constructor(t,n,r){this.length_=t,this.scaleFactor_=(t-1)/n,this.interpolate=this.cubic,r.method==="point"?this.interpolate=this.point:r.method==="linear"?this.interpolate=this.linear:r.method==="sinc"&&(this.interpolate=this.sinc),this.tangentFactor_=1-Math.max(0,Math.min(1,r.tension||0)),this.sincFilterSize_=r.sincFilterSize||1,this.kernel_=a7e(r.sincWindow||i7e)}point(t,n){return this.getClippedInput_(Math.round(this.scaleFactor_*t),n)}linear(t,n){t=this.scaleFactor_*t;let r=Math.floor(t);return t-=r,(1-t)*this.getClippedInput_(r,n)+t*this.getClippedInput_(r+1,n)}cubic(t,n){t=this.scaleFactor_*t;let r=Math.floor(t),a=[this.getTangent_(r,n),this.getTangent_(r+1,n)],o=[this.getClippedInput_(r,n),this.getClippedInput_(r+1,n)];t-=r;let s=t*t,l=t*s;return(2*l-3*s+1)*o[0]+(l-2*s+t)*a[0]+(-2*l+3*s)*o[1]+(l-s)*a[1]}sinc(t,n){t=this.scaleFactor_*t;let r=Math.floor(t),a=r-this.sincFilterSize_+1,o=r+this.sincFilterSize_,s=0;for(let l=a;l<=o;l++)s+=this.kernel_(t-l)*this.getClippedInput_(l,n);return s}getTangent_(t,n){return this.tangentFactor_*(this.getClippedInput_(t+1,n)-this.getClippedInput_(t-1,n))/2}getClippedInput_(t,n){return 0<=t&&t<this.length_?n[t]:0}}function i7e(e){return Math.exp(-e/2*e/2)}function a7e(e){return function(t){return o7e(t)*e(t)}}function o7e(e){return e===0?1:Math.sin(Math.PI*e)/(Math.PI*e)}class s7e{constructor(t,n,r){let a=2*Math.PI*r/n,o=0;this.filters=[];for(let s=0;s<=t;s++)s-t/2===0?this.filters[s]=a:(this.filters[s]=Math.sin(a*(s-t/2))/(s-t/2),this.filters[s]*=.54-.46*Math.cos(2*Math.PI*s/t)),o=o+this.filters[s];for(let s=0;s<=t;s++)this.filters[s]/=o;this.z=this.initZ_()}filter(t){this.z.buf[this.z.pointer]=t;let n=0;for(let r=0,a=this.z.buf.length;r<a;r++)n+=this.filters[r]*this.z.buf[(this.z.pointer+r)%this.z.buf.length];return this.z.pointer=(this.z.pointer+1)%this.z.buf.length,n}reset(){this.z=this.initZ_()}initZ_(){let t=[];for(let n=0;n<this.filters.length-1;n++)t.push(0);return{buf:t,pointer:0}}}class l7e{constructor(t,n,r){let a=[];for(let o=0;o<t;o++)a.push(this.getCoeffs_({Fs:n,Fc:r,Q:.5/Math.sin(Math.PI/(t*2)*(o+.5))}));this.stages=[];for(let o=0;o<a.length;o++)this.stages[o]={b0:a[o].b[0],b1:a[o].b[1],b2:a[o].b[2],a1:a[o].a[0],a2:a[o].a[1],k:a[o].k,z:[0,0]}}filter(t){let n=t;for(let r=0,a=this.stages.length;r<a;r++)n=this.runStage_(r,n);return n}getCoeffs_(t){let n={};n.z=[0,0],n.a=[],n.b=[];let r=this.preCalc_(t,n);return n.k=1,n.b.push((1-r.cw)/(2*r.a0)),n.b.push(2*n.b[0]),n.b.push(n.b[0]),n}preCalc_(t,n){let r={},a=2*Math.PI*t.Fc/t.Fs;return r.alpha=Math.sin(a)/(2*t.Q),r.cw=Math.cos(a),r.a0=1+r.alpha,n.a0=r.a0,n.a.push(-2*r.cw/r.a0),n.k=1,n.a.push((1-r.alpha)/r.a0),r}runStage_(t,n){let r=n*this.stages[t].k-this.stages[t].a1*this.stages[t].z[0]-this.stages[t].a2*this.stages[t].z[1],a=this.stages[t].b0*r+this.stages[t].b1*this.stages[t].z[0]+this.stages[t].b2*this.stages[t].z[1];return this.stages[t].z[1]=this.stages[t].z[0],this.stages[t].z[0]=r,a}reset(){for(let t=0;t<this.stages.length;t++)this.stages[t].z=[0,0]}}const c7e={point:!1,linear:!1,cubic:!0,sinc:!0},F$={IIR:16,FIR:71},d7e={IIR:l7e,FIR:s7e};function u7e(e,t,n,r={}){let a=(n-t)/t+1,o=new Float64Array(e.length*a);r.method=r.method||"cubic";let s=new r7e(e.length,o.length,{method:r.method,tension:r.tension||0,sincFilterSize:r.sincFilterSize||6,sincWindow:r.sincWindow||void 0});if(r.LPF===void 0&&(r.LPF=c7e[r.method]),r.LPF){r.LPFType=r.LPFType||"IIR";const l=d7e[r.LPFType];if(n>t){let d=new l(r.LPFOrder||F$[r.LPFType],n,t/2);f7e(e,o,s,d)}else{let d=new l(r.LPFOrder||F$[r.LPFType],t,n/2);h7e(e,o,s,d)}}else nX(e,o,s);return o}function nX(e,t,n){for(let r=0,a=t.length;r<a;r++)t[r]=n.interpolate(r,e)}function f7e(e,t,n,r){for(let a=0,o=t.length;a<o;a++)t[a]=r.filter(n.interpolate(a,e));r.reset();for(let a=t.length-1;a>=0;a--)t[a]=r.filter(t[a])}function h7e(e,t,n,r){for(let a=0,o=e.length;a<o;a++)e[a]=r.filter(e[a]);r.reset();for(let a=e.length-1;a>=0;a--)e[a]=r.filter(e[a]);nX(e,t,n)}var rX=e=>{throw TypeError(e)},iX=(e,t,n)=>t.has(e)||rX("Cannot "+n),Jn=(e,t,n)=>(iX(e,t,"read from private field"),n?n.call(e):t.get(e)),Yl=(e,t,n)=>t.has(e)?rX("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Js=(e,t,n,r)=>(iX(e,t,"write to private field"),t.set(e,n),n);const aX="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHUobil7aWYobj09PSIvIilyZXR1cm57cGFyZW50Om51bGwsbmFtZToiIn07Y29uc3QgZT1uLnNwbGl0KCIvIikuZmlsdGVyKGk9PmkubGVuZ3RoPjApO2lmKGUubGVuZ3RoPT09MCl0aHJvdyBFcnJvcigiSW52YWxpZCBwYXRoIik7Y29uc3QgYT1lW2UubGVuZ3RoLTFdLHI9Ii8iK2Uuc2xpY2UoMCwtMSkuam9pbigiLyIpO3JldHVybntuYW1lOmEscGFyZW50OnJ9fWFzeW5jIGZ1bmN0aW9uIHcobixlKXtjb25zdHtwYXJlbnQ6YSxuYW1lOnJ9PXUobik7aWYoYT09bnVsbClyZXR1cm4gYXdhaXQgbmF2aWdhdG9yLnN0b3JhZ2UuZ2V0RGlyZWN0b3J5KCk7Y29uc3QgaT1hLnNwbGl0KCIvIikuZmlsdGVyKHQ9PnQubGVuZ3RoPjApO3RyeXtsZXQgdD1hd2FpdCBuYXZpZ2F0b3Iuc3RvcmFnZS5nZXREaXJlY3RvcnkoKTtmb3IoY29uc3QgcyBvZiBpKXQ9YXdhaXQgdC5nZXREaXJlY3RvcnlIYW5kbGUocyx7Y3JlYXRlOmUuY3JlYXRlfSk7aWYoZS5pc0ZpbGUpcmV0dXJuIGF3YWl0IHQuZ2V0RmlsZUhhbmRsZShyLHtjcmVhdGU6ZS5jcmVhdGV9KX1jYXRjaCh0KXtpZih0Lm5hbWU9PT0iTm90Rm91bmRFcnJvciIpcmV0dXJuIG51bGw7dGhyb3cgdH19Y29uc3QgZj17fTtzZWxmLm9ubWVzc2FnZT1hc3luYyBuPT57dmFyIGk7Y29uc3R7ZXZ0VHlwZTplLGFyZ3M6YX09bi5kYXRhO2xldCByPWZbYS5maWxlSWRdO3RyeXtsZXQgdDtjb25zdCBzPVtdO2lmKGU9PT0icmVnaXN0ZXIiKXtjb25zdCBsPWF3YWl0IHcoYS5maWxlUGF0aCx7Y3JlYXRlOiEwLGlzRmlsZTohMH0pO2lmKGw9PW51bGwpdGhyb3cgRXJyb3IoYG5vdCBmb3VuZCBmaWxlOiAke2EuZmlsZUlkfWApO3I9YXdhaXQgbC5jcmVhdGVTeW5jQWNjZXNzSGFuZGxlKHttb2RlOmEubW9kZX0pLGZbYS5maWxlSWRdPXJ9ZWxzZSBpZihlPT09ImNsb3NlIilhd2FpdCByLmNsb3NlKCksZGVsZXRlIGZbYS5maWxlSWRdO2Vsc2UgaWYoZT09PSJ0cnVuY2F0ZSIpYXdhaXQgci50cnVuY2F0ZShhLm5ld1NpemUpO2Vsc2UgaWYoZT09PSJ3cml0ZSIpe2NvbnN0e2RhdGE6bCxvcHRzOm99PW4uZGF0YS5hcmdzO3Q9YXdhaXQgci53cml0ZShsLG8pfWVsc2UgaWYoZT09PSJyZWFkIil7Y29uc3R7b2Zmc2V0Omwsc2l6ZTpvfT1uLmRhdGEuYXJncyxnPW5ldyBVaW50OEFycmF5KG8pLGQ9YXdhaXQgci5yZWFkKGcse2F0Omx9KSxjPWcuYnVmZmVyO3Q9ZD09PW8/YzooKGk9Yy50cmFuc2Zlcik9PW51bGw/dm9pZCAwOmkuY2FsbChjLGQpKT8/Yy5zbGljZSgwLGQpLHMucHVzaCh0KX1lbHNlIGU9PT0iZ2V0U2l6ZSI/dD1hd2FpdCByLmdldFNpemUoKTplPT09ImZsdXNoIiYmYXdhaXQgci5mbHVzaCgpO3NlbGYucG9zdE1lc3NhZ2Uoe2V2dFR5cGU6ImNhbGxiYWNrIixjYklkOm4uZGF0YS5jYklkLHJldHVyblZhbDp0fSxzKX1jYXRjaCh0KXtjb25zdCBzPXQ7c2VsZi5wb3N0TWVzc2FnZSh7ZXZ0VHlwZToidGhyb3dFcnJvciIsY2JJZDpuLmRhdGEuY2JJZCxlcnJNc2c6cy5uYW1lKyI6ICIrcy5tZXNzYWdlK2AKYCtKU09OLnN0cmluZ2lmeShuLmRhdGEpfSl9fX0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZnMtd29ya2VyLUY0UldscWNfLmpzLm1hcAo=",p7e=e=>Uint8Array.from(atob(e),t=>t.charCodeAt(0)),j$=typeof self<"u"&&self.Blob&&new Blob([p7e(aX)],{type:"text/javascript;charset=utf-8"});function g7e(e){let t;try{if(t=j$&&(self.URL||self.webkitURL).createObjectURL(j$),!t)throw"";const n=new Worker(t,{name:e==null?void 0:e.name});return n.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(t)}),n}catch{return new Worker("data:text/javascript;base64,"+aX,{name:e==null?void 0:e.name})}finally{t&&(self.URL||self.webkitURL).revokeObjectURL(t)}}async function m7e(e,t,n){const r=U7e();return await r("register",{fileId:e,filePath:t,mode:n}),{read:async(a,o)=>await r("read",{fileId:e,offset:a,size:o}),write:async(a,o)=>await r("write",{fileId:e,data:a,opts:o},[ArrayBuffer.isView(a)?a.buffer:a]),close:async()=>await r("close",{fileId:e}),truncate:async a=>await r("truncate",{fileId:e,newSize:a}),getSize:async()=>await r("getSize",{fileId:e}),flush:async()=>await r("flush",{fileId:e})}}const m5=[];let yx=0;function U7e(){if(m5.length<3){const t=e();return m5.push(t),t}else{const t=m5[yx];return yx=(yx+1)%m5.length,t}function e(){const t=new g7e;let n=0,r={};return t.onmessage=({data:a})=>{var o,s;a.evtType==="callback"?(o=r[a.cbId])==null||o.resolve(a.returnVal):a.evtType==="throwError"&&((s=r[a.cbId])==null||s.reject(Error(a.errMsg))),delete r[a.cbId]},async function(a,o,s=[]){n+=1;const l=new Promise((d,u)=>{r[n]={resolve:d,reject:u}});return t.postMessage({cbId:n,evtType:a,args:o},s),l}}}function h4(e){if(e==="/")return{parent:null,name:""};const t=e.split("/").filter(a=>a.length>0);if(t.length===0)throw Error("Invalid path");const n=t[t.length-1],r="/"+t.slice(0,-1).join("/");return{name:n,parent:r}}async function gh(e,t){const{parent:n,name:r}=h4(e);if(n==null)return await navigator.storage.getDirectory();const a=n.split("/").filter(o=>o.length>0);try{let o=await navigator.storage.getDirectory();for(const s of a)o=await o.getDirectoryHandle(s,{create:t.create});return t.isFile?await o.getFileHandle(r,{create:t.create}):await o.getDirectoryHandle(r,{create:t.create})}catch(o){if(o.name==="NotFoundError")return null;throw o}}async function oX(e){const{parent:t,name:n}=h4(e);if(t==null){const a=await navigator.storage.getDirectory();for await(const o of a.keys())await a.removeEntry(o,{recursive:!0});return}const r=await gh(t,{create:!1,isFile:!1});r!=null&&await r.removeEntry(n,{recursive:!0})}function CC(e,t){return`${e}/${t}`.replace("//","/")}function Sg(e){return new sX(e)}var Lc,w3,PU;let sX=class{constructor(t){Yl(this,Lc),Yl(this,w3),Yl(this,PU),Js(this,Lc,t);const{parent:n,name:r}=h4(t);Js(this,w3,r),Js(this,PU,n)}get kind(){return"dir"}get name(){return Jn(this,w3)}get path(){return Jn(this,Lc)}get parent(){return Jn(this,PU)==null?null:Sg(Jn(this,PU))}async create(){return await gh(Jn(this,Lc),{create:!0,isFile:!1}),Sg(Jn(this,Lc))}async exists(){return await gh(Jn(this,Lc),{create:!1,isFile:!1})instanceof FileSystemDirectoryHandle}async remove(){for(const t of await this.children())try{await t.remove()}catch(n){console.warn(n)}try{await oX(Jn(this,Lc))}catch(t){console.warn(t)}}async children(){const t=await gh(Jn(this,Lc),{create:!1,isFile:!1});if(t==null)return[];const n=[];for await(const r of t.values())n.push((r.kind==="file"?x0:Sg)(CC(Jn(this,Lc),r.name)));return n}async copyTo(t){if(!await this.exists())throw Error(`dir ${this.path} not exists`);const n=await t.exists()?Sg(CC(t.path,this.name)):t;return await n.create(),await Promise.all((await this.children()).map(r=>r.copyTo(n))),n}async moveTo(t){const n=await this.copyTo(t);return await this.remove(),n}};Lc=new WeakMap,w3=new WeakMap,PU=new WeakMap;const O$=new Map;function x0(e,t="rw"){if(t==="rw"){const n=O$.get(e)??new u8(e,t);return O$.set(e,n),n}return new u8(e,t)}async function yM(e,t,n={overwrite:!0}){if(t instanceof u8){await yM(e,await t.stream(),n);return}const r=await(e instanceof u8?e:x0(e,"rw")).createWriter();try{if(n.overwrite&&await r.truncate(0),t instanceof ReadableStream){const a=t.getReader();for(;;){const{done:o,value:s}=await a.read();if(o)break;await r.write(s)}}else await r.write(t)}catch(a){throw a}finally{await r.close()}}let v7e=0;const y7e=()=>++v7e;var Nc,LU,E3,NU,x3,Wf,_3,$U;const b7e=class lX{constructor(t,n){Yl(this,Nc),Yl(this,LU),Yl(this,E3),Yl(this,NU),Yl(this,x3),Yl(this,Wf,0),Yl(this,_3,(()=>{let o=null;return()=>(Js(this,Wf,Jn(this,Wf)+1),o??(o=new Promise(async(s,l)=>{try{const d=await m7e(Jn(this,x3),Jn(this,Nc),Jn(this,NU));s([d,async()=>{Js(this,Wf,Jn(this,Wf)-1),!(Jn(this,Wf)>0)&&(o=null,await d.close())}])}catch(d){l(d)}})))})()),Yl(this,$U,!1),Js(this,x3,y7e()),Js(this,Nc,t),Js(this,NU,{r:"read-only",rw:"readwrite","rw-unsafe":"readwrite-unsafe"}[n]);const{parent:r,name:a}=h4(t);Js(this,E3,a),Js(this,LU,r)}get kind(){return"file"}get path(){return Jn(this,Nc)}get name(){return Jn(this,E3)}get parent(){return Jn(this,LU)==null?null:Sg(Jn(this,LU))}async createWriter(){if(Jn(this,NU)==="read-only")throw Error("file is read-only");if(Jn(this,$U))throw Error("Other writer have not been closed");Js(this,$U,!0);const t=new TextEncoder,[n,r]=await Jn(this,_3).call(this);let a=await n.getSize(),o=!1;return{write:async(s,l={})=>{if(o)throw Error("Writer is closed");const d=typeof s=="string"?t.encode(s):s,u=l.at??a,f=d.byteLength;return a=u+f,await n.write(d,{at:u})},truncate:async s=>{if(o)throw Error("Writer is closed");await n.truncate(s),a>s&&(a=s)},flush:async()=>{if(o)throw Error("Writer is closed");await n.flush()},close:async()=>{if(o)throw Error("Writer is closed");o=!0,Js(this,$U,!1),await r()}}}async createReader(){const[t,n]=await Jn(this,_3).call(this);let r=!1,a=0;return{read:async(o,s={})=>{if(r)throw Error("Reader is closed");const l=s.at??a,d=await t.read(l,o);return a=l+d.byteLength,d},getSize:async()=>{if(r)throw Error("Reader is closed");return await t.getSize()},close:async()=>{r||(r=!0,await n())}}}async text(){return new TextDecoder().decode(await this.arrayBuffer())}async arrayBuffer(){const t=await gh(Jn(this,Nc),{create:!1,isFile:!0});return t==null?new ArrayBuffer(0):(await t.getFile()).arrayBuffer()}async stream(){const t=await this.getOriginFile();return t==null?new ReadableStream({pull:n=>{n.close()}}):t.stream()}async getOriginFile(){var t;return(t=await gh(Jn(this,Nc),{create:!1,isFile:!0}))==null?void 0:t.getFile()}async getSize(){const t=await gh(Jn(this,Nc),{create:!1,isFile:!0});return t==null?0:(await t.getFile()).size}async exists(){return await gh(Jn(this,Nc),{create:!1,isFile:!0})instanceof FileSystemFileHandle}async remove(){if(Jn(this,Wf))throw Error("exists unclosed reader/writer");await oX(Jn(this,Nc))}async copyTo(t){if(!await this.exists())throw Error(`file ${this.path} not exists`);if(t instanceof lX)return x0(t.path)===this?this:(await yM(t.path,this),x0(t.path));if(t instanceof sX)return await this.copyTo(x0(CC(t.path,this.name)));throw Error("Illegal target type")}async moveTo(t){const n=await this.copyTo(t);return await this.remove(),n}};Nc=new WeakMap,LU=new WeakMap,E3=new WeakMap,NU=new WeakMap,x3=new WeakMap,Wf=new WeakMap,_3=new WeakMap,$U=new WeakMap;let u8=b7e;const bM="/.opfs-tools-temp-dir";async function cX(e){try{if(e.kind==="file"){if(!await e.exists())return!0;const t=await e.createWriter();await t.truncate(0),await t.close(),await e.remove()}else await e.remove();return!0}catch(t){return console.warn(t),!1}}function A7e(){setInterval(async()=>{for(const e of await Sg(bM).children()){const t=/^\d+-(\d+)$/.exec(e.name);(t==null||Date.now()-Number(t[1])>2592e5)&&await cX(e)}},60*1e3)}const SC=[];let z$=!1;async function w7e(){if(globalThis.localStorage==null)return;const e="OPFS_TOOLS_EXPIRES_TMP_FILES";z$||(z$=!0,globalThis.addEventListener("unload",()=>{SC.length!==0&&localStorage.setItem(e,`${localStorage.getItem(e)??""},${SC.join(",")}`)}));let t=localStorage.getItem(e)??"";for(const n of t.split(","))n.length!==0&&await cX(x0(`${bM}/${n}`))&&(t=t.replace(n,""));localStorage.setItem(e,t.replace(/,{2,}/g,","))}(async function(){var e;globalThis.__opfs_tools_tmpfile_init__!==!0&&(globalThis.__opfs_tools_tmpfile_init__=!0,!(globalThis.FileSystemDirectoryHandle==null||globalThis.FileSystemFileHandle==null||((e=globalThis.navigator)==null?void 0:e.storage.getDirectory)==null)&&(A7e(),await w7e()))})();function E7e(){const e=`${Math.random().toString().slice(2)}-${Date.now()}`;return SC.push(e),x0(`${bM}/${e}`)}var x7e=Object.defineProperty,dX=e=>{throw TypeError(e)},_7e=(e,t,n)=>t in e?x7e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vi=(e,t,n)=>_7e(e,typeof t!="symbol"?t+"":t,n),AM=(e,t,n)=>t.has(e)||dX("Cannot "+n),Y=(e,t,n)=>(AM(e,t,"read from private field"),n?n.call(e):t.get(e)),dt=(e,t,n)=>t.has(e)?dX("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),st=(e,t,n,r)=>(AM(e,t,"write to private field"),t.set(e,n),n),id=(e,t,n)=>(AM(e,t,"access private method"),n);function C7e(e){if(e.format==="f32-planar"){const t=[];for(let n=0;n<e.numberOfChannels;n+=1){const r=e.allocationSize({planeIndex:n}),a=new ArrayBuffer(r);e.copyTo(a,{planeIndex:n}),t.push(new Float32Array(a))}return t}else if(e.format==="f32"){const t=new ArrayBuffer(e.allocationSize({planeIndex:0}));return e.copyTo(t,{planeIndex:0}),I7e(new Float32Array(t),e.numberOfChannels)}else if(e.format==="s16"){const t=new ArrayBuffer(e.allocationSize({planeIndex:0}));return e.copyTo(t,{planeIndex:0}),S7e(new Int16Array(t),e.numberOfChannels)}throw Error("Unsupported audio data format")}function S7e(e,t){const n=e.length/t,r=Array.from({length:t},()=>new Float32Array(n));for(let a=0;a<n;a++)for(let o=0;o<t;o++){const s=e[a*t+o];r[o][a]=s/32768}return r}function I7e(e,t){const n=e.length/t,r=Array.from({length:t},()=>new Float32Array(n));for(let a=0;a<n;a++)for(let o=0;o<t;o++)r[o][a]=e[a*t+o];return r}function uX(e){return Array(e.numberOfChannels).fill(0).map((t,n)=>e.getChannelData(n))}async function k7e(e,t){var n;const r={type:t,data:e},a=new ImageDecoder(r);await Promise.all([a.completed,a.tracks.ready]);let o=((n=a.tracks.selectedTrack)==null?void 0:n.frameCount)??1;const s=[];for(let l=0;l<o;l+=1)s.push((await a.decode({frameIndex:l})).image);return s}async function M7e(e,t,n){const r=e.length,a=Array(n.chanCount).fill(0).map(()=>new Float32Array(0));if(r===0)return a;const o=Math.max(...e.map(u=>u.length));if(o===0)return a;if(globalThis.OfflineAudioContext==null)return e.map(u=>new Float32Array(u7e(u,t,n.rate,{method:"sinc",LPF:!1})));const s=new globalThis.OfflineAudioContext(n.chanCount,o*n.rate/t,n.rate),l=s.createBufferSource(),d=s.createBuffer(r,o,t);return e.forEach((u,f)=>d.copyToChannel(u,f)),l.buffer=d,l.connect(s.destination),l.start(),uX(await s.startRendering())}function wM(e){return new Promise(t=>{const n=JK(()=>{n(),t()},e)})}function Q$(e,t,n){const r=n-t,a=new Float32Array(r);let o=0;for(;o<r;)a[o]=e[(t+o)%e.length],o+=1;return a}function T7e(e,t){const n=Math.floor(e.length/t),r=new Float32Array(n);for(let a=0;a<n;a++){const o=a*t,s=Math.floor(o),l=o-s;s+1<e.length?r[a]=e[s]*(1-l)+e[s+1]*l:r[a]=e[s]}return r}const ni={sampleRate:48e3,channelCount:2,codec:"mp4a.40.2"};function B7e(e,t){const n=t.videoTracks[0],r={};if(n!=null){const o=R7e(e.getTrackById(n.id)).buffer,{descKey:s,type:l}=n.codec.startsWith("avc1")?{descKey:"avcDecoderConfigRecord",type:"avc1"}:n.codec.startsWith("hvc1")?{descKey:"hevcDecoderConfigRecord",type:"hvc1"}:{descKey:"",type:""};s!==""&&(r.videoTrackConf={timescale:n.timescale,duration:n.duration,width:n.video.width,height:n.video.height,brands:t.brands,type:l,[s]:o}),r.videoDecoderConf={codec:n.codec,codedHeight:n.video.height,codedWidth:n.video.width,description:o}}const a=t.audioTracks[0];if(a!=null){const o=H$(e);r.audioTrackConf={timescale:a.timescale,samplerate:a.audio.sample_rate,channel_count:a.audio.channel_count,hdlr:"soun",type:a.codec.startsWith("mp4a")?"mp4a":a.codec,description:H$(e)},r.audioDecoderConf={codec:a.codec.startsWith("mp4a")?ni.codec:a.codec,numberOfChannels:a.audio.channel_count,sampleRate:a.audio.sample_rate,...o==null?{}:D7e(o)}}return r}function R7e(e){for(const t of e.mdia.minf.stbl.stsd.entries){const n=t.avcC??t.hvcC??t.av1C??t.vpcC;if(n!=null){const r=new Nu.DataStream(void 0,0,Nu.DataStream.BIG_ENDIAN);return n.write(r),new Uint8Array(r.buffer.slice(8))}}throw Error("avcC, hvcC, av1C or VPX not found")}function H$(e,t="mp4a"){var n;const r=(n=e.moov)==null?void 0:n.traks.map(a=>a.mdia.minf.stbl.stsd.entries).flat().find(({type:a})=>a===t);return r==null?void 0:r.esds}function D7e(e){var t;const n=(t=e.esd.descs[0])==null?void 0:t.descs[0];if(n==null)return{};const[r,a]=n.data,o=((r&7)<<1)+(a>>7),s=(a&127)>>3;return{sampleRate:[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350][o],numberOfChannels:s}}async function P7e(e,t,n){const r=Nu.createFile(!1);r.onReady=o=>{var s,l;t({mp4boxFile:r,info:o});const d=(s=o.videoTracks[0])==null?void 0:s.id;d!=null&&r.setExtractionOptions(d,"video",{nbSamples:100});const u=(l=o.audioTracks[0])==null?void 0:l.id;u!=null&&r.setExtractionOptions(u,"audio",{nbSamples:100}),r.start()},r.onSamples=n,await a();async function a(){let o=0;const s=30*1024*1024;for(;;){const l=await e.read(s,{at:o});if(l.byteLength===0)break;l.fileStart=o;const d=r.appendBuffer(l);if(d==null)break;o=d}r.stop()}}let EM=0;function bx(e){return e.kind==="file"&&e.createReader instanceof Function}var IC,C3,S3,$c,us,I3,Fc,Np,FU,Y1,tu,fs,jU;const L7e=class K1{constructor(t,n={}){if(dt(this,IC,EM++),dt(this,C3,Kn.create(`MP4Clip id:${Y(this,IC)},`)),vi(this,"ready"),dt(this,S3,!1),dt(this,$c,{duration:0,width:0,height:0,audioSampleRate:0,audioChanCount:0}),dt(this,us),dt(this,I3,1),dt(this,Fc,[]),dt(this,Np,[]),dt(this,FU,null),dt(this,Y1,null),dt(this,tu,{video:null,audio:null}),dt(this,fs,{audio:!0}),vi(this,"tickInterceptor",async(a,o)=>o),dt(this,jU,new AbortController),!(t instanceof ReadableStream)&&!bx(t)&&!Array.isArray(t.videoSamples))throw Error("Illegal argument");st(this,fs,{audio:!0,...n}),st(this,I3,typeof n.audio=="object"&&"volume"in n.audio?n.audio.volume:1);const r=async a=>(await yM(Y(this,us),a),Y(this,us));st(this,us,bx(t)?t:"localFile"in t?t.localFile:E7e()),this.ready=(t instanceof ReadableStream?r(t).then(a=>W$(a,Y(this,fs))):bx(t)?W$(t,Y(this,fs)):Promise.resolve(t)).then(async({videoSamples:a,audioSamples:o,decoderConf:s})=>{st(this,Fc,a),st(this,Np,o),st(this,tu,s);const{videoFrameFinder:l,audioFrameFinder:d}=$7e({video:s.video==null?null:{...s.video,hardwareAcceleration:Y(this,fs).__unsafe_hardwareAcceleration__},audio:s.audio},await Y(this,us).createReader(),a,o,Y(this,fs).audio!==!1?Y(this,I3):0);return st(this,FU,l),st(this,Y1,d),st(this,$c,N7e(s,a,o)),Y(this,C3).info("MP4Clip meta:",Y(this,$c)),{...Y(this,$c)}})}get meta(){return{...Y(this,$c)}}async tick(t){var n,r,a;if(t>=Y(this,$c).duration)return await this.tickInterceptor(t,{audio:await((n=Y(this,Y1))==null?void 0:n.find(t))??[],state:"done"});const[o,s]=await Promise.all([((r=Y(this,Y1))==null?void 0:r.find(t))??[],(a=Y(this,FU))==null?void 0:a.find(t)]);return s==null?await this.tickInterceptor(t,{audio:o,state:"success"}):await this.tickInterceptor(t,{video:s,audio:o,state:"success"})}async thumbnails(t=100,n){Y(this,jU).abort(),st(this,jU,new AbortController);const r=Y(this,jU).signal;await this.ready;const a="generate thumbnails aborted";if(r.aborted)throw Error(a);const{width:o,height:s}=Y(this,$c),l=Q7e(t,Math.round(s*(t/o)),{quality:.1,type:"image/png"});return new Promise(async(d,u)=>{let f=[];const p=Y(this,tu).video;if(p==null||Y(this,Fc).length===0){g();return}r.addEventListener("abort",()=>{u(Error(a))});async function g(){r.aborted||d(await Promise.all(f.map(async U=>({ts:U.ts,img:await U.img}))))}function v(U){f.push({ts:U.timestamp,img:l(U)})}const{start:c=0,end:h=Y(this,$c).duration,step:m}=n??{};if(m){let U=c;const b=new fX(await Y(this,us).createReader(),Y(this,Fc),{...p,hardwareAcceleration:Y(this,fs).__unsafe_hardwareAcceleration__});for(;U<=h&&!r.aborted;){const w=await b.find(U);w&&v(w),U+=m}b.destroy(),g()}else await Y7e(Y(this,Fc),Y(this,us),p,r,{start:c,end:h},(U,b)=>{U!=null&&v(U),b&&g()})})}async split(t){if(await this.ready,t<=0||t>=Y(this,$c).duration)throw Error('"time" out of bounds');const[n,r]=H7e(Y(this,Fc),t),[a,o]=G7e(Y(this,Np),t),s=new K1({localFile:Y(this,us),videoSamples:n??[],audioSamples:a??[],decoderConf:Y(this,tu)},Y(this,fs)),l=new K1({localFile:Y(this,us),videoSamples:r??[],audioSamples:o??[],decoderConf:Y(this,tu)},Y(this,fs));return await Promise.all([s.ready,l.ready]),[s,l]}async clone(){await this.ready;const t=new K1({localFile:Y(this,us),videoSamples:[...Y(this,Fc)],audioSamples:[...Y(this,Np)],decoderConf:Y(this,tu)},Y(this,fs));return await t.ready,t.tickInterceptor=this.tickInterceptor,t}async splitTrack(){await this.ready;const t=[];if(Y(this,Fc).length>0){const n=new K1({localFile:Y(this,us),videoSamples:[...Y(this,Fc)],audioSamples:[],decoderConf:{video:Y(this,tu).video,audio:null}},Y(this,fs));await n.ready,n.tickInterceptor=this.tickInterceptor,t.push(n)}if(Y(this,Np).length>0){const n=new K1({localFile:Y(this,us),videoSamples:[],audioSamples:[...Y(this,Np)],decoderConf:{audio:Y(this,tu).audio,video:null}},Y(this,fs));await n.ready,n.tickInterceptor=this.tickInterceptor,t.push(n)}return t}destroy(){var t,n;Y(this,S3)||(Y(this,C3).info("MP4Clip destroy"),st(this,S3,!0),(t=Y(this,FU))==null||t.destroy(),(n=Y(this,Y1))==null||n.destroy())}};IC=new WeakMap,C3=new WeakMap,S3=new WeakMap,$c=new WeakMap,us=new WeakMap,I3=new WeakMap,Fc=new WeakMap,Np=new WeakMap,FU=new WeakMap,Y1=new WeakMap,tu=new WeakMap,fs=new WeakMap,jU=new WeakMap;let G$=L7e;function N7e(e,t,n){const r={duration:0,width:0,height:0,audioSampleRate:0,audioChanCount:0};e.video!=null&&t.length>0&&(r.width=e.video.codedWidth??0,r.height=e.video.codedHeight??0),e.audio!=null&&n.length>0&&(r.audioSampleRate=ni.sampleRate,r.audioChanCount=ni.channelCount);let a=0,o=0;if(t.length>0)for(let s=t.length-1;s>=0;s--){const l=t[s];if(!l.deleted){a=l.cts+l.duration;break}}if(n.length>0){const s=n.at(-1);o=s.cts+s.duration}return r.duration=Math.max(a,o),r}function $7e(e,t,n,r,a){return{audioFrameFinder:a===0||e.audio==null||r.length===0?null:new j7e(t,r,e.audio,{volume:a,targetSampleRate:ni.sampleRate}),videoFrameFinder:e.video==null||n.length===0?null:new fX(t,n,e.video)}}async function W$(e,t={}){let n=null;const r={video:null,audio:null};let a=[],o=[],s=-1,l=-1;const d=await e.createReader();await P7e(d,p=>{n=p.info;let{videoDecoderConf:g,audioDecoderConf:v}=B7e(p.mp4boxFile,p.info);r.video=g??null,r.audio=v??null,g==null&&v==null&&Kn.error("MP4Clip no video and audio track"),Kn.info("mp4BoxFile moov ready",{...p.info,tracks:null,videoTracks:null,audioTracks:null},r)},(p,g,v)=>{if(g==="video"){s===-1&&(s=v[0].dts);for(const c of v)a.push(f(c,s,"video"))}else if(g==="audio"&&t.audio){l===-1&&(l=v[0].dts);for(const c of v)o.push(f(c,l,"audio"))}}),await d.close();const u=a.at(-1)??o.at(-1);if(n==null)throw Error("MP4Clip stream is done, but not emit ready");if(u==null)throw Error("MP4Clip stream not contain any sample");return BC(a),Kn.info("mp4 stream parsed"),{videoSamples:a,audioSamples:o,decoderConf:r};function f(p,g=0,v){const c=v==="video"&&p.is_sync&&V7e(p.data,p.description.type);let h=p.offset,m=p.size;if(c){const U=W7e(p.data,p.description.type);h+=U,m-=U}return{...p,is_idr:c,offset:h,size:m,cts:(p.cts-g)/p.timescale*1e6,dts:(p.dts-g)/p.timescale*1e6,duration:p.duration/p.timescale*1e6,timescale:1e6,data:v==="video"?null:p.data}}}var hs,X1,Z1,k3,q1,nu,Ws,Vf,$p,J1,OU,Fp,M3,eg,T3;let fX=class{constructor(t,n,r){dt(this,hs,null),dt(this,X1,0),dt(this,Z1,{abort:!1,st:performance.now()}),vi(this,"find",async a=>{(Y(this,hs)==null||a<=Y(this,X1)||a-Y(this,X1)>3e6)&&Y(this,eg).call(this,a),Y(this,Z1).abort=!0,st(this,X1,a),st(this,Z1,{abort:!1,st:performance.now()});const o=await Y(this,OU).call(this,a,Y(this,hs),Y(this,Z1));return st(this,J1,0),o}),dt(this,k3,0),dt(this,q1,!1),dt(this,nu,0),dt(this,Ws,[]),dt(this,Vf,0),dt(this,$p,0),dt(this,J1,0),dt(this,OU,async(a,o,s)=>{if(o==null||o.state==="closed"||s.abort)return null;if(Y(this,Ws).length>0){const l=Y(this,Ws)[0];return a<l.timestamp?null:(Y(this,Ws).shift(),a>l.timestamp+(l.duration??0)?(l.close(),await Y(this,OU).call(this,a,o,s)):(Y(this,Ws).length<10&&Y(this,M3).call(this,o).catch(d=>{throw Y(this,eg).call(this,a),d}),l))}if(Y(this,Fp)||Y(this,Vf)<Y(this,$p)&&o.decodeQueueSize>0){if(performance.now()-s.st>6e3)throw Error(`MP4Clip.tick video timeout, ${JSON.stringify(Y(this,T3).call(this))}`);st(this,J1,Y(this,J1)+1),await wM(15)}else{if(Y(this,nu)>=this.samples.length)return null;try{await Y(this,M3).call(this,o)}catch(l){throw Y(this,eg).call(this,a),l}}return await Y(this,OU).call(this,a,o,s)}),dt(this,Fp,!1),dt(this,M3,async a=>{var o,s;if(Y(this,Fp))return;st(this,Fp,!0);let l=Y(this,nu)+1,d=!1;for(;l<this.samples.length;l++){const u=this.samples[l];if(!d&&!u.deleted&&(d=!0),u.is_idr)break}if(d){const u=this.samples.slice(Y(this,nu),l);if(((o=u[0])==null?void 0:o.is_idr)!==!0)Kn.warn("First sample not idr frame");else{const f=await hX(u,this.localFileReader);if(a.state==="closed")return;st(this,k3,((s=f[0])==null?void 0:s.duration)??0),TC(a,f,{onDecodingError:p=>{if(Y(this,q1))throw p;Y(this,Vf)===0&&(st(this,q1,!0),Kn.warn("Downgrade to software decode"),Y(this,eg).call(this))}}),st(this,$p,Y(this,$p)+f.length)}}st(this,nu,l),st(this,Fp,!1)}),dt(this,eg,a=>{var o,s;if(st(this,Fp,!1),Y(this,Ws).forEach(d=>d.close()),st(this,Ws,[]),a==null||a===0)st(this,nu,0);else{let d=0;for(let u=0;u<this.samples.length;u++){const f=this.samples[u];if(f.is_idr&&(d=u),!(f.cts<a)){st(this,nu,d);break}}}st(this,$p,0),st(this,Vf,0),((o=Y(this,hs))==null?void 0:o.state)!=="closed"&&((s=Y(this,hs))==null||s.close());const l={...this.conf,...Y(this,q1)?{hardwareAcceleration:"prefer-software"}:{}};st(this,hs,new VideoDecoder({output:d=>{if(st(this,Vf,Y(this,Vf)+1),d.timestamp===-1){d.close();return}let u=d;d.duration==null&&(u=new VideoFrame(d,{duration:Y(this,k3)}),d.close()),Y(this,Ws).push(u)},error:d=>{const u=`VideoFinder VideoDecoder err: ${d.message}, config: ${JSON.stringify(l)}, state: ${JSON.stringify(Y(this,T3).call(this))}`;throw Kn.error(u),Error(u)}})),Y(this,hs).configure(l)}),dt(this,T3,()=>{var a,o;return{time:Y(this,X1),decState:(a=Y(this,hs))==null?void 0:a.state,decQSize:(o=Y(this,hs))==null?void 0:o.decodeQueueSize,decCusorIdx:Y(this,nu),sampleLen:this.samples.length,inputCnt:Y(this,$p),outputCnt:Y(this,Vf),cacheFrameLen:Y(this,Ws).length,softDeocde:Y(this,q1),clipIdCnt:EM,sleepCnt:Y(this,J1),memInfo:pX()}}),vi(this,"destroy",()=>{var a,o;((a=Y(this,hs))==null?void 0:a.state)!=="closed"&&((o=Y(this,hs))==null||o.close()),st(this,hs,null),Y(this,Z1).abort=!0,Y(this,Ws).forEach(s=>s.close()),st(this,Ws,[]),this.localFileReader.close()}),this.localFileReader=t,this.samples=n,this.conf=r}};hs=new WeakMap,X1=new WeakMap,Z1=new WeakMap,k3=new WeakMap,q1=new WeakMap,nu=new WeakMap,Ws=new WeakMap,Vf=new WeakMap,$p=new WeakMap,J1=new WeakMap,OU=new WeakMap,Fp=new WeakMap,M3=new WeakMap,eg=new WeakMap,T3=new WeakMap;function F7e(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(e>=r.cts&&e<r.cts+r.duration)return n;if(r.cts>e)break}return 0}var B3,R3,ru,tg,iu,Yf,jl,ng,D3,P3,kC,MC;let j7e=class{constructor(t,n,r,a){dt(this,B3,1),dt(this,R3),dt(this,ru,null),dt(this,tg,{abort:!1,st:performance.now()}),vi(this,"find",async o=>{const s=o<=Y(this,iu)||o-Y(this,iu)>1e5;(Y(this,ru)==null||s)&&Y(this,kC).call(this),s&&(st(this,iu,o),st(this,Yf,F7e(o,this.samples))),Y(this,tg).abort=!0;const l=o-Y(this,iu);st(this,iu,o),st(this,tg,{abort:!1,st:performance.now()});const d=await Y(this,D3).call(this,Math.ceil(l*(Y(this,R3)/1e6)),Y(this,ru),Y(this,tg));return st(this,ng,0),d}),dt(this,iu,0),dt(this,Yf,0),dt(this,jl,{frameCnt:0,data:[]}),dt(this,ng,0),dt(this,D3,async(o,s=null,l)=>{if(s==null||l.abort||s.state==="closed"||o===0)return[];const d=Y(this,jl).frameCnt-o;if(d>0)return d<ni.sampleRate/10&&Y(this,P3).call(this,s),V$(Y(this,jl),o);if(s.decoding){if(performance.now()-l.st>3e3)throw l.abort=!0,Error(`MP4Clip.tick audio timeout, ${JSON.stringify(Y(this,MC).call(this))}`);st(this,ng,Y(this,ng)+1),await wM(15)}else{if(Y(this,Yf)>=this.samples.length-1)return V$(Y(this,jl),Y(this,jl).frameCnt);Y(this,P3).call(this,s)}return Y(this,D3).call(this,o,s,l)}),dt(this,P3,o=>{if(o.decodeQueueSize>10)return;const s=[];let l=Y(this,Yf);for(;l<this.samples.length;){const d=this.samples[l];if(l+=1,!d.deleted&&(s.push(d),s.length>=10))break}st(this,Yf,l),o.decode(s.map(d=>new EncodedAudioChunk({type:"key",timestamp:d.cts,duration:d.duration,data:d.data})))}),dt(this,kC,()=>{var o;st(this,iu,0),st(this,Yf,0),st(this,jl,{frameCnt:0,data:[]}),(o=Y(this,ru))==null||o.close(),st(this,ru,O7e(this.conf,{resampleRate:ni.sampleRate,volume:Y(this,B3)},s=>{Y(this,jl).data.push(s),Y(this,jl).frameCnt+=s[0].length}))}),dt(this,MC,()=>{var o,s;return{time:Y(this,iu),decState:(o=Y(this,ru))==null?void 0:o.state,decQSize:(s=Y(this,ru))==null?void 0:s.decodeQueueSize,decCusorIdx:Y(this,Yf),sampleLen:this.samples.length,pcmLen:Y(this,jl).frameCnt,clipIdCnt:EM,sleepCnt:Y(this,ng),memInfo:pX()}}),vi(this,"destroy",()=>{st(this,ru,null),Y(this,tg).abort=!0,st(this,jl,{frameCnt:0,data:[]}),this.localFileReader.close()}),this.localFileReader=t,this.samples=n,this.conf=r,st(this,B3,a.volume),st(this,R3,a.targetSampleRate)}};B3=new WeakMap,R3=new WeakMap,ru=new WeakMap,tg=new WeakMap,iu=new WeakMap,Yf=new WeakMap,jl=new WeakMap,ng=new WeakMap,D3=new WeakMap,P3=new WeakMap,kC=new WeakMap,MC=new WeakMap;function O7e(e,t,n){let r=0,a=0;const o=f=>{if(a+=1,f.length!==0){if(t.volume!==1)for(const p of f)for(let g=0;g<p.length;g++)p[g]*=t.volume;f.length===1&&(f=[f[0],f[0]]),n(f)}},s=z7e(o),l=t.resampleRate!==e.sampleRate,d=new AudioDecoder({output:f=>{const p=C7e(f);l?s(()=>M7e(p,f.sampleRate,{rate:t.resampleRate,chanCount:f.numberOfChannels})):o(p),f.close()},error:f=>{u("MP4Clip AudioDecoder err",f)}});d.configure(e);function u(f,p){const g=`${f}: ${p.message}, state: ${JSON.stringify({qSize:d.decodeQueueSize,state:d.state,inputCnt:r,outputCnt:a})}`;throw Kn.error(g),Error(g)}return{decode(f){r+=f.length;try{for(const p of f)d.decode(p)}catch(p){u("decode audio chunk error",p)}},close(){d.state!=="closed"&&d.close()},get decoding(){return r>a&&d.decodeQueueSize>0},get state(){return d.state},get decodeQueueSize(){return d.decodeQueueSize}}}function z7e(e){const t=[];let n=0;function r(s,l){t[l]=s,a()}function a(){const s=t[n];s!=null&&(e(s),n+=1,a())}let o=0;return s=>{const l=o;o+=1,s().then(d=>r(d,l)).catch(d=>r(d,l))}}function V$(e,t){const n=[new Float32Array(t),new Float32Array(t)];let r=0,a=0;for(;a<e.data.length;){const[o,s]=e.data[a];if(r+o.length>t){const l=t-r;n[0].set(o.subarray(0,l),r),n[1].set(s.subarray(0,l),r),e.data[a][0]=o.subarray(l,o.length),e.data[a][1]=s.subarray(l,s.length);break}else n[0].set(o,r),n[1].set(s,r),r+=o.length,a++}return e.data=e.data.slice(a),e.frameCnt-=t,n}async function hX(e,t){const n=e[0],r=e.at(-1);if(r==null)return[];const a=r.offset+r.size-n.offset;if(a<3e7){const o=new Uint8Array(await t.read(a,{at:n.offset}));return e.map(s=>{const l=s.offset-n.offset;return new EncodedVideoChunk({type:s.is_sync?"key":"delta",timestamp:s.cts,duration:s.duration,data:o.subarray(l,l+s.size)})})}return await Promise.all(e.map(async o=>new EncodedVideoChunk({type:o.is_sync?"key":"delta",timestamp:o.cts,duration:o.duration,data:await t.read(o.size,{at:o.offset})})))}function Q7e(e,t,n){const r=new OffscreenCanvas(e,t),a=r.getContext("2d");return async o=>(a.drawImage(o,0,0,e,t),o.close(),await r.convertToBlob(n))}function H7e(e,t){if(e.length===0)return[];let n=0,r=0,a=-1;for(let d=0;d<e.length;d++){const u=e[d];if(a===-1&&t<u.cts&&(a=d-1),u.is_idr)if(a===-1)n=d;else{r=d;break}}const o=e[a];if(o==null)throw Error("Not found video sample by time");const s=e.slice(0,r===0?e.length:r).map(d=>({...d}));for(let d=n;d<s.length;d++){const u=s[d];t<u.cts&&(u.deleted=!0,u.cts=-1)}BC(s);const l=e.slice(o.is_idr?a:n).map(d=>({...d,cts:d.cts-t}));for(const d of l)d.cts<0&&(d.deleted=!0,d.cts=-1);return BC(l),[s,l]}function G7e(e,t){if(e.length===0)return[];let n=-1;for(let o=0;o<e.length;o++){const s=e[o];if(!(t>s.cts)){n=o;break}}if(n===-1)throw Error("Not found audio sample by time");const r=e.slice(0,n).map(o=>({...o})),a=e.slice(n).map(o=>({...o,cts:o.cts-t}));return[r,a]}function TC(e,t,n){let r=0;if(e.state==="configured"){for(;r<t.length;r++)e.decode(t[r]);e.flush().catch(a=>{if(!(a instanceof Error))throw a;if(a.message.includes("Decoding error")&&n.onDecodingError!=null){n.onDecodingError(a);return}if(!a.message.includes("Aborted due to close"))throw a})}}function W7e(e,t){if(t!=="avc1"&&t!=="hvc1")return 0;const n=new DataView(e.buffer);if(t==="avc1"&&(n.getUint8(4)&31)===6)return n.getUint32(0)+4;if(t==="hvc1"){const r=n.getUint8(4)>>1&63;if(r===39||r===40)return n.getUint32(0)+4}return 0}function V7e(e,t){if(t!=="avc1"&&t!=="hvc1")return!0;const n=new DataView(e.buffer);let r=0;for(;r<e.byteLength-4;){if(t==="avc1"&&(n.getUint8(r+4)&31)===5)return!0;if(t==="hvc1"){const a=n.getUint8(r+4)>>1&63;if(a===19||a===20)return!0}r+=n.getUint32(r)+4}return!1}async function Y7e(e,t,n,r,a,o){const s=await t.createReader(),l=await hX(e.filter(f=>!f.deleted&&f.is_sync&&f.cts>=a.start&&f.cts<=a.end),s);if(l.length===0||r.aborted)return;let d=0;TC(u(),l,{onDecodingError:f=>{Kn.warn("thumbnailsByKeyFrame",f),d===0?TC(u(!0),l,{onDecodingError:p=>{s.close(),Kn.error("thumbnailsByKeyFrame retry soft deocde",p)}}):(o(null,!0),s.close())}});function u(f=!1){const p={...n,...f?{hardwareAcceleration:"prefer-software"}:{}},g=new VideoDecoder({output:v=>{d+=1;const c=d===l.length;o(v,c),c&&(s.close(),g.state!=="closed"&&g.close())},error:v=>{const c=`thumbnails decoder error: ${v.message}, config: ${JSON.stringify(p)}, state: ${JSON.stringify({qSize:g.decodeQueueSize,state:g.state,outputCnt:d,inputCnt:l.length})}`;throw Kn.error(c),Error(c)}});return r.addEventListener("abort",()=>{s.close(),g.state!=="closed"&&g.close()}),g.configure(p),g}}function BC(e){let t=0,n=null;for(const r of e)if(!r.deleted){if(r.is_sync&&(t+=1),t>=2)break;(n==null||r.cts<n.cts)&&(n=r)}n!=null&&n.cts<2e5&&(n.duration+=n.cts,n.cts=0)}function pX(){try{const e=performance.memory;return{jsHeapSizeLimit:e.jsHeapSizeLimit,totalJSHeapSize:e.totalJSHeapSize,usedJSHeapSize:e.usedJSHeapSize,percentUsed:(e.usedJSHeapSize/e.jsHeapSizeLimit).toFixed(3),percentTotal:(e.totalJSHeapSize/e.jsHeapSizeLimit).toFixed(3)}}catch{return{}}}var Co,Ol,Pa,RC,gX;const K7e=class rg{constructor(t){dt(this,RC),vi(this,"ready"),dt(this,Co,{duration:0,width:0,height:0}),dt(this,Ol,null),dt(this,Pa,[]);const n=r=>(st(this,Ol,r),Y(this,Co).width=r.width,Y(this,Co).height=r.height,Y(this,Co).duration=1/0,{...Y(this,Co)});if(t instanceof ReadableStream)this.ready=new Response(t).blob().then(r=>createImageBitmap(r)).then(n);else if(t instanceof ImageBitmap)this.ready=Promise.resolve(n(t));else if(Array.isArray(t)&&t.every(r=>r instanceof VideoFrame)){st(this,Pa,t);const r=Y(this,Pa)[0];if(r==null)throw Error("The frame count must be greater than 0");st(this,Co,{width:r.displayWidth,height:r.displayHeight,duration:Y(this,Pa).reduce((a,o)=>a+(o.duration??0),0)}),this.ready=Promise.resolve({...Y(this,Co),duration:1/0})}else if("type"in t)this.ready=id(this,RC,gX).call(this,t.stream,t.type).then(()=>({width:Y(this,Co).width,height:Y(this,Co).height,duration:1/0}));else throw Error("Illegal arguments")}get meta(){return{...Y(this,Co)}}async tick(t){if(Y(this,Ol)!=null)return{video:await createImageBitmap(Y(this,Ol)),state:"success"};const n=t%Y(this,Co).duration;return{video:(Y(this,Pa).find(r=>n>=r.timestamp&&n<=r.timestamp+(r.duration??0))??Y(this,Pa)[0]).clone(),state:"success"}}async split(t){if(await this.ready,Y(this,Ol)!=null)return[new rg(await createImageBitmap(Y(this,Ol))),new rg(await createImageBitmap(Y(this,Ol)))];let n=-1;for(let o=0;o<Y(this,Pa).length;o++){const s=Y(this,Pa)[o];if(!(t>s.timestamp)){n=o;break}}if(n===-1)throw Error("Not found frame by time");const r=Y(this,Pa).slice(0,n).map(o=>new VideoFrame(o)),a=Y(this,Pa).slice(n).map(o=>new VideoFrame(o,{timestamp:o.timestamp-t}));return[new rg(r),new rg(a)]}async clone(){await this.ready;const t=Y(this,Ol)==null?Y(this,Pa).map(n=>n.clone()):await createImageBitmap(Y(this,Ol));return new rg(t)}destroy(){var t;Kn.info("ImgClip destroy"),(t=Y(this,Ol))==null||t.close(),Y(this,Pa).forEach(n=>n.close())}};Co=new WeakMap,Ol=new WeakMap,Pa=new WeakMap,RC=new WeakSet,gX=async function(e,t){st(this,Pa,await k7e(e,t));const n=Y(this,Pa)[0];if(n==null)throw Error("No frame available in gif");st(this,Co,{duration:Y(this,Pa).reduce((r,a)=>r+(a.duration??0),0),width:n.codedWidth,height:n.codedHeight}),Kn.info("ImgClip ready:",Y(this,Co))};let f8=K7e;var Ig,lh,Jp,uu,DC,mX,jp,au;const zU=class L3{constructor(t,n={}){dt(this,DC),vi(this,"ready"),dt(this,Ig,{duration:0,width:0,height:0}),dt(this,lh,new Float32Array),dt(this,Jp,new Float32Array),dt(this,uu),dt(this,jp,0),dt(this,au,0),st(this,uu,{loop:!1,volume:1,...n}),this.ready=id(this,DC,mX).call(this,t).then(()=>({width:0,height:0,duration:n.loop?1/0:Y(this,Ig).duration}))}get meta(){return{...Y(this,Ig),sampleRate:ni.sampleRate,chanCount:2}}getPCMData(){return[Y(this,lh),Y(this,Jp)]}async tick(t){if(!Y(this,uu).loop&&t>=Y(this,Ig).duration)return{audio:[],state:"done"};const n=t-Y(this,jp);if(t<Y(this,jp)||n>3e6)return st(this,jp,t),st(this,au,Math.ceil(Y(this,jp)/1e6*ni.sampleRate)),{audio:[new Float32Array(0),new Float32Array(0)],state:"success"};st(this,jp,t);const r=Math.ceil(n/1e6*ni.sampleRate),a=Y(this,au)+r,o=Y(this,uu).loop?[Q$(Y(this,lh),Y(this,au),a),Q$(Y(this,Jp),Y(this,au),a)]:[Y(this,lh).slice(Y(this,au),a),Y(this,Jp).slice(Y(this,au),a)];return st(this,au,a),{audio:o,state:"success"}}async split(t){await this.ready;const n=Math.ceil(t/1e6*ni.sampleRate),r=new L3(this.getPCMData().map(o=>o.slice(0,n)),Y(this,uu)),a=new L3(this.getPCMData().map(o=>o.slice(n)),Y(this,uu));return[r,a]}async clone(){await this.ready;const t=new L3(this.getPCMData(),Y(this,uu));return await t.ready,t}destroy(){st(this,lh,new Float32Array(0)),st(this,Jp,new Float32Array(0)),Kn.info("---- audioclip destroy ----")}};Ig=new WeakMap,lh=new WeakMap,Jp=new WeakMap,uu=new WeakMap,DC=new WeakSet,mX=async function(e){zU.ctx==null&&(zU.ctx=new AudioContext({sampleRate:ni.sampleRate}));const t=performance.now(),n=e instanceof ReadableStream?await X7e(e,zU.ctx):e;Kn.info("Audio clip decoded complete:",performance.now()-t);const r=Y(this,uu).volume;if(r!==1)for(const a of n)for(let o=0;o<a.length;o+=1)a[o]*=r;Y(this,Ig).duration=n[0].length/ni.sampleRate*1e6,st(this,lh,n[0]),st(this,Jp,n[1]??Y(this,lh)),Kn.info("Audio clip convert to AudioData, time:",performance.now()-t)},jp=new WeakMap,au=new WeakMap,vi(zU,"ctx",null);let Ax=zU;async function X7e(e,t){const n=await new Response(e).arrayBuffer();return uX(await t.decodeAudioData(n))}var ig,N3,ag,QU;const Z7e=class UX{constructor(t){vi(this,"ready"),dt(this,ig,{duration:0,width:0,height:0}),dt(this,N3,()=>{}),vi(this,"audioTrack"),dt(this,ag,null),dt(this,QU),st(this,QU,t);const n=t.getVideoTracks()[0];if(n!=null){const{width:r,height:a}=n.getSettings();n.contentHint="motion",Y(this,ig).width=r??0,Y(this,ig).height=a??0,st(this,ag,new OffscreenCanvas(r??0,a??0)),st(this,N3,q7e(Y(this,ag).getContext("2d"),n))}this.audioTrack=t.getAudioTracks()[0]??null,Y(this,ig).duration=1/0,this.ready=Promise.resolve(this.meta)}get meta(){return{...Y(this,ig)}}async tick(){return{video:Y(this,ag)==null?null:await createImageBitmap(Y(this,ag)),audio:[],state:"success"}}async split(){return[await this.clone(),await this.clone()]}async clone(){return new UX(Y(this,QU).clone())}destroy(){Y(this,QU).getTracks().forEach(t=>t.stop()),Y(this,N3).call(this)}};ig=new WeakMap,N3=new WeakMap,ag=new WeakMap,QU=new WeakMap,vi(Z7e,"ctx",null);function q7e(e,t){return Q4e(new MediaStreamTrackProcessor({track:t}).readable,{onChunk:async n=>{e.drawImage(n,0,0),n.close()},onDone:async()=>{}})}var xo,$3,fu,hu,pu,Vs,th,ch,PC,vX;const J7e=class F3{constructor(t,n){dt(this,PC),vi(this,"ready"),dt(this,xo,[]),dt(this,$3,{width:0,height:0,duration:0}),dt(this,fu,{color:"#FFF",textBgColor:null,type:"srt",fontSize:30,letterSpacing:null,bottomOffset:30,fontFamily:"Noto Sans SC",strokeStyle:"#000",lineWidth:null,lineCap:null,lineJoin:null,textShadow:{offsetX:2,offsetY:2,blur:4,color:"#000"},videoWidth:1280,videoHeight:720}),dt(this,hu),dt(this,pu),dt(this,Vs,null),dt(this,th,0),dt(this,ch,0);var r;if(st(this,xo,Array.isArray(t)?t:tEe(t).map(({start:u,end:f,text:p})=>({start:u*1e6,end:f*1e6,text:p}))),Y(this,xo).length===0)throw Error("No subtitles content");st(this,fu,Object.assign(Y(this,fu),n)),st(this,ch,n.textBgColor==null?0:(n.fontSize??50)*.2);const{fontSize:a,fontFamily:o,videoWidth:s,videoHeight:l,letterSpacing:d}=Y(this,fu);st(this,th,a+Y(this,ch)*2),st(this,hu,new OffscreenCanvas(s,l)),st(this,pu,Y(this,hu).getContext("2d")),Y(this,pu).font=`${a}px ${o}`,Y(this,pu).textAlign="center",Y(this,pu).textBaseline="top",Y(this,pu).letterSpacing=d??"0px",st(this,$3,{width:s,height:l,duration:((r=Y(this,xo).at(-1))==null?void 0:r.end)??0}),this.ready=Promise.resolve(this.meta)}get meta(){return{...Y(this,$3)}}async tick(t){var n,r;if(Y(this,Vs)!=null&&t>=Y(this,Vs).timestamp&&t<=Y(this,Vs).timestamp+(Y(this,Vs).duration??0))return{video:Y(this,Vs).clone(),state:"success"};let a=0;for(;a<Y(this,xo).length&&!(t<=Y(this,xo)[a].end);a+=1);const o=Y(this,xo)[a]??Y(this,xo).at(-1);if(t>o.end)return{state:"done"};if(t<o.start){Y(this,pu).clearRect(0,0,Y(this,hu).width,Y(this,hu).height);const l=new VideoFrame(Y(this,hu),{timestamp:t,duration:o.start-t});return(n=Y(this,Vs))==null||n.close(),st(this,Vs,l),{video:l.clone(),state:"success"}}id(this,PC,vX).call(this,o.text);const s=new VideoFrame(Y(this,hu),{timestamp:t,duration:o.end-t});return(r=Y(this,Vs))==null||r.close(),st(this,Vs,s),{video:s.clone(),state:"success"}}async split(t){await this.ready;let n=-1;for(let l=0;l<Y(this,xo).length;l++){const d=Y(this,xo)[l];if(!(t>d.start)){n=l;break}}if(n===-1)throw Error("Not found subtitle by time");const r=Y(this,xo).slice(0,n).map(l=>({...l}));let a=r.at(-1),o=null;a!=null&&a.end>t&&(o={start:0,end:a.end-t,text:a.text},a.end=t);const s=Y(this,xo).slice(n).map(l=>({...l,start:l.start-t,end:l.end-t}));return o!=null&&s.unshift(o),[new F3(r,Y(this,fu)),new F3(s,Y(this,fu))]}async clone(){return new F3(Y(this,xo).slice(0),Y(this,fu))}destroy(){var t;(t=Y(this,Vs))==null||t.close()}};xo=new WeakMap,$3=new WeakMap,fu=new WeakMap,hu=new WeakMap,pu=new WeakMap,Vs=new WeakMap,th=new WeakMap,ch=new WeakMap,PC=new WeakSet,vX=function(e){const t=e.split(`
`).reverse().map(h=>h.trim()),{width:n,height:r}=Y(this,hu),{color:a,fontSize:o,textBgColor:s,textShadow:l,strokeStyle:d,lineWidth:u,lineCap:f,lineJoin:p,bottomOffset:g}=Y(this,fu),v=Y(this,pu);v.clearRect(0,0,n,r),v.globalAlpha=.6;let c=g;for(const h of t){const m=v.measureText(h),U=n/2;s!=null&&(v.shadowOffsetX=0,v.shadowOffsetY=0,v.shadowBlur=0,v.fillStyle=s,v.globalAlpha=.5,v.fillRect(U-m.actualBoundingBoxLeft-Y(this,ch),r-c-Y(this,th),m.width+Y(this,ch)*2,Y(this,th))),v.shadowColor=l.color,v.shadowOffsetX=l.offsetX,v.shadowOffsetY=l.offsetY,v.shadowBlur=l.blur,v.globalAlpha=1,d!=null&&(v.lineWidth=u??o/6,f!=null&&(v.lineCap=f),p!=null&&(v.lineJoin=p),v.strokeStyle=d,v.strokeText(h,U,r-c-Y(this,th)+Y(this,ch))),v.fillStyle=a,v.fillText(h,U,r-c-Y(this,th)+Y(this,ch)),c+=Y(this,th)+o*.2}};let eEe=J7e;function Y$(e){const t=e.match(/(\d{2}):(\d{2}):(\d{2}),(\d{3})/);if(t==null)throw Error(`time format error: ${e}`);const n=Number(t[1]),r=Number(t[2]),a=Number(t[3]),o=Number(t[4]);return n*60*60+r*60+a+o/1e3}function tEe(e){return e.split(/\r|\n/).map(t=>t.trim()).filter(t=>t.length>0).map(t=>({lineStr:t,match:t.match(/(\d{2}:\d{2}:\d{2},\d{3}) --> (\d{2}:\d{2}:\d{2},\d{3})/)})).filter(({lineStr:t},n,r)=>{var a;return!(/^\d+$/.test(t)&&((a=r[n+1])==null?void 0:a.match)!=null)}).reduce((t,{lineStr:n,match:r})=>{if(r==null){const a=t.at(-1);if(a==null)return t;a.text+=a.text.length===0?n:`
${n}`}else t.push({start:Y$(r[1]),end:Y$(r[2]),text:""});return t},[])}var h8,p8,g8,m8,U8,v8,Op,og,zp;const nEe=class yX{constructor(t,n,r,a,o){dt(this,Op),dt(this,h8,new f4),vi(this,"on",Y(this,h8).on),dt(this,p8,0),dt(this,g8,0),dt(this,m8,0),dt(this,U8,0),dt(this,v8,0),dt(this,zp,null),vi(this,"fixedAspectRatio",!1),vi(this,"fixedScaleCenter",!1),this.x=t??0,this.y=n??0,this.w=r??0,this.h=a??0,st(this,zp,o??null)}get x(){return Y(this,p8)}set x(t){id(this,Op,og).call(this,"x",t)}get y(){return Y(this,g8)}set y(t){id(this,Op,og).call(this,"y",t)}get w(){return Y(this,m8)}set w(t){id(this,Op,og).call(this,"w",t)}get h(){return Y(this,U8)}set h(t){id(this,Op,og).call(this,"h",t)}get angle(){return Y(this,v8)}set angle(t){id(this,Op,og).call(this,"angle",t)}get center(){const{x:t,y:n,w:r,h:a}=this;return{x:t+r/2,y:n+a/2}}clone(){const{x:t,y:n,w:r,h:a}=this,o=new yX(t,n,r,a,Y(this,zp));return o.angle=this.angle,o.fixedAspectRatio=this.fixedAspectRatio,o.fixedScaleCenter=this.fixedScaleCenter,o}checkHit(t,n){var r,a;let{angle:o,center:s,x:l,y:d,w:u,h:f}=this;const p=((r=Y(this,zp))==null?void 0:r.center)??s,g=((a=Y(this,zp))==null?void 0:a.angle)??o;Y(this,zp)==null&&(l=l-p.x,d=d-p.y);const v=t-p.x,c=n-p.y;let h=v,m=c;return g!==0&&(h=v*Math.cos(g)+c*Math.sin(g),m=c*Math.cos(g)-v*Math.sin(g)),!(h<l||h>l+u||m<d||m>d+f)}};h8=new WeakMap,p8=new WeakMap,g8=new WeakMap,m8=new WeakMap,U8=new WeakMap,v8=new WeakMap,Op=new WeakSet,og=function(e,t){const n=this[e]!==t;switch(e){case"x":st(this,p8,t);break;case"y":st(this,g8,t);break;case"w":st(this,m8,t);break;case"h":st(this,U8,t);break;case"angle":st(this,v8,t);break}n&&Y(this,h8).emit("propsChange",{[e]:t})},zp=new WeakMap;let rEe=nEe;var j3,sg,HU,Qp,ou;let iEe=class{constructor(){vi(this,"rect",new rEe),dt(this,j3,{offset:0,duration:0,playbackRate:1}),dt(this,sg,new f4),vi(this,"on",Y(this,sg).on),dt(this,HU,0),vi(this,"opacity",1),vi(this,"flip",null),dt(this,Qp,null),dt(this,ou,null),vi(this,"ready",Promise.resolve()),this.rect.on("propsChange",t=>{Y(this,sg).emit("propsChange",{rect:t})})}get time(){return Y(this,j3)}set time(t){Object.assign(Y(this,j3),t)}get zIndex(){return Y(this,HU)}set zIndex(t){const n=Y(this,HU)!==t;st(this,HU,t),n&&Y(this,sg).emit("propsChange",{zIndex:t})}_render(t){const{rect:{center:n,angle:r}}=this;t.setTransform(this.flip==="horizontal"?-1:1,0,0,this.flip==="vertical"?-1:1,n.x,n.y),t.rotate((this.flip==null?1:-1)*r),t.globalAlpha=this.opacity}setAnimation(t,n){st(this,Qp,Object.entries(t).map(([r,a])=>{const o={from:0,to:100}[r]??Number(r.slice(0,-1));if(isNaN(o)||o>100||o<0)throw Error("keyFrame must between 0~100");return[o/100,a]})),st(this,ou,Object.assign({},Y(this,ou),{duration:n.duration,delay:n.delay??0,iterCount:n.iterCount??1/0}))}animate(t){if(Y(this,Qp)==null||Y(this,ou)==null||t<Y(this,ou).delay)return;const n=aEe(t,Y(this,Qp),Y(this,ou));for(const r in n)switch(r){case"opacity":this.opacity=n[r];break;case"x":case"y":case"w":case"h":case"angle":this.rect[r]=n[r];break}}copyStateTo(t){st(t,Qp,Y(this,Qp)),st(t,ou,Y(this,ou)),t.zIndex=this.zIndex,t.opacity=this.opacity,t.flip=this.flip,t.rect=this.rect.clone(),t.time={...this.time}}destroy(){Y(this,sg).destroy()}};j3=new WeakMap,sg=new WeakMap,HU=new WeakMap,Qp=new WeakMap,ou=new WeakMap;function aEe(e,t,n){const r=e-n.delay;if(r/n.duration>=n.iterCount)return{};const a=r%n.duration,o=r===n.duration?1:a/n.duration,s=t.findIndex(v=>v[0]>=o);if(s===-1)return{};const l=t[s-1],d=t[s],u=d[1];if(l==null)return u;const f=l[1],p={},g=(o-l[0])/(d[0]-l[0]);for(const v in u){const c=v;f[c]!=null&&(p[c]=(u[c]-f[c])*g+f[c])}return p}var lg,Hp,O3;const oEe=class bX extends iEe{constructor(t){super(),dt(this,lg),dt(this,Hp,null),dt(this,O3,!1),st(this,lg,t),this.ready=t.ready.then(({width:n,height:r,duration:a})=>{this.rect.w=this.rect.w===0?n:this.rect.w,this.rect.h=this.rect.h===0?r:this.rect.h,this.time.duration=this.time.duration===0?a:this.time.duration})}async offscreenRender(t,n){var r;const a=n*this.time.playbackRate;this.animate(a),super._render(t);const{w:o,h:s}=this.rect,{video:l,audio:d,state:u}=await Y(this,lg).tick(a);let f=d??[];if(d!=null&&this.time.playbackRate!==1&&(f=d.map(g=>T7e(g,this.time.playbackRate))),u==="done")return{audio:f,done:!0};const p=l??Y(this,Hp);return p!=null&&t.drawImage(p,-o/2,-s/2,o,s),l!=null&&((r=Y(this,Hp))==null||r.close(),st(this,Hp,l)),{audio:f,done:!1}}async clone(){const t=new bX(await Y(this,lg).clone());return await t.ready,this.copyStateTo(t),t}destroy(){var t;Y(this,O3)||(st(this,O3,!0),Kn.info("OffscreenSprite destroy"),super.destroy(),(t=Y(this,Hp))==null||t.close(),st(this,Hp,null),Y(this,lg).destroy())}};lg=new WeakMap,Hp=new WeakMap,O3=new WeakMap;let bb=oEe,sEe=0;async function AX(e){e()>50&&(await wM(15),await AX(e))}var gu,z3,td,Tv,y8,Q3,kg,Bv,Gp,H3,wX,EX;let xX=class{constructor(t={}){dt(this,H3),dt(this,gu,Kn.create(`id:${sEe++},`)),dt(this,z3,!1),dt(this,td,[]),dt(this,Tv),dt(this,y8),dt(this,Q3,null),dt(this,kg),dt(this,Bv),dt(this,Gp,new f4),vi(this,"on",Y(this,Gp).on);const{width:n=0,height:r=0}=t;st(this,Tv,new OffscreenCanvas(n,r));const a=Y(this,Tv).getContext("2d",{alpha:!1});if(a==null)throw Error("Can not create 2d offscreen context");st(this,y8,a),st(this,kg,Object.assign({bgColor:"#000",width:0,height:0,videoCodec:"avc1.42E032",audio:!0,bitrate:5e6,fps:30,metaDataTags:null},t)),st(this,Bv,n*r>0)}static async isSupported(t={}){return(self.OffscreenCanvas!=null&&self.VideoEncoder!=null&&self.VideoDecoder!=null&&self.VideoFrame!=null&&self.AudioEncoder!=null&&self.AudioDecoder!=null&&self.AudioData!=null&&((await self.VideoEncoder.isConfigSupported({codec:t.videoCodec??"avc1.42E032",width:t.width??1920,height:t.height??1080,bitrate:t.bitrate??7e6})).supported??!1)&&(await self.AudioEncoder.isConfigSupported({codec:ni.codec,sampleRate:ni.sampleRate,numberOfChannels:ni.channelCount})).supported)??!1}async addSprite(t,n={}){const r={rect:uEe(["x","y","w","h"],t.rect),time:{...t.time},zIndex:t.zIndex};Y(this,gu).info("Combinator add sprite",r);const a=await t.clone();Y(this,gu).info("Combinator add sprite ready"),Y(this,td).push(Object.assign(a,{main:n.main??!1,expired:!1})),Y(this,td).sort((o,s)=>o.zIndex-s.zIndex)}output(){if(Y(this,td).length===0)throw Error("No sprite added");const t=Y(this,td).find(d=>d.main),n=t!=null?t.time.offset+t.time.duration:Math.max(...Y(this,td).map(d=>d.time.offset+d.time.duration));if(n===1/0)throw Error("Unable to determine the end time, please specify a main sprite, or limit the duration of ImgClip, AudioCli");n===-1&&Y(this,gu).warn("Unable to determine the end time, process value don't update"),Y(this,gu).info(`start combinate video, maxTime:${n}`);const r=id(this,H3,wX).call(this,n);let a=performance.now();const o=id(this,H3,EX).call(this,r,n,{onProgress:d=>{Y(this,gu).debug("OutputProgress:",d),Y(this,Gp).emit("OutputProgress",d)},onEnded:async()=>{await r.flush(),Y(this,gu).info("===== output ended =====, cost:",performance.now()-a),Y(this,Gp).emit("OutputProgress",1),this.destroy()},onError:d=>{Y(this,Gp).emit("error",d),l(d),this.destroy()}});st(this,Q3,()=>{o(),r.close(),l()});const{stream:s,stop:l}=H4e(r.mp4file,500,this.destroy);return s}destroy(){var t;Y(this,z3)||(st(this,z3,!0),(t=Y(this,Q3))==null||t.call(this),Y(this,Gp).destroy())}};gu=new WeakMap,z3=new WeakMap,td=new WeakMap,Tv=new WeakMap,y8=new WeakMap,Q3=new WeakMap,kg=new WeakMap,Bv=new WeakMap,Gp=new WeakMap,H3=new WeakSet,wX=function(e){const{fps:t,width:n,height:r,videoCodec:a,bitrate:o,audio:s,metaDataTags:l}=Y(this,kg);return q4e({video:Y(this,Bv)?{width:n,height:r,expectFPS:t,codec:a,bitrate:o,__unsafe_hardwareAcceleration__:Y(this,kg).__unsafe_hardwareAcceleration__}:null,audio:s===!1?null:{codec:"aac",sampleRate:ni.sampleRate,channelCount:ni.channelCount},duration:e,metaDataTags:l})},EX=function(e,t,{onProgress:n,onEnded:r,onError:a}){let o=0;const s={aborted:!1};let l=null;(async()=>{const{fps:f,bgColor:p,audio:g}=Y(this,kg),v=Math.round(1e6/f),c=Y(this,y8),h=lEe({ctx:c,bgColor:p,sprites:Y(this,td),aborter:s}),m=cEe({remux:e,ctx:c,cvs:Y(this,Tv),outputAudio:g,hasVideoTrack:Y(this,Bv),timeSlice:v});let U=0;for(;;){if(l!=null)return;if(s.aborted||t!==-1&&U>t||Y(this,td).length===0){u(),await r();return}o=U/t;const{audios:b,mainSprDone:w}=await h(U);if(w){u(),await r();return}if(s.aborted)return;m(U,b),U+=v,await AX(e.getEncodeQueueSize)}})().catch(f=>{l=f,Y(this,gu).error(f),u(),a(f)});const d=setInterval(()=>{n(o)},500),u=()=>{s.aborted||(s.aborted=!0,clearInterval(d),Y(this,td).forEach(f=>f.destroy()))};return u};function lEe(e){const{ctx:t,bgColor:n,sprites:r,aborter:a}=e,{width:o,height:s}=t.canvas;return async l=>{t.fillStyle=n,t.fillRect(0,0,o,s);const d=[];let u=!1;for(const f of r){if(a.aborted)break;if(l<f.time.offset||f.expired)continue;t.save();const{audio:p,done:g}=await f.offscreenRender(t,l-f.time.offset);d.push(p),t.restore(),(f.time.duration>0&&l>f.time.offset+f.time.duration||g)&&(f.main&&(u=!0),f.destroy(),f.expired=!0)}return{audios:d,mainSprDone:u}}}function cEe(e){const{ctx:t,cvs:n,outputAudio:r,remux:a,hasVideoTrack:o,timeSlice:s}=e,{width:l,height:d}=n;let u=0;const f=dEe(1024);return(p,g)=>{if(r!==!1)for(const v of f(p,g))a.encodeAudio(v);if(o){const v=new VideoFrame(n,{duration:s,timestamp:p});a.encodeVideo(v,{keyFrame:u%150===0}),t.resetTransform(),t.clearRect(0,0,l,d),u+=1}}}function dEe(e){const t=e*ni.channelCount,n=new Float32Array(t*3);let r=0,a=0;const o=e/ni.sampleRate*1e6,s=new Float32Array(t),l=d=>{let u=0;const f=Math.floor(r/t),p=[];for(let g=0;g<f;g++)p.push(new AudioData({timestamp:a,numberOfChannels:ni.channelCount,numberOfFrames:e,sampleRate:ni.sampleRate,format:"f32",data:n.subarray(u,u+t)})),u+=t,a+=o;for(n.set(n.subarray(u,r),0),r-=u;d-a>o;)p.push(new AudioData({timestamp:a,numberOfChannels:ni.channelCount,numberOfFrames:e,sampleRate:ni.sampleRate,format:"f32",data:s})),a+=o;return p};return(d,u)=>{var f,p;const g=Math.max(...u.map(v=>{var c;return((c=v[0])==null?void 0:c.length)??0}));for(let v=0;v<g;v++){let c=0,h=0;for(let m=0;m<u.length;m++){const U=((f=u[m][0])==null?void 0:f[v])??0,b=((p=u[m][1])==null?void 0:p[v])??U;c+=U,h+=b}n[r]=c,n[r+1]=h,r+=2}return l(d)}}function uEe(e,t){return e.reduce((n,r)=>(n[r]=t[r],n),{})}const _X=""+new URL("logo-C-bLT6pG.png",import.meta.url).href,CX=J0("page",()=>{const e=Ie("Magic Maker"),t=Ie(!0),n=Ie(!0),r=Ie(parseInt("320")),a=Ie(parseInt("380"));return Rt(t,()=>{document.documentElement.classList[t.value?"add":"remove"]("dark")}),{isLoading:n,pageTitle:e,isDark:t,attrWidth:r,trackHeight:a}},{persist:!0}),Ab=J0("user",()=>{const e=Ie(!1),t=Ie(!1),n=Ie(!1),r=Ie({accessToken:"",tokenType:""}),a=Ji({id:"",name:"Local User"});return{isLogin:e,showLogin:t,showRegister:n,userInfo:a,authInfo:r,login:(d,u)=>d&&u?(e.value=!0,a.id=d,a.name=d,r.value={accessToken:"local-token",tokenType:"Bearer"},t.value=!1,!0):!1,logout:()=>{e.value=!1,a.id="",a.name="Local User",r.value={accessToken:"",tokenType:""}},register:(d,u,f)=>d&&u?(e.value=!0,a.id=d,a.name=d,r.value={accessToken:"local-token",tokenType:"Bearer"},n.value=!1,!0):!1}},{persist:{storage:localStorage,pick:["authInfo","isLogin","userInfo"]}}),jqe=new Map([["video","h-16"],["audio","h-14"],["text","h-6"],["image","h-10"]]),Go=30,Wo=1e6/Go,Oqe={height:28,width:"100%",splitChannels:!1,normalize:!0,waveColor:"#007bff",progressColor:"#dd5e98",cursorColor:"#ddd5e9",cursorWidth:0,barWidth:1,barGap:1,barRadius:1,barHeight:.6,barAlign:"bottom",minPxPerSec:1,fillParent:!0,mediaControls:!0,autoplay:!1,interact:!1,dragToSeek:!1,hideScrollbar:!1,audioRate:.1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};function zqe(e){let t=Math.ceil(e/1e3);const n=t%60;t=Math.floor(t/60);const r=t%60;t=Math.floor(t/60);const a=t%60;return{s:n,m:r,h:a,str:`${a===0?"":`${a<10?"0":""}${a}:`}${r<10?"0":""}${r}:${n<10?"0":""}${n}`}}function Qqe(e){const t=Math.round(e%Go);e=Math.floor(e/Go);const n=e%60;e=Math.floor(e/60);const r=e%60;e=Math.floor(e/60);const a=e;return`${a<10?"0":""}${a}:${r<10?"0":""}${r}:${n<10?"0":""}${n}:${t<10?"0":""}${t}`}function fEe({text:e="Hello World",fontSize:t=40,fontFamily:n}){const o=(typeof OffscreenCanvas<"u"?new OffscreenCanvas(1e3,1e3):document.createElement("canvas")).getContext("2d");if(!o)throw new Error("Canvas 2D context is not supported");const s=e.split(`
`);o.font=`${t}px ${n}`;const l=t*1.2,d=Math.max(...s.map(f=>o.measureText(f).width)),u=s.length*l;return{width:d+4*2,height:u+4*2,lineHeight:l,lines:s}}function Hqe(e,t){let n=performance.now()+t,r=!1;function a(o){r||(o>=n&&(e(),n+=t),requestAnimationFrame(a))}return requestAnimationFrame(a),{cancel:()=>{r=!0}}}function hEe(e){const t=e.split(`
`);for(let n=0;n<t.length;n++)t[n]=t[n].replace(/[.,;!?]+$/,"");return t.join(`
`)}const pEe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let ku=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=pEe[n[e]&63];return t};const U5={VIDEO:["video/mp4","video/webm","video/ogg","video/avi","video/mov"],AUDIO:["audio/mp3","audio/wav","audio/ogg","audio/aac","audio/flac"],IMAGE:["image/jpeg","image/png","image/gif","image/webp","image/svg+xml"],TEXT:["text/plain","text/html","text/css","text/javascript"]},gEe={VIDEO:500*1024*1024,AUDIO:100*1024*1024,IMAGE:50*1024*1024,TEXT:10*1024*1024};var SX=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Zr=(e,t,n)=>(SX(e,t,"read from private field"),n?n.call(e):t.get(e)),dh=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},uh=(e,t,n,r)=>(SX(e,t,"write to private field"),t.set(e,n),n);const IX="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGcocil7aWYocj09PSIvIilyZXR1cm57cGFyZW50Om51bGwsbmFtZToiIn07Y29uc3QgZT1yLnNwbGl0KCIvIikuZmlsdGVyKGk9PmkubGVuZ3RoPjApO2lmKGUubGVuZ3RoPT09MCl0aHJvdyBFcnJvcigiSW52YWxpZCBwYXRoIik7Y29uc3Qgbj1lW2UubGVuZ3RoLTFdLGE9Ii8iK2Uuc2xpY2UoMCwtMSkuam9pbigiLyIpO3JldHVybntuYW1lOm4scGFyZW50OmF9fWFzeW5jIGZ1bmN0aW9uIHUocixlKXtjb25zdHtwYXJlbnQ6bixuYW1lOmF9PWcocik7aWYobj09bnVsbClyZXR1cm4gYXdhaXQgbmF2aWdhdG9yLnN0b3JhZ2UuZ2V0RGlyZWN0b3J5KCk7Y29uc3QgaT1uLnNwbGl0KCIvIikuZmlsdGVyKHQ9PnQubGVuZ3RoPjApO3RyeXtsZXQgdD1hd2FpdCBuYXZpZ2F0b3Iuc3RvcmFnZS5nZXREaXJlY3RvcnkoKTtmb3IoY29uc3QgcyBvZiBpKXQ9YXdhaXQgdC5nZXREaXJlY3RvcnlIYW5kbGUocyx7Y3JlYXRlOmUuY3JlYXRlfSk7cmV0dXJuIGUuaXNGaWxlP2F3YWl0IHQuZ2V0RmlsZUhhbmRsZShhLHtjcmVhdGU6ZS5jcmVhdGV9KTphd2FpdCB0LmdldERpcmVjdG9yeUhhbmRsZShhLHtjcmVhdGU6ZS5jcmVhdGV9KX1jYXRjaHtyZXR1cm4gbnVsbH19Y29uc3QgZj17fTtzZWxmLm9ubWVzc2FnZT1hc3luYyByPT57dmFyIGk7Y29uc3R7ZXZ0VHlwZTplLGFyZ3M6bn09ci5kYXRhO2xldCBhPWZbbi5maWxlUGF0aF07dHJ5e2xldCB0O2NvbnN0IHM9W107aWYoZT09PSJyZWdpc3RlciIpe2NvbnN0IGw9YXdhaXQgdShuLmZpbGVQYXRoLHtjcmVhdGU6ITAsaXNGaWxlOiEwfSk7aWYobD09bnVsbCl0aHJvdyBFcnJvcihgbm90IGZvdW5kIGZpbGU6ICR7bi5maWxlUGF0aH1gKTthPWF3YWl0IGwuY3JlYXRlU3luY0FjY2Vzc0hhbmRsZSgpLGZbbi5maWxlUGF0aF09YX1lbHNlIGlmKGU9PT0iY2xvc2UiKWEuY2xvc2UoKSxkZWxldGUgZltuLmZpbGVQYXRoXTtlbHNlIGlmKGU9PT0idHJ1bmNhdGUiKWEudHJ1bmNhdGUobi5uZXdTaXplKTtlbHNlIGlmKGU9PT0id3JpdGUiKXtjb25zdHtkYXRhOmwsb3B0czpvfT1yLmRhdGEuYXJnczt0PWEud3JpdGUobCxvKX1lbHNlIGlmKGU9PT0icmVhZCIpe2NvbnN0e29mZnNldDpsLHNpemU6b309ci5kYXRhLmFyZ3MsYz1uZXcgQXJyYXlCdWZmZXIobyksZD1hLnJlYWQoYyx7YXQ6bH0pO3Q9ZD09PW8/YzooKGk9Yy50cmFuc2Zlcik9PW51bGw/dm9pZCAwOmkuY2FsbChjLGQpKT8/Yy5zbGljZSgwLGQpLHMucHVzaCh0KX1lbHNlIGU9PT0iZ2V0U2l6ZSI/dD1hLmdldFNpemUoKTplPT09ImZsdXNoIiYmYS5mbHVzaCgpO3NlbGYucG9zdE1lc3NhZ2Uoe2V2dFR5cGU6ImNhbGxiYWNrIixjYklkOnIuZGF0YS5jYklkLHJldHVyblZhbDp0fSxzKX1jYXRjaCh0KXtjb25zdCBzPXQ7c2VsZi5wb3N0TWVzc2FnZSh7ZXZ0VHlwZToidGhyb3dFcnJvciIsY2JJZDpyLmRhdGEuY2JJZCxlcnJNc2c6cy5uYW1lKyI6ICIrcy5tZXNzYWdlK2AKYCtKU09OLnN0cmluZ2lmeShyLmRhdGEpfSl9fX0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZnMtd29ya2VyLVFoOG1Wa295LmpzLm1hcAo=",K$=typeof window<"u"&&window.Blob&&new Blob([atob(IX)],{type:"text/javascript;charset=utf-8"});function mEe(e){let t;try{if(t=K$&&(window.URL||window.webkitURL).createObjectURL(K$),!t)throw"";const n=new Worker(t,{name:e==null?void 0:e.name});return n.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(t)}),n}catch{return new Worker("data:application/javascript;base64,"+IX,{name:e==null?void 0:e.name})}finally{t&&(window.URL||window.webkitURL).revokeObjectURL(t)}}async function UEe(e){const t=vEe();return await t("register",{filePath:e}),{read:async(n,r)=>await t("read",{filePath:e,offset:n,size:r}),write:async(n,r)=>await t("write",{filePath:e,data:n,opts:r},[ArrayBuffer.isView(n)?n.buffer:n]),close:async()=>await t("close",{filePath:e}),truncate:async n=>await t("truncate",{filePath:e,newSize:n}),getSize:async()=>await t("getSize",{filePath:e}),flush:async()=>await t("flush",{filePath:e})}}const v5=[];let wx=0;function vEe(){if(v5.length<3){const t=e();return v5.push(t),t}else{const t=v5[wx];return wx=(wx+1)%v5.length,t}function e(){const t=new mEe;let n=0,r={};return t.onmessage=({data:a})=>{var o,s;a.evtType==="callback"?(o=r[a.cbId])==null||o.resolve(a.returnVal):a.evtType==="throwError"&&((s=r[a.cbId])==null||s.reject(Error(a.errMsg))),delete r[a.cbId]},async function(a,o,s=[]){n+=1;const l=new Promise((d,u)=>{r[n]={resolve:d,reject:u}});return t.postMessage({cbId:n,evtType:a,args:o},s),l}}}function p4(e){if(e==="/")return{parent:null,name:""};const t=e.split("/").filter(a=>a.length>0);if(t.length===0)throw Error("Invalid path");const n=t[t.length-1],r="/"+t.slice(0,-1).join("/");return{name:n,parent:r}}async function mh(e,t){const{parent:n,name:r}=p4(e);if(n==null)return await navigator.storage.getDirectory();const a=n.split("/").filter(o=>o.length>0);try{let o=await navigator.storage.getDirectory();for(const s of a)o=await o.getDirectoryHandle(s,{create:t.create});return t.isFile?await o.getFileHandle(r,{create:t.create}):await o.getDirectoryHandle(r,{create:t.create})}catch{return null}}async function kX(e){const{parent:t,name:n}=p4(e);if(t==null){const a=await navigator.storage.getDirectory();for await(const o of a.keys())await a.removeEntry(o,{recursive:!0});return}const r=await mh(t,{create:!1,isFile:!1});r!=null&&await r.removeEntry(n,{recursive:!0})}function LC(e,t){return`${e}/${t}`.replace("//","/")}function Mg(e){return new MX(e)}var jc,G3,GU;let MX=class{constructor(t){dh(this,jc,void 0),dh(this,G3,void 0),dh(this,GU,void 0),uh(this,jc,t);const{parent:n,name:r}=p4(t);uh(this,G3,r),uh(this,GU,n)}get kind(){return"dir"}get name(){return Zr(this,G3)}get path(){return Zr(this,jc)}get parent(){return Zr(this,GU)==null?null:Mg(Zr(this,GU))}async create(){return await mh(Zr(this,jc),{create:!0,isFile:!1}),Mg(Zr(this,jc))}async exists(){return await mh(Zr(this,jc),{create:!1,isFile:!1})instanceof FileSystemDirectoryHandle}async remove(){await kX(Zr(this,jc))}async children(){const t=await mh(Zr(this,jc),{create:!1,isFile:!1});if(t==null)return[];const n=[];for await(const r of t.values())n.push((r.kind==="file"?$u:Mg)(LC(Zr(this,jc),r.name)));return n}async copyTo(t){if(!await this.exists())throw Error(`dir ${this.path} not exists`);const n=await t.exists()?Mg(LC(t.path,this.name)):t;return await n.create(),await Promise.all((await this.children()).map(r=>r.copyTo(n))),n}async moveTo(t){const n=await this.copyTo(t);return await this.remove(),n}};jc=new WeakMap,G3=new WeakMap,GU=new WeakMap;const X$=new Map;function $u(e){const t=X$.get(e)??new NC(e);return X$.set(e,t),t}async function xM(e,t,n={overwrite:!0}){if(t instanceof NC){await xM(e,await t.stream(),n);return}const r=await(e instanceof NC?e:$u(e)).createWriter();try{if(n.overwrite&&await r.truncate(0),t instanceof ReadableStream){const a=t.getReader();for(;;){const{done:o,value:s}=await a.read();if(o)break;await r.write(s)}}else await r.write(t)}catch(a){throw a}finally{await r.close()}}var Oc,WU,W3,V3,VU;const yEe=class TX{constructor(t){dh(this,Oc,void 0),dh(this,WU,void 0),dh(this,W3,void 0),dh(this,V3,(()=>{let a=0,o=null;return()=>(a+=1,o??(o=new Promise(async(s,l)=>{try{const d=await UEe(Zr(this,Oc));s([d,async()=>{a-=1,!(a>0)&&(o=null,await d.close())}])}catch(d){l(d)}})))})()),dh(this,VU,!1),uh(this,Oc,t);const{parent:n,name:r}=p4(t);uh(this,W3,r),uh(this,WU,n)}get kind(){return"file"}get path(){return Zr(this,Oc)}get name(){return Zr(this,W3)}get parent(){return Zr(this,WU)==null?null:Mg(Zr(this,WU))}async createWriter(){if(Zr(this,VU))throw Error("Other writer have not been closed");uh(this,VU,!0);const t=new TextEncoder,[n,r]=await Zr(this,V3).call(this);let a=await n.getSize(),o=!1;return{write:async(s,l={})=>{if(o)throw Error("Writer is closed");const d=typeof s=="string"?t.encode(s):s,u=l.at??a,f=d.byteLength;a=u+f,await n.write(d,{at:u})},truncate:async s=>{if(o)throw Error("Writer is closed");await n.truncate(s),a>s&&(a=s)},flush:async()=>{if(o)throw Error("Writer is closed");await n.flush()},close:async()=>{if(o)throw Error("Writer is closed");o=!0,uh(this,VU,!1),await r()}}}async createReader(){const[t,n]=await Zr(this,V3).call(this);let r=!1,a=0;return{read:async(o,s={})=>{if(r)throw Error("Reader is closed");const l=s.at??a,d=await t.read(l,o);return a=l+d.byteLength,d},getSize:async()=>{if(r)throw Error("Reader is closed");return await t.getSize()},close:async()=>{if(r)throw Error("Reader is closed");r=!0,await n()}}}async text(){return new TextDecoder().decode(await this.arrayBuffer())}async arrayBuffer(){const t=await mh(Zr(this,Oc),{create:!1,isFile:!0});return t==null?new ArrayBuffer(0):(await t.getFile()).arrayBuffer()}async stream(){const t=await mh(Zr(this,Oc),{create:!1,isFile:!0});return t==null?new ReadableStream({pull:n=>{n.close()}}):(await t.getFile()).stream()}async getSize(){const t=await mh(Zr(this,Oc),{create:!1,isFile:!0});return t==null?0:(await t.getFile()).size}async exists(){return await mh(Zr(this,Oc),{create:!1,isFile:!0})instanceof FileSystemFileHandle}async remove(){await kX(Zr(this,Oc))}async copyTo(t){if(!await this.exists())throw Error(`file ${this.path} not exists`);if(t instanceof TX)return $u(t.path)===this?this:(await xM(t.path,this),$u(t.path));if(t instanceof MX)return await this.copyTo($u(LC(t.path,this.name)));throw Error("Illegal target type")}async moveTo(t){const n=await this.copyTo(t);return await this.remove(),n}};Oc=new WeakMap,WU=new WeakMap,W3=new WeakMap,V3=new WeakMap,VU=new WeakMap;let NC=yEe;const BX="/.opfs-tools-temp-dir";async function RX(e){try{if(e.kind==="file"){const t=await e.createWriter();await t.truncate(0),await t.close(),await e.remove()}else await e.remove();return!0}catch(t){return console.warn(t),!1}}function bEe(){setInterval(async()=>{for(const e of await Mg(BX).children()){const t=/^\d+-(\d+)$/.exec(e.name);(t==null||Date.now()-Number(t[1])>2592e5)&&await RX(e)}},60*1e3)}const Z$=[];let q$=!1;async function AEe(){const e="OPFS_TOOLS_EXPIRES_TMP_FILES";q$||(q$=!0,self.addEventListener("unload",()=>{Z$.length!==0&&localStorage.setItem(e,`${localStorage.getItem(e)??""},${Z$.join(",")}`)}));let t=localStorage.getItem(e)??"";for(const n of t.split(","))n.length!==0&&await RX($u(`${BX}/${n}`))&&(t=t.replace(n,""));localStorage.setItem(e,t.replace(/,{2,}/g,","))}(async function(){bEe(),await AEe()})();const wEe=e=>new Promise((t,n)=>{const r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("accept",e.accept),e.multiple?r.setAttribute("multiple","multiple"):r.removeAttribute("multiple"),r.onchange=a=>{const o=a.target,s=Array.from(o.files||[]);s?t(s):n(new Error(""))},r.oncancel=()=>{n(new Error(""))},r.click()});async function J$(e=`${new Date().toLocaleString()}.mp4`){return(await window.showSaveFilePicker({suggestedName:e})).createWritable()}function EEe(e,t){t=t||"";const n=1024,r=atob(e),a=[];for(let o=0;o<r.length;o+=n){const s=r.slice(o,o+n),l=new Array(s.length);for(let u=0;u<s.length;u++)l[u]=s.charCodeAt(u);const d=new Uint8Array(l);a.push(d)}return new Blob(a,{type:t})}function xEe(e,t){return new File([e],t,{type:e.type})}const K2=async e=>{const n=await(await fetch(e)).blob();return new Promise((r,a)=>{const o=new FileReader;o.onloadend=()=>r(o.result),o.onerror=a,o.readAsDataURL(n)})};async function DX(e,t){if(t){const n=await fetch(t);return await xM(e,n.body),$u(e)}throw new Error(`resource not found: ${t}`)}async function Im(e,t){if(await $u(e).exists())return $u(e);if(t)return DX(e,t);throw new Error(`resource not found: ${e}`)}class Ks{static async createFromFile(t){Ks.validateFile(t);const n={id:ku(),name:t.name,createdAt:new Date().toISOString()};DX(n.id,URL.createObjectURL(t));try{if(t.type.startsWith("video/"))return Ks.createVideoResource(t,n);if(t.type.startsWith("audio/"))return Ks.createAudioResource(t,n);if(t.type.startsWith("image/"))return Ks.createImageResource(t,n);if(t.type.startsWith("text/"))return Ks.createTextResource(t,n);throw new Error(`: ${t.type}`)}catch{throw new Error("")}}static async createVideoResource(t,n){const r=URL.createObjectURL(t),a=await b8.decodeFromStream(t.stream(),n.id),o=a.meta;return{...n,type:"video",url:r,format:t.type,duration:o.duration/1e6,width:o.width,height:o.height,cover:await Ks.genVideoCover(a)}}static async createAudioResource(t,n){const r=URL.createObjectURL(t),o=(await w8.decodeFromStream(t.stream(),n.id)).meta;return{...n,type:"audio",url:r,format:t.type,duration:o.duration/1e6}}static async createImageResource(t,n){const r=URL.createObjectURL(t),o=(await A8.decodeFromStream(t.stream(),n.id,t.type)).meta;return{...n,type:"image",url:r,format:t.type,width:o.width,height:o.height}}static async createTextResource(t,n){const r=await t.text();return{...n,type:"text",content:r}}static async genVideoCover(t){try{const{video:n}=await t.tick(0);if(!n)return"";const r=document.createElement("canvas"),a=r.getContext("2d");return r.width=n.displayWidth||n.codedWidth,r.height=n.displayHeight||n.codedHeight,a==null||a.drawImage(n,0,0,r.width,r.height),n.close(),new Promise(o=>{r.toBlob(s=>{r.remove(),o(s?URL.createObjectURL(s):"")},"image/jpeg",.8)})}catch(n){return console.error("Failed to generate thumbnail from WebCodecs:",n),""}}static validateFile(t){const n=Ks.getFileCategory(t.type),r=gEe[n];if(r&&t.size>r)throw new Error(` (${Ks.formatFileSize(r)})`);const a=Ks.getSupportedTypes();if(!Ks.validateFileType(t,a))throw new Error(`: ${t.type}`)}static validateFileType(t,n){return n.some(r=>r.endsWith("/*")?t.type.startsWith(r.slice(0,-1)):t.type===r)}static getFileCategory(t){return t.startsWith("video/")?"VIDEO":t.startsWith("audio/")?"AUDIO":t.startsWith("image/")?"IMAGE":t.startsWith("text/")?"TEXT":"UNKNOWN"}static getSupportedTypes(){return[...U5.VIDEO,...U5.AUDIO,...U5.IMAGE,...U5.TEXT]}static formatFileSize(t){const n=["B","KB","MB","GB"];if(t===0)return"0 B";const r=Math.floor(Math.log(t)/Math.log(1024));return Math.round(t/1024**r*100)/100+" "+n[r]}}const _M=J0("resource",()=>{const e=Ie([]);return{resources:e,getResourcesByType:f=>be(()=>e.value.filter(p=>p.type===f)),getResourceById:f=>e.value.find(p=>p.id===f),createResource:async f=>{try{const p=await Ks.createFromFile(f);e.value.push(p);const g=[];return"url"in p&&p.url&&g.push(p.url),"cover"in p&&p.cover&&g.push(p.cover),p}catch(p){throw console.error("File parse error:",p),p}},addResource:f=>{if(e.value.find(g=>g.id===f.id)){console.warn(` ${f.id} `);return}e.value.push(f)},removeResource:f=>{const p=e.value.findIndex(g=>g.id===f);p>-1&&(e.value.splice(p,1),ar.success(""))},loadResources:async f=>{for(const p of f){const g=await Im(p.id,p.url),v=await g.arrayBuffer();p.url=g?URL.createObjectURL(new Blob([v],{type:p.type})):p.url}e.value.splice(0,e.value.length,...f)},clearAllResources:()=>{e.value.splice(0,e.value.length)},searchResources:f=>{if(!f.trim())return e.value;const p=f.toLowerCase();return e.value.filter(g=>g.name.toLowerCase().includes(p)||g.type==="text"&&g.content.toLowerCase().includes(p))},getResourceStats:()=>{const f={total:e.value.length,text:0,image:0,audio:0,video:0};return e.value.forEach(p=>{f[p.type]++}),f}}}),CM=J0("player",()=>{const e=NX(),t=Ie(0),n=Ji({playerWidth:1440,playerHeight:940,outputRadio:1}),r=Ie(!1),a=Ie(0),o=Ie(!0),s=be(()=>{const u=[];return e.trackList.forEach(({list:f})=>{const p=f.find(g=>a.value>=g.start&&a.value<=g.end);p&&u.push(p)}),u});Rt(()=>e.trackList,()=>{var f,p,g,v,c,h;let u=(g=(p=(f=e.trackList)==null?void 0:f.find(m=>m.type==="video"&&m.list.length>0))==null?void 0:p.list)==null?void 0:g[0];if(u||(u=(h=(c=(v=e.trackList)==null?void 0:v.find(m=>m.type==="image"&&m.list.length>0))==null?void 0:c.list)==null?void 0:h[0]),u){const U=_M().getResourceById(u.resource.id);U&&(U.type==="video"||U.type==="image")&&(n.playerWidth=Math.floor(U.width||1920),n.playerHeight=Math.floor(U.height||1080)),E8.refresh()}},{deep:!0});function l(u=Go){a.value+=u,a.value>e.frameCount&&(a.value=e.frameCount)}function d(u=Go){a.value-=u,a.value<0&&(a.value=0)}return{isPause:o,playStartFrame:a,ingLoadingCount:t,playingTracks:s,existVideo:r,...t2(n),forward:l,backward:d}});var qc,cm,dm,vH;let _Ee=(vH=class{constructor(){Vd(this,qc,new Map);Vd(this,cm,new Map);Vd(this,dm,new Map)}async decode(t){if(An(this,qc).has(t.id))return An(this,qc).get(t.id);const r=await(await Im(t.resource.id)).stream(),a=new G$(r);return await a.ready,An(this,qc).set(t.id,a),a}async decodeFromStream(t,n){if(An(this,qc).has(n))return An(this,qc).get(n);const r=new G$(t);return await r.ready,An(this,qc).set(n,r),r}async thumbnails(t,n,r=1e6){const a=t.id+"-"+n;if(An(this,dm).has(a))return An(this,dm).get(a);const o=await this.decode(t);if(!o)throw new Error("clip is not ready");const s=await o.thumbnails(100,{step:r});return An(this,dm).set(a,s),s}async getFrame(t,n,r=Go){const a=An(this,qc).get(t);let o;o=Math.round(n*Wo);const{video:s,audio:l}=await a.tick(o),d=An(this,cm).get(t);return s?(d==null||d.close(),An(this,cm).set(t,new VideoFrame(s)),{video:s,audio:l}):(An(this,cm).set(t,new VideoFrame(d)),{video:d,audio:l})}},qc=new WeakMap,cm=new WeakMap,dm=new WeakMap,vH);var Jc,yH;let CEe=(yH=class{constructor(){Vd(this,Jc,new Map)}async decode(t,n){if(An(this,Jc).has(t.id))return An(this,Jc).get(t.id);const a=await(await Im(t.resource.id)).stream(),o=new f8({stream:a,type:n});return An(this,Jc).set(t.id,o),o}async decodeFromStream(t,n,r){if(An(this,Jc).has(n))return An(this,Jc).get(n);const a=new f8({stream:t,type:r});return await a.ready,An(this,Jc).set(n,a),a}async getFrame(t,n){const r=An(this,Jc).get(t),a=n*Wo;return(await r.tick(a)).video}},Jc=new WeakMap,yH);var Xl,m0,bH;let SEe=(bH=class{constructor(){Vd(this,Xl,new Map);Vd(this,m0,new Map)}async decode(t){if(An(this,Xl).has(t.id))return An(this,Xl).get(t.id);const r=await(await Im(t.resource.id)).stream(),a=new Ax(r,{volume:t.volume});return await a.ready,An(this,Xl).set(t.id,a),An(this,m0).set(t.id,0),a}async decodeFromStream(t,n){if(An(this,Xl).has(n))return An(this,Xl).get(n);const r=new Ax(t);return await r.ready,An(this,Xl).set(n,r),An(this,m0).set(n,0),r}async getPCM(t,n){const r=An(this,Xl).get(t),a=An(this,m0).get(t);if(n-a>2){const l=(n-1)*Wo;await r.tick(l)}const o=n*Wo,{audio:s}=await r.tick(o);return An(this,m0).set(t,n),s}async updateVolume(t,n){const a=await(await Im(t.resource.id)).stream(),o=new Ax(a,{volume:n});An(this,Xl).set(t.id,o)}},Xl=new WeakMap,m0=new WeakMap,bH);var U0,tb;class IEe{constructor(){Vd(this,U0,new Map);Vd(this,tb,new Map)}async refresh(t){if(t)await this.decode(t,void 0,!0);else for(const[n,r]of An(this,tb).entries())await this.decode(r,void 0,!0)}async decode(t,n,r=!1){if(An(this,U0).has(t.id)&&!r)return An(this,U0).get(t.id);const o=await(await Im(t.resource.id,n)).text(),s=CM(),l=hEe(o),d=new eEe(l,{videoWidth:s.playerWidth,videoHeight:s.playerHeight,fontSize:t.subtitle.fontSize,fontFamily:"Noto Sans SC",color:t.subtitle.fontColor,strokeStyle:t.subtitle.strokeColor,bottomOffset:t.subtitle.bottomOffset,lineWidth:t.subtitle.strokeSize});return await d.ready,An(this,U0).set(t.id,d),An(this,tb).set(t.id,t),d}async getFrame(t,n){const r=An(this,U0).get(t),a=n*Wo;return(await r.tick(a)).video}}U0=new WeakMap,tb=new WeakMap;const b8=new _Ee,A8=new CEe,w8=new SEe,E8=new IEe,PX=async(e,{offsetL:t,offsetR:n,frameCount:r})=>{if(t===0&&n===0)return e;const a=t*Wo;return t===0?e:(await e.split(a))[1]};class kEe{constructor(t,n){this.type="video",this.audio=null,this.fps=Go,this.silent=!1,this.loading=!1,this.id=t4(),this.resource=t,this.name=t.name,this.format=t.format,this.frameCount=t.duration*Go,this.start=n,this.end=this.start+this.frameCount,this.fps=t.fps??Go,this.centerX=0,this.centerY=0,this.scale=100,this.height=t.height,this.width=t.width,this.offsetL=0,this.offsetR=0}get drawHeight(){return this.height*this.scale/100}get drawWidth(){return this.width*this.scale/100}getDrawX(t){return t/2-this.drawWidth/2+this.centerX}getDrawY(t){return t/2-this.drawHeight/2+this.centerY}async draw(t,n,r,a){const o=Math.max(a-this.start+this.offsetL,1),{video:s}=await b8.getFrame(this.id,o,this.fps);s&&(t.drawImage(s,0,0,this.width,this.height,this.getDrawX(n),this.getDrawY(r),this.drawWidth,this.drawHeight),s==null||s.close())}async combine(t,n,r){const a=await b8.decode(this),o=await PX(a,{offsetL:this.offsetL,offsetR:this.offsetR,frameCount:this.frameCount});if(!o)throw new Error("clip is not ready");const s=new bb(o);return s.time={offset:this.start*Wo,duration:(this.end-this.start)*Wo},s.rect.x=this.getDrawX(t)*r,s.rect.y=this.getDrawY(n)*r,s.rect.w=this.drawWidth*r,s.rect.h=this.drawHeight*r,s}}class MEe{constructor(t,n){this.type="image",this.offsetL=0,this.offsetR=0,this.loading=!1,this.id=t4(),this.resource=t,this.name=t.name,this.format=t.format,this.frameCount=4*Go,this.start=n,this.end=this.start+this.frameCount,this.centerX=0,this.centerY=0,this.scale=100,this.height=t.height,this.width=t.width}get drawHeight(){return this.height*this.scale/100}get drawWidth(){return this.width*this.scale/100}getDrawX(t){return t/2-this.drawWidth/2+this.centerX}getDrawY(t){return t/2-this.drawHeight/2+this.centerY}async draw(t,n,r,a){const o=Math.max(a-this.start,0),s=await A8.getFrame(this.id,o);s&&t.drawImage(s,0,0,this.width,this.height,this.getDrawX(n),this.getDrawY(r),this.drawWidth,this.drawHeight)}async combine(t,n,r){const a=await A8.decode(this);if(!a)throw new Error("frames is not ready");const o=new bb(a);return o.time={offset:this.start*Wo,duration:this.frameCount*Wo},o.rect.x=this.getDrawX(t)*r,o.rect.y=this.getDrawY(n)*r,o.rect.w=this.drawWidth*r,o.rect.h=this.drawHeight*r,o}}const TEe={sampleRate:48e3,channelCount:2,codec:"mp4a.40.2"};class LX{constructor(t,n,r=1){this.type="audio",this.audio=null,this.volume=1,this.drawSub=!0,this.mute=!1,this.loading=!1,this.subtitle={fontSize:40,fontColor:"#ffffff",strokeSize:2,strokeColor:"#fffff00",bottomOffset:30},this.id=t4(),this.resource=t,this.name=t.name,this.format=t.format,this.volume=r,this.frameCount=t.duration*Go,this.start=n,this.end=this.start+this.frameCount,this.offsetL=0,this.offsetR=0}async draw(t,n,r,a){const o=Math.max(a-this.start+this.offsetL,1),s=await E8.getFrame(this.id,o);s&&(t.drawImage(s,0,0,n,r,0,0,n,r),s==null||s.close())}async render(t,n){if(this.mute)return null;const r=n-this.start,a=await w8.getPCM(this.id,r),[o,s]=a;if(o==null||o.length<=0)return;const l=t.createBuffer(2,o.length,TEe.sampleRate);l.copyToChannel(o,0),l.copyToChannel(s??o,1);const d=t.createBufferSource();return d.buffer=l,d}async combine(t="audio"){let n;if(t==="audio"?n=await w8.decode(this):n=await E8.decode(this),n=await PX(n,{offsetL:this.offsetL,offsetR:this.offsetR,frameCount:this.frameCount}),!n)throw new Error("clip is not ready");const r=new bb(n);return r.time={offset:this.start*Wo,duration:(this.end-this.start)*Wo},r}}class eF{constructor(t,n){this.type="text",this.centerX=0,this.centerY=0,this.scale=100,this.width=0,this.height=0,this.fontSize=24,this.fontFamily="Arial",this.text="",this.loading=!1,this.id=t4(),this.resource=t,this.text=t.text,this.fill=t.fill,this.stroke=t.stroke,this.textBackgroundColor=t.textBackgroundColor,this.fontSize=t.fontSize,this.fontFamily=t.fontFamily,this.name=t.name,this.format="text",this.frameCount=2*Go,this.start=n,this.end=this.start+this.frameCount,this.centerX=0,this.centerY=0,this.scale=100,this.calcSize()}calcSize(){const{width:t,height:n}=fEe({text:this.text,fontSize:this.fontSize,fontFamily:this.fontFamily});this.height=n,this.width=t}get drawWidth(){return this.width*this.scale/100}get drawHeight(){return this.height*this.scale/100}getDrawX(t){return t/2-this.drawWidth/2+this.centerX}getDrawY(t){return t/2-this.drawHeight/2+this.centerY}drawRoundRect(t,{x:n,y:r,width:a,height:o,radius:s,color:l}){t.beginPath(),t.fillStyle=l,t.moveTo(n+s,r),t.arcTo(n+a,r,n+a,r+o,s),t.arcTo(n+a,r+o,n,r+o,s),t.arcTo(n,r+o,n,r,s),t.arcTo(n,r,n+a,r,s),t.closePath(),t.fill()}async draw(t,n,r,a){this.calcSize();const o=4,s=4,l=this.text,d=this.getDrawX(n),u=this.getDrawY(r),f=this.fontSize*this.scale/100,p=this.fill,g=this.fontFamily,v=this.stroke,c=4,h=this.textBackgroundColor,m=l.split(`
`),U=f*1.2,b=Math.max(...m.map(x=>t.measureText(x).width)),w=m.length*U;h&&this.drawRoundRect(t,{x:d-o,y:u-o,width:b+o*2,height:w+o*2,radius:s,color:h}),t.textBaseline="top",t.font=`${f}px ${g}`;const E=u+(w-m.length*f)/2;return m.forEach((x,C)=>{const I=E+C*U;v&&c&&(t.strokeStyle=v,t.lineWidth=c,t.strokeText(x,d,I)),t.fillStyle=p,t.fillText(x,d,I)}),Promise.resolve()}async combine(t,n,r){const a=new OffscreenCanvas(t,n),o=a.getContext("2d");if(!o)throw new Error("ctx is null");await this.draw(o,t,n,0);const s=a.transferToImageBitmap(),l=new f8(s);await l.ready;const d=new bb(l);return d.time={offset:this.start*Wo,duration:this.frameCount*Wo},d.rect.x=0,d.rect.y=0,d.rect.w=t,d.rect.h=n,console.log(d),d}}function BEe(e,t,n=-1){const{start:r,end:a}=t;let o=-1,s=0;return{hasOverlap:e.some((d,u)=>{if(n!==-1&&u===n)return!1;const{start:f,end:p}=d;return f<=r&&p>=a||f>=r&&f<a||p>r&&p<=a?(o=u,!0):(p<=r&&(s=u+1),!1)}),overLapIndex:o,insertIndex:s}}const NX=J0("track",()=>{const e=CM(),t=_M(),n=Ji({dataInfo:{},dragType:"",dragPoint:{x:0,y:0},fixLines:[],moveX:0,moveY:0}),r=Ie(),a=Ji({lineIndex:-1,itemIndex:-1}),o=Ie(parseInt(localStorage.trackS||"60")),s=Ie([]),l=Ji({line:-1,index:-1}),d=be(()=>{var w;return l.line===-1?null:((w=s.value[l.line])==null?void 0:w.list[l.index])||null}),u=be(()=>{const w=s.value.reduce((E,{list:x})=>Math.max(x.reduce((C,I)=>Math.max(C,I.end),0),E),0);return Math.floor(w)});function f(){var x,C;if(!d.value)return;const w=l.line,E=l.index;(x=d.value)!=null&&x.pause&&((C=d.value)==null||C.pause()),s.value[w].list.splice(E,1),s.value[w].list.length===0&&!s.value[w].main&&s.value.splice(w,1),s.value.length===1&&s.value[0].list.length===0&&s.value.splice(0,1),l.line=-1,l.index=-1}function p(w){s.value.forEach((E,x)=>{E.list.forEach((C,I)=>{C.id===w&&(l.line=x,l.index=I)})})}const g=async(w,E=e.playStartFrame,x=1)=>{if(w.type==="video"){const C=new kEe(w,E);return await b8.decode(C),C}if(w.type==="image"){const C=new MEe(w,E);return await A8.decode(C,w.format),C}if(w.type==="audio"){const C=new LX(w,E,x);return await w8.decode(C),"subtitle"in w&&w.subtitle&&await E8.decode(C,w.subtitle),C}if(w.type==="text")return new eF({text:w.content,fontSize:24,fontFamily:"Arial",name:w.name,fill:"#FFF",stroke:void 0,textBackgroundColor:void 0},E);throw new Error(`: ${w.type}`)},v=async w=>{const E=await g(w.resource,w.start),x=E.id;return Object.assign(E,w),E.id=x,E};function c(w){const E=s.value.filter(C=>C.type===w.type);for(let C=0;C<E.length;C++){const I=E[C],{hasOverlap:S,insertIndex:M}=BEe(I.list,w);if(!S){I.list.splice(M,0,w),l.line=s.value.findIndex(R=>R===I),l.index=M;return}}const x={type:w.type,list:[w]};["audio"].includes(w.type)?(s.value.push(x),l.line=s.value.length-1,l.index=0):(s.value.unshift(x),l.line=0,l.index=0)}function h(){const w=window.getSelection().toString(),E=new eF({text:w===""?"":w,fontSize:24,fontFamily:"Arial",name:"",fill:"#FFF",stroke:void 0,textBackgroundColor:void 0},e.playStartFrame);c(E)}function m(){if(l.index<0)return;const w=s.value[l.line].list[l.index];let E=0;if(l.index<1)E=w.start;else{const x=s.value[l.line].list[l.index-1];E=w.start-x.end}w.end-=E,w.start-=E}async function U(){if(!d.value)return;const{line:w,index:E}=l,x=e.playStartFrame,C=d.value;if(x>C.start&&x<C.end){const I=C.end,S=C.offsetR;C.end=x,C.offsetR=C.frameCount+C.start-x;const M=await v(C);M&&(M.start=x,M.offsetL=x-C.start+C.offsetL,M.end=I,M.offsetR=S,s.value[w].list.splice(E+1,0,M))}}return{moveTrackData:a,copyData:r,frameCount:u,dragData:n,selectTrackItem:l,selectTrack:d,trackScale:o,trackList:s,createTrack:g,copyTrack:v,addTrack:c,addText:h,removeTrack:f,leftLink:m,splitTrack:U,selectTrackById:p,loadTrackData:async w=>{const E=[];for(let x=0;x<w.length;x++){const C=w[x],I=[];if(C.list.length!==0){for(let S=0;S<C.list.length;S++){const M=C.list[S],R=await g(M.resource,M.start,"volume"in M?M.volume:1),D=R.id;Object.assign(R,M);const L=t.getResourceById(M.resource.id);R.resource=L,R.id=D,I.push(R)}E.push({main:C.main,type:C.type,list:I})}}s.value.splice(0,s.value.length,...E)}}},{undo:{watch:["trackList","trackScale"]}});/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const cg=typeof document<"u";function $X(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function REe(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&$X(e.default)}const or=Object.assign;function Ex(e,t){const n={};for(const r in t){const a=t[r];n[r]=Uc(a)?a.map(e):e(a)}return n}const Rv=()=>{},Uc=Array.isArray,FX=/#/g,DEe=/&/g,PEe=/\//g,LEe=/=/g,NEe=/\?/g,jX=/\+/g,$Ee=/%5B/g,FEe=/%5D/g,OX=/%5E/g,jEe=/%60/g,zX=/%7B/g,OEe=/%7C/g,QX=/%7D/g,zEe=/%20/g;function SM(e){return encodeURI(""+e).replace(OEe,"|").replace($Ee,"[").replace(FEe,"]")}function QEe(e){return SM(e).replace(zX,"{").replace(QX,"}").replace(OX,"^")}function $C(e){return SM(e).replace(jX,"%2B").replace(zEe,"+").replace(FX,"%23").replace(DEe,"%26").replace(jEe,"`").replace(zX,"{").replace(QX,"}").replace(OX,"^")}function HEe(e){return $C(e).replace(LEe,"%3D")}function GEe(e){return SM(e).replace(FX,"%23").replace(NEe,"%3F")}function WEe(e){return e==null?"":GEe(e).replace(PEe,"%2F")}function Sy(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const VEe=/\/$/,YEe=e=>e.replace(VEe,"");function xx(e,t,n="/"){let r,a={},o="",s="";const l=t.indexOf("#");let d=t.indexOf("?");return l<d&&l>=0&&(d=-1),d>-1&&(r=t.slice(0,d),o=t.slice(d+1,l>-1?l:t.length),a=e(o)),l>-1&&(r=r||t.slice(0,l),s=t.slice(l,t.length)),r=qEe(r??t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:a,hash:Sy(s)}}function KEe(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function tF(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function XEe(e,t,n){const r=t.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&km(t.matched[r],n.matched[a])&&HX(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function km(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function HX(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!ZEe(e[n],t[n]))return!1;return!0}function ZEe(e,t){return Uc(e)?nF(e,t):Uc(t)?nF(t,e):e===t}function nF(e,t){return Uc(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function qEe(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),a=r[r.length-1];(a===".."||a===".")&&r.push("");let o=n.length-1,s,l;for(s=0;s<r.length;s++)if(l=r[s],l!==".")if(l==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s).join("/")}const Tf={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Iy;(function(e){e.pop="pop",e.push="push"})(Iy||(Iy={}));var Dv;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Dv||(Dv={}));function JEe(e){if(!e)if(cg){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),YEe(e)}const exe=/^[^#]+#/;function txe(e,t){return e.replace(exe,"#")+t}function nxe(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const g4=()=>({left:window.scrollX,top:window.scrollY});function rxe(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=nxe(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function rF(e,t){return(history.state?history.state.position-t:-1)+e}const FC=new Map;function ixe(e,t){FC.set(e,t)}function axe(e){const t=FC.get(e);return FC.delete(e),t}let oxe=()=>location.protocol+"//"+location.host;function GX(e,t){const{pathname:n,search:r,hash:a}=t,o=e.indexOf("#");if(o>-1){let l=a.includes(e.slice(o))?e.slice(o).length:1,d=a.slice(l);return d[0]!=="/"&&(d="/"+d),tF(d,"")}return tF(n,e)+r+a}function sxe(e,t,n,r){let a=[],o=[],s=null;const l=({state:g})=>{const v=GX(e,location),c=n.value,h=t.value;let m=0;if(g){if(n.value=v,t.value=g,s&&s===c){s=null;return}m=h?g.position-h.position:0}else r(v);a.forEach(U=>{U(n.value,c,{delta:m,type:Iy.pop,direction:m?m>0?Dv.forward:Dv.back:Dv.unknown})})};function d(){s=n.value}function u(g){a.push(g);const v=()=>{const c=a.indexOf(g);c>-1&&a.splice(c,1)};return o.push(v),v}function f(){const{history:g}=window;g.state&&g.replaceState(or({},g.state,{scroll:g4()}),"")}function p(){for(const g of o)g();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:d,listen:u,destroy:p}}function iF(e,t,n,r=!1,a=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:a?g4():null}}function lxe(e){const{history:t,location:n}=window,r={value:GX(e,n)},a={value:t.state};a.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(d,u,f){const p=e.indexOf("#"),g=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+d:oxe()+e+d;try{t[f?"replaceState":"pushState"](u,"",g),a.value=u}catch(v){console.error(v),n[f?"replace":"assign"](g)}}function s(d,u){const f=or({},t.state,iF(a.value.back,d,a.value.forward,!0),u,{position:a.value.position});o(d,f,!0),r.value=d}function l(d,u){const f=or({},a.value,t.state,{forward:d,scroll:g4()});o(f.current,f,!0);const p=or({},iF(r.value,d,null),{position:f.position+1},u);o(d,p,!1),r.value=d}return{location:r,state:a,push:l,replace:s}}function cxe(e){e=JEe(e);const t=lxe(e),n=sxe(e,t.state,t.location,t.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const a=or({location:"",base:e,go:r,createHref:txe.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function dxe(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),cxe(e)}function uxe(e){return typeof e=="string"||e&&typeof e=="object"}function WX(e){return typeof e=="string"||typeof e=="symbol"}const VX=Symbol("");var aF;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(aF||(aF={}));function Mm(e,t){return or(new Error,{type:e,[VX]:!0},t)}function Xd(e,t){return e instanceof Error&&VX in e&&(t==null||!!(e.type&t))}const oF="[^/]+?",fxe={sensitive:!1,strict:!1,start:!0,end:!0},hxe=/[.+*?^${}()[\]/\\]/g;function pxe(e,t){const n=or({},fxe,t),r=[];let a=n.start?"^":"";const o=[];for(const u of e){const f=u.length?[]:[90];n.strict&&!u.length&&(a+="/");for(let p=0;p<u.length;p++){const g=u[p];let v=40+(n.sensitive?.25:0);if(g.type===0)p||(a+="/"),a+=g.value.replace(hxe,"\\$&"),v+=40;else if(g.type===1){const{value:c,repeatable:h,optional:m,regexp:U}=g;o.push({name:c,repeatable:h,optional:m});const b=U||oF;if(b!==oF){v+=10;try{new RegExp(`(${b})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${c}" (${b}): `+E.message)}}let w=h?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;p||(w=m&&u.length<2?`(?:/${w})`:"/"+w),m&&(w+="?"),a+=w,v+=20,m&&(v+=-8),h&&(v+=-20),b===".*"&&(v+=-50)}f.push(v)}r.push(f)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&(a+="(?:/|$)");const s=new RegExp(a,n.sensitive?"":"i");function l(u){const f=u.match(s),p={};if(!f)return null;for(let g=1;g<f.length;g++){const v=f[g]||"",c=o[g-1];p[c.name]=v&&c.repeatable?v.split("/"):v}return p}function d(u){let f="",p=!1;for(const g of e){(!p||!f.endsWith("/"))&&(f+="/"),p=!1;for(const v of g)if(v.type===0)f+=v.value;else if(v.type===1){const{value:c,repeatable:h,optional:m}=v,U=c in u?u[c]:"";if(Uc(U)&&!h)throw new Error(`Provided param "${c}" is an array but it is not repeatable (* or + modifiers)`);const b=Uc(U)?U.join("/"):U;if(!b)if(m)g.length<2&&(f.endsWith("/")?f=f.slice(0,-1):p=!0);else throw new Error(`Missing required param "${c}"`);f+=b}}return f||"/"}return{re:s,score:r,keys:o,parse:l,stringify:d}}function gxe(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function YX(e,t){let n=0;const r=e.score,a=t.score;for(;n<r.length&&n<a.length;){const o=gxe(r[n],a[n]);if(o)return o;n++}if(Math.abs(a.length-r.length)===1){if(sF(r))return 1;if(sF(a))return-1}return a.length-r.length}function sF(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const mxe={type:0,value:""},Uxe=/[a-zA-Z0-9_]/;function vxe(e){if(!e)return[[]];if(e==="/")return[[mxe]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${u}": ${v}`)}let n=0,r=n;const a=[];let o;function s(){o&&a.push(o),o=[]}let l=0,d,u="",f="";function p(){u&&(n===0?o.push({type:0,value:u}):n===1||n===2||n===3?(o.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:f,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),u="")}function g(){u+=d}for(;l<e.length;){if(d=e[l++],d==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:d==="/"?(u&&p(),s()):d===":"?(p(),n=1):g();break;case 4:g(),n=r;break;case 1:d==="("?n=2:Uxe.test(d)?g():(p(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&l--);break;case 2:d===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+d:n=3:f+=d;break;case 3:p(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&l--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),p(),s(),a}function yxe(e,t,n){const r=pxe(vxe(e.path),n),a=or(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function bxe(e,t){const n=[],r=new Map;t=uF({strict:!1,end:!0,sensitive:!1},t);function a(p){return r.get(p)}function o(p,g,v){const c=!v,h=cF(p);h.aliasOf=v&&v.record;const m=uF(t,p),U=[h];if("alias"in p){const E=typeof p.alias=="string"?[p.alias]:p.alias;for(const x of E)U.push(cF(or({},h,{components:v?v.record.components:h.components,path:x,aliasOf:v?v.record:h})))}let b,w;for(const E of U){const{path:x}=E;if(g&&x[0]!=="/"){const C=g.record.path,I=C[C.length-1]==="/"?"":"/";E.path=g.record.path+(x&&I+x)}if(b=yxe(E,g,m),v?v.alias.push(b):(w=w||b,w!==b&&w.alias.push(b),c&&p.name&&!dF(b)&&s(p.name)),KX(b)&&d(b),h.children){const C=h.children;for(let I=0;I<C.length;I++)o(C[I],b,v&&v.children[I])}v=v||b}return w?()=>{s(w)}:Rv}function s(p){if(WX(p)){const g=r.get(p);g&&(r.delete(p),n.splice(n.indexOf(g),1),g.children.forEach(s),g.alias.forEach(s))}else{const g=n.indexOf(p);g>-1&&(n.splice(g,1),p.record.name&&r.delete(p.record.name),p.children.forEach(s),p.alias.forEach(s))}}function l(){return n}function d(p){const g=Exe(p,n);n.splice(g,0,p),p.record.name&&!dF(p)&&r.set(p.record.name,p)}function u(p,g){let v,c={},h,m;if("name"in p&&p.name){if(v=r.get(p.name),!v)throw Mm(1,{location:p});m=v.record.name,c=or(lF(g.params,v.keys.filter(w=>!w.optional).concat(v.parent?v.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),p.params&&lF(p.params,v.keys.map(w=>w.name))),h=v.stringify(c)}else if(p.path!=null)h=p.path,v=n.find(w=>w.re.test(h)),v&&(c=v.parse(h),m=v.record.name);else{if(v=g.name?r.get(g.name):n.find(w=>w.re.test(g.path)),!v)throw Mm(1,{location:p,currentLocation:g});m=v.record.name,c=or({},g.params,p.params),h=v.stringify(c)}const U=[];let b=v;for(;b;)U.unshift(b.record),b=b.parent;return{name:m,path:h,params:c,matched:U,meta:wxe(U)}}e.forEach(p=>o(p));function f(){n.length=0,r.clear()}return{addRoute:o,resolve:u,removeRoute:s,clearRoutes:f,getRoutes:l,getRecordMatcher:a}}function lF(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function cF(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Axe(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Axe(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function dF(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function wxe(e){return e.reduce((t,n)=>or(t,n.meta),{})}function uF(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Exe(e,t){let n=0,r=t.length;for(;n!==r;){const o=n+r>>1;YX(e,t[o])<0?r=o:n=o+1}const a=xxe(e);return a&&(r=t.lastIndexOf(a,r-1)),r}function xxe(e){let t=e;for(;t=t.parent;)if(KX(t)&&YX(e,t)===0)return t}function KX({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function _xe(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<r.length;++a){const o=r[a].replace(jX," "),s=o.indexOf("="),l=Sy(s<0?o:o.slice(0,s)),d=s<0?null:Sy(o.slice(s+1));if(l in t){let u=t[l];Uc(u)||(u=t[l]=[u]),u.push(d)}else t[l]=d}return t}function fF(e){let t="";for(let n in e){const r=e[n];if(n=HEe(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Uc(r)?r.map(o=>o&&$C(o)):[r&&$C(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function Cxe(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Uc(r)?r.map(a=>a==null?null:""+a):r==null?r:""+r)}return t}const Sxe=Symbol(""),hF=Symbol(""),m4=Symbol(""),IM=Symbol(""),jC=Symbol("");function X2(){let e=[];function t(r){return e.push(r),()=>{const a=e.indexOf(r);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function nh(e,t,n,r,a,o=s=>s()){const s=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((l,d)=>{const u=g=>{g===!1?d(Mm(4,{from:n,to:t})):g instanceof Error?d(g):uxe(g)?d(Mm(2,{from:t,to:g})):(s&&r.enterCallbacks[a]===s&&typeof g=="function"&&s.push(g),l())},f=o(()=>e.call(r&&r.instances[a],t,n,u));let p=Promise.resolve(f);e.length<3&&(p=p.then(u)),p.catch(g=>d(g))})}function _x(e,t,n,r,a=o=>o()){const o=[];for(const s of e)for(const l in s.components){let d=s.components[l];if(!(t!=="beforeRouteEnter"&&!s.instances[l]))if($X(d)){const f=(d.__vccOpts||d)[t];f&&o.push(nh(f,n,r,s,l,a))}else{let u=d();o.push(()=>u.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${l}" at "${s.path}"`);const p=REe(f)?f.default:f;s.mods[l]=f,s.components[l]=p;const v=(p.__vccOpts||p)[t];return v&&nh(v,n,r,s,l,a)()}))}}return o}function pF(e){const t=Nt(m4),n=Nt(IM),r=be(()=>{const d=Q(e.to);return t.resolve(d)}),a=be(()=>{const{matched:d}=r.value,{length:u}=d,f=d[u-1],p=n.matched;if(!f||!p.length)return-1;const g=p.findIndex(km.bind(null,f));if(g>-1)return g;const v=gF(d[u-2]);return u>1&&gF(f)===v&&p[p.length-1].path!==v?p.findIndex(km.bind(null,d[u-2])):g}),o=be(()=>a.value>-1&&Txe(n.params,r.value.params)),s=be(()=>a.value>-1&&a.value===n.matched.length-1&&HX(n.params,r.value.params));function l(d={}){return Mxe(d)?t[Q(e.replace)?"replace":"push"](Q(e.to)).catch(Rv):Promise.resolve()}return{route:r,href:be(()=>r.value.href),isActive:o,isExactActive:s,navigate:l}}const Ixe=ot({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:pF,setup(e,{slots:t}){const n=Ji(pF(e)),{options:r}=Nt(m4),a=be(()=>({[mF(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[mF(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:_u("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},o)}}}),kxe=Ixe;function Mxe(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Txe(e,t){for(const n in t){const r=t[n],a=e[n];if(typeof r=="string"){if(r!==a)return!1}else if(!Uc(a)||a.length!==r.length||r.some((o,s)=>o!==a[s]))return!1}return!0}function gF(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const mF=(e,t,n)=>e??t??n,Bxe=ot({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Nt(jC),a=be(()=>e.route||r.value),o=Nt(hF,0),s=be(()=>{let u=Q(o);const{matched:f}=a.value;let p;for(;(p=f[u])&&!p.components;)u++;return u}),l=be(()=>a.value.matched[s.value]);ii(hF,be(()=>s.value+1)),ii(Sxe,l),ii(jC,a);const d=Ie();return Rt(()=>[d.value,l.value,e.name],([u,f,p],[g,v,c])=>{f&&(f.instances[p]=u,v&&v!==f&&u&&u===g&&(f.leaveGuards.size||(f.leaveGuards=v.leaveGuards),f.updateGuards.size||(f.updateGuards=v.updateGuards))),u&&f&&(!v||!km(f,v)||!g)&&(f.enterCallbacks[p]||[]).forEach(h=>h(u))},{flush:"post"}),()=>{const u=a.value,f=e.name,p=l.value,g=p&&p.components[f];if(!g)return UF(n.default,{Component:g,route:u});const v=p.props[f],c=v?v===!0?u.params:typeof v=="function"?v(u):v:null,m=_u(g,or({},c,t,{onVnodeUnmounted:U=>{U.component.isUnmounted&&(p.instances[f]=null)},ref:d}));return UF(n.default,{Component:m,route:u})||m}}});function UF(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Rxe=Bxe;function Dxe(e){const t=bxe(e.routes,e),n=e.parseQuery||_xe,r=e.stringifyQuery||fF,a=e.history,o=X2(),s=X2(),l=X2(),d=Th(Tf);let u=Tf;cg&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Ex.bind(null,le=>""+le),p=Ex.bind(null,WEe),g=Ex.bind(null,Sy);function v(le,he){let ge,Ee;return WX(le)?(ge=t.getRecordMatcher(le),Ee=he):Ee=le,t.addRoute(Ee,ge)}function c(le){const he=t.getRecordMatcher(le);he&&t.removeRoute(he)}function h(){return t.getRoutes().map(le=>le.record)}function m(le){return!!t.getRecordMatcher(le)}function U(le,he){if(he=or({},he||d.value),typeof le=="string"){const ae=xx(n,le,he.path),Ae=t.resolve({path:ae.path},he),$e=a.createHref(ae.fullPath);return or(ae,Ae,{params:g(Ae.params),hash:Sy(ae.hash),redirectedFrom:void 0,href:$e})}let ge;if(le.path!=null)ge=or({},le,{path:xx(n,le.path,he.path).path});else{const ae=or({},le.params);for(const Ae in ae)ae[Ae]==null&&delete ae[Ae];ge=or({},le,{params:p(ae)}),he.params=p(he.params)}const Ee=t.resolve(ge,he),ze=le.hash||"";Ee.params=f(g(Ee.params));const at=KEe(r,or({},le,{hash:QEe(ze),path:Ee.path})),q=a.createHref(at);return or({fullPath:at,hash:ze,query:r===fF?Cxe(le.query):le.query||{}},Ee,{redirectedFrom:void 0,href:q})}function b(le){return typeof le=="string"?xx(n,le,d.value.path):or({},le)}function w(le,he){if(u!==le)return Mm(8,{from:he,to:le})}function E(le){return I(le)}function x(le){return E(or(b(le),{replace:!0}))}function C(le){const he=le.matched[le.matched.length-1];if(he&&he.redirect){const{redirect:ge}=he;let Ee=typeof ge=="function"?ge(le):ge;return typeof Ee=="string"&&(Ee=Ee.includes("?")||Ee.includes("#")?Ee=b(Ee):{path:Ee},Ee.params={}),or({query:le.query,hash:le.hash,params:Ee.path!=null?{}:le.params},Ee)}}function I(le,he){const ge=u=U(le),Ee=d.value,ze=le.state,at=le.force,q=le.replace===!0,ae=C(ge);if(ae)return I(or(b(ae),{state:typeof ae=="object"?or({},ze,ae.state):ze,force:at,replace:q}),he||ge);const Ae=ge;Ae.redirectedFrom=he;let $e;return!at&&XEe(r,Ee,ge)&&($e=Mm(16,{to:Ae,from:Ee}),V(Ee,Ee,!0,!1)),($e?Promise.resolve($e):R(Ae,Ee)).catch(Ce=>Xd(Ce)?Xd(Ce,2)?Ce:O(Ce):Z(Ce,Ae,Ee)).then(Ce=>{if(Ce){if(Xd(Ce,2))return I(or({replace:q},b(Ce.to),{state:typeof Ce.to=="object"?or({},ze,Ce.to.state):ze,force:at}),he||Ae)}else Ce=L(Ae,Ee,!0,q,ze);return D(Ae,Ee,Ce),Ce})}function S(le,he){const ge=w(le,he);return ge?Promise.reject(ge):Promise.resolve()}function M(le){const he=me.values().next().value;return he&&typeof he.runWithContext=="function"?he.runWithContext(le):le()}function R(le,he){let ge;const[Ee,ze,at]=Pxe(le,he);ge=_x(Ee.reverse(),"beforeRouteLeave",le,he);for(const ae of Ee)ae.leaveGuards.forEach(Ae=>{ge.push(nh(Ae,le,he))});const q=S.bind(null,le,he);return ge.push(q),xe(ge).then(()=>{ge=[];for(const ae of o.list())ge.push(nh(ae,le,he));return ge.push(q),xe(ge)}).then(()=>{ge=_x(ze,"beforeRouteUpdate",le,he);for(const ae of ze)ae.updateGuards.forEach(Ae=>{ge.push(nh(Ae,le,he))});return ge.push(q),xe(ge)}).then(()=>{ge=[];for(const ae of at)if(ae.beforeEnter)if(Uc(ae.beforeEnter))for(const Ae of ae.beforeEnter)ge.push(nh(Ae,le,he));else ge.push(nh(ae.beforeEnter,le,he));return ge.push(q),xe(ge)}).then(()=>(le.matched.forEach(ae=>ae.enterCallbacks={}),ge=_x(at,"beforeRouteEnter",le,he,M),ge.push(q),xe(ge))).then(()=>{ge=[];for(const ae of s.list())ge.push(nh(ae,le,he));return ge.push(q),xe(ge)}).catch(ae=>Xd(ae,8)?ae:Promise.reject(ae))}function D(le,he,ge){l.list().forEach(Ee=>M(()=>Ee(le,he,ge)))}function L(le,he,ge,Ee,ze){const at=w(le,he);if(at)return at;const q=he===Tf,ae=cg?history.state:{};ge&&(Ee||q?a.replace(le.fullPath,or({scroll:q&&ae&&ae.scroll},ze)):a.push(le.fullPath,ze)),d.value=le,V(le,he,ge,q),O()}let j;function re(){j||(j=a.listen((le,he,ge)=>{if(!ve.listening)return;const Ee=U(le),ze=C(Ee);if(ze){I(or(ze,{replace:!0}),Ee).catch(Rv);return}u=Ee;const at=d.value;cg&&ixe(rF(at.fullPath,ge.delta),g4()),R(Ee,at).catch(q=>Xd(q,12)?q:Xd(q,2)?(I(q.to,Ee).then(ae=>{Xd(ae,20)&&!ge.delta&&ge.type===Iy.pop&&a.go(-1,!1)}).catch(Rv),Promise.reject()):(ge.delta&&a.go(-ge.delta,!1),Z(q,Ee,at))).then(q=>{q=q||L(Ee,at,!1),q&&(ge.delta&&!Xd(q,8)?a.go(-ge.delta,!1):ge.type===Iy.pop&&Xd(q,20)&&a.go(-1,!1)),D(Ee,at,q)}).catch(Rv)}))}let J=X2(),H=X2(),ne;function Z(le,he,ge){O(le);const Ee=H.list();return Ee.length?Ee.forEach(ze=>ze(le,he,ge)):console.error(le),Promise.reject(le)}function se(){return ne&&d.value!==Tf?Promise.resolve():new Promise((le,he)=>{J.add([le,he])})}function O(le){return ne||(ne=!le,re(),J.list().forEach(([he,ge])=>le?ge(le):he()),J.reset()),le}function V(le,he,ge,Ee){const{scrollBehavior:ze}=e;if(!cg||!ze)return Promise.resolve();const at=!ge&&axe(rF(le.fullPath,0))||(Ee||!ge)&&history.state&&history.state.scroll||null;return lr().then(()=>ze(le,he,at)).then(q=>q&&rxe(q)).catch(q=>Z(q,le,he))}const de=le=>a.go(le);let oe;const me=new Set,ve={currentRoute:d,listening:!0,addRoute:v,removeRoute:c,clearRoutes:t.clearRoutes,hasRoute:m,getRoutes:h,resolve:U,options:e,push:E,replace:x,go:de,back:()=>de(-1),forward:()=>de(1),beforeEach:o.add,beforeResolve:s.add,afterEach:l.add,onError:H.add,isReady:se,install(le){const he=this;le.component("RouterLink",kxe),le.component("RouterView",Rxe),le.config.globalProperties.$router=he,Object.defineProperty(le.config.globalProperties,"$route",{enumerable:!0,get:()=>Q(d)}),cg&&!oe&&d.value===Tf&&(oe=!0,E(a.location).catch(ze=>{}));const ge={};for(const ze in Tf)Object.defineProperty(ge,ze,{get:()=>d.value[ze],enumerable:!0});le.provide(m4,he),le.provide(IM,pk(ge)),le.provide(jC,d);const Ee=le.unmount;me.add(le),le.unmount=function(){me.delete(le),me.size<1&&(u=Tf,j&&j(),j=null,d.value=Tf,oe=!1,ne=!1),Ee()}}};function xe(le){return le.reduce((he,ge)=>he.then(()=>M(ge)),Promise.resolve())}return ve}function Pxe(e,t){const n=[],r=[],a=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const l=t.matched[s];l&&(e.matched.find(u=>km(u,l))?r.push(l):n.push(l));const d=e.matched[s];d&&(t.matched.find(u=>km(u,d))||a.push(d))}return[n,r,a]}function XX(){return Nt(m4)}function ZX(e){return Nt(IM)}const Lxe="modulepreload",Nxe=function(e,t){return new URL(e,t).href},vF={},Ye=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),d=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(n.map(u=>{if(u=Nxe(u,r),u in vF)return;vF[u]=!0;const f=u.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(!!r)for(let c=s.length-1;c>=0;c--){const h=s[c];if(h.href===u&&(!f||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${p}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":Lxe,f||(v.as="script"),v.crossOrigin="",v.href=u,d&&v.setAttribute("nonce",d),document.head.appendChild(v),f)return new Promise((c,h)=>{v.addEventListener("load",c),v.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};var $xe=Object.create,kM=Object.defineProperty,Fxe=Object.getOwnPropertyDescriptor,jxe=Object.getOwnPropertyNames,Oxe=Object.getPrototypeOf,zxe=Object.prototype.hasOwnProperty,Kqe=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),Qxe=e=>t=>{var n=e[t];if(n)return n();throw new Error("Module not found in bundle: "+t)},Hxe=(e,t)=>()=>(e&&(t=e(e=0)),t),Mn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),qX=(e,t)=>{for(var n in t)kM(e,n,{get:t[n],enumerable:!0})},Gxe=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of jxe(t))!zxe.call(e,a)&&a!==n&&kM(e,a,{get:()=>t[a],enumerable:!(r=Fxe(t,a))||r.enumerable});return e},te=(e,t,n)=>(n=e!=null?$xe(Oxe(e)):{},Gxe(t||!e||!e.__esModule?kM(n,"default",{value:e,enumerable:!0}):n,e)),gt,N=Hxe(()=>{gt={PROD:!0}}),JX=Mn(e=>{N(),function(t){typeof DO_NOT_EXPORT_CRC>"u"?typeof e=="object"?t(e):typeof define=="function"&&define.amd?define(function(){var n={};return t(n),n}):t({}):t({})}(function(t){t.version="0.3.0";function n(){for(var u=0,f=new Array(256),p=0;p!=256;++p)u=p,u=u&1?-306674912^u>>>1:u>>>1,u=u&1?-306674912^u>>>1:u>>>1,u=u&1?-306674912^u>>>1:u>>>1,u=u&1?-306674912^u>>>1:u>>>1,u=u&1?-306674912^u>>>1:u>>>1,u=u&1?-306674912^u>>>1:u>>>1,u=u&1?-306674912^u>>>1:u>>>1,u=u&1?-306674912^u>>>1:u>>>1,f[p]=u;return typeof Int32Array<"u"?new Int32Array(f):f}var r=n(),a=typeof Buffer<"u";function o(u){if(u.length>32768&&a)return l(new Buffer(u));for(var f=-1,p=u.length-1,g=0;g<p;)f=r[(f^u.charCodeAt(g++))&255]^f>>>8,f=r[(f^u.charCodeAt(g++))&255]^f>>>8;return g===p&&(f=f>>>8^r[(f^u.charCodeAt(g))&255]),f^-1}function s(u){if(u.length>1e4)return l(u);for(var f=-1,p=0,g=u.length-3;p<g;)f=f>>>8^r[(f^u[p++])&255],f=f>>>8^r[(f^u[p++])&255],f=f>>>8^r[(f^u[p++])&255],f=f>>>8^r[(f^u[p++])&255];for(;p<g+3;)f=f>>>8^r[(f^u[p++])&255];return f^-1}function l(u){for(var f=-1,p=0,g=u.length-7;p<g;)f=f>>>8^r[(f^u[p++])&255],f=f>>>8^r[(f^u[p++])&255],f=f>>>8^r[(f^u[p++])&255],f=f>>>8^r[(f^u[p++])&255],f=f>>>8^r[(f^u[p++])&255],f=f>>>8^r[(f^u[p++])&255],f=f>>>8^r[(f^u[p++])&255],f=f>>>8^r[(f^u[p++])&255];for(;p<g+7;)f=f>>>8^r[(f^u[p++])&255];return f^-1}function d(u){for(var f=-1,p=0,g=u.length,v,c;p<g;)v=u.charCodeAt(p++),v<128?f=f>>>8^r[(f^v)&255]:v<2048?(f=f>>>8^r[(f^(192|v>>6&31))&255],f=f>>>8^r[(f^(128|v&63))&255]):v>=55296&&v<57344?(v=(v&1023)+64,c=u.charCodeAt(p++)&1023,f=f>>>8^r[(f^(240|v>>8&7))&255],f=f>>>8^r[(f^(128|v>>2&63))&255],f=f>>>8^r[(f^(128|c>>6&15|v&3))&255],f=f>>>8^r[(f^(128|c&63))&255]):(f=f>>>8^r[(f^(224|v>>12&15))&255],f=f>>>8^r[(f^(128|v>>6&63))&255],f=f>>>8^r[(f^(128|v&63))&255]);return f^-1}t.table=r,t.bstr=o,t.buf=s,t.str=d})}),Wxe=Mn((e,t)=>{N();var n=JX();t.exports=s;var r=new Uint8Array(4),a=new Int32Array(r.buffer),o=new Uint32Array(r.buffer);function s(l){if(l[0]!==137)throw new Error("Invalid .png file header");if(l[1]!==80)throw new Error("Invalid .png file header");if(l[2]!==78)throw new Error("Invalid .png file header");if(l[3]!==71)throw new Error("Invalid .png file header");if(l[4]!==13)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(l[5]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(l[6]!==26)throw new Error("Invalid .png file header");if(l[7]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var d=!1,u=[],f=8;f<l.length;){r[3]=l[f++],r[2]=l[f++],r[1]=l[f++],r[0]=l[f++];var p=o[0]+4,g=new Uint8Array(p);g[0]=l[f++],g[1]=l[f++],g[2]=l[f++],g[3]=l[f++];var v=String.fromCharCode(g[0])+String.fromCharCode(g[1])+String.fromCharCode(g[2])+String.fromCharCode(g[3]);if(!u.length&&v!=="IHDR")throw new Error("IHDR header missing");if(v==="IEND"){d=!0,u.push({name:v,data:new Uint8Array(0)});break}for(var c=4;c<p;c++)g[c]=l[f++];r[3]=l[f++],r[2]=l[f++],r[1]=l[f++],r[0]=l[f++];var h=a[0],m=n.buf(g);if(m!==h)throw new Error("CRC values for "+v+" header do not match, PNG file is likely corrupted");var U=new Uint8Array(g.buffer.slice(4));u.push({name:v,data:U})}if(!d)throw new Error(".png file ended prematurely: no IEND header was found");return u}}),Vxe=Mn((e,t)=>{N(),t.exports=n;function n(r,a){if(r=String(r),a=String(a),!/^[\x00-\xFF]+$/.test(r)||!/^[\x00-\xFF]+$/.test(a))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(r.length>=80)throw new Error('Keyword "'+r+'" is longer than the 79-character limit imposed by the PNG specification');for(var o=r.length+a.length+1,s=new Uint8Array(o),l=0,d,u=0;u<r.length;u++){if(!(d=r.charCodeAt(u)))throw new Error("0x00 character is not permitted in tEXt keywords");s[l++]=d}s[l++]=0;for(var f=0;f<a.length;f++){if(!(d=a.charCodeAt(f)))throw new Error("0x00 character is not permitted in tEXt content");s[l++]=d}return{name:"tEXt",data:s}}}),Yxe=Mn((e,t)=>{N(),t.exports=n;function n(r){r.data&&r.name&&(r=r.data);for(var a=!0,o="",s="",l=0;l<r.length;l++){var d=r[l];if(a)d?s+=String.fromCharCode(d):a=!1;else if(d)o+=String.fromCharCode(d);else throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content")}return{keyword:s,text:o}}}),Kxe=Mn(e=>{N(),e.encode=Vxe(),e.decode=Yxe()}),Xxe=Mn((e,t)=>{N(),t.exports=function(n,r,a){var o=[],s=n.length;if(s===0)return o;var l=r<0?Math.max(0,r+s):r||0;for(a!==void 0&&(s=a<0?a+s:a);s-- >l;)o[s-l]=n[s];return o}}),Zxe=Mn((e,t)=>{N();var n=Xxe(),r=JX();t.exports=l;var a=new Uint8Array(4),o=new Int32Array(a.buffer),s=new Uint32Array(a.buffer);function l(d){var u=8,f=u,p;for(p=0;p<d.length;p++)u+=d[p].data.length,u+=12;var g=new Uint8Array(u);for(g[0]=137,g[1]=80,g[2]=78,g[3]=71,g[4]=13,g[5]=10,g[6]=26,g[7]=10,p=0;p<d.length;p++){var v=d[p],c=v.name,h=v.data,m=h.length,U=[c.charCodeAt(0),c.charCodeAt(1),c.charCodeAt(2),c.charCodeAt(3)];s[0]=m,g[f++]=a[3],g[f++]=a[2],g[f++]=a[1],g[f++]=a[0],g[f++]=U[0],g[f++]=U[1],g[f++]=U[2],g[f++]=U[3];for(var b=0;b<m;)g[f++]=h[b++];var w=U.concat(n(h)),E=r.buf(w);o[0]=E,g[f++]=a[3],g[f++]=a[2],g[f++]=a[1],g[f++]=a[0]}return g}}),rp=Mn(e=>{N();var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(o,s){return Object.prototype.hasOwnProperty.call(o,s)}e.assign=function(o){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var l=s.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var d in l)n(l,d)&&(o[d]=l[d])}}return o},e.shrinkBuf=function(o,s){return o.length===s?o:o.subarray?o.subarray(0,s):(o.length=s,o)};var r={arraySet:function(o,s,l,d,u){if(s.subarray&&o.subarray){o.set(s.subarray(l,l+d),u);return}for(var f=0;f<d;f++)o[u+f]=s[l+f]},flattenChunks:function(o){var s,l,d,u,f,p;for(d=0,s=0,l=o.length;s<l;s++)d+=o[s].length;for(p=new Uint8Array(d),u=0,s=0,l=o.length;s<l;s++)f=o[s],p.set(f,u),u+=f.length;return p}},a={arraySet:function(o,s,l,d,u){for(var f=0;f<d;f++)o[u+f]=s[l+f]},flattenChunks:function(o){return[].concat.apply([],o)}};e.setTyped=function(o){o?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(t)}),qxe=Mn(e=>{N();var t=rp(),n=4,r=0,a=1,o=2;function s(X){for(var Ve=X.length;--Ve>=0;)X[Ve]=0}var l=0,d=1,u=2,f=3,p=258,g=29,v=256,c=v+1+g,h=30,m=19,U=2*c+1,b=15,w=16,E=7,x=256,C=16,I=17,S=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=512,re=new Array((c+2)*2);s(re);var J=new Array(h*2);s(J);var H=new Array(j);s(H);var ne=new Array(p-f+1);s(ne);var Z=new Array(g);s(Z);var se=new Array(h);s(se);function O(X,Ve,rt,At,pe){this.static_tree=X,this.extra_bits=Ve,this.extra_base=rt,this.elems=At,this.max_length=pe,this.has_stree=X&&X.length}var V,de,oe;function me(X,Ve){this.dyn_tree=X,this.max_code=0,this.stat_desc=Ve}function ve(X){return X<256?H[X]:H[256+(X>>>7)]}function xe(X,Ve){X.pending_buf[X.pending++]=Ve&255,X.pending_buf[X.pending++]=Ve>>>8&255}function le(X,Ve,rt){X.bi_valid>w-rt?(X.bi_buf|=Ve<<X.bi_valid&65535,xe(X,X.bi_buf),X.bi_buf=Ve>>w-X.bi_valid,X.bi_valid+=rt-w):(X.bi_buf|=Ve<<X.bi_valid&65535,X.bi_valid+=rt)}function he(X,Ve,rt){le(X,rt[Ve*2],rt[Ve*2+1])}function ge(X,Ve){var rt=0;do rt|=X&1,X>>>=1,rt<<=1;while(--Ve>0);return rt>>>1}function Ee(X){X.bi_valid===16?(xe(X,X.bi_buf),X.bi_buf=0,X.bi_valid=0):X.bi_valid>=8&&(X.pending_buf[X.pending++]=X.bi_buf&255,X.bi_buf>>=8,X.bi_valid-=8)}function ze(X,Ve){var rt=Ve.dyn_tree,At=Ve.max_code,pe=Ve.stat_desc.static_tree,Pe=Ve.stat_desc.has_stree,z=Ve.stat_desc.extra_bits,nt=Ve.stat_desc.extra_base,Yt=Ve.stat_desc.max_length,T,Be,Le,G,ue,ke,Dt=0;for(G=0;G<=b;G++)X.bl_count[G]=0;for(rt[X.heap[X.heap_max]*2+1]=0,T=X.heap_max+1;T<U;T++)Be=X.heap[T],G=rt[rt[Be*2+1]*2+1]+1,G>Yt&&(G=Yt,Dt++),rt[Be*2+1]=G,!(Be>At)&&(X.bl_count[G]++,ue=0,Be>=nt&&(ue=z[Be-nt]),ke=rt[Be*2],X.opt_len+=ke*(G+ue),Pe&&(X.static_len+=ke*(pe[Be*2+1]+ue)));if(Dt!==0){do{for(G=Yt-1;X.bl_count[G]===0;)G--;X.bl_count[G]--,X.bl_count[G+1]+=2,X.bl_count[Yt]--,Dt-=2}while(Dt>0);for(G=Yt;G!==0;G--)for(Be=X.bl_count[G];Be!==0;)Le=X.heap[--T],!(Le>At)&&(rt[Le*2+1]!==G&&(X.opt_len+=(G-rt[Le*2+1])*rt[Le*2],rt[Le*2+1]=G),Be--)}}function at(X,Ve,rt){var At=new Array(b+1),pe=0,Pe,z;for(Pe=1;Pe<=b;Pe++)At[Pe]=pe=pe+rt[Pe-1]<<1;for(z=0;z<=Ve;z++){var nt=X[z*2+1];nt!==0&&(X[z*2]=ge(At[nt]++,nt))}}function q(){var X,Ve,rt,At,pe,Pe=new Array(b+1);for(rt=0,At=0;At<g-1;At++)for(Z[At]=rt,X=0;X<1<<M[At];X++)ne[rt++]=At;for(ne[rt-1]=At,pe=0,At=0;At<16;At++)for(se[At]=pe,X=0;X<1<<R[At];X++)H[pe++]=At;for(pe>>=7;At<h;At++)for(se[At]=pe<<7,X=0;X<1<<R[At]-7;X++)H[256+pe++]=At;for(Ve=0;Ve<=b;Ve++)Pe[Ve]=0;for(X=0;X<=143;)re[X*2+1]=8,X++,Pe[8]++;for(;X<=255;)re[X*2+1]=9,X++,Pe[9]++;for(;X<=279;)re[X*2+1]=7,X++,Pe[7]++;for(;X<=287;)re[X*2+1]=8,X++,Pe[8]++;for(at(re,c+1,Pe),X=0;X<h;X++)J[X*2+1]=5,J[X*2]=ge(X,5);V=new O(re,M,v+1,c,b),de=new O(J,R,0,h,b),oe=new O(new Array(0),D,0,m,E)}function ae(X){var Ve;for(Ve=0;Ve<c;Ve++)X.dyn_ltree[Ve*2]=0;for(Ve=0;Ve<h;Ve++)X.dyn_dtree[Ve*2]=0;for(Ve=0;Ve<m;Ve++)X.bl_tree[Ve*2]=0;X.dyn_ltree[x*2]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function Ae(X){X.bi_valid>8?xe(X,X.bi_buf):X.bi_valid>0&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function $e(X,Ve,rt,At){Ae(X),xe(X,rt),xe(X,~rt),t.arraySet(X.pending_buf,X.window,Ve,rt,X.pending),X.pending+=rt}function Ce(X,Ve,rt,At){var pe=Ve*2,Pe=rt*2;return X[pe]<X[Pe]||X[pe]===X[Pe]&&At[Ve]<=At[rt]}function je(X,Ve,rt){for(var At=X.heap[rt],pe=rt<<1;pe<=X.heap_len&&(pe<X.heap_len&&Ce(Ve,X.heap[pe+1],X.heap[pe],X.depth)&&pe++,!Ce(Ve,At,X.heap[pe],X.depth));)X.heap[rt]=X.heap[pe],rt=pe,pe<<=1;X.heap[rt]=At}function Oe(X,Ve,rt){var At,pe,Pe=0,z,nt;if(X.last_lit!==0)do At=X.pending_buf[X.d_buf+Pe*2]<<8|X.pending_buf[X.d_buf+Pe*2+1],pe=X.pending_buf[X.l_buf+Pe],Pe++,At===0?he(X,pe,Ve):(z=ne[pe],he(X,z+v+1,Ve),nt=M[z],nt!==0&&(pe-=Z[z],le(X,pe,nt)),At--,z=ve(At),he(X,z,rt),nt=R[z],nt!==0&&(At-=se[z],le(X,At,nt)));while(Pe<X.last_lit);he(X,x,Ve)}function Ke(X,Ve){var rt=Ve.dyn_tree,At=Ve.stat_desc.static_tree,pe=Ve.stat_desc.has_stree,Pe=Ve.stat_desc.elems,z,nt,Yt=-1,T;for(X.heap_len=0,X.heap_max=U,z=0;z<Pe;z++)rt[z*2]!==0?(X.heap[++X.heap_len]=Yt=z,X.depth[z]=0):rt[z*2+1]=0;for(;X.heap_len<2;)T=X.heap[++X.heap_len]=Yt<2?++Yt:0,rt[T*2]=1,X.depth[T]=0,X.opt_len--,pe&&(X.static_len-=At[T*2+1]);for(Ve.max_code=Yt,z=X.heap_len>>1;z>=1;z--)je(X,rt,z);T=Pe;do z=X.heap[1],X.heap[1]=X.heap[X.heap_len--],je(X,rt,1),nt=X.heap[1],X.heap[--X.heap_max]=z,X.heap[--X.heap_max]=nt,rt[T*2]=rt[z*2]+rt[nt*2],X.depth[T]=(X.depth[z]>=X.depth[nt]?X.depth[z]:X.depth[nt])+1,rt[z*2+1]=rt[nt*2+1]=T,X.heap[1]=T++,je(X,rt,1);while(X.heap_len>=2);X.heap[--X.heap_max]=X.heap[1],ze(X,Ve),at(rt,Yt,X.bl_count)}function qe(X,Ve,rt){var At,pe=-1,Pe,z=Ve[0*2+1],nt=0,Yt=7,T=4;for(z===0&&(Yt=138,T=3),Ve[(rt+1)*2+1]=65535,At=0;At<=rt;At++)Pe=z,z=Ve[(At+1)*2+1],!(++nt<Yt&&Pe===z)&&(nt<T?X.bl_tree[Pe*2]+=nt:Pe!==0?(Pe!==pe&&X.bl_tree[Pe*2]++,X.bl_tree[C*2]++):nt<=10?X.bl_tree[I*2]++:X.bl_tree[S*2]++,nt=0,pe=Pe,z===0?(Yt=138,T=3):Pe===z?(Yt=6,T=3):(Yt=7,T=4))}function We(X,Ve,rt){var At,pe=-1,Pe,z=Ve[0*2+1],nt=0,Yt=7,T=4;for(z===0&&(Yt=138,T=3),At=0;At<=rt;At++)if(Pe=z,z=Ve[(At+1)*2+1],!(++nt<Yt&&Pe===z)){if(nt<T)do he(X,Pe,X.bl_tree);while(--nt!==0);else Pe!==0?(Pe!==pe&&(he(X,Pe,X.bl_tree),nt--),he(X,C,X.bl_tree),le(X,nt-3,2)):nt<=10?(he(X,I,X.bl_tree),le(X,nt-3,3)):(he(X,S,X.bl_tree),le(X,nt-11,7));nt=0,pe=Pe,z===0?(Yt=138,T=3):Pe===z?(Yt=6,T=3):(Yt=7,T=4)}}function vt(X){var Ve;for(qe(X,X.dyn_ltree,X.l_desc.max_code),qe(X,X.dyn_dtree,X.d_desc.max_code),Ke(X,X.bl_desc),Ve=m-1;Ve>=3&&X.bl_tree[L[Ve]*2+1]===0;Ve--);return X.opt_len+=3*(Ve+1)+5+5+4,Ve}function _e(X,Ve,rt,At){var pe;for(le(X,Ve-257,5),le(X,rt-1,5),le(X,At-4,4),pe=0;pe<At;pe++)le(X,X.bl_tree[L[pe]*2+1],3);We(X,X.dyn_ltree,Ve-1),We(X,X.dyn_dtree,rt-1)}function it(X){var Ve=4093624447,rt;for(rt=0;rt<=31;rt++,Ve>>>=1)if(Ve&1&&X.dyn_ltree[rt*2]!==0)return r;if(X.dyn_ltree[9*2]!==0||X.dyn_ltree[10*2]!==0||X.dyn_ltree[13*2]!==0)return a;for(rt=32;rt<v;rt++)if(X.dyn_ltree[rt*2]!==0)return a;return r}var St=!1;function Gt(X){St||(q(),St=!0),X.l_desc=new me(X.dyn_ltree,V),X.d_desc=new me(X.dyn_dtree,de),X.bl_desc=new me(X.bl_tree,oe),X.bi_buf=0,X.bi_valid=0,ae(X)}function nn(X,Ve,rt,At){le(X,(l<<1)+(At?1:0),3),$e(X,Ve,rt)}function Zt(X){le(X,d<<1,3),he(X,x,re),Ee(X)}function ur(X,Ve,rt,At){var pe,Pe,z=0;X.level>0?(X.strm.data_type===o&&(X.strm.data_type=it(X)),Ke(X,X.l_desc),Ke(X,X.d_desc),z=vt(X),pe=X.opt_len+3+7>>>3,Pe=X.static_len+3+7>>>3,Pe<=pe&&(pe=Pe)):pe=Pe=rt+5,rt+4<=pe&&Ve!==-1?nn(X,Ve,rt,At):X.strategy===n||Pe===pe?(le(X,(d<<1)+(At?1:0),3),Oe(X,re,J)):(le(X,(u<<1)+(At?1:0),3),_e(X,X.l_desc.max_code+1,X.d_desc.max_code+1,z+1),Oe(X,X.dyn_ltree,X.dyn_dtree)),ae(X),At&&Ae(X)}function gr(X,Ve,rt){return X.pending_buf[X.d_buf+X.last_lit*2]=Ve>>>8&255,X.pending_buf[X.d_buf+X.last_lit*2+1]=Ve&255,X.pending_buf[X.l_buf+X.last_lit]=rt&255,X.last_lit++,Ve===0?X.dyn_ltree[rt*2]++:(X.matches++,Ve--,X.dyn_ltree[(ne[rt]+v+1)*2]++,X.dyn_dtree[ve(Ve)*2]++),X.last_lit===X.lit_bufsize-1}e._tr_init=Gt,e._tr_stored_block=nn,e._tr_flush_block=ur,e._tr_tally=gr,e._tr_align=Zt}),eZ=Mn((e,t)=>{N();function n(r,a,o,s){for(var l=r&65535|0,d=r>>>16&65535|0,u=0;o!==0;){u=o>2e3?2e3:o,o-=u;do l=l+a[s++]|0,d=d+l|0;while(--u);l%=65521,d%=65521}return l|d<<16|0}t.exports=n}),tZ=Mn((e,t)=>{N();function n(){for(var o,s=[],l=0;l<256;l++){o=l;for(var d=0;d<8;d++)o=o&1?3988292384^o>>>1:o>>>1;s[l]=o}return s}var r=n();function a(o,s,l,d){var u=r,f=d+l;o^=-1;for(var p=d;p<f;p++)o=o>>>8^u[(o^s[p])&255];return o^-1}t.exports=a}),MM=Mn((e,t)=>{N(),t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}}),Jxe=Mn(e=>{N();var t=rp(),n=qxe(),r=eZ(),a=tZ(),o=MM(),s=0,l=1,d=3,u=4,f=5,p=0,g=1,v=-2,c=-3,h=-5,m=-1,U=1,b=2,w=3,E=4,x=0,C=2,I=8,S=9,M=15,R=8,D=29,L=256,j=L+1+D,re=30,J=19,H=2*j+1,ne=15,Z=3,se=258,O=se+Z+1,V=32,de=42,oe=69,me=73,ve=91,xe=103,le=113,he=666,ge=1,Ee=2,ze=3,at=4,q=3;function ae(T,Be){return T.msg=o[Be],Be}function Ae(T){return(T<<1)-(T>4?9:0)}function $e(T){for(var Be=T.length;--Be>=0;)T[Be]=0}function Ce(T){var Be=T.state,Le=Be.pending;Le>T.avail_out&&(Le=T.avail_out),Le!==0&&(t.arraySet(T.output,Be.pending_buf,Be.pending_out,Le,T.next_out),T.next_out+=Le,Be.pending_out+=Le,T.total_out+=Le,T.avail_out-=Le,Be.pending-=Le,Be.pending===0&&(Be.pending_out=0))}function je(T,Be){n._tr_flush_block(T,T.block_start>=0?T.block_start:-1,T.strstart-T.block_start,Be),T.block_start=T.strstart,Ce(T.strm)}function Oe(T,Be){T.pending_buf[T.pending++]=Be}function Ke(T,Be){T.pending_buf[T.pending++]=Be>>>8&255,T.pending_buf[T.pending++]=Be&255}function qe(T,Be,Le,G){var ue=T.avail_in;return ue>G&&(ue=G),ue===0?0:(T.avail_in-=ue,t.arraySet(Be,T.input,T.next_in,ue,Le),T.state.wrap===1?T.adler=r(T.adler,Be,ue,Le):T.state.wrap===2&&(T.adler=a(T.adler,Be,ue,Le)),T.next_in+=ue,T.total_in+=ue,ue)}function We(T,Be){var Le=T.max_chain_length,G=T.strstart,ue,ke,Dt=T.prev_length,wt=T.nice_match,It=T.strstart>T.w_size-O?T.strstart-(T.w_size-O):0,_n=T.window,Jo=T.w_mask,jr=T.prev,wn=T.strstart+se,Ai=_n[G+Dt-1],ia=_n[G+Dt];T.prev_length>=T.good_match&&(Le>>=2),wt>T.lookahead&&(wt=T.lookahead);do if(ue=Be,!(_n[ue+Dt]!==ia||_n[ue+Dt-1]!==Ai||_n[ue]!==_n[G]||_n[++ue]!==_n[G+1])){G+=2,ue++;do;while(_n[++G]===_n[++ue]&&_n[++G]===_n[++ue]&&_n[++G]===_n[++ue]&&_n[++G]===_n[++ue]&&_n[++G]===_n[++ue]&&_n[++G]===_n[++ue]&&_n[++G]===_n[++ue]&&_n[++G]===_n[++ue]&&G<wn);if(ke=se-(wn-G),G=wn-se,ke>Dt){if(T.match_start=Be,Dt=ke,ke>=wt)break;Ai=_n[G+Dt-1],ia=_n[G+Dt]}}while((Be=jr[Be&Jo])>It&&--Le!==0);return Dt<=T.lookahead?Dt:T.lookahead}function vt(T){var Be=T.w_size,Le,G,ue,ke,Dt;do{if(ke=T.window_size-T.lookahead-T.strstart,T.strstart>=Be+(Be-O)){t.arraySet(T.window,T.window,Be,Be,0),T.match_start-=Be,T.strstart-=Be,T.block_start-=Be,G=T.hash_size,Le=G;do ue=T.head[--Le],T.head[Le]=ue>=Be?ue-Be:0;while(--G);G=Be,Le=G;do ue=T.prev[--Le],T.prev[Le]=ue>=Be?ue-Be:0;while(--G);ke+=Be}if(T.strm.avail_in===0)break;if(G=qe(T.strm,T.window,T.strstart+T.lookahead,ke),T.lookahead+=G,T.lookahead+T.insert>=Z)for(Dt=T.strstart-T.insert,T.ins_h=T.window[Dt],T.ins_h=(T.ins_h<<T.hash_shift^T.window[Dt+1])&T.hash_mask;T.insert&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[Dt+Z-1])&T.hash_mask,T.prev[Dt&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=Dt,Dt++,T.insert--,!(T.lookahead+T.insert<Z)););}while(T.lookahead<O&&T.strm.avail_in!==0)}function _e(T,Be){var Le=65535;for(Le>T.pending_buf_size-5&&(Le=T.pending_buf_size-5);;){if(T.lookahead<=1){if(vt(T),T.lookahead===0&&Be===s)return ge;if(T.lookahead===0)break}T.strstart+=T.lookahead,T.lookahead=0;var G=T.block_start+Le;if((T.strstart===0||T.strstart>=G)&&(T.lookahead=T.strstart-G,T.strstart=G,je(T,!1),T.strm.avail_out===0)||T.strstart-T.block_start>=T.w_size-O&&(je(T,!1),T.strm.avail_out===0))return ge}return T.insert=0,Be===u?(je(T,!0),T.strm.avail_out===0?ze:at):(T.strstart>T.block_start&&(je(T,!1),T.strm.avail_out),ge)}function it(T,Be){for(var Le,G;;){if(T.lookahead<O){if(vt(T),T.lookahead<O&&Be===s)return ge;if(T.lookahead===0)break}if(Le=0,T.lookahead>=Z&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+Z-1])&T.hash_mask,Le=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),Le!==0&&T.strstart-Le<=T.w_size-O&&(T.match_length=We(T,Le)),T.match_length>=Z)if(G=n._tr_tally(T,T.strstart-T.match_start,T.match_length-Z),T.lookahead-=T.match_length,T.match_length<=T.max_lazy_match&&T.lookahead>=Z){T.match_length--;do T.strstart++,T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+Z-1])&T.hash_mask,Le=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart;while(--T.match_length!==0);T.strstart++}else T.strstart+=T.match_length,T.match_length=0,T.ins_h=T.window[T.strstart],T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+1])&T.hash_mask;else G=n._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++;if(G&&(je(T,!1),T.strm.avail_out===0))return ge}return T.insert=T.strstart<Z-1?T.strstart:Z-1,Be===u?(je(T,!0),T.strm.avail_out===0?ze:at):T.last_lit&&(je(T,!1),T.strm.avail_out===0)?ge:Ee}function St(T,Be){for(var Le,G,ue;;){if(T.lookahead<O){if(vt(T),T.lookahead<O&&Be===s)return ge;if(T.lookahead===0)break}if(Le=0,T.lookahead>=Z&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+Z-1])&T.hash_mask,Le=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),T.prev_length=T.match_length,T.prev_match=T.match_start,T.match_length=Z-1,Le!==0&&T.prev_length<T.max_lazy_match&&T.strstart-Le<=T.w_size-O&&(T.match_length=We(T,Le),T.match_length<=5&&(T.strategy===U||T.match_length===Z&&T.strstart-T.match_start>4096)&&(T.match_length=Z-1)),T.prev_length>=Z&&T.match_length<=T.prev_length){ue=T.strstart+T.lookahead-Z,G=n._tr_tally(T,T.strstart-1-T.prev_match,T.prev_length-Z),T.lookahead-=T.prev_length-1,T.prev_length-=2;do++T.strstart<=ue&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+Z-1])&T.hash_mask,Le=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart);while(--T.prev_length!==0);if(T.match_available=0,T.match_length=Z-1,T.strstart++,G&&(je(T,!1),T.strm.avail_out===0))return ge}else if(T.match_available){if(G=n._tr_tally(T,0,T.window[T.strstart-1]),G&&je(T,!1),T.strstart++,T.lookahead--,T.strm.avail_out===0)return ge}else T.match_available=1,T.strstart++,T.lookahead--}return T.match_available&&(G=n._tr_tally(T,0,T.window[T.strstart-1]),T.match_available=0),T.insert=T.strstart<Z-1?T.strstart:Z-1,Be===u?(je(T,!0),T.strm.avail_out===0?ze:at):T.last_lit&&(je(T,!1),T.strm.avail_out===0)?ge:Ee}function Gt(T,Be){for(var Le,G,ue,ke,Dt=T.window;;){if(T.lookahead<=se){if(vt(T),T.lookahead<=se&&Be===s)return ge;if(T.lookahead===0)break}if(T.match_length=0,T.lookahead>=Z&&T.strstart>0&&(ue=T.strstart-1,G=Dt[ue],G===Dt[++ue]&&G===Dt[++ue]&&G===Dt[++ue])){ke=T.strstart+se;do;while(G===Dt[++ue]&&G===Dt[++ue]&&G===Dt[++ue]&&G===Dt[++ue]&&G===Dt[++ue]&&G===Dt[++ue]&&G===Dt[++ue]&&G===Dt[++ue]&&ue<ke);T.match_length=se-(ke-ue),T.match_length>T.lookahead&&(T.match_length=T.lookahead)}if(T.match_length>=Z?(Le=n._tr_tally(T,1,T.match_length-Z),T.lookahead-=T.match_length,T.strstart+=T.match_length,T.match_length=0):(Le=n._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++),Le&&(je(T,!1),T.strm.avail_out===0))return ge}return T.insert=0,Be===u?(je(T,!0),T.strm.avail_out===0?ze:at):T.last_lit&&(je(T,!1),T.strm.avail_out===0)?ge:Ee}function nn(T,Be){for(var Le;;){if(T.lookahead===0&&(vt(T),T.lookahead===0)){if(Be===s)return ge;break}if(T.match_length=0,Le=n._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++,Le&&(je(T,!1),T.strm.avail_out===0))return ge}return T.insert=0,Be===u?(je(T,!0),T.strm.avail_out===0?ze:at):T.last_lit&&(je(T,!1),T.strm.avail_out===0)?ge:Ee}function Zt(T,Be,Le,G,ue){this.good_length=T,this.max_lazy=Be,this.nice_length=Le,this.max_chain=G,this.func=ue}var ur;ur=[new Zt(0,0,0,0,_e),new Zt(4,4,8,4,it),new Zt(4,5,16,8,it),new Zt(4,6,32,32,it),new Zt(4,4,16,16,St),new Zt(8,16,32,32,St),new Zt(8,16,128,128,St),new Zt(8,32,128,256,St),new Zt(32,128,258,1024,St),new Zt(32,258,258,4096,St)];function gr(T){T.window_size=2*T.w_size,$e(T.head),T.max_lazy_match=ur[T.level].max_lazy,T.good_match=ur[T.level].good_length,T.nice_match=ur[T.level].nice_length,T.max_chain_length=ur[T.level].max_chain,T.strstart=0,T.block_start=0,T.lookahead=0,T.insert=0,T.match_length=T.prev_length=Z-1,T.match_available=0,T.ins_h=0}function X(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new t.Buf16(H*2),this.dyn_dtree=new t.Buf16((2*re+1)*2),this.bl_tree=new t.Buf16((2*J+1)*2),$e(this.dyn_ltree),$e(this.dyn_dtree),$e(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new t.Buf16(ne+1),this.heap=new t.Buf16(2*j+1),$e(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new t.Buf16(2*j+1),$e(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ve(T){var Be;return!T||!T.state?ae(T,v):(T.total_in=T.total_out=0,T.data_type=C,Be=T.state,Be.pending=0,Be.pending_out=0,Be.wrap<0&&(Be.wrap=-Be.wrap),Be.status=Be.wrap?de:le,T.adler=Be.wrap===2?0:1,Be.last_flush=s,n._tr_init(Be),p)}function rt(T){var Be=Ve(T);return Be===p&&gr(T.state),Be}function At(T,Be){return!T||!T.state||T.state.wrap!==2?v:(T.state.gzhead=Be,p)}function pe(T,Be,Le,G,ue,ke){if(!T)return v;var Dt=1;if(Be===m&&(Be=6),G<0?(Dt=0,G=-G):G>15&&(Dt=2,G-=16),ue<1||ue>S||Le!==I||G<8||G>15||Be<0||Be>9||ke<0||ke>E)return ae(T,v);G===8&&(G=9);var wt=new X;return T.state=wt,wt.strm=T,wt.wrap=Dt,wt.gzhead=null,wt.w_bits=G,wt.w_size=1<<wt.w_bits,wt.w_mask=wt.w_size-1,wt.hash_bits=ue+7,wt.hash_size=1<<wt.hash_bits,wt.hash_mask=wt.hash_size-1,wt.hash_shift=~~((wt.hash_bits+Z-1)/Z),wt.window=new t.Buf8(wt.w_size*2),wt.head=new t.Buf16(wt.hash_size),wt.prev=new t.Buf16(wt.w_size),wt.lit_bufsize=1<<ue+6,wt.pending_buf_size=wt.lit_bufsize*4,wt.pending_buf=new t.Buf8(wt.pending_buf_size),wt.d_buf=1*wt.lit_bufsize,wt.l_buf=3*wt.lit_bufsize,wt.level=Be,wt.strategy=ke,wt.method=Le,rt(T)}function Pe(T,Be){return pe(T,Be,I,M,R,x)}function z(T,Be){var Le,G,ue,ke;if(!T||!T.state||Be>f||Be<0)return T?ae(T,v):v;if(G=T.state,!T.output||!T.input&&T.avail_in!==0||G.status===he&&Be!==u)return ae(T,T.avail_out===0?h:v);if(G.strm=T,Le=G.last_flush,G.last_flush=Be,G.status===de)if(G.wrap===2)T.adler=0,Oe(G,31),Oe(G,139),Oe(G,8),G.gzhead?(Oe(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),Oe(G,G.gzhead.time&255),Oe(G,G.gzhead.time>>8&255),Oe(G,G.gzhead.time>>16&255),Oe(G,G.gzhead.time>>24&255),Oe(G,G.level===9?2:G.strategy>=b||G.level<2?4:0),Oe(G,G.gzhead.os&255),G.gzhead.extra&&G.gzhead.extra.length&&(Oe(G,G.gzhead.extra.length&255),Oe(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(T.adler=a(T.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=oe):(Oe(G,0),Oe(G,0),Oe(G,0),Oe(G,0),Oe(G,0),Oe(G,G.level===9?2:G.strategy>=b||G.level<2?4:0),Oe(G,q),G.status=le);else{var Dt=I+(G.w_bits-8<<4)<<8,wt=-1;G.strategy>=b||G.level<2?wt=0:G.level<6?wt=1:G.level===6?wt=2:wt=3,Dt|=wt<<6,G.strstart!==0&&(Dt|=V),Dt+=31-Dt%31,G.status=le,Ke(G,Dt),G.strstart!==0&&(Ke(G,T.adler>>>16),Ke(G,T.adler&65535)),T.adler=1}if(G.status===oe)if(G.gzhead.extra){for(ue=G.pending;G.gzindex<(G.gzhead.extra.length&65535)&&!(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>ue&&(T.adler=a(T.adler,G.pending_buf,G.pending-ue,ue)),Ce(T),ue=G.pending,G.pending===G.pending_buf_size));)Oe(G,G.gzhead.extra[G.gzindex]&255),G.gzindex++;G.gzhead.hcrc&&G.pending>ue&&(T.adler=a(T.adler,G.pending_buf,G.pending-ue,ue)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=me)}else G.status=me;if(G.status===me)if(G.gzhead.name){ue=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>ue&&(T.adler=a(T.adler,G.pending_buf,G.pending-ue,ue)),Ce(T),ue=G.pending,G.pending===G.pending_buf_size)){ke=1;break}G.gzindex<G.gzhead.name.length?ke=G.gzhead.name.charCodeAt(G.gzindex++)&255:ke=0,Oe(G,ke)}while(ke!==0);G.gzhead.hcrc&&G.pending>ue&&(T.adler=a(T.adler,G.pending_buf,G.pending-ue,ue)),ke===0&&(G.gzindex=0,G.status=ve)}else G.status=ve;if(G.status===ve)if(G.gzhead.comment){ue=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>ue&&(T.adler=a(T.adler,G.pending_buf,G.pending-ue,ue)),Ce(T),ue=G.pending,G.pending===G.pending_buf_size)){ke=1;break}G.gzindex<G.gzhead.comment.length?ke=G.gzhead.comment.charCodeAt(G.gzindex++)&255:ke=0,Oe(G,ke)}while(ke!==0);G.gzhead.hcrc&&G.pending>ue&&(T.adler=a(T.adler,G.pending_buf,G.pending-ue,ue)),ke===0&&(G.status=xe)}else G.status=xe;if(G.status===xe&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&Ce(T),G.pending+2<=G.pending_buf_size&&(Oe(G,T.adler&255),Oe(G,T.adler>>8&255),T.adler=0,G.status=le)):G.status=le),G.pending!==0){if(Ce(T),T.avail_out===0)return G.last_flush=-1,p}else if(T.avail_in===0&&Ae(Be)<=Ae(Le)&&Be!==u)return ae(T,h);if(G.status===he&&T.avail_in!==0)return ae(T,h);if(T.avail_in!==0||G.lookahead!==0||Be!==s&&G.status!==he){var It=G.strategy===b?nn(G,Be):G.strategy===w?Gt(G,Be):ur[G.level].func(G,Be);if((It===ze||It===at)&&(G.status=he),It===ge||It===ze)return T.avail_out===0&&(G.last_flush=-1),p;if(It===Ee&&(Be===l?n._tr_align(G):Be!==f&&(n._tr_stored_block(G,0,0,!1),Be===d&&($e(G.head),G.lookahead===0&&(G.strstart=0,G.block_start=0,G.insert=0))),Ce(T),T.avail_out===0))return G.last_flush=-1,p}return Be!==u?p:G.wrap<=0?g:(G.wrap===2?(Oe(G,T.adler&255),Oe(G,T.adler>>8&255),Oe(G,T.adler>>16&255),Oe(G,T.adler>>24&255),Oe(G,T.total_in&255),Oe(G,T.total_in>>8&255),Oe(G,T.total_in>>16&255),Oe(G,T.total_in>>24&255)):(Ke(G,T.adler>>>16),Ke(G,T.adler&65535)),Ce(T),G.wrap>0&&(G.wrap=-G.wrap),G.pending!==0?p:g)}function nt(T){var Be;return!T||!T.state?v:(Be=T.state.status,Be!==de&&Be!==oe&&Be!==me&&Be!==ve&&Be!==xe&&Be!==le&&Be!==he?ae(T,v):(T.state=null,Be===le?ae(T,c):p))}function Yt(T,Be){var Le=Be.length,G,ue,ke,Dt,wt,It,_n,Jo;if(!T||!T.state||(G=T.state,Dt=G.wrap,Dt===2||Dt===1&&G.status!==de||G.lookahead))return v;for(Dt===1&&(T.adler=r(T.adler,Be,Le,0)),G.wrap=0,Le>=G.w_size&&(Dt===0&&($e(G.head),G.strstart=0,G.block_start=0,G.insert=0),Jo=new t.Buf8(G.w_size),t.arraySet(Jo,Be,Le-G.w_size,G.w_size,0),Be=Jo,Le=G.w_size),wt=T.avail_in,It=T.next_in,_n=T.input,T.avail_in=Le,T.next_in=0,T.input=Be,vt(G);G.lookahead>=Z;){ue=G.strstart,ke=G.lookahead-(Z-1);do G.ins_h=(G.ins_h<<G.hash_shift^G.window[ue+Z-1])&G.hash_mask,G.prev[ue&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=ue,ue++;while(--ke);G.strstart=ue,G.lookahead=Z-1,vt(G)}return G.strstart+=G.lookahead,G.block_start=G.strstart,G.insert=G.lookahead,G.lookahead=0,G.match_length=G.prev_length=Z-1,G.match_available=0,T.next_in=It,T.input=_n,T.avail_in=wt,G.wrap=Dt,p}e.deflateInit=Pe,e.deflateInit2=pe,e.deflateReset=rt,e.deflateResetKeep=Ve,e.deflateSetHeader=At,e.deflate=z,e.deflateEnd=nt,e.deflateSetDictionary=Yt,e.deflateInfo="pako deflate (from Nodeca project)"}),nZ=Mn(e=>{N();var t=rp(),n=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}var a=new t.Buf8(256);for(o=0;o<256;o++)a[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;var o;a[254]=a[254]=1,e.string2buf=function(l){var d,u,f,p,g,v=l.length,c=0;for(p=0;p<v;p++)u=l.charCodeAt(p),(u&64512)===55296&&p+1<v&&(f=l.charCodeAt(p+1),(f&64512)===56320&&(u=65536+(u-55296<<10)+(f-56320),p++)),c+=u<128?1:u<2048?2:u<65536?3:4;for(d=new t.Buf8(c),g=0,p=0;g<c;p++)u=l.charCodeAt(p),(u&64512)===55296&&p+1<v&&(f=l.charCodeAt(p+1),(f&64512)===56320&&(u=65536+(u-55296<<10)+(f-56320),p++)),u<128?d[g++]=u:u<2048?(d[g++]=192|u>>>6,d[g++]=128|u&63):u<65536?(d[g++]=224|u>>>12,d[g++]=128|u>>>6&63,d[g++]=128|u&63):(d[g++]=240|u>>>18,d[g++]=128|u>>>12&63,d[g++]=128|u>>>6&63,d[g++]=128|u&63);return d};function s(l,d){if(d<65534&&(l.subarray&&r||!l.subarray&&n))return String.fromCharCode.apply(null,t.shrinkBuf(l,d));for(var u="",f=0;f<d;f++)u+=String.fromCharCode(l[f]);return u}e.buf2binstring=function(l){return s(l,l.length)},e.binstring2buf=function(l){for(var d=new t.Buf8(l.length),u=0,f=d.length;u<f;u++)d[u]=l.charCodeAt(u);return d},e.buf2string=function(l,d){var u,f,p,g,v=d||l.length,c=new Array(v*2);for(f=0,u=0;u<v;){if(p=l[u++],p<128){c[f++]=p;continue}if(g=a[p],g>4){c[f++]=65533,u+=g-1;continue}for(p&=g===2?31:g===3?15:7;g>1&&u<v;)p=p<<6|l[u++]&63,g--;if(g>1){c[f++]=65533;continue}p<65536?c[f++]=p:(p-=65536,c[f++]=55296|p>>10&1023,c[f++]=56320|p&1023)}return s(c,f)},e.utf8border=function(l,d){var u;for(d=d||l.length,d>l.length&&(d=l.length),u=d-1;u>=0&&(l[u]&192)===128;)u--;return u<0||u===0?d:u+a[l[u]]>d?u:d}}),rZ=Mn((e,t)=>{N();function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=n}),e9e=Mn(e=>{N();var t=Jxe(),n=rp(),r=nZ(),a=MM(),o=rZ(),s=Object.prototype.toString,l=0,d=4,u=0,f=1,p=2,g=-1,v=0,c=8;function h(w){if(!(this instanceof h))return new h(w);this.options=n.assign({level:g,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},w||{});var E=this.options;E.raw&&E.windowBits>0?E.windowBits=-E.windowBits:E.gzip&&E.windowBits>0&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var x=t.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(x!==u)throw new Error(a[x]);if(E.header&&t.deflateSetHeader(this.strm,E.header),E.dictionary){var C;if(typeof E.dictionary=="string"?C=r.string2buf(E.dictionary):s.call(E.dictionary)==="[object ArrayBuffer]"?C=new Uint8Array(E.dictionary):C=E.dictionary,x=t.deflateSetDictionary(this.strm,C),x!==u)throw new Error(a[x]);this._dict_set=!0}}h.prototype.push=function(w,E){var x=this.strm,C=this.options.chunkSize,I,S;if(this.ended)return!1;S=E===~~E?E:E===!0?d:l,typeof w=="string"?x.input=r.string2buf(w):s.call(w)==="[object ArrayBuffer]"?x.input=new Uint8Array(w):x.input=w,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new n.Buf8(C),x.next_out=0,x.avail_out=C),I=t.deflate(x,S),I!==f&&I!==u)return this.onEnd(I),this.ended=!0,!1;(x.avail_out===0||x.avail_in===0&&(S===d||S===p))&&(this.options.to==="string"?this.onData(r.buf2binstring(n.shrinkBuf(x.output,x.next_out))):this.onData(n.shrinkBuf(x.output,x.next_out)))}while((x.avail_in>0||x.avail_out===0)&&I!==f);return S===d?(I=t.deflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===u):(S===p&&(this.onEnd(u),x.avail_out=0),!0)},h.prototype.onData=function(w){this.chunks.push(w)},h.prototype.onEnd=function(w){w===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg};function m(w,E){var x=new h(E);if(x.push(w,!0),x.err)throw x.msg||a[x.err];return x.result}function U(w,E){return E=E||{},E.raw=!0,m(w,E)}function b(w,E){return E=E||{},E.gzip=!0,m(w,E)}e.Deflate=h,e.deflate=m,e.deflateRaw=U,e.gzip=b}),t9e=Mn((e,t)=>{N();var n=30,r=12;t.exports=function(a,o){var s,l,d,u,f,p,g,v,c,h,m,U,b,w,E,x,C,I,S,M,R,D,L,j,re;s=a.state,l=a.next_in,j=a.input,d=l+(a.avail_in-5),u=a.next_out,re=a.output,f=u-(o-a.avail_out),p=u+(a.avail_out-257),g=s.dmax,v=s.wsize,c=s.whave,h=s.wnext,m=s.window,U=s.hold,b=s.bits,w=s.lencode,E=s.distcode,x=(1<<s.lenbits)-1,C=(1<<s.distbits)-1;e:do{b<15&&(U+=j[l++]<<b,b+=8,U+=j[l++]<<b,b+=8),I=w[U&x];t:for(;;){if(S=I>>>24,U>>>=S,b-=S,S=I>>>16&255,S===0)re[u++]=I&65535;else if(S&16){M=I&65535,S&=15,S&&(b<S&&(U+=j[l++]<<b,b+=8),M+=U&(1<<S)-1,U>>>=S,b-=S),b<15&&(U+=j[l++]<<b,b+=8,U+=j[l++]<<b,b+=8),I=E[U&C];n:for(;;){if(S=I>>>24,U>>>=S,b-=S,S=I>>>16&255,S&16){if(R=I&65535,S&=15,b<S&&(U+=j[l++]<<b,b+=8,b<S&&(U+=j[l++]<<b,b+=8)),R+=U&(1<<S)-1,R>g){a.msg="invalid distance too far back",s.mode=n;break e}if(U>>>=S,b-=S,S=u-f,R>S){if(S=R-S,S>c&&s.sane){a.msg="invalid distance too far back",s.mode=n;break e}if(D=0,L=m,h===0){if(D+=v-S,S<M){M-=S;do re[u++]=m[D++];while(--S);D=u-R,L=re}}else if(h<S){if(D+=v+h-S,S-=h,S<M){M-=S;do re[u++]=m[D++];while(--S);if(D=0,h<M){S=h,M-=S;do re[u++]=m[D++];while(--S);D=u-R,L=re}}}else if(D+=h-S,S<M){M-=S;do re[u++]=m[D++];while(--S);D=u-R,L=re}for(;M>2;)re[u++]=L[D++],re[u++]=L[D++],re[u++]=L[D++],M-=3;M&&(re[u++]=L[D++],M>1&&(re[u++]=L[D++]))}else{D=u-R;do re[u++]=re[D++],re[u++]=re[D++],re[u++]=re[D++],M-=3;while(M>2);M&&(re[u++]=re[D++],M>1&&(re[u++]=re[D++]))}}else if(S&64){a.msg="invalid distance code",s.mode=n;break e}else{I=E[(I&65535)+(U&(1<<S)-1)];continue n}break}}else if(S&64)if(S&32){s.mode=r;break e}else{a.msg="invalid literal/length code",s.mode=n;break e}else{I=w[(I&65535)+(U&(1<<S)-1)];continue t}break}}while(l<d&&u<p);M=b>>3,l-=M,b-=M<<3,U&=(1<<b)-1,a.next_in=l,a.next_out=u,a.avail_in=l<d?5+(d-l):5-(l-d),a.avail_out=u<p?257+(p-u):257-(u-p),s.hold=U,s.bits=b}}),n9e=Mn((e,t)=>{N();var n=rp(),r=15,a=852,o=592,s=0,l=1,d=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(v,c,h,m,U,b,w,E){var x=E.bits,C=0,I=0,S=0,M=0,R=0,D=0,L=0,j=0,re=0,J=0,H,ne,Z,se,O,V=null,de=0,oe,me=new n.Buf16(r+1),ve=new n.Buf16(r+1),xe=null,le=0,he,ge,Ee;for(C=0;C<=r;C++)me[C]=0;for(I=0;I<m;I++)me[c[h+I]]++;for(R=x,M=r;M>=1&&me[M]===0;M--);if(R>M&&(R=M),M===0)return U[b++]=1<<24|64<<16|0,U[b++]=1<<24|64<<16|0,E.bits=1,0;for(S=1;S<M&&me[S]===0;S++);for(R<S&&(R=S),j=1,C=1;C<=r;C++)if(j<<=1,j-=me[C],j<0)return-1;if(j>0&&(v===s||M!==1))return-1;for(ve[1]=0,C=1;C<r;C++)ve[C+1]=ve[C]+me[C];for(I=0;I<m;I++)c[h+I]!==0&&(w[ve[c[h+I]]++]=I);if(v===s?(V=xe=w,oe=19):v===l?(V=u,de-=257,xe=f,le-=257,oe=256):(V=p,xe=g,oe=-1),J=0,I=0,C=S,O=b,D=R,L=0,Z=-1,re=1<<R,se=re-1,v===l&&re>a||v===d&&re>o)return 1;for(;;){he=C-L,w[I]<oe?(ge=0,Ee=w[I]):w[I]>oe?(ge=xe[le+w[I]],Ee=V[de+w[I]]):(ge=96,Ee=0),H=1<<C-L,ne=1<<D,S=ne;do ne-=H,U[O+(J>>L)+ne]=he<<24|ge<<16|Ee|0;while(ne!==0);for(H=1<<C-1;J&H;)H>>=1;if(H!==0?(J&=H-1,J+=H):J=0,I++,--me[C]===0){if(C===M)break;C=c[h+w[I]]}if(C>R&&(J&se)!==Z){for(L===0&&(L=R),O+=S,D=C-L,j=1<<D;D+L<M&&(j-=me[D+L],!(j<=0));)D++,j<<=1;if(re+=1<<D,v===l&&re>a||v===d&&re>o)return 1;Z=J&se,U[Z]=R<<24|D<<16|O-b|0}}return J!==0&&(U[O+J]=C-L<<24|64<<16|0),E.bits=R,0}}),r9e=Mn(e=>{N();var t=rp(),n=eZ(),r=tZ(),a=t9e(),o=n9e(),s=0,l=1,d=2,u=4,f=5,p=6,g=0,v=1,c=2,h=-2,m=-3,U=-4,b=-5,w=8,E=1,x=2,C=3,I=4,S=5,M=6,R=7,D=8,L=9,j=10,re=11,J=12,H=13,ne=14,Z=15,se=16,O=17,V=18,de=19,oe=20,me=21,ve=22,xe=23,le=24,he=25,ge=26,Ee=27,ze=28,at=29,q=30,ae=31,Ae=32,$e=852,Ce=592,je=15,Oe=je;function Ke(pe){return(pe>>>24&255)+(pe>>>8&65280)+((pe&65280)<<8)+((pe&255)<<24)}function qe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new t.Buf16(320),this.work=new t.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function We(pe){var Pe;return!pe||!pe.state?h:(Pe=pe.state,pe.total_in=pe.total_out=Pe.total=0,pe.msg="",Pe.wrap&&(pe.adler=Pe.wrap&1),Pe.mode=E,Pe.last=0,Pe.havedict=0,Pe.dmax=32768,Pe.head=null,Pe.hold=0,Pe.bits=0,Pe.lencode=Pe.lendyn=new t.Buf32($e),Pe.distcode=Pe.distdyn=new t.Buf32(Ce),Pe.sane=1,Pe.back=-1,g)}function vt(pe){var Pe;return!pe||!pe.state?h:(Pe=pe.state,Pe.wsize=0,Pe.whave=0,Pe.wnext=0,We(pe))}function _e(pe,Pe){var z,nt;return!pe||!pe.state||(nt=pe.state,Pe<0?(z=0,Pe=-Pe):(z=(Pe>>4)+1,Pe<48&&(Pe&=15)),Pe&&(Pe<8||Pe>15))?h:(nt.window!==null&&nt.wbits!==Pe&&(nt.window=null),nt.wrap=z,nt.wbits=Pe,vt(pe))}function it(pe,Pe){var z,nt;return pe?(nt=new qe,pe.state=nt,nt.window=null,z=_e(pe,Pe),z!==g&&(pe.state=null),z):h}function St(pe){return it(pe,Oe)}var Gt=!0,nn,Zt;function ur(pe){if(Gt){var Pe;for(nn=new t.Buf32(512),Zt=new t.Buf32(32),Pe=0;Pe<144;)pe.lens[Pe++]=8;for(;Pe<256;)pe.lens[Pe++]=9;for(;Pe<280;)pe.lens[Pe++]=7;for(;Pe<288;)pe.lens[Pe++]=8;for(o(l,pe.lens,0,288,nn,0,pe.work,{bits:9}),Pe=0;Pe<32;)pe.lens[Pe++]=5;o(d,pe.lens,0,32,Zt,0,pe.work,{bits:5}),Gt=!1}pe.lencode=nn,pe.lenbits=9,pe.distcode=Zt,pe.distbits=5}function gr(pe,Pe,z,nt){var Yt,T=pe.state;return T.window===null&&(T.wsize=1<<T.wbits,T.wnext=0,T.whave=0,T.window=new t.Buf8(T.wsize)),nt>=T.wsize?(t.arraySet(T.window,Pe,z-T.wsize,T.wsize,0),T.wnext=0,T.whave=T.wsize):(Yt=T.wsize-T.wnext,Yt>nt&&(Yt=nt),t.arraySet(T.window,Pe,z-nt,Yt,T.wnext),nt-=Yt,nt?(t.arraySet(T.window,Pe,z-nt,nt,0),T.wnext=nt,T.whave=T.wsize):(T.wnext+=Yt,T.wnext===T.wsize&&(T.wnext=0),T.whave<T.wsize&&(T.whave+=Yt))),0}function X(pe,Pe){var z,nt,Yt,T,Be,Le,G,ue,ke,Dt,wt,It,_n,Jo,jr=0,wn,Ai,ia,Ia,s1,l1,li,go,Ni=new t.Buf8(4),Ps,Ls,Gb=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!pe||!pe.state||!pe.output||!pe.input&&pe.avail_in!==0)return h;z=pe.state,z.mode===J&&(z.mode=H),Be=pe.next_out,Yt=pe.output,G=pe.avail_out,T=pe.next_in,nt=pe.input,Le=pe.avail_in,ue=z.hold,ke=z.bits,Dt=Le,wt=G,go=g;e:for(;;)switch(z.mode){case E:if(z.wrap===0){z.mode=H;break}for(;ke<16;){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}if(z.wrap&2&&ue===35615){z.check=0,Ni[0]=ue&255,Ni[1]=ue>>>8&255,z.check=r(z.check,Ni,2,0),ue=0,ke=0,z.mode=x;break}if(z.flags=0,z.head&&(z.head.done=!1),!(z.wrap&1)||(((ue&255)<<8)+(ue>>8))%31){pe.msg="incorrect header check",z.mode=q;break}if((ue&15)!==w){pe.msg="unknown compression method",z.mode=q;break}if(ue>>>=4,ke-=4,li=(ue&15)+8,z.wbits===0)z.wbits=li;else if(li>z.wbits){pe.msg="invalid window size",z.mode=q;break}z.dmax=1<<li,pe.adler=z.check=1,z.mode=ue&512?j:J,ue=0,ke=0;break;case x:for(;ke<16;){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}if(z.flags=ue,(z.flags&255)!==w){pe.msg="unknown compression method",z.mode=q;break}if(z.flags&57344){pe.msg="unknown header flags set",z.mode=q;break}z.head&&(z.head.text=ue>>8&1),z.flags&512&&(Ni[0]=ue&255,Ni[1]=ue>>>8&255,z.check=r(z.check,Ni,2,0)),ue=0,ke=0,z.mode=C;case C:for(;ke<32;){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}z.head&&(z.head.time=ue),z.flags&512&&(Ni[0]=ue&255,Ni[1]=ue>>>8&255,Ni[2]=ue>>>16&255,Ni[3]=ue>>>24&255,z.check=r(z.check,Ni,4,0)),ue=0,ke=0,z.mode=I;case I:for(;ke<16;){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}z.head&&(z.head.xflags=ue&255,z.head.os=ue>>8),z.flags&512&&(Ni[0]=ue&255,Ni[1]=ue>>>8&255,z.check=r(z.check,Ni,2,0)),ue=0,ke=0,z.mode=S;case S:if(z.flags&1024){for(;ke<16;){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}z.length=ue,z.head&&(z.head.extra_len=ue),z.flags&512&&(Ni[0]=ue&255,Ni[1]=ue>>>8&255,z.check=r(z.check,Ni,2,0)),ue=0,ke=0}else z.head&&(z.head.extra=null);z.mode=M;case M:if(z.flags&1024&&(It=z.length,It>Le&&(It=Le),It&&(z.head&&(li=z.head.extra_len-z.length,z.head.extra||(z.head.extra=new Array(z.head.extra_len)),t.arraySet(z.head.extra,nt,T,It,li)),z.flags&512&&(z.check=r(z.check,nt,It,T)),Le-=It,T+=It,z.length-=It),z.length))break e;z.length=0,z.mode=R;case R:if(z.flags&2048){if(Le===0)break e;It=0;do li=nt[T+It++],z.head&&li&&z.length<65536&&(z.head.name+=String.fromCharCode(li));while(li&&It<Le);if(z.flags&512&&(z.check=r(z.check,nt,It,T)),Le-=It,T+=It,li)break e}else z.head&&(z.head.name=null);z.length=0,z.mode=D;case D:if(z.flags&4096){if(Le===0)break e;It=0;do li=nt[T+It++],z.head&&li&&z.length<65536&&(z.head.comment+=String.fromCharCode(li));while(li&&It<Le);if(z.flags&512&&(z.check=r(z.check,nt,It,T)),Le-=It,T+=It,li)break e}else z.head&&(z.head.comment=null);z.mode=L;case L:if(z.flags&512){for(;ke<16;){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}if(ue!==(z.check&65535)){pe.msg="header crc mismatch",z.mode=q;break}ue=0,ke=0}z.head&&(z.head.hcrc=z.flags>>9&1,z.head.done=!0),pe.adler=z.check=0,z.mode=J;break;case j:for(;ke<32;){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}pe.adler=z.check=Ke(ue),ue=0,ke=0,z.mode=re;case re:if(z.havedict===0)return pe.next_out=Be,pe.avail_out=G,pe.next_in=T,pe.avail_in=Le,z.hold=ue,z.bits=ke,c;pe.adler=z.check=1,z.mode=J;case J:if(Pe===f||Pe===p)break e;case H:if(z.last){ue>>>=ke&7,ke-=ke&7,z.mode=Ee;break}for(;ke<3;){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}switch(z.last=ue&1,ue>>>=1,ke-=1,ue&3){case 0:z.mode=ne;break;case 1:if(ur(z),z.mode=oe,Pe===p){ue>>>=2,ke-=2;break e}break;case 2:z.mode=O;break;case 3:pe.msg="invalid block type",z.mode=q}ue>>>=2,ke-=2;break;case ne:for(ue>>>=ke&7,ke-=ke&7;ke<32;){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}if((ue&65535)!==(ue>>>16^65535)){pe.msg="invalid stored block lengths",z.mode=q;break}if(z.length=ue&65535,ue=0,ke=0,z.mode=Z,Pe===p)break e;case Z:z.mode=se;case se:if(It=z.length,It){if(It>Le&&(It=Le),It>G&&(It=G),It===0)break e;t.arraySet(Yt,nt,T,It,Be),Le-=It,T+=It,G-=It,Be+=It,z.length-=It;break}z.mode=J;break;case O:for(;ke<14;){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}if(z.nlen=(ue&31)+257,ue>>>=5,ke-=5,z.ndist=(ue&31)+1,ue>>>=5,ke-=5,z.ncode=(ue&15)+4,ue>>>=4,ke-=4,z.nlen>286||z.ndist>30){pe.msg="too many length or distance symbols",z.mode=q;break}z.have=0,z.mode=V;case V:for(;z.have<z.ncode;){for(;ke<3;){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}z.lens[Gb[z.have++]]=ue&7,ue>>>=3,ke-=3}for(;z.have<19;)z.lens[Gb[z.have++]]=0;if(z.lencode=z.lendyn,z.lenbits=7,Ps={bits:z.lenbits},go=o(s,z.lens,0,19,z.lencode,0,z.work,Ps),z.lenbits=Ps.bits,go){pe.msg="invalid code lengths set",z.mode=q;break}z.have=0,z.mode=de;case de:for(;z.have<z.nlen+z.ndist;){for(;jr=z.lencode[ue&(1<<z.lenbits)-1],wn=jr>>>24,Ai=jr>>>16&255,ia=jr&65535,!(wn<=ke);){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}if(ia<16)ue>>>=wn,ke-=wn,z.lens[z.have++]=ia;else{if(ia===16){for(Ls=wn+2;ke<Ls;){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}if(ue>>>=wn,ke-=wn,z.have===0){pe.msg="invalid bit length repeat",z.mode=q;break}li=z.lens[z.have-1],It=3+(ue&3),ue>>>=2,ke-=2}else if(ia===17){for(Ls=wn+3;ke<Ls;){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}ue>>>=wn,ke-=wn,li=0,It=3+(ue&7),ue>>>=3,ke-=3}else{for(Ls=wn+7;ke<Ls;){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}ue>>>=wn,ke-=wn,li=0,It=11+(ue&127),ue>>>=7,ke-=7}if(z.have+It>z.nlen+z.ndist){pe.msg="invalid bit length repeat",z.mode=q;break}for(;It--;)z.lens[z.have++]=li}}if(z.mode===q)break;if(z.lens[256]===0){pe.msg="invalid code -- missing end-of-block",z.mode=q;break}if(z.lenbits=9,Ps={bits:z.lenbits},go=o(l,z.lens,0,z.nlen,z.lencode,0,z.work,Ps),z.lenbits=Ps.bits,go){pe.msg="invalid literal/lengths set",z.mode=q;break}if(z.distbits=6,z.distcode=z.distdyn,Ps={bits:z.distbits},go=o(d,z.lens,z.nlen,z.ndist,z.distcode,0,z.work,Ps),z.distbits=Ps.bits,go){pe.msg="invalid distances set",z.mode=q;break}if(z.mode=oe,Pe===p)break e;case oe:z.mode=me;case me:if(Le>=6&&G>=258){pe.next_out=Be,pe.avail_out=G,pe.next_in=T,pe.avail_in=Le,z.hold=ue,z.bits=ke,a(pe,wt),Be=pe.next_out,Yt=pe.output,G=pe.avail_out,T=pe.next_in,nt=pe.input,Le=pe.avail_in,ue=z.hold,ke=z.bits,z.mode===J&&(z.back=-1);break}for(z.back=0;jr=z.lencode[ue&(1<<z.lenbits)-1],wn=jr>>>24,Ai=jr>>>16&255,ia=jr&65535,!(wn<=ke);){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}if(Ai&&!(Ai&240)){for(Ia=wn,s1=Ai,l1=ia;jr=z.lencode[l1+((ue&(1<<Ia+s1)-1)>>Ia)],wn=jr>>>24,Ai=jr>>>16&255,ia=jr&65535,!(Ia+wn<=ke);){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}ue>>>=Ia,ke-=Ia,z.back+=Ia}if(ue>>>=wn,ke-=wn,z.back+=wn,z.length=ia,Ai===0){z.mode=ge;break}if(Ai&32){z.back=-1,z.mode=J;break}if(Ai&64){pe.msg="invalid literal/length code",z.mode=q;break}z.extra=Ai&15,z.mode=ve;case ve:if(z.extra){for(Ls=z.extra;ke<Ls;){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}z.length+=ue&(1<<z.extra)-1,ue>>>=z.extra,ke-=z.extra,z.back+=z.extra}z.was=z.length,z.mode=xe;case xe:for(;jr=z.distcode[ue&(1<<z.distbits)-1],wn=jr>>>24,Ai=jr>>>16&255,ia=jr&65535,!(wn<=ke);){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}if(!(Ai&240)){for(Ia=wn,s1=Ai,l1=ia;jr=z.distcode[l1+((ue&(1<<Ia+s1)-1)>>Ia)],wn=jr>>>24,Ai=jr>>>16&255,ia=jr&65535,!(Ia+wn<=ke);){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}ue>>>=Ia,ke-=Ia,z.back+=Ia}if(ue>>>=wn,ke-=wn,z.back+=wn,Ai&64){pe.msg="invalid distance code",z.mode=q;break}z.offset=ia,z.extra=Ai&15,z.mode=le;case le:if(z.extra){for(Ls=z.extra;ke<Ls;){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}z.offset+=ue&(1<<z.extra)-1,ue>>>=z.extra,ke-=z.extra,z.back+=z.extra}if(z.offset>z.dmax){pe.msg="invalid distance too far back",z.mode=q;break}z.mode=he;case he:if(G===0)break e;if(It=wt-G,z.offset>It){if(It=z.offset-It,It>z.whave&&z.sane){pe.msg="invalid distance too far back",z.mode=q;break}It>z.wnext?(It-=z.wnext,_n=z.wsize-It):_n=z.wnext-It,It>z.length&&(It=z.length),Jo=z.window}else Jo=Yt,_n=Be-z.offset,It=z.length;It>G&&(It=G),G-=It,z.length-=It;do Yt[Be++]=Jo[_n++];while(--It);z.length===0&&(z.mode=me);break;case ge:if(G===0)break e;Yt[Be++]=z.length,G--,z.mode=me;break;case Ee:if(z.wrap){for(;ke<32;){if(Le===0)break e;Le--,ue|=nt[T++]<<ke,ke+=8}if(wt-=G,pe.total_out+=wt,z.total+=wt,wt&&(pe.adler=z.check=z.flags?r(z.check,Yt,wt,Be-wt):n(z.check,Yt,wt,Be-wt)),wt=G,(z.flags?ue:Ke(ue))!==z.check){pe.msg="incorrect data check",z.mode=q;break}ue=0,ke=0}z.mode=ze;case ze:if(z.wrap&&z.flags){for(;ke<32;){if(Le===0)break e;Le--,ue+=nt[T++]<<ke,ke+=8}if(ue!==(z.total&4294967295)){pe.msg="incorrect length check",z.mode=q;break}ue=0,ke=0}z.mode=at;case at:go=v;break e;case q:go=m;break e;case ae:return U;case Ae:default:return h}return pe.next_out=Be,pe.avail_out=G,pe.next_in=T,pe.avail_in=Le,z.hold=ue,z.bits=ke,(z.wsize||wt!==pe.avail_out&&z.mode<q&&(z.mode<Ee||Pe!==u))&&gr(pe,pe.output,pe.next_out,wt-pe.avail_out)?(z.mode=ae,U):(Dt-=pe.avail_in,wt-=pe.avail_out,pe.total_in+=Dt,pe.total_out+=wt,z.total+=wt,z.wrap&&wt&&(pe.adler=z.check=z.flags?r(z.check,Yt,wt,pe.next_out-wt):n(z.check,Yt,wt,pe.next_out-wt)),pe.data_type=z.bits+(z.last?64:0)+(z.mode===J?128:0)+(z.mode===oe||z.mode===Z?256:0),(Dt===0&&wt===0||Pe===u)&&go===g&&(go=b),go)}function Ve(pe){if(!pe||!pe.state)return h;var Pe=pe.state;return Pe.window&&(Pe.window=null),pe.state=null,g}function rt(pe,Pe){var z;return!pe||!pe.state||(z=pe.state,!(z.wrap&2))?h:(z.head=Pe,Pe.done=!1,g)}function At(pe,Pe){var z=Pe.length,nt,Yt,T;return!pe||!pe.state||(nt=pe.state,nt.wrap!==0&&nt.mode!==re)?h:nt.mode===re&&(Yt=1,Yt=n(Yt,Pe,z,0),Yt!==nt.check)?m:(T=gr(pe,Pe,z,z),T?(nt.mode=ae,U):(nt.havedict=1,g))}e.inflateReset=vt,e.inflateReset2=_e,e.inflateResetKeep=We,e.inflateInit=St,e.inflateInit2=it,e.inflate=X,e.inflateEnd=Ve,e.inflateGetHeader=rt,e.inflateSetDictionary=At,e.inflateInfo="pako inflate (from Nodeca project)"}),iZ=Mn((e,t)=>{N(),t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}}),i9e=Mn((e,t)=>{N();function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=n}),a9e=Mn(e=>{N();var t=r9e(),n=rp(),r=nZ(),a=iZ(),o=MM(),s=rZ(),l=i9e(),d=Object.prototype.toString;function u(g){if(!(this instanceof u))return new u(g);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},g||{});var v=this.options;v.raw&&v.windowBits>=0&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),v.windowBits>=0&&v.windowBits<16&&!(g&&g.windowBits)&&(v.windowBits+=32),v.windowBits>15&&v.windowBits<48&&(v.windowBits&15||(v.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var c=t.inflateInit2(this.strm,v.windowBits);if(c!==a.Z_OK)throw new Error(o[c]);if(this.header=new l,t.inflateGetHeader(this.strm,this.header),v.dictionary&&(typeof v.dictionary=="string"?v.dictionary=r.string2buf(v.dictionary):d.call(v.dictionary)==="[object ArrayBuffer]"&&(v.dictionary=new Uint8Array(v.dictionary)),v.raw&&(c=t.inflateSetDictionary(this.strm,v.dictionary),c!==a.Z_OK)))throw new Error(o[c])}u.prototype.push=function(g,v){var c=this.strm,h=this.options.chunkSize,m=this.options.dictionary,U,b,w,E,x,C=!1;if(this.ended)return!1;b=v===~~v?v:v===!0?a.Z_FINISH:a.Z_NO_FLUSH,typeof g=="string"?c.input=r.binstring2buf(g):d.call(g)==="[object ArrayBuffer]"?c.input=new Uint8Array(g):c.input=g,c.next_in=0,c.avail_in=c.input.length;do{if(c.avail_out===0&&(c.output=new n.Buf8(h),c.next_out=0,c.avail_out=h),U=t.inflate(c,a.Z_NO_FLUSH),U===a.Z_NEED_DICT&&m&&(U=t.inflateSetDictionary(this.strm,m)),U===a.Z_BUF_ERROR&&C===!0&&(U=a.Z_OK,C=!1),U!==a.Z_STREAM_END&&U!==a.Z_OK)return this.onEnd(U),this.ended=!0,!1;c.next_out&&(c.avail_out===0||U===a.Z_STREAM_END||c.avail_in===0&&(b===a.Z_FINISH||b===a.Z_SYNC_FLUSH))&&(this.options.to==="string"?(w=r.utf8border(c.output,c.next_out),E=c.next_out-w,x=r.buf2string(c.output,w),c.next_out=E,c.avail_out=h-E,E&&n.arraySet(c.output,c.output,w,E,0),this.onData(x)):this.onData(n.shrinkBuf(c.output,c.next_out))),c.avail_in===0&&c.avail_out===0&&(C=!0)}while((c.avail_in>0||c.avail_out===0)&&U!==a.Z_STREAM_END);return U===a.Z_STREAM_END&&(b=a.Z_FINISH),b===a.Z_FINISH?(U=t.inflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===a.Z_OK):(b===a.Z_SYNC_FLUSH&&(this.onEnd(a.Z_OK),c.avail_out=0),!0)},u.prototype.onData=function(g){this.chunks.push(g)},u.prototype.onEnd=function(g){g===a.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg};function f(g,v){var c=new u(v);if(c.push(g,!0),c.err)throw c.msg||o[c.err];return c.result}function p(g,v){return v=v||{},v.raw=!0,f(g,v)}e.Inflate=u,e.inflate=f,e.inflateRaw=p,e.ungzip=f}),o9e=Mn((e,t)=>{N();var n=rp().assign,r=e9e(),a=a9e(),o=iZ(),s={};n(s,r,a,o),t.exports=s}),U4=Mn((e,t)=>{N();var n="Expected a function",r=NaN,a="[object Symbol]",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,d=/^0o[0-7]+$/i,u=parseInt,f=typeof global=="object"&&global&&global.Object===Object&&global,p=typeof self=="object"&&self&&self.Object===Object&&self,g=f||p||Function("return this")(),v=Object.prototype,c=v.toString,h=Math.max,m=Math.min,U=function(){return g.Date.now()};function b(S,M,R){var D,L,j,re,J,H,ne=0,Z=!1,se=!1,O=!0;if(typeof S!="function")throw new TypeError(n);M=I(M)||0,E(R)&&(Z=!!R.leading,se="maxWait"in R,j=se?h(I(R.maxWait)||0,M):j,O="trailing"in R?!!R.trailing:O);function V(Ee){var ze=D,at=L;return D=L=void 0,ne=Ee,re=S.apply(at,ze),re}function de(Ee){return ne=Ee,J=setTimeout(ve,M),Z?V(Ee):re}function oe(Ee){var ze=Ee-H,at=Ee-ne,q=M-ze;return se?m(q,j-at):q}function me(Ee){var ze=Ee-H,at=Ee-ne;return H===void 0||ze>=M||ze<0||se&&at>=j}function ve(){var Ee=U();if(me(Ee))return xe(Ee);J=setTimeout(ve,oe(Ee))}function xe(Ee){return J=void 0,O&&D?V(Ee):(D=L=void 0,re)}function le(){J!==void 0&&clearTimeout(J),ne=0,D=H=L=J=void 0}function he(){return J===void 0?re:xe(U())}function ge(){var Ee=U(),ze=me(Ee);if(D=arguments,L=this,H=Ee,ze){if(J===void 0)return de(H);if(se)return J=setTimeout(ve,M),V(H)}return J===void 0&&(J=setTimeout(ve,M)),re}return ge.cancel=le,ge.flush=he,ge}function w(S,M,R){var D=!0,L=!0;if(typeof S!="function")throw new TypeError(n);return E(R)&&(D="leading"in R?!!R.leading:D,L="trailing"in R?!!R.trailing:L),b(S,M,{leading:D,maxWait:M,trailing:L})}function E(S){var M=typeof S;return!!S&&(M=="object"||M=="function")}function x(S){return!!S&&typeof S=="object"}function C(S){return typeof S=="symbol"||x(S)&&c.call(S)==a}function I(S){if(typeof S=="number")return S;if(C(S))return r;if(E(S)){var M=typeof S.valueOf=="function"?S.valueOf():S;S=E(M)?M+"":M}if(typeof S!="string")return S===0?S:+S;S=S.replace(o,"");var R=l.test(S);return R||d.test(S)?u(S.slice(2),R?2:8):s.test(S)?r:+S}t.exports=w}),s9e=Mn((e,t)=>{N(),function(n,r){typeof define=="function"&&define.amd?define([],r):typeof e=="object"?t.exports=r():(n.PromisePool=r(),n.promisePool=n.PromisePool)}(e,function(){var n=function(){this._listeners={}};n.prototype.addEventListener=function(u,f){this._listeners[u]=this._listeners[u]||[],this._listeners[u].indexOf(f)<0&&this._listeners[u].push(f)},n.prototype.removeEventListener=function(u,f){if(this._listeners[u]){var p=this._listeners[u].indexOf(f);p>=0&&this._listeners[u].splice(p,1)}},n.prototype.dispatchEvent=function(u){if(this._listeners[u.type]&&this._listeners[u.type].length)for(var f=this._listeners[u.type].slice(),p=0,g=f.length;p<g;++p)f[p].call(this,u)};var r=function(u){return typeof u.constructor=="function"&&u.constructor.name==="GeneratorFunction"},a=function(u){return{next:function(){var f=u();return f?{value:f}:{done:!0}}}},o=function(u){var f=!1;return{next:function(){return f?{done:!0}:(f=!0,{value:u})}}},s=function(u,f){var p=typeof u;if(p==="object"){if(typeof u.next=="function")return u;if(typeof u.then=="function")return o(u)}return p==="function"?r(u)?u():a(u):o(f.resolve(u))},l=function(u,f,p){this.target=u,this.type=f,this.data=p},d=function(u,f,p){if(n.call(this),typeof f!="number"||Math.floor(f)!==f||f<1)throw new Error("Invalid concurrency");this._concurrency=f,this._options=p||{},this._options.promise=this._options.promise||Promise,this._iterator=s(u,this._options.promise),this._done=!1,this._size=0,this._promise=null,this._callbacks=null};return d.prototype=new n,d.prototype.constructor=d,d.prototype.concurrency=function(u){return typeof u<"u"&&(this._concurrency=u,this.active()&&this._proceed()),this._concurrency},d.prototype.size=function(){return this._size},d.prototype.active=function(){return!!this._promise},d.prototype.promise=function(){return this._promise},d.prototype.start=function(){var u=this,f=this._options.promise;return this._promise=new f(function(p,g){u._callbacks={reject:g,resolve:p},u._proceed()}),this._promise},d.prototype._fireEvent=function(u,f){this.dispatchEvent(new l(this,u,f))},d.prototype._settle=function(u){u?this._callbacks.reject(u):this._callbacks.resolve(),this._promise=null,this._callbacks=null},d.prototype._onPooledPromiseFulfilled=function(u,f){this._size--,this.active()&&(this._fireEvent("fulfilled",{promise:u,result:f}),this._proceed())},d.prototype._onPooledPromiseRejected=function(u,f){this._size--,this.active()&&(this._fireEvent("rejected",{promise:u,error:f}),this._settle(f||new Error("Unknown error")))},d.prototype._trackPromise=function(u){var f=this;u.then(function(p){f._onPooledPromiseFulfilled(u,p)},function(p){f._onPooledPromiseRejected(u,p)}).catch(function(p){f._settle(new Error("Promise processing failed: "+p))})},d.prototype._proceed=function(){if(!this._done){for(var u={done:!1};this._size<this._concurrency&&!(u=this._iterator.next()).done;)this._size++,this._trackPromise(u.value);this._done=u===null||!!u.done}this._done&&this._size===0&&this._settle()},d.PromisePoolEvent=l,d.PromisePool=d,d})}),Fe=Mn((e,t)=>{N(),t.exports=React}),l9e=Mn(e=>{N();var t=Fe(),n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,u,f){var p,g={},v=null,c=null;f!==void 0&&(v=""+f),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(c=u.ref);for(p in u)a.call(u,p)&&!s.hasOwnProperty(p)&&(g[p]=u[p]);if(d&&d.defaultProps)for(p in u=d.defaultProps,u)g[p]===void 0&&(g[p]=u[p]);return{$$typeof:n,type:d,key:v,ref:c,props:g,_owner:o.current}}e.Fragment=r,e.jsx=l,e.jsxs=l}),Se=Mn((e,t)=>{N(),t.exports=l9e()}),c9e=Mn(e=>{N(),Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeUrl=void 0;var t=/^([^\w]*)(javascript|data|vbscript)/im,n=/&#(\w+)(^\w|;)?/g,r=/&(newline|tab);/gi,a=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,o=/^.+(:|&colon;)/gim,s=[".","/"];function l(f){return s.indexOf(f[0])>-1}function d(f){return f.replace(n,function(p,g){return String.fromCharCode(g)})}function u(f){var p=d(f||"").replace(r,"").replace(a,"").trim();if(!p)return"about:blank";if(l(p))return p;var g=p.match(o);if(!g)return p;var v=g[0];return t.test(v)?"about:blank":p}e.sanitizeUrl=u});N();var aZ=te(Wxe(),1),oZ=te(Kxe(),1),d9e=te(Zxe(),1);N();var sZ=te(o9e(),1);N();N();var u9e={};N();var pa={white:"#ffffff",black:"#000000",gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},f9e=(e,t)=>t.reduce((n,r)=>(r in e&&(n[r]=e[r]),n),{}),h9e=5,dg=5,p9e=4,YU=4,KU=1,Dl=[0,2,4,6,8],Pl=(e,t)=>t.map(n=>pa[e][n]),fn={transparent:"transparent",black:"#1e1e1e",white:"#ffffff",gray:Pl("gray",Dl),red:Pl("red",Dl),pink:Pl("pink",Dl),grape:Pl("grape",Dl),violet:Pl("violet",Dl),blue:Pl("blue",Dl),cyan:Pl("cyan",Dl),teal:Pl("teal",Dl),green:Pl("green",Dl),yellow:Pl("yellow",Dl),orange:Pl("orange",Dl),bronze:["#f8f1ee","#eaddd7","#d2bab0","#a18072","#846358"]},lZ=f9e(fn,["cyan","blue","violet","grape","pink","green","teal","yellow","orange","red"]),cZ=[fn.black,fn.red[YU],fn.green[YU],fn.blue[YU],fn.yellow[YU]],dZ=[fn.transparent,fn.red[KU],fn.green[KU],fn.blue[KU],fn.yellow[KU]],uZ=[fn.white,"#f8f9fa","#f5faff","#fffce8","#fdf8f6"],g9e={transparent:fn.transparent,white:fn.white,gray:fn.gray,black:fn.black,bronze:fn.bronze,...lZ},m9e={transparent:fn.transparent,white:fn.white,gray:fn.gray,black:fn.black,bronze:fn.bronze,...lZ},U9e=e=>[fn.cyan[e],fn.blue[e],fn.violet[e],fn.grape[e],fn.pink[e],fn.green[e],fn.teal[e],fn.yellow[e],fn.orange[e],fn.red[e]],v9e=(e,t,n)=>`#${((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)}`,_d=/Mac|iPod|iPhone|iPad/.test(navigator.platform),fZ=/^Win/.test(navigator.platform),y9e=/\b(android)\b/i.test(navigator.userAgent),ky="netscape"in window&&navigator.userAgent.indexOf("rv:")>1&&navigator.userAgent.indexOf("Gecko")>1,b9e=navigator.userAgent.indexOf("Chrome")!==-1,Y3=!b9e&&navigator.userAgent.indexOf("Safari")!==-1,hZ=/iPad|iPhone/.test(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document,A9e=()=>{var e,t;return((t=(e=navigator.brave)==null?void 0:e.isBrave)==null?void 0:t.name)==="isBrave"},OC=typeof window<"u"&&"ResizeObserver"in window,w9e="Excalidraw",E9e=36,Wp=10,K3=8,x9e=5,yF=1,_9e=30,Oh=Math.PI/12,C9e="red",Vn={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},Kf={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1,ERASER:5},k1={enabled:"all",disabled:"none",inheritFromUI:"var(--ui-pointerEvents)"},y5={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},$o={TEST:"test",DEVELOPMENT:"development"},Tm={SHAPE_ACTIONS_MENU:"App-menu__left",ZOOM_ACTIONS:"zoom-actions",SEARCH_MENU_INPUT_WRAPPER:"layer-ui__search-inputWrapper"},Tg="Xiaolai",Bm="Segoe UI Emoji",Nr={Virgil:1,Helvetica:2,Cascadia:3,Excalifont:5,Nunito:6,"Lilita One":7,"Comic Shanns":8,"Liberation Sans":9,custom:"custom"},Bg={[Tg]:100,[Bm]:1e3},pZ=e=>{switch(e){case Nr.Excalifont:return[Tg,Bm];default:return[Bm]}},Un={LIGHT:"light",DARK:"dark"},Qr={strokeColor:"#bbb",strokeWidth:2,strokeStyle:"solid",fillStyle:"solid",roughness:0,roundness:null,backgroundColor:"transparent",radius:8,nameOffsetY:3,nameColorLightTheme:"#999999",nameColorDarkTheme:"#7a7a7a",nameFontSize:14,nameLineHeight:1.25},TM=1,hf=20,ip=Nr.Excalifont,wb="left",x8="top",j0=2,_8=2*j0,S9e=1e-5,I9e=2*_8-S9e,b5="#ffffff",k9e="#1e1e1e",M9e="#a2f1a6",C8=20,gZ=5,v4={svg:"image/svg+xml",png:"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",avif:"image/avif",jfif:"image/jfif"},Ft={text:"text/plain",html:"text/html",json:"application/json",excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json","excalidraw.svg":"image/svg+xml","excalidraw.png":"image/png",binary:"application/octet-stream",...v4},T9e=[Ft.text,Ft.html,...Object.values(v4)],Cx={png:"png",svg:"svg",clipboard:"clipboard"},gl={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib",excalidrawClipboardWithAPI:"excalidraw-api/clipboard"},BM=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,B9e=500,R9e=300,D9e=500,P9e=100,y4=.1,RM=.1,DM=30,L9e=300,PM="invert(93%) hue-rotate(180deg)",bF={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0},tools:{image:!0}},N9e=730,$9e=1e3,F9e=500,j9e=1229,O9e=parseInt(u9e.rightSidebarWidth),Z2=2,LM=[1,2,3],d2=10,z9e=1440,AF=4*1024*1024,nr="http://www.w3.org/2000/svg",b4={excalidraw:2,excalidrawLibrary:2},Ri=5,Q9e=.7,H9e=11,ws={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},My={LEFT:"left",CENTER:"center",RIGHT:"right"},G9e=20,Sx=.25,W9e=32,Di={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},mZ={architect:0,artist:1,cartoonist:2},Ix={thin:1,bold:2,extraBold:4},ei={strokeColor:fn.black,backgroundColor:fn.transparent,fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",roughness:mZ.artist,opacity:100,locked:!1},S8="library",tm="search",uc={name:"default",defaultTab:S8},UZ=new Set(["iframe","embeddable","image"]),Qi={selection:"selection",rectangle:"rectangle",diamond:"diamond",ellipse:"ellipse",arrow:"arrow",line:"line",freedraw:"freedraw",text:"text",image:"image",eraser:"eraser",hand:"hand",frame:"frame",magicframe:"magicframe",embeddable:"embeddable",laser:"laser"},Pv={OAI_API_KEY:"excalidraw-oai-api-key",MERMAID_TO_EXCALIDRAW:"mermaid-to-excalidraw",PUBLISH_LIBRARY:"publish-library-data"},vZ="Untitled",Rg={generalStats:1,elementProperties:2},tl=1,Aa={sharp:"sharp",round:"round",elbow:"elbow"},yZ=.3,I8="element";N();N();N();var NM=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");N();var V9e=LM.includes(devicePixelRatio)?devicePixelRatio:1,Cd=()=>({showWelcomeScreen:!1,theme:Un.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:ei.backgroundColor,currentItemEndArrowhead:"arrow",currentItemFillStyle:ei.fillStyle,currentItemFontFamily:ip,currentItemFontSize:hf,currentItemOpacity:ei.opacity,currentItemRoughness:ei.roughness,currentItemStartArrowhead:null,currentItemStrokeColor:ei.strokeColor,currentItemRoundness:"round",currentItemArrowType:Aa.round,currentItemStrokeStyle:ei.strokeStyle,currentItemStrokeWidth:ei.strokeWidth,currentItemTextAlign:wb,currentHoveredFontFamily:null,cursorButton:"up",activeEmbeddable:null,newElement:null,editingTextElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:ei.locked,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:V9e,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:C8,gridStep:gZ,gridModeEnabled:!1,isBindingEnabled:!0,defaultSidebarDockedPreference:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:null,contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},hoveredElementIds:{},selectedGroupIds:{},selectedElementsAreBeingDragged:!1,selectionElement:null,shouldCacheIgnoreZoom:!1,stats:{open:!1,panels:Rg.generalStats|Rg.elementProperties},startBoundElement:null,suggestedBindings:[],frameRendering:{enabled:!0,clip:!0,name:!0,outline:!0},frameToHighlight:null,editingFrame:null,elementsToHighlight:null,toast:null,viewBackgroundColor:fn.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null,snapLines:[],originSnapOffset:{x:0,y:0},objectsSnapModeEnabled:!1,userToFollow:null,followedBy:new Set,isCropping:!1,croppingElementId:null,searchMatches:[]}),Y9e=(e=>e)({showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemArrowType:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},currentHoveredFontFamily:{browser:!1,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},activeEmbeddable:{browser:!1,export:!1,server:!1},newElement:{browser:!1,export:!1,server:!1},editingTextElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},gridStep:{browser:!0,export:!0,server:!0},gridModeEnabled:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},defaultSidebarDockedPreference:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},hoveredElementIds:{browser:!1,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectedElementsAreBeingDragged:{browser:!1,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},stats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},frameRendering:{browser:!1,export:!1,server:!1},frameToHighlight:{browser:!1,export:!1,server:!1},editingFrame:{browser:!1,export:!1,server:!1},elementsToHighlight:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1},snapLines:{browser:!1,export:!1,server:!1},originSnapOffset:{browser:!1,export:!1,server:!1},objectsSnapModeEnabled:{browser:!0,export:!1,server:!1},userToFollow:{browser:!1,export:!1,server:!1},followedBy:{browser:!1,export:!1,server:!1},isCropping:{browser:!1,export:!1,server:!1},croppingElementId:{browser:!1,export:!1,server:!1},searchMatches:{browser:!1,export:!1,server:!1}}),K9e=(e,t)=>{var r;let n={};for(let a of Object.keys(e))if((r=Y9e[a])!=null&&r[t]){let o=e[a];n[a]=o}return n},bZ=e=>K9e(e,"export"),Kc=({activeTool:e})=>e.type==="eraser",Rm=({activeTool:e})=>e.type==="hand";N();N();N();N();var X9e=te(U4(),1);N();N();var Z9e=te(s9e(),1);N();N();N();N();var Rn=(e,t,n)=>Math.min(Math.max(e,t),n),Fu=(e,t,n="round")=>{let r=Math.pow(10,t);return Math[n]((e+Number.EPSILON)*r)/r},q9e=(e,t,n="round")=>{let r=1/t;return Math[n](e*r)/r},A5=(e,t)=>(e+t)/2,Lv=e=>typeof e=="number"&&Number.isFinite(e),wF=(e,t,n=1e-4)=>Math.abs(e-t)<n,k8=e=>e<0?e+2*Math.PI:e>=2*Math.PI?e-2*Math.PI:e;function Ty(e){return e*Math.PI/180}function Eb(e){return e*180/Math.PI}function J9e(e){return Math.abs(Math.sin(2*e))<1e-4}N();N();N();function Vi(e,t,n=0,r=0){return[e-n,t-r]}function sr(e,t=[0,0]){return Vi(e[0]-t[0],e[1]-t[1])}function Mu(e,t){return e[0]*t[1]-t[0]*e[1]}function EF(e,t){return e[0]*t[0]+e[1]*t[1]}function Uh(e,t){return[e[0]+t[0],e[1]+t[1]]}function _0(e,t){return[e[0]-t[0],e[1]-t[1]]}function dd(e,t){return Vi(e[0]*t,e[1]*t)}function e_e(e){return e[0]*e[0]+e[1]*e[1]}function t_e(e){return Math.sqrt(e_e(e))}var M8=e=>{let t=t_e(e);return Vi(e[0]/t,e[1]/t)};function $(e,t){return[e,t]}function $M(e){return e.length===2?$(e[0],e[1]):void 0}function n_e(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&!isNaN(e[0])&&typeof e[1]=="number"&&!isNaN(e[1])}function T8(e,t){let n=Math.abs;return n(e[0]-t[0])<1e-4&&n(e[1]-t[1])<1e-4}function De([e,t],[n,r],a){return $((e-n)*Math.cos(a)-(t-r)*Math.sin(a)+n,(e-n)*Math.sin(a)+(t-r)*Math.cos(a)+r)}function Dg(e,t=[0,0]){return $(e[0]+t[0],e[1]+t[1])}function By(e,t){return $((e[0]+t[0])/2,(e[1]+t[1])/2)}function Yi(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1])}function xF(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1])}var su=(e,t,n)=>Dg(t,dd(sr(e,t),n)),AZ=(e,t,n)=>t[0]<=Math.max(e[0],n[0])&&t[0]>=Math.min(e[0],n[0])&&t[1]<=Math.max(e[1],n[1])&&t[1]>=Math.min(e[1],n[1]);function r_e(e,t,n,r){return[e,t,n,r]}N();N();N();function rr(e,t){return[e,t]}var i_e=(e,t)=>{let n=sr(e[0]),r=sr(e[1]),a=sr(t[0]),o=sr(t[1]),s=_0(r,n),l=_0(o,a),d=Mu(s,l);if(d===0)return null;let u=_0(sr(t[0]),sr(e[0])),f=Mu(u,s)/d,p=Mu(u,l)/d;if(f===0)return null;let g=Uh(n,dd(s,p));return p>=0&&p<1&&f>=0&&f<1?g:null},xb=(e,t,n=1e-4)=>{let r=a_e(e,t);return r===0?!0:r<n},a_e=(e,t)=>{let[n,r]=e,[[a,o],[s,l]]=t,d=n-a,u=r-o,f=s-a,p=l-o,g=d*f+u*p,v=f*f+p*p,c=-1;v!==0&&(c=g/v);let h,m;c<0?(h=a,m=o):c>1?(h=s,m=l):(h=a+c*f,m=o+c*p);let U=n-h,b=r-m;return Math.sqrt(U*U+b*b)};function _F(...e){return wZ(e)}function B8(e){return wZ(e)}var CF=(e,t)=>{let n=e[0],r=e[1],a=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){let l=t[o][0],d=t[o][1],u=t[s][0],f=t[s][1];(d>r&&f<=r||d<=r&&f>r)&&n<(u-l)*(r-d)/(f-d)+l&&(a=!a)}return a},o_e=(e,t,n=1e-4)=>{let r=!1;for(let a=0,o=t.length-1;a<o;a++)if(xb(e,rr(t[a],t[a+1]),n)){r=!0;break}return r};function wZ(e){return s_e(e)?e:[...e,e[0]]}function s_e(e){return T8(e[0],e[e.length-1])}N();function Na(e,t){return Bs([e,t])}var R8=([e,t],[n,r])=>e<=n?t>=n:e>=n?r>=e:!1,D8=([e,t],[n,r])=>{let a=Math.max(e,n),o=Math.min(t,r);return a<=o?Bs([a,o]):null},w5=(e,[t,n])=>e>=t&&e<=n;N();function M1([e,t,n],r){let a=(f,p,g)=>(f[0]-g[0])*(p[1]-g[1])-(p[0]-g[0])*(f[1]-g[1]),o=a(r,e,t),s=a(r,t,n),l=a(r,n,e),d=o<0||s<0||l<0,u=o>0||s>0||l>0;return!(d&&u)}N();var SF=()=>{let e=new Date,t=e.getFullYear(),n=`${e.getMonth()+1}`.padStart(2,"0"),r=`${e.getDate()}`.padStart(2,"0"),a=`${e.getHours()}`.padStart(2,"0"),o=`${e.getMinutes()}`.padStart(2,"0");return`${t}-${n}-${r}-${a}${o}`},Nv=e=>e.charAt(0).toUpperCase()+e.slice(1),l_e=e=>e instanceof HTMLElement&&e.className.includes("ToolIcon"),zC=e=>e instanceof HTMLElement&&e.dataset.type==="wysiwyg"||e instanceof HTMLBRElement||e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement,c_e=e=>zC(e)||e instanceof Element&&!!e.closest("label, button"),e0=e=>e instanceof HTMLElement&&e.dataset.type==="wysiwyg"||e instanceof HTMLBRElement||e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&(e.type==="text"||e.type==="number"||e.type==="password"),Dm=({fontFamily:e})=>{for(let[t,n]of Object.entries(Nr))if(n===e)return`${t}${pZ(n).map(r=>`, ${r}`).join("")}`;return typeof e=="string"?`${e}, ${Bm}`:Bm},Xn=({fontSize:e,fontFamily:t})=>`${e}px ${Dm({fontFamily:t})}`,Pm=(e,t)=>{let n=0,r=null,a=(...o)=>{r=o,clearTimeout(n),n=window.setTimeout(()=>{r=null,e(...o)},t)};return a.flush=()=>{if(clearTimeout(n),r){let o=r;r=null,e(...o)}},a.cancel=()=>{r=null,clearTimeout(n)},a},A4=(e,t)=>{let n=null,r=null,a=null,o=l=>{n=window.requestAnimationFrame(()=>{n=null,e(...l),r=null,a&&(r=a,a=null,o(r))})},s=(...l)=>{if(gt.MODE==="test"){e(...l);return}r=l,n===null?o(r):t!=null&&t.trailing&&(a=l)};return s.flush=()=>{n!==null&&(cancelAnimationFrame(n),n=null),r&&(e(...a||r),r=a=null)},s.cancel=()=>{r=a=null,n!==null&&(cancelAnimationFrame(n),n=null)},s},C0=e=>1-Math.pow(1-e,4),IF=(e,t,n)=>(t-e)*C0(n)+e,d_e=({fromValues:e,toValues:t,onStep:n,duration:r=250,interpolateValue:a,onStart:o,onEnd:s,onCancel:l})=>{let d=!1,u=0,f;function p(g){if(d)return;f===void 0&&(f=g,o==null||o());let v=Math.min(g-f,r),c=C0(v/r),h={};if(Object.keys(e).forEach(m=>{let U=m,b=(t[U]-e[U])*c+e[U];h[U]=b}),n(h),v<r){let m=v/r,U={};Object.keys(e).forEach(b=>{let w=b,E=e[w],x=t[w],C;C=a?a(E,x,m,w):IF(E,x,m),C==null&&(C=IF(E,x,m)),U[w]=C}),n(U),u=window.requestAnimationFrame(p)}else n(t),s==null||s()}return u=window.requestAnimationFrame(p),()=>{l==null||l(),d=!0,window.cancelAnimationFrame(u)}},u_e=(e,t)=>{if(!e.length||t<1)return[];let n=0,r=0,a=Array(Math.ceil(e.length/t));for(;n<e.length;)a[r++]=e.slice(n,n+=t);return a},ja=(e,t)=>Math.abs(e-t),_i=(e,t)=>t.type==="custom"?{...e.activeTool,type:"custom",customType:t.customType,locked:t.locked??e.activeTool.locked}:{...e.activeTool,lastActiveTool:t.lastActiveToolBeforeEraser===void 0?e.activeTool.lastActiveTool:t.lastActiveToolBeforeEraser,type:t.type,customType:null,locked:t.locked??e.activeTool.locked},Ne=e=>(e=e.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),_d?e.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):e.replace(/\bCtrlOrCmd\b/gi,"Ctrl")),Ur=({clientX:e,clientY:t},{zoom:n,offsetLeft:r,offsetTop:a,scrollX:o,scrollY:s})=>{let l=(e-r)/n.value-o,d=(t-a)/n.value-s;return{x:l,y:d}},ic=({sceneX:e,sceneY:t},{zoom:n,offsetLeft:r,offsetTop:a,scrollX:o,scrollY:s})=>{let l=(e+o)*n.value+r,d=(t+s)*n.value+a;return{x:l,y:d}},E5=e=>getComputedStyle(document.documentElement).getPropertyValue(`--${e}`),f_e="A-Za-z--------",h_e="---",p_e=new RegExp(`^[^${f_e}]*[${h_e}]`),EZ=e=>p_e.test(e),cl=e=>{let[t,n]=e;return{x:t,y:n}},xZ=e=>{if((e==null?void 0:e.name)==="AbortError"){console.warn(e);return}throw e},_Z=(e,t,n=0)=>{n<0&&(n=e.length+n),n=Math.min(e.length,Math.max(n,0));let r=n-1;for(;++r<e.length;)if(t(e[r],r,e))return r;return-1},CZ=(e,t,n=e.length-1)=>{n<0&&(n=e.length+n),n=Math.min(e.length-1,Math.max(n,0));let r=n+1;for(;--r>-1;)if(t(e[r],r,e))return r;return-1},ud=e=>{let t=e.length===5&&e.substr(4,1)==="0",n=e.length===9&&e.substr(7,2)==="00";return t||n||e===fn.transparent},g_e=e=>{let t=e.parentElement;for(;t;){if(t===document.body)return document;let{overflowY:n}=window.getComputedStyle(t);if(t.scrollHeight>t.clientHeight&&(n==="auto"||n==="scroll"||n==="overlay"))return t;t=t.parentElement}return document},m_e=e=>{let t=e.parentElement;for(;t;){if(t.tabIndex>-1){t.focus();return}t=t.parentElement}},U_e=e=>Array.from(e).map(t=>`0${t.toString(16)}`.slice(-2)).join(""),u2=()=>zh()?1:Date.now(),Vt=e=>e instanceof Map?e:e.reduce((t,n)=>(t.set(typeof n=="string"?n:n.id,n),t),new Map),v_e=e=>e.reduce((t,n,r)=>(t.set(n.id,[n,r]),t),new Map),Zd=(e,t)=>e.reduce((n,r)=>(n[t?t(r):String(r)]=r,n),{}),y_e=e=>e.reduce((t,n,r)=>{let a={...n,prev:null,next:null};if(r!==0){let o=t[r-1];if(a.prev=o,o.next=a,r===e.length-1){let s=t[0];a.next=s,s.prev=a}}return t.push(a),t},[]),zh=()=>gt.MODE==="test",SZ=()=>gt.MODE==="development",b_e=()=>typeof process<"u"&&!0,IZ=(e,t)=>new CustomEvent(e,{detail:{nativeEvent:t},cancelable:!0}),X3=(e,t)=>{let n=!1;for(let r in t){let a=t[r];if(typeof a<"u"){if(e[r]===a&&(typeof a!="object"||a===null))continue;n=!0}}return n?{...e,...t}:e},A_e=()=>{try{return window.self===window.top?"top":"iframe"}catch{return"iframe"}},_b=e=>!!e&&typeof e=="object"&&"then"in e&&"catch"in e&&"finally"in e,QC=e=>{let t=e==null?void 0:e.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return t?Array.from(t).filter(n=>n.tabIndex>-1&&!n.disabled):[]},kF=(e,t)=>Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t,ga=(e,t,n,r=!1)=>{let a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return r&&console.warn("%cisShallowEqual: objects don't have same properties ->","color: #8B4000",e,t),!1;if(n&&Array.isArray(n)){for(let s of n)if(!(e[s]===t[s]||kF(e[s],t[s])))return r&&console.warn(`%cisShallowEqual: ${s} not equal ->`,"color: #8B4000",e[s],t[s]),!1;return!0}return a.every(s=>{let l=n==null?void 0:n[s],d=l?l(e[s],t[s]):e[s]===t[s]||kF(e[s],t[s]);return!d&&r&&console.warn(`%cisShallowEqual: ${s} not equal ->`,"color: #8B4000",e[s],t[s]),d})},w4=(e,t,{checkForDefaultPrevented:n=!0}={})=>function(r){if(e==null||e(r),!n||!(r!=null&&r.defaultPrevented))return t==null?void 0:t(r)},O0=(e,t,n)=>{if(!t)return e;if(n)return console.error(t),e;throw new Error(t)};function ml(e,t){if(!e)throw new Error(t)}var w_e=e=>{let t,n,r=function(a){let o=Object.entries(a);if(t){let l=!0;for(let[d,u]of o)if(t.get(d)!==u){l=!1;break}if(l)return n}let s=e(a);return t=new Map(o),n=s,s};return r.clear=()=>{t=void 0,n=void 0},r},kZ=(e,t)=>e instanceof Set||e instanceof Map?e.has(t):"includes"in e?e.includes(t):e.hasOwnProperty(t),ju=e=>JSON.parse(JSON.stringify(e)),q2=(e,t)=>ga(e,t)?e:t;function zr(e,t,n,r){var a;return e?((a=e==null?void 0:e.addEventListener)==null||a.call(e,t,n,r),()=>{var o;(o=e==null?void 0:e.removeEventListener)==null||o.call(e,t,n,r)}):()=>{}}function E_e(e,t=!0){let n=e.length;if(n<4)return"";let r=e[0],a=e[1],o=e[2],s=`M${r[0].toFixed(2)},${r[1].toFixed(2)} Q${a[0].toFixed(2)},${a[1].toFixed(2)} ${A5(a[0],o[0]).toFixed(2)},${A5(a[1],o[1]).toFixed(2)} T`;for(let l=2,d=n-1;l<d;l++)r=e[l],a=e[l+1],s+=`${A5(r[0],a[0]).toFixed(2)},${A5(r[1],a[1]).toFixed(2)} `;return t&&(s+="Z"),s}var MZ=e=>e.replace(/\r?\n|\r/g,`
`),Bs=e=>e,Ry=async(e,...t)=>new Promise(n=>{n(e(...t))}),x_e=(...e)=>Math.max(...e.map(t=>t?1:0))>0,MF=class{constructor(t,n){ee(this,"pool");ee(this,"entries",{});this.pool=new Z9e.default(t,n)}all(){let t=n=>{if(n.data.result){let[r,a]=n.data.result;this.entries[r]=a}};return this.pool.addEventListener("fulfilled",t),this.pool.start().then(()=>(setTimeout(()=>{this.pool.removeEventListener("fulfilled",t)}),Object.values(this.entries)))}},al=e=>!!e&&e.type==="image"&&!!e.fileId,zn=e=>!!e&&e.type==="image",Io=e=>!!e&&e.type==="embeddable",rh=e=>!!e&&e.type==="iframe",ol=e=>!!e&&(e.type==="iframe"||e.type==="embeddable"),pt=e=>e!=null&&e.type==="text",TZ=e=>e!=null&&e.type==="frame",Z3=e=>e!=null&&e.type==="magicframe",en=e=>e!=null&&(e.type==="frame"||e.type==="magicframe"),El=e=>e!=null&&__e(e.type),__e=e=>e==="freedraw",rn=e=>e!=null&&FM(e.type),ln=e=>e!=null&&e.type==="arrow",Wt=e=>ln(e)&&e.elbowed,FM=e=>e==="arrow"||e==="line",ad=(e,t=!0)=>e!=null&&(!e.locked||t===!0)&&BZ(e.type),BZ=e=>e==="arrow",Xu=(e,t=!0)=>e!=null&&(!e.locked||t===!0)&&(e.type==="rectangle"||e.type==="diamond"||e.type==="ellipse"||e.type==="image"||e.type==="iframe"||e.type==="embeddable"||e.type==="frame"||e.type==="magicframe"||e.type==="text"&&!e.containerId),C_e=e=>e!=null&&(e.type==="rectangle"||e.type==="diamond"||e.type==="image"||e.type==="iframe"||e.type==="embeddable"||e.type==="frame"||e.type==="magicframe"||e.type==="text"&&!e.containerId),S_e=e=>e!=null&&(e.type==="rectangle"||e.type==="image"||e.type==="text"||e.type==="iframe"||e.type==="embeddable"||e.type==="frame"||e.type==="magicframe"||e.type==="freedraw"),S0=(e,t=!0)=>e!=null&&(!e.locked||t===!0)&&(e.type==="rectangle"||e.type==="diamond"||e.type==="ellipse"||ln(e)),RZ=e=>{let t=e==null?void 0:e.type;if(!t)return!1;switch(t){case"text":case"diamond":case"rectangle":case"iframe":case"embeddable":case"ellipse":case"arrow":case"freedraw":case"line":case"frame":case"magicframe":case"image":case"selection":return!0;default:return O0(t,null),!1}},E4=e=>e.type==="rectangle"||e.type==="ellipse"||e.type==="diamond",xl=e=>{var t;return S0(e)&&!!((t=e.boundElements)!=null&&t.some(({type:n})=>n==="text"))},bi=e=>e!==null&&"containerId"in e&&e.containerId!==null&&pt(e),f2=e=>e==="rectangle"||e==="embeddable"||e==="iframe"||e==="image",DZ=e=>e==="line"||e==="arrow"||e==="diamond",I_e=(e,t)=>!!((e===Di.ADAPTIVE_RADIUS||e===Di.LEGACY)&&f2(t.type)||e===Di.PROPORTIONAL_RADIUS&&DZ(t.type)),k_e=e=>DZ(e.type)?{type:Di.PROPORTIONAL_RADIUS}:f2(e.type)?{type:Di.ADAPTIVE_RADIUS}:null,P8=e=>Object.hasOwn(e,"fixedPoint")&&e.fixedPoint!=null;N();N();N();N();var kx,x5,Mx,M_e=e=>(kx||(kx=Hn.class(...Object.values(mu))),kx.test(e)),T_e=()=>{if(!x5)try{x5=R_e()}catch{x5=B_e()}return x5},jM=()=>(Mx||(Mx=D_e()),Mx),Xs={WHITESPACE:/\s/u,HYPHEN:/-/u,OPENING:/<\(\[\{/u,CLOSING:/>\)\]\}.,:;!\?\//u},mu={CHAR:new RegExp("\\p{Script=Han}\\p{Script=Hiragana}\\p{Script=Katakana}\\p{Script=Hangul}","u"),OPENING://u,CLOSING://u,CURRENCY://u},bp={FLAG:new RegExp("\\p{RI}\\p{RI}","u"),JOINER:new RegExp("(?:\\p{Emoji_Modifier}|\\uFE0F\\u20E3?|[\\u{E0020}-\\u{E007E}]+\\u{E007F})?","u"),ZWJ:/\u200D/u,ANY:/[\p{Emoji}]/u,MOST:/[\p{Extended_Pictographic}\p{Emoji_Presentation}]/u},B_e=()=>Hn.or(jM(),hi.On(Xs.HYPHEN,Xs.WHITESPACE,mu.CHAR)),R_e=()=>Hn.or(jM(),hi.Before(Xs.WHITESPACE).Build(),hi.After(Xs.WHITESPACE,Xs.HYPHEN).Build(),hi.Before(mu.CHAR,mu.CURRENCY).NotPrecededBy(Xs.OPENING,mu.OPENING).Build(),hi.After(mu.CHAR).NotFollowedBy(Xs.HYPHEN,Xs.CLOSING,mu.CLOSING).Build(),hi.BeforeMany(mu.OPENING).NotPrecededBy(Xs.OPENING).Build(),hi.AfterMany(mu.CLOSING).NotFollowedBy(Xs.CLOSING).Build(),hi.AfterMany(Xs.CLOSING).FollowedBy(Xs.OPENING).Build()),D_e=()=>Hn.group(Hn.or(bp.FLAG,Hn.and(bp.MOST,bp.JOINER,Hn.build(`(?:${bp.ZWJ.source}(?:${bp.FLAG.source}|${bp.ANY.source}${bp.JOINER.source}))*`)))),Hn={build:e=>new RegExp(e,"u"),join:(...e)=>e.map(t=>t.source).join(""),and:(...e)=>Hn.build(Hn.join(...e)),or:(...e)=>Hn.build(e.map(t=>t.source).join("|")),group:(...e)=>Hn.build(`(${Hn.join(...e)})`),class:(...e)=>Hn.build(`[${Hn.join(...e)}]`)},hi={On:(...e)=>{let t=Hn.join(...e);return Hn.build(`([${t}])`)},Before:(...e)=>{let t=Hn.join(...e),n=()=>Hn.build(`(?=[${t}])`);return hi.Chain(n)},After:(...e)=>{let t=Hn.join(...e),n=()=>Hn.build(`(?<=[${t}])`);return hi.Chain(n)},BeforeMany:(...e)=>{let t=Hn.join(...e),n=()=>Hn.build(`(?<![${t}])(?=[${t}])`);return hi.Chain(n)},AfterMany:(...e)=>{let t=Hn.join(...e),n=()=>Hn.build(`(?<=[${t}])(?![${t}])`);return hi.Chain(n)},NotBefore:(...e)=>{let t=Hn.join(...e),n=()=>Hn.build(`(?![${t}])`);return hi.Chain(n)},NotAfter:(...e)=>{let t=Hn.join(...e),n=()=>Hn.build(`(?<![${t}])`);return hi.Chain(n)},Chain:e=>({Build:e,PreceededBy:(...t)=>{let n=e(),r=hi.After(...t).Build(),a=()=>Hn.and(r,n);return hi.Chain(a)},FollowedBy:(...t)=>{let n=e(),r=hi.Before(...t).Build(),a=()=>Hn.and(n,r);return hi.Chain(a)},NotPrecededBy:(...t)=>{let n=e(),r=hi.NotAfter(...t).Build(),a=()=>Hn.and(r,n);return hi.Chain(a)},NotFollowedBy:(...t)=>{let n=e(),r=hi.NotBefore(...t).Build(),a=()=>Hn.and(n,r);return hi.Chain(a)}})},P_e=e=>{let t=T_e();return e.normalize("NFC").split(t).filter(Boolean)},ap=(e,t,n)=>{if(!Number.isFinite(n)||n<0)return e;let r=[],a=e.split(`
`);for(let o of a){if(V0(o,t,!0)<=n){r.push(o);continue}let s=L_e(o,t,n);r.push(...s)}return r.join(`
`)},L_e=(e,t,n)=>{let r=[],a=P_e(e)[Symbol.iterator](),o="",s=0,l=a.next();for(;!l.done;){let d=l.value,u=o+d,f=F_e(d)?s+Rb.calculate(d,t):V0(u,t,!0);if(/\s/.test(d)||f<=n){o=u,s=f,l=a.next();continue}if(o)r.push(o.trimEnd()),o="",s=0;else{let p=N_e(d,t,n),g=p[p.length-1]??"",v=p.slice(0,-1);r.push(...v),o=g,s=V0(g,t,!0),l=a.next()}}if(o){let d=$_e(o,t,n);r.push(d)}return r},N_e=(e,t,n)=>{if(jM().test(e))return[e];j_e(e);let r=[],a=Array.from(e),o="",s=0;for(let l of a){let d=Rb.calculate(l,t),u=s+d;if(u<=n){o=o+l,s=u;continue}o&&r.push(o),o=l,s=d}return o&&r.push(o),r},$_e=(e,t,n)=>{if(!(V0(e,t,!0)>n))return e;let[,r,a]=e.match(/^(.+?)(\s+)$/)??[e,e.trimEnd(),""],o=V0(r,t,!0);for(let s of Array.from(a)){let l=Rb.calculate(s,t),d=o+l;if(d>n)break;r=r+s,o=d}return r},F_e=e=>e.codePointAt(0)!==void 0&&e.codePointAt(1)===void 0,j_e=e=>{if((gt.MODE===$o.TEST||gt.DEV)&&/\s/.test(e))throw new Error("Word should not contain any whitespaces!")};N();N();N();N();N();N();N();N();N();N();function HC(e,t,n){if(e&&e.length){let[r,a]=t,o=Math.PI/180*n,s=Math.cos(o),l=Math.sin(o);for(let d of e){let[u,f]=d;d[0]=(u-r)*s-(f-a)*l+r,d[1]=(u-r)*l+(f-a)*s+a}}}function O_e(e,t,n){let r=[];e.forEach(a=>r.push(...a)),HC(r,t,n)}function z_e(e,t){return e[0]===t[0]&&e[1]===t[1]}function Q_e(e,t,n,r=1){let a=n,o=Math.max(t,.1),s=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,l=[0,0];if(a)for(let u of s)HC(u,l,a);let d=H_e(s,o,r);if(a){for(let u of s)HC(u,l,-a);O_e(d,l,-a)}return d}function H_e(e,t,n){let r=[];for(let u of e){let f=[...u];z_e(f[0],f[f.length-1])||f.push([f[0][0],f[0][1]]),f.length>2&&r.push(f)}let a=[];t=Math.max(t,.1);let o=[];for(let u of r)for(let f=0;f<u.length-1;f++){let p=u[f],g=u[f+1];if(p[1]!==g[1]){let v=Math.min(p[1],g[1]);o.push({ymin:v,ymax:Math.max(p[1],g[1]),x:v===p[1]?p[0]:g[0],islope:(g[0]-p[0])/(g[1]-p[1])})}}if(o.sort((u,f)=>u.ymin<f.ymin?-1:u.ymin>f.ymin?1:u.x<f.x?-1:u.x>f.x?1:u.ymax===f.ymax?0:(u.ymax-f.ymax)/Math.abs(u.ymax-f.ymax)),!o.length)return a;let s=[],l=o[0].ymin,d=0;for(;s.length||o.length;){if(o.length){let u=-1;for(let f=0;f<o.length&&!(o[f].ymin>l);f++)u=f;o.splice(0,u+1).forEach(f=>{s.push({s:l,edge:f})})}if(s=s.filter(u=>!(u.edge.ymax<=l)),s.sort((u,f)=>u.edge.x===f.edge.x?0:(u.edge.x-f.edge.x)/Math.abs(u.edge.x-f.edge.x)),(n!==1||d%t===0)&&s.length>1)for(let u=0;u<s.length;u=u+2){let f=u+1;if(f>=s.length)break;let p=s[u].edge,g=s[f].edge;a.push([[Math.round(p.x),l],[Math.round(g.x),l]])}l+=n,s.forEach(u=>{u.edge.x=u.edge.x+n*u.edge.islope}),d++}return a}function Cb(e,t){var n;let r=t.hachureAngle+90,a=t.hachureGap;a<0&&(a=t.strokeWidth*4),a=Math.max(a,.1);let o=1;return t.roughness>=1&&(((n=t.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(o=a),Q_e(e,a,r,o||1)}var OM=class{constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){let n=Cb(e,t);return{type:"fillSketch",ops:this.renderLines(n,t)}}renderLines(e,t){let n=[];for(let r of e)n.push(...this.helper.doubleLineOps(r[0][0],r[0][1],r[1][0],r[1][1],t));return n}};N();N();function x4(e){let t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}var G_e=class extends OM{fillPolygons(e,t){let n=t.hachureGap;n<0&&(n=t.strokeWidth*4),n=Math.max(n,.1);let r=Object.assign({},t,{hachureGap:n}),a=Cb(e,r),o=Math.PI/180*t.hachureAngle,s=[],l=n*.5*Math.cos(o),d=n*.5*Math.sin(o);for(let[u,f]of a)x4([u,f])&&s.push([[u[0]-l,u[1]+d],[...f]],[[u[0]+l,u[1]-d],[...f]]);return{type:"fillSketch",ops:this.renderLines(s,t)}}};N();var W_e=class extends OM{fillPolygons(e,t){let n=this._fillPolygons(e,t),r=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),a=this._fillPolygons(e,r);return n.ops=n.ops.concat(a.ops),n}};N();var V_e=class{constructor(e){this.helper=e}fillPolygons(e,t){t=Object.assign({},t,{hachureAngle:0});let n=Cb(e,t);return this.dotsOnLines(n,t)}dotsOnLines(e,t){let n=[],r=t.hachureGap;r<0&&(r=t.strokeWidth*4),r=Math.max(r,.1);let a=t.fillWeight;a<0&&(a=t.strokeWidth/2);let o=r/4;for(let s of e){let l=x4(s),d=l/r,u=Math.ceil(d)-1,f=l-u*r,p=(s[0][0]+s[1][0])/2-r/4,g=Math.min(s[0][1],s[1][1]);for(let v=0;v<u;v++){let c=g+f+v*r,h=p-o+Math.random()*2*o,m=c-o+Math.random()*2*o,U=this.helper.ellipse(h,m,a,a,t);n.push(...U.ops)}}return{type:"fillSketch",ops:n}}};N();var Y_e=class{constructor(e){this.helper=e}fillPolygons(e,t){let n=Cb(e,t);return{type:"fillSketch",ops:this.dashedLine(n,t)}}dashedLine(e,t){let n=t.dashOffset<0?t.hachureGap<0?t.strokeWidth*4:t.hachureGap:t.dashOffset,r=t.dashGap<0?t.hachureGap<0?t.strokeWidth*4:t.hachureGap:t.dashGap,a=[];return e.forEach(o=>{let s=x4(o),l=Math.floor(s/(n+r)),d=(s+r-l*(n+r))/2,u=o[0],f=o[1];u[0]>f[0]&&(u=o[1],f=o[0]);let p=Math.atan((f[1]-u[1])/(f[0]-u[0]));for(let g=0;g<l;g++){let v=g*(n+r),c=v+n,h=[u[0]+v*Math.cos(p)+d*Math.cos(p),u[1]+v*Math.sin(p)+d*Math.sin(p)],m=[u[0]+c*Math.cos(p)+d*Math.cos(p),u[1]+c*Math.sin(p)+d*Math.sin(p)];a.push(...this.helper.doubleLineOps(h[0],h[1],m[0],m[1],t))}}),a}};N();var K_e=class{constructor(e){this.helper=e}fillPolygons(e,t){let n=t.hachureGap<0?t.strokeWidth*4:t.hachureGap,r=t.zigzagOffset<0?n:t.zigzagOffset;t=Object.assign({},t,{hachureGap:n+r});let a=Cb(e,t);return{type:"fillSketch",ops:this.zigzagLines(a,r,t)}}zigzagLines(e,t,n){let r=[];return e.forEach(a=>{let o=x4(a),s=Math.round(o/(2*t)),l=a[0],d=a[1];l[0]>d[0]&&(l=a[1],d=a[0]);let u=Math.atan((d[1]-l[1])/(d[0]-l[0]));for(let f=0;f<s;f++){let p=f*2*t,g=(f+1)*2*t,v=Math.sqrt(2*Math.pow(t,2)),c=[l[0]+p*Math.cos(u),l[1]+p*Math.sin(u)],h=[l[0]+g*Math.cos(u),l[1]+g*Math.sin(u)],m=[c[0]+v*Math.cos(u+Math.PI/4),c[1]+v*Math.sin(u+Math.PI/4)];r.push(...this.helper.doubleLineOps(c[0],c[1],m[0],m[1],n),...this.helper.doubleLineOps(m[0],m[1],h[0],h[1],n))}}),r}},bo={};function X_e(e,t){let n=e.fillStyle||"hachure";if(!bo[n])switch(n){case"zigzag":bo[n]||(bo[n]=new G_e(t));break;case"cross-hatch":bo[n]||(bo[n]=new W_e(t));break;case"dots":bo[n]||(bo[n]=new V_e(t));break;case"dashed":bo[n]||(bo[n]=new Y_e(t));break;case"zigzag-line":bo[n]||(bo[n]=new K_e(t));break;case"hachure":default:n="hachure",bo[n]||(bo[n]=new OM(t));break}return bo[n]}N();function Z_e(){return Math.floor(Math.random()*2**31)}var PZ=class{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};N();N();var _5={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function q_e(e){let t=new Array;for(;e!=="";)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:0,text:RegExp.$1},e=e.substr(RegExp.$1.length);else if(e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))t[t.length]={type:1,text:`${parseFloat(RegExp.$1)}`},e=e.substr(RegExp.$1.length);else return[];return t[t.length]={type:2,text:""},t}function Tx(e,t){return e.type===t}function zM(e){let t=[],n=q_e(e),r="BOD",a=0,o=n[a];for(;!Tx(o,2);){let s=0,l=[];if(r==="BOD")if(o.text==="M"||o.text==="m")a++,s=_5[o.text],r=o.text;else return zM("M0,0"+e);else Tx(o,1)?s=_5[r]:(a++,s=_5[o.text],r=o.text);if(a+s<n.length){for(let d=a;d<a+s;d++){let u=n[d];if(Tx(u,1))l[l.length]=+u.text;else throw new Error("Param not a number: "+r+","+u.text)}if(typeof _5[r]=="number"){let d={key:r,data:l};t.push(d),a+=s,o=n[a],r==="M"&&(r="L"),r==="m"&&(r="l")}else throw new Error("Bad segment: "+r)}else throw new Error("Path data ended short")}return t}N();function LZ(e){let t=0,n=0,r=0,a=0,o=[];for(let{key:s,data:l}of e)switch(s){case"M":o.push({key:"M",data:[...l]}),[t,n]=l,[r,a]=l;break;case"m":t+=l[0],n+=l[1],o.push({key:"M",data:[t,n]}),r=t,a=n;break;case"L":o.push({key:"L",data:[...l]}),[t,n]=l;break;case"l":t+=l[0],n+=l[1],o.push({key:"L",data:[t,n]});break;case"C":o.push({key:"C",data:[...l]}),t=l[4],n=l[5];break;case"c":{let d=l.map((u,f)=>f%2?u+n:u+t);o.push({key:"C",data:d}),t=d[4],n=d[5];break}case"Q":o.push({key:"Q",data:[...l]}),t=l[2],n=l[3];break;case"q":{let d=l.map((u,f)=>f%2?u+n:u+t);o.push({key:"Q",data:d}),t=d[2],n=d[3];break}case"A":o.push({key:"A",data:[...l]}),t=l[5],n=l[6];break;case"a":t+=l[5],n+=l[6],o.push({key:"A",data:[l[0],l[1],l[2],l[3],l[4],t,n]});break;case"H":o.push({key:"H",data:[...l]}),t=l[0];break;case"h":t+=l[0],o.push({key:"H",data:[t]});break;case"V":o.push({key:"V",data:[...l]}),n=l[0];break;case"v":n+=l[0],o.push({key:"V",data:[n]});break;case"S":o.push({key:"S",data:[...l]}),t=l[2],n=l[3];break;case"s":{let d=l.map((u,f)=>f%2?u+n:u+t);o.push({key:"S",data:d}),t=d[2],n=d[3];break}case"T":o.push({key:"T",data:[...l]}),t=l[0],n=l[1];break;case"t":t+=l[0],n+=l[1],o.push({key:"T",data:[t,n]});break;case"Z":case"z":o.push({key:"Z",data:[]}),t=r,n=a;break}return o}N();function NZ(e){let t=[],n="",r=0,a=0,o=0,s=0,l=0,d=0;for(let{key:u,data:f}of e){switch(u){case"M":t.push({key:"M",data:[...f]}),[r,a]=f,[o,s]=f;break;case"C":t.push({key:"C",data:[...f]}),r=f[4],a=f[5],l=f[2],d=f[3];break;case"L":t.push({key:"L",data:[...f]}),[r,a]=f;break;case"H":r=f[0],t.push({key:"L",data:[r,a]});break;case"V":a=f[0],t.push({key:"L",data:[r,a]});break;case"S":{let p=0,g=0;n==="C"||n==="S"?(p=r+(r-l),g=a+(a-d)):(p=r,g=a),t.push({key:"C",data:[p,g,...f]}),l=f[0],d=f[1],r=f[2],a=f[3];break}case"T":{let[p,g]=f,v=0,c=0;n==="Q"||n==="T"?(v=r+(r-l),c=a+(a-d)):(v=r,c=a);let h=r+2*(v-r)/3,m=a+2*(c-a)/3,U=p+2*(v-p)/3,b=g+2*(c-g)/3;t.push({key:"C",data:[h,m,U,b,p,g]}),l=v,d=c,r=p,a=g;break}case"Q":{let[p,g,v,c]=f,h=r+2*(p-r)/3,m=a+2*(g-a)/3,U=v+2*(p-v)/3,b=c+2*(g-c)/3;t.push({key:"C",data:[h,m,U,b,v,c]}),l=p,d=g,r=v,a=c;break}case"A":{let p=Math.abs(f[0]),g=Math.abs(f[1]),v=f[2],c=f[3],h=f[4],m=f[5],U=f[6];p===0||g===0?(t.push({key:"C",data:[r,a,m,U,m,U]}),r=m,a=U):(r!==m||a!==U)&&($Z(r,a,m,U,p,g,v,c,h).forEach(function(b){t.push({key:"C",data:b})}),r=m,a=U);break}case"Z":t.push({key:"Z",data:[]}),r=o,a=s;break}n=u}return t}function J_e(e){return Math.PI*e/180}function J2(e,t,n){let r=e*Math.cos(n)-t*Math.sin(n),a=e*Math.sin(n)+t*Math.cos(n);return[r,a]}function $Z(e,t,n,r,a,o,s,l,d,u){let f=J_e(s),p=[],g=0,v=0,c=0,h=0;if(u)[g,v,c,h]=u;else{[e,t]=J2(e,t,-f),[n,r]=J2(n,r,-f);let L=(e-n)/2,j=(t-r)/2,re=L*L/(a*a)+j*j/(o*o);re>1&&(re=Math.sqrt(re),a=re*a,o=re*o);let J=l===d?-1:1,H=a*a,ne=o*o,Z=H*ne-H*j*j-ne*L*L,se=H*j*j+ne*L*L,O=J*Math.sqrt(Math.abs(Z/se));c=O*a*j/o+(e+n)/2,h=O*-o*L/a+(t+r)/2,g=Math.asin(parseFloat(((t-h)/o).toFixed(9))),v=Math.asin(parseFloat(((r-h)/o).toFixed(9))),e<c&&(g=Math.PI-g),n<c&&(v=Math.PI-v),g<0&&(g=Math.PI*2+g),v<0&&(v=Math.PI*2+v),d&&g>v&&(g=g-Math.PI*2),!d&&v>g&&(v=v-Math.PI*2)}let m=v-g;if(Math.abs(m)>Math.PI*120/180){let L=v,j=n,re=r;d&&v>g?v=g+Math.PI*120/180*1:v=g+Math.PI*120/180*-1,n=c+a*Math.cos(v),r=h+o*Math.sin(v),p=$Z(n,r,j,re,a,o,s,0,d,[v,L,c,h])}m=v-g;let U=Math.cos(g),b=Math.sin(g),w=Math.cos(v),E=Math.sin(v),x=Math.tan(m/4),C=4/3*a*x,I=4/3*o*x,S=[e,t],M=[e+C*b,t-I*U],R=[n+C*E,r-I*w],D=[n,r];if(M[0]=2*S[0]-M[0],M[1]=2*S[1]-M[1],u)return[M,R,D].concat(p);{p=[M,R,D].concat(p);let L=[];for(let j=0;j<p.length;j+=3){let re=J2(p[j][0],p[j][1],f),J=J2(p[j+1][0],p[j+1][1],f),H=J2(p[j+2][0],p[j+2][1],f);L.push([re[0],re[1],J[0],J[1],H[0],H[1]])}return L}}var eCe={randOffset:aCe,randOffsetWithRange:oCe,ellipse:rCe,doubleLineOps:sCe};function FZ(e,t,n,r,a){return{type:"path",ops:Zu(e,t,n,r,a)}}function q3(e,t,n){let r=(e||[]).length;if(r>2){let a=[];for(let o=0;o<r-1;o++)a.push(...Zu(e[o][0],e[o][1],e[o+1][0],e[o+1][1],n));return t&&a.push(...Zu(e[r-1][0],e[r-1][1],e[0][0],e[0][1],n)),{type:"path",ops:a}}else if(r===2)return FZ(e[0][0],e[0][1],e[1][0],e[1][1],n);return{type:"path",ops:[]}}function tCe(e,t){return q3(e,!0,t)}function nCe(e,t,n,r,a){let o=[[e,t],[e+n,t],[e+n,t+r],[e,t+r]];return tCe(o,a)}function TF(e,t){let n=PF(e,1*(1+t.roughness*.2),t);if(!t.disableMultiStroke){let r=PF(e,1.5*(1+t.roughness*.22),lCe(t));n=n.concat(r)}return{type:"path",ops:n}}function rCe(e,t,n,r,a){let o=jZ(n,r,a);return GC(e,t,a,o).opset}function jZ(e,t,n){let r=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),a=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),o=Math.PI*2/a,s=Math.abs(e/2),l=Math.abs(t/2),d=1-n.curveFitting;return s+=tn(s*d,n),l+=tn(l*d,n),{increment:o,rx:s,ry:l}}function GC(e,t,n,r){let[a,o]=LF(r.increment,e,t,r.rx,r.ry,1,r.increment*L8(.1,L8(.4,1,n),n),n),s=N8(a,null,n);if(!n.disableMultiStroke&&n.roughness!==0){let[l]=LF(r.increment,e,t,r.rx,r.ry,1.5,0,n),d=N8(l,null,n);s=s.concat(d)}return{estimatedPoints:o,opset:{type:"path",ops:s}}}function BF(e,t,n,r,a,o,s,l,d){let u=e,f=t,p=Math.abs(n/2),g=Math.abs(r/2);p+=tn(p*.01,d),g+=tn(g*.01,d);let v=a,c=o;for(;v<0;)v+=Math.PI*2,c+=Math.PI*2;c-v>Math.PI*2&&(v=0,c=Math.PI*2);let h=Math.PI*2/d.curveStepCount,m=Math.min(h/2,(c-v)/2),U=NF(m,u,f,p,g,v,c,1,d);if(!d.disableMultiStroke){let b=NF(m,u,f,p,g,v,c,1.5,d);U.push(...b)}return s&&(l?U.push(...Zu(u,f,u+p*Math.cos(v),f+g*Math.sin(v),d),...Zu(u,f,u+p*Math.cos(c),f+g*Math.sin(c),d)):U.push({op:"lineTo",data:[u,f]},{op:"lineTo",data:[u+p*Math.cos(v),f+g*Math.sin(v)]})),{type:"path",ops:U}}function RF(e,t){let n=NZ(LZ(zM(e))),r=[],a=[0,0],o=[0,0];for(let{key:s,data:l}of n)switch(s){case"M":{o=[l[0],l[1]],a=[l[0],l[1]];break}case"L":r.push(...Zu(o[0],o[1],l[0],l[1],t)),o=[l[0],l[1]];break;case"C":{let[d,u,f,p,g,v]=l;r.push(...cCe(d,u,f,p,g,v,o,t)),o=[g,v];break}case"Z":r.push(...Zu(o[0],o[1],a[0],a[1],t)),o=[a[0],a[1]];break}return{type:"path",ops:r}}function Bx(e,t){let n=[];for(let r of e)if(r.length){let a=t.maxRandomnessOffset||0,o=r.length;if(o>2){n.push({op:"move",data:[r[0][0]+tn(a,t),r[0][1]+tn(a,t)]});for(let s=1;s<o;s++)n.push({op:"lineTo",data:[r[s][0]+tn(a,t),r[s][1]+tn(a,t)]})}}return{type:"fillPath",ops:n}}function ug(e,t){return X_e(t,eCe).fillPolygons(e,t)}function iCe(e,t,n,r,a,o,s){let l=e,d=t,u=Math.abs(n/2),f=Math.abs(r/2);u+=tn(u*.01,s),f+=tn(f*.01,s);let p=a,g=o;for(;p<0;)p+=Math.PI*2,g+=Math.PI*2;g-p>Math.PI*2&&(p=0,g=Math.PI*2);let v=(g-p)/s.curveStepCount,c=[];for(let h=p;h<=g;h=h+v)c.push([l+u*Math.cos(h),d+f*Math.sin(h)]);return c.push([l+u*Math.cos(g),d+f*Math.sin(g)]),c.push([l,d]),ug([c],s)}function aCe(e,t){return tn(e,t)}function oCe(e,t,n){return L8(e,t,n)}function sCe(e,t,n,r,a){return Zu(e,t,n,r,a,!0)}function lCe(e){let t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function OZ(e){return e.randomizer||(e.randomizer=new PZ(e.seed||0)),e.randomizer.next()}function L8(e,t,n,r=1){return n.roughness*r*(OZ(n)*(t-e)+e)}function tn(e,t,n=1){return L8(-e,e,t,n)}function Zu(e,t,n,r,a,o=!1){let s=o?a.disableMultiStrokeFill:a.disableMultiStroke,l=DF(e,t,n,r,a,!0,!1);if(s)return l;let d=DF(e,t,n,r,a,!0,!0);return l.concat(d)}function DF(e,t,n,r,a,o,s){let l=Math.pow(e-n,2)+Math.pow(t-r,2),d=Math.sqrt(l),u=1;d<200?u=1:d>500?u=.4:u=-.0016668*d+1.233334;let f=a.maxRandomnessOffset||0;f*f*100>l&&(f=d/10);let p=f/2,g=.2+OZ(a)*.2,v=a.bowing*a.maxRandomnessOffset*(r-t)/200,c=a.bowing*a.maxRandomnessOffset*(e-n)/200;v=tn(v,a,u),c=tn(c,a,u);let h=[],m=()=>tn(p,a,u),U=()=>tn(f,a,u),b=a.preserveVertices;return s?h.push({op:"move",data:[e+(b?0:m()),t+(b?0:m())]}):h.push({op:"move",data:[e+(b?0:tn(f,a,u)),t+(b?0:tn(f,a,u))]}),s?h.push({op:"bcurveTo",data:[v+e+(n-e)*g+m(),c+t+(r-t)*g+m(),v+e+2*(n-e)*g+m(),c+t+2*(r-t)*g+m(),n+(b?0:m()),r+(b?0:m())]}):h.push({op:"bcurveTo",data:[v+e+(n-e)*g+U(),c+t+(r-t)*g+U(),v+e+2*(n-e)*g+U(),c+t+2*(r-t)*g+U(),n+(b?0:U()),r+(b?0:U())]}),h}function PF(e,t,n){let r=[];r.push([e[0][0]+tn(t,n),e[0][1]+tn(t,n)]),r.push([e[0][0]+tn(t,n),e[0][1]+tn(t,n)]);for(let a=1;a<e.length;a++)r.push([e[a][0]+tn(t,n),e[a][1]+tn(t,n)]),a===e.length-1&&r.push([e[a][0]+tn(t,n),e[a][1]+tn(t,n)]);return N8(r,null,n)}function N8(e,t,n){let r=e.length,a=[];if(r>3){let o=[],s=1-n.curveTightness;a.push({op:"move",data:[e[1][0],e[1][1]]});for(let l=1;l+2<r;l++){let d=e[l];o[0]=[d[0],d[1]],o[1]=[d[0]+(s*e[l+1][0]-s*e[l-1][0])/6,d[1]+(s*e[l+1][1]-s*e[l-1][1])/6],o[2]=[e[l+1][0]+(s*e[l][0]-s*e[l+2][0])/6,e[l+1][1]+(s*e[l][1]-s*e[l+2][1])/6],o[3]=[e[l+1][0],e[l+1][1]],a.push({op:"bcurveTo",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}}else r===3?(a.push({op:"move",data:[e[1][0],e[1][1]]}),a.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):r===2&&a.push(...Zu(e[0][0],e[0][1],e[1][0],e[1][1],n));return a}function LF(e,t,n,r,a,o,s,l){let d=l.roughness===0,u=[],f=[];if(d){e=e/4,f.push([t+r*Math.cos(-e),n+a*Math.sin(-e)]);for(let p=0;p<=Math.PI*2;p=p+e){let g=[t+r*Math.cos(p),n+a*Math.sin(p)];u.push(g),f.push(g)}f.push([t+r*Math.cos(0),n+a*Math.sin(0)]),f.push([t+r*Math.cos(e),n+a*Math.sin(e)])}else{let p=tn(.5,l)-Math.PI/2;f.push([tn(o,l)+t+.9*r*Math.cos(p-e),tn(o,l)+n+.9*a*Math.sin(p-e)]);let g=Math.PI*2+p-.01;for(let v=p;v<g;v=v+e){let c=[tn(o,l)+t+r*Math.cos(v),tn(o,l)+n+a*Math.sin(v)];u.push(c),f.push(c)}f.push([tn(o,l)+t+r*Math.cos(p+Math.PI*2+s*.5),tn(o,l)+n+a*Math.sin(p+Math.PI*2+s*.5)]),f.push([tn(o,l)+t+.98*r*Math.cos(p+s),tn(o,l)+n+.98*a*Math.sin(p+s)]),f.push([tn(o,l)+t+.9*r*Math.cos(p+s*.5),tn(o,l)+n+.9*a*Math.sin(p+s*.5)])}return[f,u]}function NF(e,t,n,r,a,o,s,l,d){let u=o+tn(.1,d),f=[];f.push([tn(l,d)+t+.9*r*Math.cos(u-e),tn(l,d)+n+.9*a*Math.sin(u-e)]);for(let p=u;p<=s;p=p+e)f.push([tn(l,d)+t+r*Math.cos(p),tn(l,d)+n+a*Math.sin(p)]);return f.push([t+r*Math.cos(s),n+a*Math.sin(s)]),f.push([t+r*Math.cos(s),n+a*Math.sin(s)]),N8(f,null,d)}function cCe(e,t,n,r,a,o,s,l){let d=[],u=[l.maxRandomnessOffset||1,(l.maxRandomnessOffset||1)+.3],f=[0,0],p=l.disableMultiStroke?1:2,g=l.preserveVertices;for(let v=0;v<p;v++)v===0?d.push({op:"move",data:[s[0],s[1]]}):d.push({op:"move",data:[s[0]+(g?0:tn(u[0],l)),s[1]+(g?0:tn(u[0],l))]}),f=g?[a,o]:[a+tn(u[v],l),o+tn(u[v],l)],d.push({op:"bcurveTo",data:[e+tn(u[v],l),t+tn(u[v],l),n+tn(u[v],l),r+tn(u[v],l),f[0],f[1]]});return d}N();function eU(e){return[...e]}function dCe(e,t=0){let n=e.length;if(n<3)throw new Error("A curve must have at least three points.");let r=[];if(n===3)r.push(eU(e[0]),eU(e[1]),eU(e[2]),eU(e[2]));else{let a=[];a.push(e[0],e[0]);for(let l=1;l<e.length;l++)a.push(e[l]),l===e.length-1&&a.push(e[l]);let o=[],s=1-t;r.push(eU(a[0]));for(let l=1;l+2<a.length;l++){let d=a[l];o[0]=[d[0],d[1]],o[1]=[d[0]+(s*a[l+1][0]-s*a[l-1][0])/6,d[1]+(s*a[l+1][1]-s*a[l-1][1])/6],o[2]=[a[l+1][0]+(s*a[l][0]-s*a[l+2][0])/6,a[l+1][1]+(s*a[l][1]-s*a[l+2][1])/6],o[3]=[a[l+1][0],a[l+1][1]],r.push(o[1],o[2],o[3])}}return r}N();function uCe(e,t){return Math.sqrt(J3(e,t))}function J3(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function fCe(e,t,n){let r=J3(t,n);if(r===0)return J3(e,t);let a=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return a=Math.max(0,Math.min(1,a)),J3(e,Vp(t,n,a))}function Vp(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function hCe(e,t){let n=e[t+0],r=e[t+1],a=e[t+2],o=e[t+3],s=3*r[0]-2*n[0]-o[0];s*=s;let l=3*r[1]-2*n[1]-o[1];l*=l;let d=3*a[0]-2*o[0]-n[0];d*=d;let u=3*a[1]-2*o[1]-n[1];return u*=u,s<d&&(s=d),l<u&&(l=u),s+l}function WC(e,t,n,r){let a=r||[];if(hCe(e,t)<n){let o=e[t+0];a.length?uCe(a[a.length-1],o)>1&&a.push(o):a.push(o),a.push(e[t+3])}else{let o=e[t+0],s=e[t+1],l=e[t+2],d=e[t+3],u=Vp(o,s,.5),f=Vp(s,l,.5),p=Vp(l,d,.5),g=Vp(u,f,.5),v=Vp(f,p,.5),c=Vp(g,v,.5);WC([o,u,g,c],0,n,a),WC([c,v,p,d],0,n,a)}return a}function pCe(e,t){return $8(e,0,e.length,t)}function $8(e,t,n,r,a){let o=a||[],s=e[t],l=e[n-1],d=0,u=1;for(let f=t+1;f<n-1;++f){let p=fCe(e[f],s,l);p>d&&(d=p,u=f)}return Math.sqrt(d)>r?($8(e,t,u+1,r,o),$8(e,u,n,r,o)):(o.length||o.push(s),o.push(l)),o}function QM(e,t=.15,n){let r=[],a=(e.length-1)/3;for(let o=0;o<a;o++){let s=o*3;WC(e,s,t,r)}return n&&n>0?$8(r,0,r.length,n):r}N();function gCe(e,t,n){let r=zM(e),a=NZ(LZ(r)),o=[],s=[],l=[0,0],d=[],u=()=>{d.length>=4&&s.push(...QM(d,t)),d=[]},f=()=>{u(),s.length&&(o.push(s),s=[])};for(let{key:g,data:v}of a)switch(g){case"M":f(),l=[v[0],v[1]],s.push(l);break;case"L":u(),s.push([v[0],v[1]]);break;case"C":if(!d.length){let c=s.length?s[s.length-1]:l;d.push([c[0],c[1]])}d.push([v[0],v[1]]),d.push([v[2],v[3]]),d.push([v[4],v[5]]);break;case"Z":u(),s.push([l[0],l[1]]);break}if(f(),!n)return o;let p=[];for(let g of o){let v=pCe(g,n);v.length&&p.push(v)}return p}var os="none",Dy=class{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Z_e()}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,n,r){return{shape:t,sets:n||[],options:r||this.defaultOptions}}line(t,n,r,a,o){let s=this._o(o);return this._d("line",[FZ(t,n,r,a,s)],s)}rectangle(t,n,r,a,o){let s=this._o(o),l=[],d=nCe(t,n,r,a,s);if(s.fill){let u=[[t,n],[t+r,n],[t+r,n+a],[t,n+a]];s.fillStyle==="solid"?l.push(Bx([u],s)):l.push(ug([u],s))}return s.stroke!==os&&l.push(d),this._d("rectangle",l,s)}ellipse(t,n,r,a,o){let s=this._o(o),l=[],d=jZ(r,a,s),u=GC(t,n,s,d);if(s.fill)if(s.fillStyle==="solid"){let f=GC(t,n,s,d).opset;f.type="fillPath",l.push(f)}else l.push(ug([u.estimatedPoints],s));return s.stroke!==os&&l.push(u.opset),this._d("ellipse",l,s)}circle(t,n,r,a){let o=this.ellipse(t,n,r,r,a);return o.shape="circle",o}linearPath(t,n){let r=this._o(n);return this._d("linearPath",[q3(t,!1,r)],r)}arc(t,n,r,a,o,s,l=!1,d){let u=this._o(d),f=[],p=BF(t,n,r,a,o,s,l,!0,u);if(l&&u.fill)if(u.fillStyle==="solid"){let g=Object.assign({},u);g.disableMultiStroke=!0;let v=BF(t,n,r,a,o,s,!0,!1,g);v.type="fillPath",f.push(v)}else f.push(iCe(t,n,r,a,o,s,u));return u.stroke!==os&&f.push(p),this._d("arc",f,u)}curve(t,n){let r=this._o(n),a=[],o=TF(t,r);if(r.fill&&r.fill!==os&&t.length>=3)if(r.fillStyle==="solid"){let s=TF(t,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(s.ops)})}else{let s=dCe(t),l=QM(s,10,(1+r.roughness)/2);a.push(ug([l],r))}return r.stroke!==os&&a.push(o),this._d("curve",a,r)}polygon(t,n){let r=this._o(n),a=[],o=q3(t,!0,r);return r.fill&&(r.fillStyle==="solid"?a.push(Bx([t],r)):a.push(ug([t],r))),r.stroke!==os&&a.push(o),this._d("polygon",a,r)}path(t,n){let r=this._o(n),a=[];if(!t)return this._d("path",a,r);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");let o=r.fill&&r.fill!=="transparent"&&r.fill!==os,s=r.stroke!==os,l=!!(r.simplification&&r.simplification<1),d=l?4-4*(r.simplification||1):(1+r.roughness)/2,u=gCe(t,1,d),f=RF(t,r);if(o)if(r.fillStyle==="solid")if(u.length===1){let p=RF(t,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(p.ops)})}else a.push(Bx(u,r));else a.push(ug(u,r));return s&&(l?u.forEach(p=>{a.push(q3(p,!1,r))}):a.push(f)),this._d("path",a,r)}opsToPath(t,n){let r="";for(let a of t.ops){let o=typeof n=="number"&&n>=0?a.data.map(s=>+s.toFixed(n)):a.data;switch(a.op){case"move":r+=`M${o[0]} ${o[1]} `;break;case"bcurveTo":r+=`C${o[0]} ${o[1]}, ${o[2]} ${o[3]}, ${o[4]} ${o[5]} `;break;case"lineTo":r+=`L${o[0]} ${o[1]} `;break}}return r.trim()}toPaths(t){let n=t.sets||[],r=t.options||this.defaultOptions,a=[];for(let o of n){let s=null;switch(o.type){case"path":s={d:this.opsToPath(o),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:os};break;case"fillPath":s={d:this.opsToPath(o),stroke:os,strokeWidth:0,fill:r.fill||os};break;case"fillSketch":s=this.fillSketch(o,r);break}s&&a.push(s)}return a}fillSketch(t,n){let r=n.fillWeight;return r<0&&(r=n.strokeWidth/2),{d:this.opsToPath(t),stroke:n.fill||os,strokeWidth:r,fill:os}}_mergedShape(t){return t.filter((n,r)=>r===0?!0:n.op!=="move")}},mCe=class{constructor(t,n){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new Dy(n)}draw(t){let n=t.sets||[],r=t.options||this.getDefaultOptions(),a=this.ctx,o=t.options.fixedDecimalPlaceDigits;for(let s of n)switch(s.type){case"path":a.save(),a.strokeStyle=r.stroke==="none"?"transparent":r.stroke,a.lineWidth=r.strokeWidth,r.strokeLineDash&&a.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(a.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(a,s,o),a.restore();break;case"fillPath":{a.save(),a.fillStyle=r.fill||"";let l=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(a,s,o,l),a.restore();break}case"fillSketch":this.fillSketch(a,s,r);break}}fillSketch(t,n,r){let a=r.fillWeight;a<0&&(a=r.strokeWidth/2),t.save(),r.fillLineDash&&t.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(t.lineDashOffset=r.fillLineDashOffset),t.strokeStyle=r.fill||"",t.lineWidth=a,this._drawToContext(t,n,r.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,n,r,a="nonzero"){t.beginPath();for(let o of n.ops){let s=typeof r=="number"&&r>=0?o.data.map(l=>+l.toFixed(r)):o.data;switch(o.op){case"move":t.moveTo(s[0],s[1]);break;case"bcurveTo":t.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"lineTo":t.lineTo(s[0],s[1]);break}}n.type==="fillPath"?t.fill(a):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,n,r,a,o){let s=this.gen.line(t,n,r,a,o);return this.draw(s),s}rectangle(t,n,r,a,o){let s=this.gen.rectangle(t,n,r,a,o);return this.draw(s),s}ellipse(t,n,r,a,o){let s=this.gen.ellipse(t,n,r,a,o);return this.draw(s),s}circle(t,n,r,a){let o=this.gen.circle(t,n,r,a);return this.draw(o),o}linearPath(t,n){let r=this.gen.linearPath(t,n);return this.draw(r),r}polygon(t,n){let r=this.gen.polygon(t,n);return this.draw(r),r}arc(t,n,r,a,o,s,l=!1,d){let u=this.gen.arc(t,n,r,a,o,s,l,d);return this.draw(u),u}curve(t,n){let r=this.gen.curve(t,n);return this.draw(r),r}path(t,n){let r=this.gen.path(t,n);return this.draw(r),r}};N();N();var C5="http://www.w3.org/2000/svg",UCe=class{constructor(e,t){this.svg=e,this.gen=new Dy(t)}draw(e){let t=e.sets||[],n=e.options||this.getDefaultOptions(),r=this.svg.ownerDocument||window.document,a=r.createElementNS(C5,"g"),o=e.options.fixedDecimalPlaceDigits;for(let s of t){let l=null;switch(s.type){case"path":{l=r.createElementNS(C5,"path"),l.setAttribute("d",this.opsToPath(s,o)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break}case"fillPath":{l=r.createElementNS(C5,"path"),l.setAttribute("d",this.opsToPath(s,o)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),(e.shape==="curve"||e.shape==="polygon")&&l.setAttribute("fill-rule","evenodd");break}case"fillSketch":{l=this.fillSketch(r,s,n);break}}l&&a.appendChild(l)}return a}fillSketch(e,t,n){let r=n.fillWeight;r<0&&(r=n.strokeWidth/2);let a=e.createElementNS(C5,"path");return a.setAttribute("d",this.opsToPath(t,n.fixedDecimalPlaceDigits)),a.setAttribute("stroke",n.fill||""),a.setAttribute("stroke-width",r+""),a.setAttribute("fill","none"),n.fillLineDash&&a.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,t){return this.gen.opsToPath(e,t)}line(e,t,n,r,a){let o=this.gen.line(e,t,n,r,a);return this.draw(o)}rectangle(e,t,n,r,a){let o=this.gen.rectangle(e,t,n,r,a);return this.draw(o)}ellipse(e,t,n,r,a){let o=this.gen.ellipse(e,t,n,r,a);return this.draw(o)}circle(e,t,n,r){let a=this.gen.circle(e,t,n,r);return this.draw(a)}linearPath(e,t){let n=this.gen.linearPath(e,t);return this.draw(n)}polygon(e,t){let n=this.gen.polygon(e,t);return this.draw(n)}arc(e,t,n,r,a,o,s=!1,l){let d=this.gen.arc(e,t,n,r,a,o,s,l);return this.draw(d)}curve(e,t){let n=this.gen.curve(e,t);return this.draw(n)}path(e,t){let n=this.gen.path(e,t);return this.draw(n)}},op={canvas(e,t){return new mCe(e,t)},svg(e,t){return new UCe(e,t)},generator(e){return new Dy(e)},newSeed(){return Dy.newSeed()}};N();N();N();function $F(e,t,n,r=a=>a){return e*r(.5-t*(.5-n))}function vCe(e){return[-e[0],-e[1]]}function Kl(e,t){return[e[0]+t[0],e[1]+t[1]]}function el(e,t){return[e[0]-t[0],e[1]-t[1]]}function Ql(e,t){return[e[0]*t,e[1]*t]}function yCe(e,t){return[e[0]/t,e[1]/t]}function tU(e){return[e[1],-e[0]]}function FF(e,t){return e[0]*t[0]+e[1]*t[1]}function bCe(e,t){return e[0]===t[0]&&e[1]===t[1]}function ACe(e){return Math.hypot(e[0],e[1])}function wCe(e){return e[0]*e[0]+e[1]*e[1]}function jF(e,t){return wCe(el(e,t))}function zZ(e){return yCe(e,ACe(e))}function ECe(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function nU(e,t,n){let r=Math.sin(n),a=Math.cos(n),o=e[0]-t[0],s=e[1]-t[1],l=o*a-s*r,d=o*r+s*a;return[l+t[0],d+t[1]]}function VC(e,t,n){return Kl(e,Ql(el(t,e),n))}function OF(e,t,n){return Kl(e,Ql(t,n))}var{min:T1,PI:xCe}=Math,zF=.275,rU=xCe+1e-4;function _Ce(e,t={}){let{size:n=16,smoothing:r=.5,thinning:a=.5,simulatePressure:o=!0,easing:s=ne=>ne,start:l={},end:d={},last:u=!1}=t,{cap:f=!0,easing:p=ne=>ne*(2-ne)}=l,{cap:g=!0,easing:v=ne=>--ne*ne*ne+1}=d;if(e.length===0||n<=0)return[];let c=e[e.length-1].runningLength,h=l.taper===!1?0:l.taper===!0?Math.max(n,c):l.taper,m=d.taper===!1?0:d.taper===!0?Math.max(n,c):d.taper,U=Math.pow(n*r,2),b=[],w=[],E=e.slice(0,10).reduce((ne,Z)=>{let se=Z.pressure;if(o){let O=T1(1,Z.distance/n),V=T1(1,1-O);se=T1(1,ne+(V-ne)*(O*zF))}return(ne+se)/2},e[0].pressure),x=$F(n,a,e[e.length-1].pressure,s),C,I=e[0].vector,S=e[0].point,M=S,R=S,D=M,L=!1;for(let ne=0;ne<e.length;ne++){let{pressure:Z}=e[ne],{point:se,vector:O,distance:V,runningLength:de}=e[ne];if(ne<e.length-1&&c-de<3)continue;if(a){if(o){let Ee=T1(1,V/n),ze=T1(1,1-Ee);Z=T1(1,E+(ze-E)*(Ee*zF))}x=$F(n,a,Z,s)}else x=n/2;C===void 0&&(C=x);let oe=de<h?p(de/h):1,me=c-de<m?v((c-de)/m):1;x=Math.max(.01,x*Math.min(oe,me));let ve=(ne<e.length-1?e[ne+1]:e[ne]).vector,xe=ne<e.length-1?FF(O,ve):1,le=FF(O,I)<0&&!L,he=xe!==null&&xe<0;if(le||he){let Ee=Ql(tU(I),x);for(let ze=1/13,at=0;at<=1;at+=ze)R=nU(el(se,Ee),se,rU*at),b.push(R),D=nU(Kl(se,Ee),se,rU*-at),w.push(D);S=R,M=D,he&&(L=!0);continue}if(L=!1,ne===e.length-1){let Ee=Ql(tU(O),x);b.push(el(se,Ee)),w.push(Kl(se,Ee));continue}let ge=Ql(tU(VC(ve,O,xe)),x);R=el(se,ge),(ne<=1||jF(S,R)>U)&&(b.push(R),S=R),D=Kl(se,ge),(ne<=1||jF(M,D)>U)&&(w.push(D),M=D),E=Z,I=O}let j=e[0].point.slice(0,2),re=e.length>1?e[e.length-1].point.slice(0,2):Kl(e[0].point,[1,1]),J=[],H=[];if(e.length===1){if(!(h||m)||u){let ne=OF(j,zZ(tU(el(j,re))),-(C||x)),Z=[];for(let se=1/13,O=se;O<=1;O+=se)Z.push(nU(ne,j,rU*2*O));return Z}}else{if(!(h||m&&e.length===1))if(f)for(let Z=1/13,se=Z;se<=1;se+=Z){let O=nU(w[0],j,rU*se);J.push(O)}else{let Z=el(b[0],w[0]),se=Ql(Z,.5),O=Ql(Z,.51);J.push(el(j,se),el(j,O),Kl(j,O),Kl(j,se))}let ne=tU(vCe(e[e.length-1].vector));if(m||h&&e.length===1)H.push(re);else if(g){let Z=OF(re,ne,x);for(let se=1/29,O=se;O<1;O+=se)H.push(nU(Z,re,rU*3*O))}else H.push(Kl(re,Ql(ne,x)),Kl(re,Ql(ne,x*.99)),el(re,Ql(ne,x*.99)),el(re,Ql(ne,x)))}return b.concat(H,w.reverse(),J)}function CCe(e,t={}){var n;let{streamline:r=.5,size:a=16,last:o=!1}=t;if(e.length===0)return[];let s=.15+(1-r)*.85,l=Array.isArray(e[0])?e:e.map(({x:v,y:c,pressure:h=.5})=>[v,c,h]);if(l.length===2){let v=l[1];l=l.slice(0,-1);for(let c=1;c<5;c++)l.push(VC(l[0],v,c/4))}l.length===1&&(l=[...l,[...Kl(l[0],[1,1]),...l[0].slice(2)]]);let d=[{point:[l[0][0],l[0][1]],pressure:l[0][2]>=0?l[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],u=!1,f=0,p=d[0],g=l.length-1;for(let v=1;v<l.length;v++){let c=o&&v===g?l[v].slice(0,2):VC(p.point,l[v],s);if(bCe(p.point,c))continue;let h=ECe(c,p.point);if(f+=h,v<g&&!u){if(f<a)continue;u=!0}p={point:c,pressure:l[v][2]>=0?l[v][2]:.5,vector:zZ(el(p.point,c)),distance:h,runningLength:f},d.push(p)}return d[0].vector=((n=d[1])==null?void 0:n.vector)||[0,0],d}function SCe(e,t={}){return _Ce(CCe(e,t),t)}N();var Gi,Vr=(Gi=class{},ee(Gi,"rg",new Dy),ee(Gi,"cache",new WeakMap),ee(Gi,"get",t=>Gi.cache.get(t)),ee(Gi,"set",(t,n)=>Gi.cache.set(t,n)),ee(Gi,"delete",t=>Gi.cache.delete(t)),ee(Gi,"destroy",()=>{Gi.cache=new WeakMap}),ee(Gi,"generateElementShape",(t,n)=>{let r=n!=null&&n.isExporting?void 0:Gi.get(t);if(r!==void 0)return r;nS.delete(t);let a=kRe(t,Gi.rg,n||{isExporting:!1,canvasBackgroundColor:fn.white,embedsValidationStatus:null});return Gi.cache.set(t,a),a}),Gi);N();N();N();N();N();var Xo=te(Fe(),1);N();function QZ(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=QZ(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function bt(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=QZ(t))&&(r&&(r+=" "),r+=n);return r}var k=te(Se(),1),tc=e=>"var(--icon-fill-color)",HZ=e=>e===Un.LIGHT?pa.white:"#1e1e1e",we=(e,t=512)=>{let{width:n=512,height:r=n,mirror:a,style:o,...s}=typeof t=="number"?{width:t}:t;return(0,k.jsx)("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:`0 0 ${n} ${r}`,className:bt({"rtl-mirror":a}),style:o,...s,children:typeof e=="string"?(0,k.jsx)("path",{fill:"currentColor",d:e}):e})},ht={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},sn={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"};we((0,k.jsxs)("g",{strokeWidth:"1.5",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("rect",{x:3,y:8,width:18,height:4,rx:1}),(0,k.jsx)("line",{x1:12,y1:8,x2:12,y2:21}),(0,k.jsx)("path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"}),(0,k.jsx)("path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5"})]}),ht);var HM=we((0,k.jsxs)("g",{strokeWidth:"1.25",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,k.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,k.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,k.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,k.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),ht),ICe=we((0,k.jsxs)("svg",{strokeWidth:"1.5",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,k.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),ht),kCe=we((0,k.jsxs)("g",{strokeWidth:"1.5",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,k.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,k.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),ht),MCe=we((0,k.jsxs)("svg",{strokeWidth:"1.5",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,k.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,k.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),ht),_4=we((0,k.jsxs)("g",{children:[(0,k.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,k.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,k.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,k.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,k.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,k.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),sn),GM=we((0,k.jsxs)("g",{strokeWidth:"1.25",children:[(0,k.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,k.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,k.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),sn),TCe=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,k.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,k.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),BCe=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,k.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,k.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),RCe=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,k.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,k.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"});we((0,k.jsx)("g",{fill:"currentColor",children:(0,k.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})}),{width:40,height:40,fill:"none"});var DCe=we((0,k.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,k.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25}),PCe=we((0,k.jsxs)("g",{strokeWidth:"1.5",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),ht),LCe=we((0,k.jsxs)("g",{strokeWidth:"1.5",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),ht),NCe=we((0,k.jsxs)("g",{strokeWidth:"1.5",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),ht),$Ce=we((0,k.jsxs)("g",{strokeWidth:"1.5",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,k.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,k.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),ht),FCe=we((0,k.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),sn),jCe=we((0,k.jsxs)("g",{strokeWidth:"1.25",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,k.jsx)("path",{d:"M16 7h4"}),(0,k.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),ht),Py=we((0,k.jsxs)("g",{strokeWidth:"1.25",children:[(0,k.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,k.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),sn),GZ=we((0,k.jsxs)("g",{strokeWidth:"1.5",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,k.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,k.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,k.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,k.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),ht),OCe=we((0,k.jsxs)("g",{strokeWidth:"1.25",children:[(0,k.jsx)("path",{d:"M12.5 6.667h.01"}),(0,k.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,k.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,k.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),sn),zCe=we((0,k.jsxs)("g",{strokeWidth:"1.5",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,k.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),ht),QF=we((0,k.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),sn),HF=we((0,k.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),sn),QCe=we((0,k.jsxs)("g",{strokeWidth:1.25,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M21 21l-6 -6"}),(0,k.jsx)("path",{d:"M3.268 12.043a7.017 7.017 0 0 0 6.634 4.957a7.012 7.012 0 0 0 7.043 -6.131a7 7 0 0 0 -5.314 -7.672a7.021 7.021 0 0 0 -8.241 4.403"}),(0,k.jsx)("path",{d:"M3 4v4h4"})]}),ht),z0=we((0,k.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),sn),HCe=we((0,k.jsxs)("g",{strokeWidth:"1.25",children:[(0,k.jsx)("polyline",{points:"12 16 18 10 12 4"}),(0,k.jsx)("polyline",{points:"8 4 2 10 8 16"})]}),sn),YC=we((0,k.jsxs)("g",{strokeWidth:"1.25",children:[(0,k.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,k.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),sn),KC=we((0,k.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),sn),XC=we((0,k.jsx)("g",{stroke:"currentColor",strokeLinejoin:"round",children:(0,k.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),{...sn,strokeWidth:1.5}),WZ=we((0,k.jsxs)("g",{strokeWidth:"1.5",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,k.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,k.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),ht),C4=we((0,k.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),sn),WM=we((0,k.jsxs)("g",{strokeWidth:"1.5",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,k.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,k.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),ht),GCe=we((0,k.jsxs)("g",{strokeWidth:"1.25",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,k.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,k.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),ht),GF=we((0,k.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),sn),VZ=we((0,k.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),sn),WCe=we((0,k.jsxs)("g",{strokeWidth:"1.25",children:[(0,k.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,k.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),sn),VCe=we((0,k.jsxs)("g",{strokeWidth:"1.25",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M4 4l11.733 16h4.267l-11.733 -16z"}),(0,k.jsx)("path",{d:"M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772"})]}),ht),YCe=we((0,k.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),ZC=we((0,k.jsxs)("g",{strokeWidth:"1.25",children:[(0,k.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,k.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),sn),KCe=we("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),XCe=we("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),VM=we((0,k.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),sn);we("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512});var ZCe=we("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),Rx=we((0,k.jsxs)("g",{strokeWidth:1.25,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M5 16l1.465 1.638a2 2 0 1 1 -3.015 .099l1.55 -1.737z"}),(0,k.jsx)("path",{d:"M13.737 9.737c2.299 -2.3 3.23 -5.095 2.081 -6.245c-1.15 -1.15 -3.945 -.217 -6.244 2.082c-2.3 2.299 -3.231 5.095 -2.082 6.244c1.15 1.15 3.946 .218 6.245 -2.081z"}),(0,k.jsx)("path",{d:"M7.492 11.818c.362 .362 .768 .676 1.208 .934l6.895 4.047c1.078 .557 2.255 -.075 3.692 -1.512c1.437 -1.437 2.07 -2.614 1.512 -3.692c-.372 -.718 -1.72 -3.017 -4.047 -6.895a6.015 6.015 0 0 0 -.934 -1.208"})]}),ht),YZ=we((0,k.jsxs)("g",{strokeWidth:"1.25",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M15 8h.01"}),(0,k.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,k.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,k.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,k.jsx)("path",{d:"M19 16v6"}),(0,k.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),ht),qCe=we("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512});we("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512});we("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512});var JCe=we("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z");we("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z");var WF=we((0,k.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),sn),VF=we((0,k.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),sn),eSe=we("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0});we((0,k.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),sn);we("M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z");we("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24});we((0,k.jsxs)("g",{strokeWidth:1.25,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M8 9h-1a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-8a2 2 0 0 0 -2 -2h-1"}),(0,k.jsx)("path",{d:"M12 14v-11"}),(0,k.jsx)("path",{d:"M9 6l3 -3l3 3"})]}),ht);we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,k.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64});we((0,k.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024});var KZ=(0,k.jsxs)("g",{strokeWidth:1.5,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M12 10l0 10"}),(0,k.jsx)("path",{d:"M12 10l4 4"}),(0,k.jsx)("path",{d:"M12 10l-4 4"}),(0,k.jsx)("path",{d:"M4 4l16 0"})]}),XZ=(0,k.jsxs)("g",{strokeWidth:1.5,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M12 5l0 14"}),(0,k.jsx)("path",{d:"M16 9l-4 -4"}),(0,k.jsx)("path",{d:"M8 9l4 -4"})]}),YF=we(XZ,ht),KF=we(XZ,{...ht,style:{transform:"rotate(180deg)"}}),XF=we(KZ,ht),ZF=we(KZ,{...ht,style:{transform:"rotate(180deg)"}}),qF=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,k.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,k.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,k.jsx)("defs",{children:(0,k.jsx)("clipPath",{id:"a",children:(0,k.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),JF=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,k.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,k.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,k.jsx)("defs",{children:(0,k.jsx)("clipPath",{id:"a",children:(0,k.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),ej=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,k.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,k.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,k.jsx)("defs",{children:(0,k.jsx)("clipPath",{id:"a",children:(0,k.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),tj=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,k.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,k.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,k.jsx)("defs",{children:(0,k.jsx)("clipPath",{id:"a",children:(0,k.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),tSe=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,k.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,k.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,k.jsx)("defs",{children:(0,k.jsx)("clipPath",{id:"a",children:(0,k.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),nSe=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,k.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,k.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,k.jsx)("defs",{children:(0,k.jsx)("clipPath",{id:"a",children:(0,k.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),nj=we((0,k.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,k.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,k.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,k.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,k.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),sn),rj=we((0,k.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,k.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,k.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,k.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,k.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),sn),ZZ=we((0,k.jsxs)("g",{strokeWidth:"1.5",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,k.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,k.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,k.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),ht);we("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z");we("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z");var h2=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,k.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,k.jsx)("defs",{children:(0,k.jsx)("clipPath",{id:"a",children:(0,k.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn);we("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0});we("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24});we("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512});var ij=Xo.default.memo(({theme:e})=>we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("path",{d:"M25 26H111V111H25",fill:tc()}),(0,k.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:tc(),strokeWidth:"2"}),(0,k.jsx)("path",{d:"M100 100H160V160H100",fill:tc()}),(0,k.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:tc(),strokeWidth:"2"}),(0,k.jsxs)("g",{fill:HZ(e),stroke:tc(),strokeWidth:"6",children:[(0,k.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,k.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,k.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,k.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})),aj=Xo.default.memo(({theme:e})=>we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("path",{d:"M25 26H111V111H25",fill:tc()}),(0,k.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:tc(),strokeWidth:"2"}),(0,k.jsx)("path",{d:"M100 100H160V160H100",fill:tc()}),(0,k.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:tc(),strokeWidth:"2"}),(0,k.jsxs)("g",{fill:HZ(e),stroke:tc(),strokeWidth:"6",children:[(0,k.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,k.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,k.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,k.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,k.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,k.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})),rSe=we((0,k.jsx)("g",{strokeWidth:1.25,children:(0,k.jsx)("path",{d:"M5.879 2.625h8.242a3.27 3.27 0 0 1 3.254 3.254v8.242a3.27 3.27 0 0 1-3.254 3.254H5.88a3.27 3.27 0 0 1-3.254-3.254V5.88A3.27 3.27 0 0 1 5.88 2.626l-.001-.001ZM4.518 16.118l7.608-12.83m.198 13.934 5.051-9.897M2.778 9.675l9.348-6.387m-7.608 12.83 12.857-8.793"})}),sn),iSe=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,k.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,k.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,k.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,k.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),sn),aSe=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("g",{clipPath:"url(#a)",children:[(0,k.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,k.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,k.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,k.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,k.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,k.jsx)("defs",{children:(0,k.jsx)("clipPath",{id:"a",children:(0,k.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),oSe=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("g",{clipPath:"url(#a)",children:(0,k.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,k.jsx)("defs",{children:(0,k.jsx)("clipPath",{id:"a",children:(0,k.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),{...sn,fill:"currentColor"}),qZ=we((0,k.jsx)(k.Fragment,{children:(0,k.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),sn),sSe=we((0,k.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),sn),lSe=we((0,k.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),sn);Xo.default.memo(({theme:e})=>we((0,k.jsx)("path",{d:"M6 10H34",stroke:tc(),strokeWidth:2,fill:"none",strokeLinecap:"round"}),{width:40,height:20}));var cSe=we((0,k.jsxs)("g",{strokeWidth:"2",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M5 12h2"}),(0,k.jsx)("path",{d:"M17 12h2"}),(0,k.jsx)("path",{d:"M11 12h2"})]}),ht),dSe=we((0,k.jsxs)("g",{strokeWidth:"2",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M4 12v.01"}),(0,k.jsx)("path",{d:"M8 12v.01"}),(0,k.jsx)("path",{d:"M12 12v.01"}),(0,k.jsx)("path",{d:"M16 12v.01"}),(0,k.jsx)("path",{d:"M20 12v.01"})]}),ht),uSe=we((0,k.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),sn),fSe=we((0,k.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),sn),hSe=we((0,k.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),sn),pSe=we((0,k.jsxs)("svg",{strokeWidth:"1.5",children:[(0,k.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,k.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,k.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,k.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,k.jsx)("path",{d:"M16.6667 10V10.01"}),(0,k.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,k.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,k.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,k.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,k.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,k.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,k.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),sn),gSe=we((0,k.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,k.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,k.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,k.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,k.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,k.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,k.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,k.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,k.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,k.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,k.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,k.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),ht),mSe=we((0,k.jsx)("path",{d:"M6 10H34",stroke:"currentColor",strokeWidth:2,fill:"none"}),{width:40,height:20}),USe=Xo.default.memo(({flip:e=!1})=>we((0,k.jsxs)("g",{transform:e?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,k.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,k.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})),oj=Xo.default.memo(({flip:e=!1})=>we((0,k.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:e?"translate(40, 0) scale(-1, 1)":"",children:[(0,k.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,k.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})),vSe=Xo.default.memo(({flip:e=!1})=>we((0,k.jsxs)("g",{stroke:"currentColor",fill:"none",transform:e?"translate(40, 0) scale(-1, 1)":"",strokeWidth:2,children:[(0,k.jsx)("path",{d:"M26 10L6 10"}),(0,k.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})),ySe=Xo.default.memo(({flip:e=!1})=>we((0,k.jsx)("g",{transform:e?"translate(40, 0) scale(-1, 1)":"",children:(0,k.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})),bSe=Xo.default.memo(({flip:e=!1})=>we((0,k.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:e?"translate(40, 0) scale(-1, 1)":"",children:[(0,k.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,k.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})),ASe=Xo.default.memo(({flip:e=!1})=>we((0,k.jsxs)("g",{stroke:"currentColor",fill:"none",transform:e?"translate(40, 0) scale(-1, 1)":"",strokeWidth:2,strokeLinejoin:"round",children:[(0,k.jsx)("path",{d:"M6,9.5H27"}),(0,k.jsx)("path",{d:"M27,5L34,10L27,14Z",fill:"none"})]}),{width:40,height:20})),wSe=Xo.default.memo(({flip:e=!1})=>we((0,k.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:e?"translate(40, 0) scale(-1, 1)":"",strokeLinejoin:"round",strokeWidth:2,children:[(0,k.jsx)("path",{d:"M6,9.5H20"}),(0,k.jsx)("path",{d:"M27,5L34,10L27,14L20,9.5Z"})]}),{width:40,height:20})),ESe=Xo.default.memo(({flip:e=!1})=>we((0,k.jsxs)("g",{stroke:"currentColor",fill:"none",transform:e?"translate(40, 0) scale(-1, 1)":"",strokeLinejoin:"round",strokeWidth:2,children:[(0,k.jsx)("path",{d:"M6,9.5H20"}),(0,k.jsx)("path",{d:"M27,5L34,10L27,14L20,9.5Z"})]}),{width:40,height:20})),xSe=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("g",{clipPath:"url(#a)",children:(0,k.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,k.jsx)("defs",{children:(0,k.jsx)("clipPath",{id:"a",children:(0,k.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),_Se=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("g",{clipPath:"url(#a)",children:(0,k.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,k.jsx)("defs",{children:(0,k.jsx)("clipPath",{id:"a",children:(0,k.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),CSe=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("g",{clipPath:"url(#a)",children:(0,k.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,k.jsx)("defs",{children:(0,k.jsx)("clipPath",{id:"a",children:(0,k.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),SSe=we((0,k.jsx)(k.Fragment,{children:(0,k.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),sn),S4=we((0,k.jsxs)("g",{strokeWidth:1.25,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M3 7v-2h13v2"}),(0,k.jsx)("path",{d:"M10 5v14"}),(0,k.jsx)("path",{d:"M12 19h-4"}),(0,k.jsx)("path",{d:"M15 13v-1h6v1"}),(0,k.jsx)("path",{d:"M18 12v7"}),(0,k.jsx)("path",{d:"M17 19h2"})]}),ht),ISe=we((0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M7 12h10"}),(0,k.jsx)("path",{d:"M7 5v14"}),(0,k.jsx)("path",{d:"M17 5v14"}),(0,k.jsx)("path",{d:"M15 19h4"}),(0,k.jsx)("path",{d:"M15 5h4"}),(0,k.jsx)("path",{d:"M5 19h4"}),(0,k.jsx)("path",{d:"M5 5h4"})]})}),ht),F8=we((0,k.jsx)(k.Fragment,{children:(0,k.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,k.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),sn),qC=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,k.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,k.jsx)("defs",{children:(0,k.jsx)("clipPath",{id:"a",children:(0,k.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),kSe=we((0,k.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,k.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,k.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),ht),MSe=we((0,k.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,k.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,k.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),ht),TSe=we((0,k.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,k.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,k.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),ht),BSe=Xo.default.memo(({theme:e})=>we((0,k.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,k.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),ht)),RSe=Xo.default.memo(({theme:e})=>we((0,k.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,k.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),ht)),DSe=Xo.default.memo(({theme:e})=>we((0,k.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,k.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,k.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),ht)),JZ=we((0,k.jsxs)("g",{children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M21 19h-18l9 -15"}),(0,k.jsx)("path",{d:"M20.615 15.171h.015"}),(0,k.jsx)("path",{d:"M19.515 11.771h.015"}),(0,k.jsx)("path",{d:"M17.715 8.671h.015"}),(0,k.jsx)("path",{d:"M15.415 5.971h.015"})]}),ht),PSe=we((0,k.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512});we((0,k.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"}));var eq=we((0,k.jsxs)("g",{strokeWidth:1.25,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,k.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),(0,k.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,k.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]}),ht),sj=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),(0,k.jsx)("path",{d:"M7 11l5 5l5 -5"}),(0,k.jsx)("path",{d:"M12 4l0 12"})]}),ht),YM=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"}),(0,k.jsx)("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"})]}),ht),LSe=we((0,k.jsxs)("g",{strokeWidth:1.25,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M7 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),(0,k.jsx)("path",{d:"M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),(0,k.jsx)("path",{d:"M9.15 14.85l8.85 -10.85"}),(0,k.jsx)("path",{d:"M6 4l8.85 10.85"})]}),ht),NSe=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),(0,k.jsx)("path",{d:"M12 17l0 .01"}),(0,k.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),ht);we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M7 4v16l13 -8z"})]}),ht);we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M17 4h-10a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3 -3v-10a3 3 0 0 0 -3 -3z",strokeWidth:"0",fill:"currentColor"})]}),ht);var $Se=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M5 12l5 5l10 -10"})]}),ht),FSe=we((0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z"}),(0,k.jsx)("path",{d:"M12 9v4"}),(0,k.jsx)("path",{d:"M12 17h.01"})]}),ht),jSe=we((0,k.jsxs)("g",{strokeWidth:1.25,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M11 7l6 6"}),(0,k.jsx)("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]}),ht),OSe=we((0,k.jsxs)("g",{strokeWidth:1.5,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M12 3l-4 7h8z"}),(0,k.jsx)("path",{d:"M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),(0,k.jsx)("path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"})]}),ht),tq=we((0,k.jsxs)("g",{strokeWidth:1.5,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M4 7l16 0"}),(0,k.jsx)("path",{d:"M4 17l16 0"}),(0,k.jsx)("path",{d:"M7 4l0 16"}),(0,k.jsx)("path",{d:"M17 4l0 16"})]}),ht),nq=we((0,k.jsx)("path",{fill:"currentColor",d:"M407.48,111.18C335.587,108.103 269.573,152.338 245.08,220C220.587,152.338 154.573,108.103 82.68,111.18C80.285,168.229 107.577,222.632 154.74,254.82C178.908,271.419 193.35,298.951 193.27,328.27L193.27,379.13L296.9,379.13L296.9,328.27C296.816,298.953 311.255,271.42 335.42,254.82C382.596,222.644 409.892,168.233 407.48,111.18Z"})),eA=we((0,k.jsxs)("g",{strokeWidth:"1.25",children:[(0,k.jsx)("path",{d:"M4.16602 10H15.8327"}),(0,k.jsx)("path",{d:"M12.5 13.3333L15.8333 10"}),(0,k.jsx)("path",{d:"M12.5 6.66666L15.8333 9.99999"})]}),sn),rq=we((0,k.jsxs)("g",{fill:"none",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(90 10 10)",children:[(0,k.jsx)("path",{clipRule:"evenodd",d:"m9.644 13.69 7.774-7.773a2.357 2.357 0 0 0-3.334-3.334l-7.773 7.774L8 12l1.643 1.69Z"}),(0,k.jsx)("path",{d:"m13.25 3.417 3.333 3.333M10 10l2-2M5 15l3-3M2.156 17.894l1-1M5.453 19.029l-.144-1.407M2.377 11.887l.866 1.118M8.354 17.273l-1.194-.758M.953 14.652l1.408.13"})]}),20),iq=we((0,k.jsxs)("g",{stroke:"currentColor",fill:"none",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),(0,k.jsx)("path",{d:"M6 21l15 -15l-3 -3l-15 15l3 3"}),(0,k.jsx)("path",{d:"M15 6l3 3"}),(0,k.jsx)("path",{d:"M9 3a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"}),(0,k.jsx)("path",{d:"M19 13a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"})]}),ht);we((0,k.jsxs)("g",{strokeWidth:1.25,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),(0,k.jsx)("path",{d:"M6 21l15 -15l-3 -3l-15 15l3 3"}),(0,k.jsx)("path",{d:"M15 6l3 3"}),(0,k.jsx)("path",{d:"M9 3a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"}),(0,k.jsx)("path",{d:"M19 13a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"})]}),ht);we((0,k.jsxs)("g",{stroke:"currentColor",fill:"none",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M11.217 19.384a3.501 3.501 0 0 0 6.783 -1.217v-5.167l-6 -3.35"}),(0,k.jsx)("path",{d:"M5.214 15.014a3.501 3.501 0 0 0 4.446 5.266l4.34 -2.534v-6.946"}),(0,k.jsx)("path",{d:"M6 7.63c-1.391 -.236 -2.787 .395 -3.534 1.689a3.474 3.474 0 0 0 1.271 4.745l4.263 2.514l6 -3.348"}),(0,k.jsx)("path",{d:"M12.783 4.616a3.501 3.501 0 0 0 -6.783 1.217v5.067l6 3.45"}),(0,k.jsx)("path",{d:"M18.786 8.986a3.501 3.501 0 0 0 -4.446 -5.266l-4.34 2.534v6.946"}),(0,k.jsx)("path",{d:"M18 16.302c1.391 .236 2.787 -.395 3.534 -1.689a3.474 3.474 0 0 0 -1.271 -4.745l-4.308 -2.514l-5.955 3.42"})]}),ht);var zSe=we((0,k.jsxs)("g",{stroke:"currentColor",fill:"none",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2"}),(0,k.jsx)("path",{d:"M4 16v2a2 2 0 0 0 2 2h2"}),(0,k.jsx)("path",{d:"M16 4h2a2 2 0 0 1 2 2v2"}),(0,k.jsx)("path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2"})]}),ht),KM=we((0,k.jsxs)("g",{stroke:"currentColor",fill:"none",strokeWidth:1.5,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"}),(0,k.jsx)("path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6"})]}),ht),QSe=we((0,k.jsxs)("g",{stroke:"currentColor",fill:"none",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828"}),(0,k.jsx)("path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87"}),(0,k.jsx)("path",{d:"M3 3l18 18"})]}),ht);we((0,k.jsxs)("g",{stroke:"currentColor",fill:"none",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8"}),(0,k.jsx)("path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8"}),(0,k.jsx)("path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5"}),(0,k.jsx)("path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0"}),(0,k.jsx)("path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5"}),(0,k.jsx)("path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10"})]}),ht);var HSe=we((0,k.jsxs)("g",{strokeWidth:1.25,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8"}),(0,k.jsx)("path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8"}),(0,k.jsx)("path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5"}),(0,k.jsx)("path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0"}),(0,k.jsx)("path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5"}),(0,k.jsx)("path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10"})]}),ht),Q0=we((0,k.jsxs)("g",{strokeWidth:1.5,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"}),(0,k.jsx)("path",{d:"M21 21l-6 -6"})]}),ht),GSe=we((0,k.jsxs)("g",{strokeWidth:1.5,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M20.984 12.53a9 9 0 1 0 -7.552 8.355"}),(0,k.jsx)("path",{d:"M12 7v5l3 3"}),(0,k.jsx)("path",{d:"M19 16l-2 3h4l-2 3"})]}),ht),WSe=we((0,k.jsxs)("g",{strokeWidth:1.5,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M9 2m0 3a3 3 0 0 1 3 -3h0a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3h0a3 3 0 0 1 -3 -3z"}),(0,k.jsx)("path",{d:"M5 10a7 7 0 0 0 14 0"}),(0,k.jsx)("path",{d:"M8 21l8 0"}),(0,k.jsx)("path",{d:"M12 17l0 4"})]}),ht),VSe=we((0,k.jsxs)("g",{strokeWidth:1.5,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M3 3l18 18"}),(0,k.jsx)("path",{d:"M9 5a3 3 0 0 1 6 0v5a3 3 0 0 1 -.13 .874m-2 2a3 3 0 0 1 -3.87 -2.872v-1"}),(0,k.jsx)("path",{d:"M5 10a7 7 0 0 0 10.846 5.85m2 -2a6.967 6.967 0 0 0 1.152 -3.85"}),(0,k.jsx)("path",{d:"M8 21l8 0"}),(0,k.jsx)("path",{d:"M12 17l0 4"})]}),ht),aq=we((0,k.jsxs)("g",{strokeWidth:1.25,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M13 3l0 7l6 0l-8 11l0 -7l-6 0l8 -11"})]}),ht),YSe=we((0,k.jsxs)("g",{children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M8 8m0 1a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1z"}),(0,k.jsx)("path",{d:"M12 20v.01"}),(0,k.jsx)("path",{d:"M16 20v.01"}),(0,k.jsx)("path",{d:"M8 20v.01"}),(0,k.jsx)("path",{d:"M4 20v.01"}),(0,k.jsx)("path",{d:"M4 16v.01"}),(0,k.jsx)("path",{d:"M4 12v.01"}),(0,k.jsx)("path",{d:"M4 8v.01"}),(0,k.jsx)("path",{d:"M4 4v.01"}),(0,k.jsx)("path",{d:"M8 4v.01"}),(0,k.jsx)("path",{d:"M12 4v.01"}),(0,k.jsx)("path",{d:"M16 4v.01"}),(0,k.jsx)("path",{d:"M20 4v.01"}),(0,k.jsx)("path",{d:"M20 8v.01"}),(0,k.jsx)("path",{d:"M20 12v.01"}),(0,k.jsx)("path",{d:"M20 16v.01"}),(0,k.jsx)("path",{d:"M20 20v.01"})]}),ht),KSe=we((0,k.jsxs)("g",{strokeWidth:1.25,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M5 3v18"}),(0,k.jsx)("path",{d:"M19 21v-18"}),(0,k.jsx)("path",{d:"M5 7h14"}),(0,k.jsx)("path",{d:"M5 15h14"}),(0,k.jsx)("path",{d:"M8 13v4"}),(0,k.jsx)("path",{d:"M11 13v4"}),(0,k.jsx)("path",{d:"M16 13v4"}),(0,k.jsx)("path",{d:"M14 5v4"}),(0,k.jsx)("path",{d:"M11 5v4"}),(0,k.jsx)("path",{d:"M8 5v4"}),(0,k.jsx)("path",{d:"M3 21h18"})]}),ht),XSe=we((0,k.jsxs)("g",{strokeWidth:1.25,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M3 12l18 0"}),(0,k.jsx)("path",{d:"M7 16l10 0l-10 5l0 -5"}),(0,k.jsx)("path",{d:"M7 8l10 0l-10 -5l0 5"})]}),ht),ZSe=we((0,k.jsxs)("g",{strokeWidth:1.25,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M12 3l0 18"}),(0,k.jsx)("path",{d:"M16 7l0 10l5 0l-5 -10"}),(0,k.jsx)("path",{d:"M8 7l0 10l-5 0l5 -10"})]}),ht),oq=we((0,k.jsxs)("g",{strokeWidth:1.25,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M5 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z"}),(0,k.jsx)("path",{d:"M19 6h1a2 2 0 0 1 2 2a5 5 0 0 1 -5 5l-5 0v2"}),(0,k.jsx)("path",{d:"M10 15m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z"})]}),ht),XM=we((0,k.jsxs)("g",{strokeWidth:1.25,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M15 15m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0"}),(0,k.jsx)("path",{d:"M22 22l-3 -3"}),(0,k.jsx)("path",{d:"M6 18h-1a2 2 0 0 1 -2 -2v-1"}),(0,k.jsx)("path",{d:"M3 11v-1"}),(0,k.jsx)("path",{d:"M3 6v-1a2 2 0 0 1 2 -2h1"}),(0,k.jsx)("path",{d:"M10 3h1"}),(0,k.jsx)("path",{d:"M15 3h1a2 2 0 0 1 2 2v1"})]}),ht),qSe=we((0,k.jsxs)("g",{strokeWidth:1.25,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),(0,k.jsx)("path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4"}),(0,k.jsx)("path",{d:"M4 20.25c0 .414 .336 .75 .75 .75h1.25a1 1 0 0 0 1 -1v-1a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-1a1 1 0 0 1 1 -1h1.25a.75 .75 0 0 1 .75 .75"}),(0,k.jsx)("path",{d:"M10 15l2 6l2 -6"}),(0,k.jsx)("path",{d:"M20 15h-1a2 2 0 0 0 -2 2v2a2 2 0 0 0 2 2h1v-3"})]}),ht),JSe=we((0,k.jsxs)("g",{strokeWidth:1.25,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),(0,k.jsx)("path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4"}),(0,k.jsx)("path",{d:"M20 15h-1a2 2 0 0 0 -2 2v2a2 2 0 0 0 2 2h1v-3"}),(0,k.jsx)("path",{d:"M5 18h1.5a1.5 1.5 0 0 0 0 -3h-1.5v6"}),(0,k.jsx)("path",{d:"M11 21v-6l3 6v-6"})]}),ht),eIe=we((0,k.jsxs)("g",{strokeWidth:1.25,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M4 13v-8a2 2 0 0 1 2 -2h1a2 2 0 0 1 2 2v8a2 2 0 0 0 6 0v-8a2 2 0 0 1 2 -2h1a2 2 0 0 1 2 2v8a8 8 0 0 1 -16 0"}),(0,k.jsx)("path",{d:"M4 8l5 0"}),(0,k.jsx)("path",{d:"M15 8l4 0"})]}),ht),tIe=we((0,k.jsxs)("g",{strokeWidth:1.25,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M3 14c.83 .642 2.077 1.017 3.5 1c1.423 .017 2.67 -.358 3.5 -1c.83 -.642 2.077 -1.017 3.5 -1c1.423 -.017 2.67 .358 3.5 1"}),(0,k.jsx)("path",{d:"M8 3a2.4 2.4 0 0 0 -1 2a2.4 2.4 0 0 0 1 2"}),(0,k.jsx)("path",{d:"M12 3a2.4 2.4 0 0 0 -1 2a2.4 2.4 0 0 0 1 2"}),(0,k.jsx)("path",{d:"M3 10h14v5a6 6 0 0 1 -6 6h-2a6 6 0 0 1 -6 -6v-5z"}),(0,k.jsx)("path",{d:"M16.746 16.726a3 3 0 1 0 .252 -5.555"})]}),ht),nIe=we((0,k.jsxs)("g",{stroke:"currentColor",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M3 5a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-16a1 1 0 0 1-1-1v-10zM7 20h10M9 16v4M15 16v4"})]}),{...ht,strokeWidth:1.5});we((0,k.jsxs)("g",{strokeWidth:1.5,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M15 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),(0,k.jsx)("path",{d:"M21 12h-13l3 -3"}),(0,k.jsx)("path",{d:"M11 15l-3 -3"})]}),ht);var rIe=we((0,k.jsxs)("g",{children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M2 8a4 4 0 0 1 4 -4h12a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-12a4 4 0 0 1 -4 -4v-8z"}),(0,k.jsx)("path",{d:"M10 9l5 3l-5 3z"})]}),ht),iIe=we((0,k.jsxs)("g",{strokeWidth:1.5,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M3 6h18"}),(0,k.jsx)("path",{d:"M3 12h18"}),(0,k.jsx)("path",{d:"M3 18h18"}),(0,k.jsx)("path",{d:"M6 3v18"}),(0,k.jsx)("path",{d:"M12 3v18"}),(0,k.jsx)("path",{d:"M18 3v18"})]}),ht),aIe=we((0,k.jsxs)("g",{strokeWidth:1.5,children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M17 3m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z"}),(0,k.jsx)("path",{d:"M3 17m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z"}),(0,k.jsx)("path",{d:"M17 5c-6.627 0 -12 5.373 -12 12"})]}),ht),oIe=we((0,k.jsxs)("g",{children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M6 18l12 -12"}),(0,k.jsx)("path",{d:"M18 10v-4h-4"})]}),ht),sIe=we((0,k.jsxs)("g",{children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M4,19L10,19C11.097,19 12,18.097 12,17L12,9C12,7.903 12.903,7 14,7L21,7"}),(0,k.jsx)("path",{d:"M18 4l3 3l-3 3"})]}),ht),lIe=we((0,k.jsxs)("g",{children:[(0,k.jsx)("path",{d:"M16,12L20,9L16,6"}),(0,k.jsx)("path",{d:"M6 20c0 -6.075 4.925 -11 11 -11h3"})]}),ht),sq=we((0,k.jsxs)("g",{children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M6 9l6 6l6 -6"})]}),ht),cIe=we((0,k.jsxs)("g",{children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M6 15l6 -6l6 6"})]}),ht),dIe=we((0,k.jsxs)("g",{children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M6 15l6 -6l6 6"})]}),ht),lj=we((0,k.jsxs)("g",{strokeWidth:"1.25",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M8 5v10a1 1 0 0 0 1 1h10"}),(0,k.jsx)("path",{d:"M5 8h10a1 1 0 0 1 1 1v10"})]}),ht),lq=we((0,k.jsxs)("g",{children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("path",{d:"M5 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),(0,k.jsx)("path",{d:"M19 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),(0,k.jsx)("path",{d:"M5 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),(0,k.jsx)("path",{d:"M19 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),(0,k.jsx)("path",{d:"M5 7l0 10"}),(0,k.jsx)("path",{d:"M7 5l10 0"}),(0,k.jsx)("path",{d:"M7 19l10 0"}),(0,k.jsx)("path",{d:"M19 7l0 10"})]}),ht),Ly={[Nr.Excalifont]:{metrics:{unitsPerEm:1e3,ascender:886,descender:-374,lineHeight:1.25},icon:Py},[Nr.Nunito]:{metrics:{unitsPerEm:1e3,ascender:1011,descender:-353,lineHeight:1.35},icon:F8},[Nr["Lilita One"]]:{metrics:{unitsPerEm:1e3,ascender:923,descender:-220,lineHeight:1.15},icon:ISe},[Nr["Comic Shanns"]]:{metrics:{unitsPerEm:1e3,ascender:750,descender:-250,lineHeight:1.25},icon:qC},[Nr.Virgil]:{metrics:{unitsPerEm:1e3,ascender:886,descender:-374,lineHeight:1.25},icon:Py,deprecated:!0},[Nr.Helvetica]:{metrics:{unitsPerEm:2048,ascender:1577,descender:-471,lineHeight:1.15},icon:F8,deprecated:!0,local:!0},[Nr.Cascadia]:{metrics:{unitsPerEm:2048,ascender:1900,descender:-480,lineHeight:1.2},icon:qC,deprecated:!0},[Nr["Liberation Sans"]]:{metrics:{unitsPerEm:2048,ascender:1854,descender:-434,lineHeight:1.15},serverSide:!0},[Bg.Xiaolai]:{metrics:{unitsPerEm:1e3,ascender:880,descender:-144,lineHeight:1.15},fallback:!0},[Bg["Segoe UI Emoji"]]:{metrics:{unitsPerEm:1e3,ascender:886,descender:-374,lineHeight:1.25},local:!0,fallback:!0}},t0={LATIN:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD",LATIN_EXT:"U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF",CYRILIC_EXT:"U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F",CYRILIC:"U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116",VIETNAMESE:"U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB"},ZM="local:";N();N();N();var uIe=class extends Error{constructor(t="Couldn't export canvas.",n="CANVAS_ERROR"){super(),this.name=n,this.message=t}},I4=class extends DOMException{constructor(e="Request Aborted"){super(e,"AbortError")}},d0=class extends Error{constructor(n="Image Scene Data Error",r="IMAGE_SCENE_DATA_ERROR"){super(n);ee(this,"code");this.name="EncodingError",this.code=r}},fIe=class extends Error{constructor(){super(...arguments);ee(this,"code","ELEMENT_HAS_INVALID_INDEX")}},cq=class extends Error{constructor(t="Worker URL is not defined!",n="WORKER_URL_NOT_DEFINED"){super(t);ee(this,"code");this.name="WorkerUrlNotDefinedError",this.code=n}},dq=class extends Error{constructor(t="Worker has to be in a separate chunk!",n="WORKER_IN_THE_MAIN_CHUNK"){super(t);ee(this,"code");this.name="WorkerInTheMainChunkError",this.code=n}},cj=class extends Error{constructor(e){super(e),this.name="ExcalidrawError"}},hIe=class{constructor(e){ee(this,"instance");ee(this,"debounceTerminate");this.instance=new Worker(e,{type:"module"})}},pIe=class uq{constructor(t,n){ee(this,"idleWorkers",new Set);ee(this,"workerUrl");ee(this,"workerTTL");this.workerUrl=t,this.workerTTL=n.ttl||1e3}static create(t,n={}){if(!t)throw new cq;if(!import.meta.url||t.toString()===import.meta.url)throw new dq;return new uq(t,n)}async postMessage(t,n){let r,a=Array.from(this.idleWorkers).shift();return a?(this.idleWorkers.delete(a),r=a):r=await this.createWorker(),new Promise((o,s)=>{r.instance.onmessage=this.onMessageHandler(r,o),r.instance.onerror=this.onErrorHandler(r,s),r.instance.postMessage(t,n),r.debounceTerminate(()=>s(new Error(`Active worker did not respond for ${this.workerTTL}ms!`)))})}async clear(){for(let t of this.idleWorkers)t.debounceTerminate.cancel(),t.instance.terminate();this.idleWorkers.clear()}async createWorker(){let t=new hIe(this.workerUrl);return t.debounceTerminate=Pm(n=>{t.instance.terminate(),this.idleWorkers.has(t)?(this.idleWorkers.delete(t),console.debug("Job finished! Idle worker has been released from the pool.")):n?n():console.error("Worker has been terminated!")},this.workerTTL),t}onMessageHandler(t,n){return r=>{t.debounceTerminate(),this.idleWorkers.add(t),n(r.data)}}onErrorHandler(t,n){return r=>{t.debounceTerminate(()=>n(r)),t.debounceTerminate.flush(),this.clear()}}},dj=typeof Worker<"u",gIe=async(e,t)=>{let{Commands:n,subsetToBase64:r,toBase64:a}=await UIe();return dj?Ry(async()=>{try{let o=await vIe(),s=e.slice(0),l=await o.postMessage({command:n.Subset,arrayBuffer:s,codePoints:t},{transfer:[s]});return a(l)}catch(o){return dj=!1,b_e()&&(o instanceof cq||o instanceof dq)||console.error("Failed to use workers for subsetting, falling back to the main thread.",o),r(e,t)}}):r(e,t)},Dx=null,Px=null,mIe=async()=>(Dx||(Dx=Ye(()=>import("./subset-worker.chunk-MYCAJIOT-DP3STKsy.js"),__vite__mapDeps([0,1]),import.meta.url)),Dx),UIe=async()=>(Px||(Px=Ye(()=>import("./subset-shared.chunk-KSDZU3XJ-ljQCRELB.js"),[],import.meta.url)),Px),Lx=null,vIe=()=>(Lx||(Lx=Ry(async()=>{let{WorkerUrl:e}=await mIe();return pIe.create(e)})),Lx),wh,fq=(wh=class{constructor(t,n,r){ee(this,"urls");ee(this,"fontFace");this.urls=wh.createUrls(n);let a=this.urls.map(o=>`url(${o})`).join(", ");this.fontFace=new FontFace(t,a,{display:"swap",style:"normal",weight:"400",...r})}toCSS(t){if(!this.getUnicodeRangeRegex().test(t))return;let n=Array.from(t).map(r=>r.codePointAt(0));return this.getContent(n).then(r=>`@font-face { font-family: ${this.fontFace.family}; src: url(${r}); }`)}async getContent(t){let n=0,r=[];for(;n<this.urls.length;){let a=this.urls[n];try{let o=await this.fetchFont(a);return await gIe(o,t)}catch(o){r.push(`"${a.toString()}" returned error "${o}"`)}n++}return console.error(`Failed to fetch font family "${this.fontFace.family}"`,JSON.stringify(r,void 0,2)),this.urls.length?this.urls[this.urls.length-1].toString():""}fetchFont(t){return Ry(async()=>{let n=await fetch(t,{cache:"force-cache",headers:{Accept:"font/woff2"}});if(!n.ok){let r=t instanceof URL?t.toString():"dataurl";throw new Error(`Failed to fetch "${r}": ${n.statusText}`)}return await n.arrayBuffer()})}getUnicodeRangeRegex(){let t=this.fontFace.unicodeRange.split(/,\s*/).map(n=>{let[r,a]=n.replace("U+","").split("-");return a?`\\u{${r}}-\\u{${a}}`:`\\u{${r}}`}).join("");return new RegExp(`[${t}]`,"u")}static createUrls(t){if(t.startsWith("data"))return[t];if(t.startsWith(ZM))return[];if(t.startsWith("http"))return[new URL(t)];let n=t.replace(/^\/+/,""),r=[];if(typeof window.EXCALIDRAW_ASSET_PATH=="string"){let a=this.normalizeBaseUrl(window.EXCALIDRAW_ASSET_PATH);r.push(new URL(n,a))}else Array.isArray(window.EXCALIDRAW_ASSET_PATH)&&window.EXCALIDRAW_ASSET_PATH.forEach(a=>{let o=this.normalizeBaseUrl(a);r.push(new URL(n,o))});return r.push(new URL(n,wh.UNPKG_FALLBACK_URL)),r}static getFormat(t){if(!(t instanceof URL))return"";try{let n=new URL(t).pathname.split(".");return n.length===1?"":`format('${n.pop()}')`}catch{return""}}static normalizeBaseUrl(t){var r;let n=t;return/^\.?\//.test(n)&&(n=new URL(n.replace(/^\.?\/+/,""),(r=window==null?void 0:window.location)==null?void 0:r.origin).toString()),n=`${n.replace(/\/+$/,"")}/`,n}},ee(wh,"UNPKG_FALLBACK_URL",`https://unpkg.com/${gt.VITE_PKG_NAME?`${gt.VITE_PKG_NAME}@${gt.PKG_VERSION}`:"@excalidraw/excalidraw"}/dist/prod/`),wh);N();var yIe="./CascadiaCode-Regular-TMZI7IJ5.woff2",bIe=[{uri:yIe}];N();var AIe="./ComicShanns-Regular-279a7b317d12eb88de06167bd672b4b4-PCYYYBFF.woff2",wIe="./ComicShanns-Regular-fcb0fc02dcbee4c9846b3e2508668039-RGRXSYA7.woff2",EIe="./ComicShanns-Regular-dc6a8806fa96795d7b3be5026f989a17-BI6ZZE22.woff2",xIe="./ComicShanns-Regular-6e066e8de2ac57ea9283adb9c24d7f0c-72ZDTSB5.woff2",_Ie=[{uri:AIe,descriptors:{unicodeRange:"U+20-7e,U+a1-a6,U+a8,U+ab-ac,U+af-b1,U+b4,U+b8,U+bb-bc,U+bf-cf,U+d1-d7,U+d9-de,U+e0-ef,U+f1-f7,U+f9-ff,U+131,U+152-153,U+2c6,U+2da,U+2dc,U+2013-2014,U+2018-201a,U+201c-201d,U+2020-2022,U+2026,U+2039-203a,U+2044,U+20ac,U+2191,U+2193,U+2212"}},{uri:wIe,descriptors:{unicodeRange:"U+100-10f,U+112-125,U+128-130,U+134-137,U+139-13c,U+141-148,U+14c-151,U+154-161,U+164-165,U+168-17f,U+1bf,U+1f7,U+218-21b,U+237,U+1e80-1e85,U+1ef2-1ef3,U+a75b"}},{uri:EIe,descriptors:{unicodeRange:"U+2c7,U+2d8-2d9,U+2db,U+2dd,U+315,U+2190,U+2192,U+2200,U+2203-2204,U+2264-2265,U+f6c3"}},{uri:xIe,descriptors:{unicodeRange:"U+3bb"}}];N();var CIe=[{uri:ZM}];N();var SIe="./Excalifont-Regular-a88b72a24fb54c9f94e3b5fdaa7481c9-QCBECM3W.woff2",IIe="./Excalifont-Regular-be310b9bcd4f1a43f571c46df7809174-6RR2CUWT.woff2",kIe="./Excalifont-Regular-b9dcf9d2e50a1eaf42fc664b50a3fd0d-E3EC3AAZ.woff2",MIe="./Excalifont-Regular-41b173a47b57366892116a575a43e2b6-HWHY5DQF.woff2",TIe="./Excalifont-Regular-3f2c5db56cc93c5a6873b1361d730c16-PYAELPGV.woff2",BIe="./Excalifont-Regular-349fac6ca4700ffec595a7150a0d1e1d-YDYXHKKQ.woff2",RIe="./Excalifont-Regular-623ccf21b21ef6b3a0d87738f77eb071-5DDCFPYK.woff2",DIe=[{uri:SIe,descriptors:{unicodeRange:"U+20-7e,U+a0-a3,U+a5-a6,U+a8-ab,U+ad-b1,U+b4,U+b6-b8,U+ba-ff,U+131,U+152-153,U+2bc,U+2c6,U+2da,U+2dc,U+304,U+308,U+2013-2014,U+2018-201a,U+201c-201e,U+2020,U+2022,U+2024-2026,U+2030,U+2039-203a,U+20ac,U+2122,U+2212"}},{uri:IIe,descriptors:{unicodeRange:"U+100-130,U+132-137,U+139-149,U+14c-151,U+154-17e,U+192,U+1fc-1ff,U+218-21b,U+237,U+1e80-1e85,U+1ef2-1ef3,U+2113"}},{uri:kIe,descriptors:{unicodeRange:"U+400-45f,U+490-491,U+2116"}},{uri:MIe,descriptors:{unicodeRange:"U+37e,U+384-38a,U+38c,U+38e-393,U+395-3a1,U+3a3-3a8,U+3aa-3cf,U+3d7"}},{uri:TIe,descriptors:{unicodeRange:"U+2c7,U+2d8-2d9,U+2db,U+2dd,U+302,U+306-307,U+30a-30c,U+326-328,U+212e,U+2211,U+fb01-fb02"}},{uri:BIe,descriptors:{unicodeRange:"U+462-463,U+472-475,U+4d8-4d9,U+4e2-4e3,U+4e6-4e9,U+4ee-4ef"}},{uri:RIe,descriptors:{unicodeRange:"U+300-301,U+303"}}];N();var PIe=[{uri:ZM}];N();var LIe="./LiberationSans-Regular-ZQD73GJM.woff2",NIe=[{uri:LIe}];N();var $Ie="./Lilita-Regular-i7dPIFZ9Zz-WBtRtedDbYEF8RXi4EwQ-AQ4UK4L6.woff2",FIe="./Lilita-Regular-i7dPIFZ9Zz-WBtRtedDbYE98RXi4EwSsbg-YICRZMBJ.woff2",jIe=[{uri:FIe,descriptors:{unicodeRange:t0.LATIN_EXT}},{uri:$Ie,descriptors:{unicodeRange:t0.LATIN}}];N();var OIe="./Nunito-Regular-XRXI3I6Li01BKofiOc5wtlZ2di8HDIkhdTQ3j6zbXWjgeg-S2BZMVTH.woff2",zIe="./Nunito-Regular-XRXI3I6Li01BKofiOc5wtlZ2di8HDIkhdTo3j6zbXWjgevT5-PWTUGLZK.woff2",QIe="./Nunito-Regular-XRXI3I6Li01BKofiOc5wtlZ2di8HDIkhdTA3j6zbXWjgevT5-P2CSI5V6.woff2",HIe="./Nunito-Regular-XRXI3I6Li01BKofiOc5wtlZ2di8HDIkhdTk3j6zbXWjgevT5-F252BD3S.woff2",GIe="./Nunito-Regular-XRXI3I6Li01BKofiOc5wtlZ2di8HDIkhdTs3j6zbXWjgevT5-YZLWO63P.woff2",WIe=[{uri:HIe,descriptors:{unicodeRange:t0.CYRILIC_EXT,weight:"500"}},{uri:QIe,descriptors:{unicodeRange:t0.CYRILIC,weight:"500"}},{uri:GIe,descriptors:{unicodeRange:t0.VIETNAMESE,weight:"500"}},{uri:zIe,descriptors:{unicodeRange:t0.LATIN_EXT,weight:"500"}},{uri:OIe,descriptors:{unicodeRange:t0.LATIN,weight:"500"}}];N();var VIe="./Virgil-Regular-YHAB2VGJ.woff2",YIe=[{uri:VIe}];N();var KIe="./Xiaolai-Regular-09850c4077f3fffe707905872e0e2460-V6HMW7MQ.woff2",XIe="./Xiaolai-Regular-7eb9fffd1aa890d07d0f88cc82e6cfe4-VEQWZILM.woff2",ZIe="./Xiaolai-Regular-60a3089806700d379f11827ee9843b6b-IYU7V3T5.woff2",qIe="./Xiaolai-Regular-6fe5c5973cc06f74b2387a631ea36b88-J63DDFB4.woff2",JIe="./Xiaolai-Regular-b96d9226ce77ec94ceca043d712182e6-OTBHPSHU.woff2",eke="./Xiaolai-Regular-6ae5b42180ad70b971c91e7eefb8eba2-YPABYQLF.woff2",tke="./Xiaolai-Regular-a4c34be6d42152e64b0df90bc4607f64-BGHNBIHL.woff2",nke="./Xiaolai-Regular-c69f61a4ab18d0488c8d1fc12e7028e8-IHQ56TQO.woff2",rke="./Xiaolai-Regular-e3fcf5180fd466c8915c4e8069491054-I3PG6Q3O.woff2",ike="./Xiaolai-Regular-c1f94158256bb1f3bf665b053d895af9-B22NYC3V.woff2",ake="./Xiaolai-Regular-544fc28abe2c5c30e62383fd4dac255f-MNUWQLXP.woff2",oke="./Xiaolai-Regular-7197d6fda6cba7c3874c53d6381ca239-7LUK6Z57.woff2",ske="./Xiaolai-Regular-70c2eb8d64e71a42a834eb857ea9df51-FXZQL7BU.woff2",lke="./Xiaolai-Regular-069e77aac84590e2e991d0a0176d34f2-3VKPGUS3.woff2",cke="./Xiaolai-Regular-41521fade99856108931b4768b1b2648-KW42QAVI.woff2",dke="./Xiaolai-Regular-a004ddfcb26e67bd6e678c8ed19e25ce-X7VE27O2.woff2",uke="./Xiaolai-Regular-04b718e5623574919c8b0dea5f301444-LGJSFY4P.woff2",fke="./Xiaolai-Regular-7e4bde7e9c7f84cd34d8a845e384c746-NIGYYSPJ.woff2",hke="./Xiaolai-Regular-23686f7f29da6e8008c36dd3a80c83d6-XJMGYKSW.woff2",pke="./Xiaolai-Regular-69c09cc5fa3e55c74fc4821f76909cc3-RYFK5RDY.woff2",gke="./Xiaolai-Regular-25b7f38e18f035f96cb5e547bd2bd08c-TKLOWCIL.woff2",mke="./Xiaolai-Regular-ba3de316d63c7e339987b16f41a0b879-KGF5KB5R.woff2",Uke="./Xiaolai-Regular-12b52b58eb3df36804b9a654ec9ee194-AOXRGNNX.woff2",vke="./Xiaolai-Regular-b1220a3c61f85cc0408deedb4c5f57a2-HVBZ3X24.woff2",yke="./Xiaolai-Regular-4535823663ad81405188a528d8f2b1a2-ZFEHIIAO.woff2",bke="./Xiaolai-Regular-3eaa538115d76932653c21d8dc28f207-6XMGSJBN.woff2",Ake="./Xiaolai-Regular-7e929f262f30c8ee78bf398150b1a7cd-C5SBUBJF.woff2",wke="./Xiaolai-Regular-73e309718fd16cea44b4d54a33581811-T2HITPNW.woff2",Eke="./Xiaolai-Regular-9eb5a99df4e76ac3363453ac9ca288b1-27AU36Y2.woff2",xke="./Xiaolai-Regular-3e63ed8162808a9e425ed80a8bc79114-H3LR6GBS.woff2",_ke="./Xiaolai-Regular-cb17fc3db95f6d139afc9d31a8e93293-BKR7WARS.woff2",Cke="./Xiaolai-Regular-c8b71798409ccc126ee264a00aadcf21-SI4Z57N5.woff2",Ske="./Xiaolai-Regular-11c345711937f0ba4b8f7b6b919c8440-NI33UJMM.woff2",Ike="./Xiaolai-Regular-e480d9c614742d05f0e78f274f1e69e6-UEELEEQY.woff2",kke="./Xiaolai-Regular-95429962233afd82db1c27df1500a28c-MZRKDRTZ.woff2",Mke="./Xiaolai-Regular-2cf96d082d35ea3d8106851223ad0d16-7FRB67SF.woff2",Tke="./Xiaolai-Regular-2d43040e86ff03ba677f6f9c04cd0805-R34YUGJF.woff2",Bke="./Xiaolai-Regular-2a26d20a23b00898ce82f09d2ee47c3f-W3JP7DFA.woff2",Rke="./Xiaolai-Regular-a365e82ed54697a52f27adcea1315fe8-Y7NKRGXX.woff2",Dke="./Xiaolai-Regular-f5d079153c99a25b9be5b8583c4cc8a7-ZM6YLG6T.woff2",Pke="./Xiaolai-Regular-10a7ae9a371830a80c3d844acf1c02d7-VPS7CLJF.woff2",Lke="./Xiaolai-Regular-e4bca6cfa53e499cae0a6be4894a90e9-FNPUFVG6.woff2",Nke="./Xiaolai-Regular-60a41c7e1c68f22424e6d22df544bc82-EA2L76CZ.woff2",$ke="./Xiaolai-Regular-7ab2bed91166a9dca83a5ebfbe2a7f38-WL4JGXEO.woff2",Fke="./Xiaolai-Regular-670ba603758d94268e8606f240a42e12-CTZSYIK4.woff2",jke="./Xiaolai-Regular-e656f091b9dc4709722c9f4b84d3c797-VTS3P57U.woff2",Oke="./Xiaolai-Regular-15dc6d811c9cd078f9086a740d5a1038-YSHOBN24.woff2",zke="./Xiaolai-Regular-f0f13b5c60e0af5553bd359f5513be1b-QSLXR4BR.woff2",Qke="./Xiaolai-Regular-8c2f33cee3993174f7e87c28e4bf42ee-H2ERD7ZF.woff2",Hke="./Xiaolai-Regular-761d05e3cd968cf574166867998ef06a-6AZYHW64.woff2",Gke="./Xiaolai-Regular-642b26e2e5f5fb780b51b593dbc8c851-VMNFX7DK.woff2",Wke="./Xiaolai-Regular-5572b3513ba8df57a3d5d7303ee6b11b-5KUCBI4F.woff2",Vke="./Xiaolai-Regular-3c9de2ae0ea4bc91a510942dfa4be8d2-Y5ZSIP7Z.woff2",Yke="./Xiaolai-Regular-671a2c20b1eb9e4ef8a192833940e319-L3ZIQ25I.woff2",Kke="./Xiaolai-Regular-4dc6d5f188d5c96d44815cd1e81aa885-HJA7GFAX.woff2",Xke="./Xiaolai-Regular-ce4884f96f11589608b76b726a755803-VDQQFIHI.woff2",Zke="./Xiaolai-Regular-8f476c4c99813d57cbe6eca4727388ad-OFLKJOOJ.woff2",qke="./Xiaolai-Regular-5935a5775af3d5c6307ac667bd9ae74e-ZPGJ6LH2.woff2",Jke="./Xiaolai-Regular-79f007c1c6d07557120982951ea67998-F3LX7OK4.woff2",eMe="./Xiaolai-Regular-bafff7a14c27403dcc6cf1432e8ea836-CHG4F56P.woff2",tMe="./Xiaolai-Regular-543fa46ace099a7099dad69123399400-4LNSWB4E.woff2",nMe="./Xiaolai-Regular-4ddc14ed3eb0c3e46364317dfc0144a3-ESVSMCIZ.woff2",rMe="./Xiaolai-Regular-0fa55a080fcd0f9dc2e0b0058b793df8-TTLU4XFR.woff2",iMe="./Xiaolai-Regular-66493ba5a8367f2928812f446f47b56a-TX27EEYV.woff2",aMe="./Xiaolai-Regular-57862b464a55b18c7bf234ce22907d73-UMOJSVHM.woff2",oMe="./Xiaolai-Regular-8d3bcabb847b56243b16afe62adaaf21-ALMD4Y7C.woff2",sMe="./Xiaolai-Regular-2b77e8ebfb2367ab2662396a60e7d320-RP6YN5A4.woff2",lMe="./Xiaolai-Regular-0b5d723fdc4e249c140f0909e87d03b4-ISCGMB4S.woff2",cMe="./Xiaolai-Regular-cdbce89e82cc1ab53a2decbf5819278f-X6DS2X3Q.woff2",dMe="./Xiaolai-Regular-739bc1a567439c7cffcd1614644593d2-TN2NJTT3.woff2",uMe="./Xiaolai-Regular-72252d73220fa3cd856677888cee1635-LGQD6LHU.woff2",fMe="./Xiaolai-Regular-08e0dc436ad0ad61ba5558db0674d762-HYJQCD2W.woff2",hMe="./Xiaolai-Regular-cf6ff4e0f491ca0cf3038187a997b9b4-P2OXL2LK.woff2",pMe="./Xiaolai-Regular-9cfb2a77a4e45025105ad29a1748b90d-J5PYDJ7P.woff2",gMe="./Xiaolai-Regular-450da755d5bcb70906e1295e559b9602-BXHBXQFA.woff2",mMe="./Xiaolai-Regular-0986d134c05864f5025962eef9f994a0-OAIPCAQ5.woff2",UMe="./Xiaolai-Regular-1ee544f0f1dac422545c505baa788992-QUXLVHI5.woff2",vMe="./Xiaolai-Regular-4806e761d750087c2d734fc64596eaff-7JKRH46I.woff2",yMe="./Xiaolai-Regular-33432927cd87d40cfe393c7482bf221f-AWXP2UHP.woff2",bMe="./Xiaolai-Regular-be549ab72f0719d606a5c01e2c0219b6-TBWQOV72.woff2",AMe="./Xiaolai-Regular-019d66dcad46dc156b162d267f981c20-OTGAJ4TV.woff2",wMe="./Xiaolai-Regular-b5c1596551c256e0e9cf02028595b092-M5J4MRSD.woff2",EMe="./Xiaolai-Regular-e5f453bb04da18eed01675eeebd88bf8-VP54Y4D2.woff2",xMe="./Xiaolai-Regular-cf2cc71752631e579e35b0e423bf2638-R6CEHAL4.woff2",_Me="./Xiaolai-Regular-6f3256af8454371776bc46670d33cc65-SIOOODJB.woff2",CMe="./Xiaolai-Regular-23f228f3999c01983860012330e4be08-LQSV7RMP.woff2",SMe="./Xiaolai-Regular-21430ee05a1248901da8d0de08744d47-MYF65JF3.woff2",IMe="./Xiaolai-Regular-5330a2119a716e4e7224ed108b085dac-CB3A6ZLY.woff2",kMe="./Xiaolai-Regular-cd145ce4a0ea18469358df53c207bc1b-GPFL2V32.woff2",MMe="./Xiaolai-Regular-36925dfe329a45086cbb7fc5c20d45ac-CVP3L2IX.woff2",TMe="./Xiaolai-Regular-4bfaa8ffa64c5ee560aa2daba7c9cbd3-6KOTBRKU.woff2",BMe="./Xiaolai-Regular-112c051027b2d766c19a519f6ee1f4f7-5BJFI7HY.woff2",RMe="./Xiaolai-Regular-5b0ed6971aaab9c8ad563230bd5471a7-7CM7YDUJ.woff2",DMe="./Xiaolai-Regular-98f2ad84457de7f3740d9920b8fa8667-7DPNWFFB.woff2",PMe="./Xiaolai-Regular-733171b4ffcd17ea1fe1c0ba627173bf-QCODOL3X.woff2",LMe="./Xiaolai-Regular-684d65f1793cac449dde5d59cb3c47fb-ILYKG2W4.woff2",NMe="./Xiaolai-Regular-cbaaefaaf326668277aa24dfa93c4d28-FPO25Y27.woff2",$Me="./Xiaolai-Regular-58fd02350d0bc52cf1ca3bb32ce9766e-PPTYK6LO.woff2",FMe="./Xiaolai-Regular-7ccce86603f80a099ddb0cb21d4ae3e3-PHOXCU3Z.woff2",jMe="./Xiaolai-Regular-3717077e38f98d89eae729b6c14e56dc-PE5XJLYW.woff2",OMe="./Xiaolai-Regular-dbea1af6dcd9860be40c3d18254338f5-CQGJYC5W.woff2",zMe="./Xiaolai-Regular-4a0fdb40036e87b40aa08dd30584cb85-OONHOWQY.woff2",QMe="./Xiaolai-Regular-0f626226ba1272e832aea87bafd9720e-IEWJXCTN.woff2",HMe="./Xiaolai-Regular-938d90c10ff8c20386af7f242c05d6b0-HKAZCNVE.woff2",GMe="./Xiaolai-Regular-b6d128682ee29e471486354d486a1b90-6C5VPYAS.woff2",WMe="./Xiaolai-Regular-e51ef413167c6e14e0c0fdcc585f2fc9-LE5XIRIS.woff2",VMe="./Xiaolai-Regular-9d81066dd2b337c938df6e90380a00dc-VAXXIOCK.woff2",YMe="./Xiaolai-Regular-20e7bf72fa05de9adf7dbcc7bf51dde6-OLL4MN6M.woff2",KMe="./Xiaolai-Regular-4095eb84ef3874e2600247bee0b04026-2P5R75DA.woff2",XMe="./Xiaolai-Regular-4ee10ae43505e2e0bc62656ced49c0fa-7IG5NGAL.woff2",ZMe="./Xiaolai-Regular-7494dc504ae00ee9cd0505f990f88c5d-U2GA2VKS.woff2",qMe="./Xiaolai-Regular-8de5b863cb50dfefdd07cb11c774d579-CZX6TZWX.woff2",JMe="./Xiaolai-Regular-3e1f8f654357353bf0e04ba5c34b5f7f-Q6WE7D7O.woff2",eTe="./Xiaolai-Regular-2e33e8dc771ef5e1d9127d60a6b73679-BJWH5D6L.woff2",tTe="./Xiaolai-Regular-173945821411c09f70c95f98d590e697-732QOBO6.woff2",nTe="./Xiaolai-Regular-b358f7a51ece39a3247942b1feabdb29-2TVYP3JI.woff2",rTe="./Xiaolai-Regular-23ad2d71b280f00b1363b95b7bea94eb-7QDTWC6L.woff2",iTe="./Xiaolai-Regular-5882ffa04f32584d26109137e2da4352-Z4T5YGTR.woff2",aTe="./Xiaolai-Regular-a203b91dad570bf05a58c3c3ddb529bf-NCCODLVR.woff2",oTe="./Xiaolai-Regular-bd77e3c7f9e0b072d96af37f73d1aa32-3CLT5IIN.woff2",sTe="./Xiaolai-Regular-5a45d991244d4c7140217e1e5f5ca4f4-E32JQTED.woff2",lTe="./Xiaolai-Regular-f56414bf9bced67990def8660e306759-5QS4LUFW.woff2",cTe="./Xiaolai-Regular-583d166e56ba0de4b77eabb47ef67839-KPDYB3NU.woff2",dTe="./Xiaolai-Regular-7f855356ab893b0d2b9c1c83b8116f0e-FQPSY3FG.woff2",uTe="./Xiaolai-Regular-b57aaedfd8ebdf3931f25119dc6a5eb2-5AVOTTE4.woff2",fTe="./Xiaolai-Regular-b6fd38ca30869792244804b04bc058da-IE7XN7QA.woff2",hTe="./Xiaolai-Regular-452225341522a7942f0f6aab1a5c91a3-TX5WWPYV.woff2",pTe="./Xiaolai-Regular-866fa7613df6b3fd272bcfd4530c0bb9-IPCNYRR2.woff2",gTe="./Xiaolai-Regular-52a84a22fd1369bffeaf21da2d6158dc-HAJECEM6.woff2",mTe="./Xiaolai-Regular-829615148e6357d826b9242eb7fbbd1e-XU3EORDD.woff2",UTe="./Xiaolai-Regular-c99eda15fc26a2941579560f76c3a5cf-TVARELIC.woff2",vTe="./Xiaolai-Regular-395c35dd584b56b0789f58a0559beaf1-454IVNBJ.woff2",yTe="./Xiaolai-Regular-203b0e569e3b14aac86a003dc3fa523e-TFMHONJ2.woff2",bTe="./Xiaolai-Regular-51a0e808bbc8361236ac521a119758a3-3UGMXTDF.woff2",ATe="./Xiaolai-Regular-6e092f71c1e634059ada0e52abadce67-K264Z6TE.woff2",wTe="./Xiaolai-Regular-0f7fb1e0d5015bb1371343153ecf7ce3-TXCUIB2R.woff2",ETe="./Xiaolai-Regular-d0cf73942fea1c74edbdf0b3011f4656-VXQCFUMZ.woff2",xTe="./Xiaolai-Regular-968cffdc8ee679da094e77ebf50f58ef-VA2Z4TFW.woff2",_Te="./Xiaolai-Regular-7a07ddc0f0c0f5f4a9bad6ee3dda66b5-NTA5CCZC.woff2",CTe="./Xiaolai-Regular-ec181b795ac1fb5a50d700b6e996d745-IQGHEQJR.woff2",STe="./Xiaolai-Regular-cfb211578629b7e8153b37240de6a9d5-XCNIA6AD.woff2",ITe="./Xiaolai-Regular-59e9ff77b0efaf684bc09274fb6908c9-OMJOS5SI.woff2",kTe="./Xiaolai-Regular-2adbc89c11e65905393d3dfc468b9d5b-4SFQBEIQ.woff2",MTe="./Xiaolai-Regular-70e811fd7994e61f408c923de6ddd078-QBYDJXMN.woff2",TTe="./Xiaolai-Regular-c4a687ac4f0c2766eefc9f77ed99cddf-GPB56LT2.woff2",BTe="./Xiaolai-Regular-51502f1206be09c565f1547c406e9558-CBSA7RVN.woff2",RTe="./Xiaolai-Regular-1fdc0c67ed57263a80fd108c1f6ccf24-H7WGCBOV.woff2",DTe="./Xiaolai-Regular-e11567fd2accf9957cd0d3c2be937d87-DOQR7LKT.woff2",PTe="./Xiaolai-Regular-20cc1bbf50e7efb442756cb605672c1f-3WUVKX2X.woff2",LTe="./Xiaolai-Regular-5d2898fbc097a7e24c6f38d80587621e-KBSLEFDU.woff2",NTe="./Xiaolai-Regular-ac9ceb44437becc3e9c4dbfebab7fc2d-FOZUIRQD.woff2",$Te="./Xiaolai-Regular-c16ed9740b85badf16e86ea782a3062f-BKBULLIN.woff2",FTe="./Xiaolai-Regular-aa0d470430e6391eca720c7cfa44446f-WNXXR24F.woff2",jTe="./Xiaolai-Regular-f2b54d4e7be0eaefe1c2c56836fa5368-PFGHGCQI.woff2",OTe="./Xiaolai-Regular-99a16ef6a64934d5781933dbd9c46b2e-D3OH4HTA.woff2",zTe="./Xiaolai-Regular-c40533fdf4cc57177b12803598af7e59-P4GNQF56.woff2",QTe="./Xiaolai-Regular-91ddb2969bf2d31ba02ad82998d1314c-W6V5PJDV.woff2",HTe="./Xiaolai-Regular-774d4f764a1299da5d28ec2f2ffe0d69-6R4E3UON.woff2",GTe="./Xiaolai-Regular-7718fe60986d8b42b1be9c5ace5ccf25-IE3TBRPM.woff2",WTe="./Xiaolai-Regular-aa5c9ca6cf4fba00433b7aa3fa10671a-RZ23J574.woff2",VTe="./Xiaolai-Regular-4f50e5136e136527280bc902c5817561-TSQICLE6.woff2",YTe="./Xiaolai-Regular-093b9ef39a46ceae95a1df18a0a3a326-4Q2JWQU2.woff2",KTe="./Xiaolai-Regular-a0ca5df4258213d7fc9fce80f65ce760-WQD2KCIG.woff2",XTe="./Xiaolai-Regular-d2666cbed13462c5dc36fa2f15c202ca-QG5J4SJG.woff2",ZTe="./Xiaolai-Regular-1e6fd68f1f3902ce48ce8c69df385622-LZHGHNGK.woff2",qTe="./Xiaolai-Regular-87599f94b6cc129d505b375798d0d751-2XP7642X.woff2",JTe="./Xiaolai-Regular-06c77b8c66e51ed6c63ccb502dd8b8af-5QMOZZUU.woff2",eBe="./Xiaolai-Regular-13ae07ed2e272d26d59bc0691cd7117a-JHWVTJGS.woff2",tBe="./Xiaolai-Regular-353f33792a8f60dc69323ddf635a269e-JPKVDIVL.woff2",nBe="./Xiaolai-Regular-0facdf1ea213ba40261022f5d5ed4493-36M64LT6.woff2",rBe="./Xiaolai-Regular-f8ee5d36068a42b51d0e4a1116cfcec1-MJSVAGRH.woff2",iBe="./Xiaolai-Regular-79d494361ae093b69e74ee9dbe65bfd4-CK6BUCZY.woff2",aBe="./Xiaolai-Regular-74e2263a91439c25b91d5132ce9f4d62-GX4KAFRF.woff2",oBe="./Xiaolai-Regular-ee8bae97908d5147b423f77ad0d3c1bb-4CJX7R3B.woff2",sBe="./Xiaolai-Regular-56467a5c8840c4d23a60b2f935114848-7D4XROXN.woff2",lBe="./Xiaolai-Regular-145aa02cdd91946e67dc934e1acffe75-6LGURE7J.woff2",cBe="./Xiaolai-Regular-54acdfc2166ad7fcbd074f75fd4a56ba-4EYIPYT7.woff2",dBe="./Xiaolai-Regular-29cec36cd205b211da97acabaa62f055-UR62BIZS.woff2",uBe="./Xiaolai-Regular-3756e81d3e149cf6099163ee79944fec-WZBA33KC.woff2",fBe="./Xiaolai-Regular-8e9f97f01034820170065b2921b4fb5e-VFG2Y73S.woff2",hBe="./Xiaolai-Regular-13d2887ec8ee73c43acdabc52a05af7b-2YFXJYRW.woff2",pBe="./Xiaolai-Regular-72536a3d71b694a0d53dd90ddceae41e-XDUS76QT.woff2",gBe="./Xiaolai-Regular-603aefd23e350ba7eb124273e3c9bcf1-45NVZEP6.woff2",mBe="./Xiaolai-Regular-095c169f3314805276f603a362766abd-AEFVYQ57.woff2",UBe="./Xiaolai-Regular-9544732d2e62d1a429674f8ee41b5d3a-Z7XI3HG3.woff2",vBe="./Xiaolai-Regular-d3716376641d615e2995605b29bca7b6-SEAMHQ24.woff2",yBe="./Xiaolai-Regular-5a1ce3117cfe90c48e8fb4a9a00f694d-DCFTYZIF.woff2",bBe="./Xiaolai-Regular-b7d203b051eff504ff59ddca7576b6a9-3O7H6PYU.woff2",ABe="./Xiaolai-Regular-4a38cc3e9cf104e69ba246d37f8cf135-K27DXTBV.woff2",wBe="./Xiaolai-Regular-982b630266d87db93d2539affb1275c6-VQT6YHHZ.woff2",EBe="./Xiaolai-Regular-9592bfc861f07bcb8d75c196b370e548-XQFVQO6I.woff2",xBe="./Xiaolai-Regular-a7accba310e821da5505f71c03b76bdb-BX3IDFN6.woff2",_Be="./Xiaolai-Regular-dac48066b5883d8b4551fc584f0c2a3e-BFX6O2WU.woff2",CBe="./Xiaolai-Regular-a1f916d6039285c4ffb900cd654e418f-PKHZK6HG.woff2",SBe="./Xiaolai-Regular-95bfd249da4902577b4b7d76ebdd0b44-GM77AZ3K.woff2",IBe="./Xiaolai-Regular-93fc8f28a33234bcadf1527cafabd502-EYCRDXXP.woff2",kBe="./Xiaolai-Regular-903bb6865f3452e2fda42e3a25547bc5-KQGTPRW3.woff2",MBe="./Xiaolai-Regular-4aca6a43e59aceee2166b0c7e4e85ef1-56OXA3AU.woff2",TBe="./Xiaolai-Regular-24476a126f129212beb33f66853ea151-ZYE5IGO2.woff2",BBe="./Xiaolai-Regular-1b611157cd46bb184d4fa4dae2d6a2b8-GGVIT6M2.woff2",RBe="./Xiaolai-Regular-56a32a7689abd0326e57c10c6c069bb4-ALI245F6.woff2",DBe="./Xiaolai-Regular-3cc70dbb64df5b21f1326cc24dee2195-L25YV3JM.woff2",PBe="./Xiaolai-Regular-f6032fc06eb20480f096199713f70885-U7Q4SJSX.woff2",LBe="./Xiaolai-Regular-e2ead7ea7da0437f085f42ffc05f8d13-UMGIKDJL.woff2",NBe="./Xiaolai-Regular-97f7f48ce90c9429bf32ae51469db74d-4SHZ6A6O.woff2",$Be="./Xiaolai-Regular-24a21c1e4449222e8d1898d69ff3a404-HKZ2SNA4.woff2",FBe="./Xiaolai-Regular-726303e0774b4e678bff8c2deb6ca603-FJ3WZDFH.woff2",jBe="./Xiaolai-Regular-5a7fac4b8b23a6e4e5ba0c9bf1756c91-IVRVNUE5.woff2",OBe="./Xiaolai-Regular-2b7441d46298788ac94e610ffcc709b6-KLLPKBZM.woff2",zBe=[{uri:KIe,descriptors:{unicodeRange:"U+f9b8-fa6d,U+fe32,U+fe45-fe4f,U+ff02-ff0b,U+ff0d-ff1e,U+ff20-ff2a"}},{uri:XIe,descriptors:{unicodeRange:"U+20dd-20de,U+25ef,U+ff2b-ffbe,U+ffc2-ffc7,U+ffca-ffcf,U+ffd2-ffd7,U+ffda-ffdc,U+ffe0-ffe6,U+ffe8-ffee"}},{uri:ZIe,descriptors:{unicodeRange:"U+d7eb-d7fb,U+f900-f9b7"}},{uri:qIe,descriptors:{unicodeRange:"U+d6f2-d7a3,U+d7b0-d7c6,U+d7cb-d7ea"}},{uri:JIe,descriptors:{unicodeRange:"U+d609-d6f1"}},{uri:eke,descriptors:{unicodeRange:"U+d520-d608"}},{uri:tke,descriptors:{unicodeRange:"U+d437-d51f"}},{uri:nke,descriptors:{unicodeRange:"U+d34e-d436"}},{uri:rke,descriptors:{unicodeRange:"U+d265-d34d"}},{uri:ike,descriptors:{unicodeRange:"U+d17c-d264"}},{uri:ake,descriptors:{unicodeRange:"U+d093-d17b"}},{uri:oke,descriptors:{unicodeRange:"U+cfaa-d092"}},{uri:ske,descriptors:{unicodeRange:"U+cec1-cfa9"}},{uri:lke,descriptors:{unicodeRange:"U+cdd8-cec0"}},{uri:cke,descriptors:{unicodeRange:"U+ccf1-cdd7"}},{uri:dke,descriptors:{unicodeRange:"U+cc08-ccf0"}},{uri:uke,descriptors:{unicodeRange:"U+cb43-cc07"}},{uri:fke,descriptors:{unicodeRange:"U+ca83-cb42"}},{uri:hke,descriptors:{unicodeRange:"U+c9a1-ca82"}},{uri:pke,descriptors:{unicodeRange:"U+c8b8-c9a0"}},{uri:gke,descriptors:{unicodeRange:"U+c7cf-c8b7"}},{uri:mke,descriptors:{unicodeRange:"U+c6e6-c7ce"}},{uri:Uke,descriptors:{unicodeRange:"U+c5fd-c6e5"}},{uri:vke,descriptors:{unicodeRange:"U+c514-c5fc"}},{uri:yke,descriptors:{unicodeRange:"U+c42b-c513"}},{uri:bke,descriptors:{unicodeRange:"U+c341-c34e,U+c350-c42a"}},{uri:Ake,descriptors:{unicodeRange:"U+c258-c340"}},{uri:wke,descriptors:{unicodeRange:"U+c16f-c257"}},{uri:Eke,descriptors:{unicodeRange:"U+c086-c16e"}},{uri:xke,descriptors:{unicodeRange:"U+bf9d-c085"}},{uri:_ke,descriptors:{unicodeRange:"U+beb4-bf9c"}},{uri:Cke,descriptors:{unicodeRange:"U+bdcb-beb3"}},{uri:Ske,descriptors:{unicodeRange:"U+bce2-bdca"}},{uri:Ike,descriptors:{unicodeRange:"U+bbf9-bce1"}},{uri:kke,descriptors:{unicodeRange:"U+bb10-bbf8"}},{uri:Mke,descriptors:{unicodeRange:"U+ba27-bb0f"}},{uri:Tke,descriptors:{unicodeRange:"U+b93e-ba26"}},{uri:Bke,descriptors:{unicodeRange:"U+b855-b93d"}},{uri:Rke,descriptors:{unicodeRange:"U+b76c-b854"}},{uri:Dke,descriptors:{unicodeRange:"U+b683-b76b"}},{uri:Pke,descriptors:{unicodeRange:"U+b59a-b682"}},{uri:Lke,descriptors:{unicodeRange:"U+b4b1-b599"}},{uri:Nke,descriptors:{unicodeRange:"U+11fb-11ff,U+b3cd-b4b0"}},{uri:$ke,descriptors:{unicodeRange:"U+11e6-11fa,U+b2f9-b3cc"}},{uri:Fke,descriptors:{unicodeRange:"U+11d1-11e5,U+b225-b2f8"}},{uri:jke,descriptors:{unicodeRange:"U+11bc-11d0,U+b151-b224"}},{uri:Oke,descriptors:{unicodeRange:"U+11a7-11bb,U+b07d-b150"}},{uri:zke,descriptors:{unicodeRange:"U+1191-11a6,U+afaa-b07c"}},{uri:Qke,descriptors:{unicodeRange:"U+117c-1190,U+aed6-afa9"}},{uri:Hke,descriptors:{unicodeRange:"U+1167-117b,U+ae02-aed5"}},{uri:Gke,descriptors:{unicodeRange:"U+1152-115e,U+1160-1166,U+ad2d-ae01"}},{uri:Wke,descriptors:{unicodeRange:"U+113d-1151,U+ac59-ad2c"}},{uri:Vke,descriptors:{unicodeRange:"U+1100-113c,U+9f95-9f98,U+9f9c-9f9e,U+9fa1-9fce,U+9fd0,U+a960-a97c,U+ac00-ac58"}},{uri:Yke,descriptors:{unicodeRange:"U+9771-9772,U+9775,U+9777-977b,U+977d-9784,U+9786-978a,U+978c,U+978e-9790,U+9793,U+9795-9797,U+9799-979f,U+97a1-97a2,U+97a4-97aa,U+97ac,U+97ae,U+97b0-97b1,U+97b3,U+97b5-97e5,U+97e8,U+97ee-97f2,U+97f4,U+97f7-982d"}},{uri:Kke,descriptors:{unicodeRange:"U+9491,U+9496,U+9498,U+94c7,U+94cf,U+94d3-94d4,U+94da,U+94e6,U+94fb,U+951c,U+9520,U+9527,U+9533,U+953d,U+9543,U+9548,U+954b,U+9555,U+955a,U+9560,U+956e,U+9574-9575,U+9577-957e,U+9580-95e7,U+95ec,U+95ff,U+9607,U+9613,U+9618,U+961b,U+961e,U+9620,U+9623-9629,U+962b-962d,U+962f-9630,U+9637-963a,U+963e,U+9641,U+9643,U+964a,U+964e-964f,U+9651-9653,U+9656-965a,U+965c-965e,U+9660,U+9663,U+9665-9666,U+966b,U+966d-9671,U+9673,U+9678-9684,U+9687,U+9689-968a,U+968c,U+968e,U+9691-9693"}},{uri:Xke,descriptors:{unicodeRange:"U+923c-9273,U+9275-928d,U+928f-92ad,U+92af-92c7,U+92c9-92ee"}},{uri:Zke,descriptors:{unicodeRange:"U+9159,U+915b-915c,U+915f-9160,U+9166-9168,U+916b,U+916d,U+9173,U+917a-917c,U+9180-9184,U+9186,U+9188,U+918a,U+918e-918f,U+9193-9199,U+919c-91a1,U+91a4-91a9,U+91ab-91ac,U+91b0-91b3,U+91b6-91b9,U+91bb-91c6,U+91c8,U+91cb,U+91d0,U+91d2-91db,U+91dd-923b"}},{uri:qke,descriptors:{unicodeRange:"U+902b-902c,U+9030-9034,U+9037,U+9039-903a,U+903d,U+903f-9040,U+9043,U+9045-9046,U+9048-904c,U+904e,U+9054-9056,U+9059-905a,U+905c-9061,U+9064,U+9066-9067,U+9069-906c,U+906f-9073,U+9076-907c,U+907e,U+9081,U+9084-9087,U+9089-908a,U+908c-9090,U+9092,U+9094,U+9096,U+9098,U+909a,U+909c,U+909e-90a0,U+90a4-90a5,U+90a7-90a9,U+90ab,U+90ad,U+90b2,U+90b7,U+90bc-90bd,U+90bf-90c0,U+90c2-90c3,U+90c6,U+90c8-90c9,U+90cb-90cd,U+90d2,U+90d4-90d6,U+90d8-90da,U+90de-90e0,U+90e3-90e5,U+90e9-90ea,U+90ec,U+90ee,U+90f0-90f3,U+90f5-90f7,U+90f9-90fc,U+90ff-9101,U+9103,U+9105-9118,U+911a-911d,U+911f-9121,U+9124-912e,U+9130,U+9132-9138,U+913a-9142,U+9144-9145,U+9147-9148,U+9151,U+9153-9156,U+9158"}},{uri:Jke,descriptors:{unicodeRange:"U+8f03-8f65,U+8f6a,U+8f80,U+8f8c,U+8f92,U+8f9d,U+8fa0-8fa2,U+8fa4-8fa7,U+8faa,U+8fac-8faf,U+8fb2-8fb5,U+8fb7-8fb8,U+8fba-8fbc,U+8fbf-8fc0,U+8fc3,U+8fc6,U+8fc9-8fcd,U+8fcf,U+8fd2,U+8fd6-8fd7,U+8fda,U+8fe0-8fe1,U+8fe3,U+8fe7,U+8fec,U+8fef,U+8ff1-8ff2,U+8ff4-8ff6,U+8ffa-8ffc,U+8ffe-8fff,U+9007-9008,U+900c,U+900e,U+9013,U+9015,U+9018-9019,U+901c,U+9023-9025,U+9027-902a"}},{uri:eMe,descriptors:{unicodeRange:"U+8d03-8d1c,U+8d20,U+8d51-8d52,U+8d57,U+8d5f,U+8d65,U+8d68-8d6a,U+8d6c,U+8d6e-8d6f,U+8d71-8d72,U+8d78-8d80,U+8d82-8d83,U+8d86-8d89,U+8d8c-8d90,U+8d92-8d93,U+8d95-8d9e,U+8da0-8da2,U+8da4-8db0,U+8db2,U+8db6-8db7,U+8db9,U+8dbb,U+8dbd,U+8dc0-8dc2,U+8dc5,U+8dc7-8dca,U+8dcd,U+8dd0,U+8dd2-8dd5,U+8dd8-8dd9,U+8ddc,U+8de0-8de2,U+8de5-8de7,U+8de9,U+8ded-8dee,U+8df0-8df2,U+8df4,U+8df6,U+8dfc,U+8dfe-8e04,U+8e06-8e08,U+8e0b,U+8e0d-8e0e,U+8e10-8e13,U+8e15-8e1c,U+8e20-8e21,U+8e24-8e28,U+8e2b,U+8e2d,U+8e30,U+8e32-8e34,U+8e36-8e38,U+8e3b-8e3c,U+8e3e-8e3f,U+8e43,U+8e45-8e46"}},{uri:tMe,descriptors:{unicodeRange:"U+8bea,U+8c09,U+8c1e,U+8c38-8c40,U+8c42-8c45,U+8c48,U+8c4a-8c4b,U+8c4d-8c54,U+8c56-8c59,U+8c5b-8c60,U+8c63-8c69,U+8c6c-8c72,U+8c74-8c77,U+8c7b-8c81,U+8c83-8c84,U+8c86-8c88,U+8c8b,U+8c8d-8c93,U+8c95-8c97,U+8c99-8d02"}},{uri:nMe,descriptors:{unicodeRange:"U+8a64-8a78,U+8a7a-8a88,U+8a8b-8a92,U+8a94-8b06,U+8b08-8b1b"}},{uri:rMe,descriptors:{unicodeRange:"U+8987-89c0,U+89c3,U+89cd,U+89d3-89d5,U+89d7-89d9,U+89db,U+89dd,U+89df-89e2,U+89e4,U+89e7-89ea,U+89ec-89ee,U+89f0-89f2,U+89f4-89ff,U+8a01-8a06,U+8a08-8a3d,U+8a3f-8a47,U+8a49-8a63"}},{uri:iMe,descriptors:{unicodeRange:"U+87e3-87e4,U+87e6-87e9,U+87eb-87ed,U+87ef-87f8,U+87fa-87fd,U+87ff-8802,U+8804-8809,U+880b-8812,U+8814,U+8817-881a,U+881c-8820,U+8823-8831,U+8833-8838,U+883a-883b,U+883d-883f,U+8841-8843,U+8846-884b,U+884e-8853,U+8855-8856,U+8858,U+885a-8860,U+8866-8867,U+886a,U+886d,U+886f,U+8871,U+8873-8876,U+8878-887c,U+8880,U+8883,U+8886-8887,U+8889-888a,U+888c,U+888e-8891,U+8893-8895,U+8897-889b,U+889d-88a1,U+88a3,U+88a5-88aa,U+88ac,U+88ae-88b0,U+88b2-88b6,U+88b8-88bb"}},{uri:aMe,descriptors:{unicodeRange:"U+86e7-86e8,U+86ea-86ec,U+86ef,U+86f5-86f7,U+86fa-86fd,U+86ff,U+8701,U+8704-8706,U+870b-870c,U+870e-8711,U+8714,U+8716,U+8719,U+871b,U+871d,U+871f-8720,U+8724,U+8726-8728,U+872a-872d,U+872f-8730,U+8732-8733,U+8735-8736,U+8738-873a,U+873c-873d,U+8740-8746,U+874a-874b,U+874d,U+874f-8752,U+8754-8756,U+8758,U+875a-875f,U+8761-8762,U+8766-876d,U+876f,U+8771-8773,U+8775,U+8777-877a,U+877f-8781,U+8784,U+8786-8787,U+8789-878a,U+878c,U+878e-8792,U+8794-8796,U+8798-879e,U+87a0-87a7,U+87a9-87aa,U+87ae,U+87b0-87b2,U+87b4,U+87b6-87b9,U+87bb-87bc,U+87be-87bf,U+87c1-87c5,U+87c7-87c9,U+87cc-87d0,U+87d4-87da,U+87dc-87df,U+87e1-87e2"}},{uri:oMe,descriptors:{unicodeRange:"U+8604,U+8606-8610,U+8612-8615,U+8617-8626,U+8628,U+862a-8637,U+8639-863b,U+863d-864c,U+8652-8653,U+8655-8659,U+865b-865d,U+865f-8661,U+8663-866a,U+866d,U+866f-8670,U+8672-8678,U+8683-8689,U+868e-8692,U+8694,U+8696-869b,U+869e-86a2,U+86a5-86a6,U+86ab,U+86ad-86ae,U+86b2-86b3,U+86b7-86b9,U+86bb-86bf,U+86c1-86c3,U+86c5,U+86c8,U+86cc-86cd,U+86d2-86d3,U+86d5-86d7,U+86da,U+86dc-86dd,U+86e0-86e3,U+86e5-86e6"}},{uri:sMe,descriptors:{unicodeRange:"U+8456,U+8458,U+845d-8460,U+8462,U+8464-8468,U+846a,U+846e-8470,U+8472,U+8474,U+8477,U+8479,U+847b-8481,U+8483-8486,U+848a,U+848d,U+848f-8496,U+8498,U+849a-849b,U+849d-84a0,U+84a2-84ae,U+84b0-84b1,U+84b3,U+84b5-84b7,U+84bb-84bc,U+84be,U+84c0,U+84c2-84c3,U+84c5-84c8,U+84cb-84cc,U+84ce-84cf,U+84d2,U+84d4-84d5,U+84d7-84dc,U+84de,U+84e1-84e2,U+84e4,U+84e7-84eb,U+84ed-84ef,U+84f1-84fb,U+84fd-84fe,U+8500-850b,U+850d-8510,U+8512,U+8514-8516,U+8518-8519,U+851b-851e,U+8520,U+8522-852a,U+852d-8536,U+853e-8542,U+8544-8547,U+854b-854f"}},{uri:lMe,descriptors:{unicodeRange:"U+82c2-82c3,U+82c5-82c6,U+82c9,U+82d0,U+82d6,U+82d9-82da,U+82dd,U+82e2,U+82e7-82ea,U+82ec-82ee,U+82f0,U+82f2-82f3,U+82f5-82f6,U+82f8,U+82fa,U+82fc-8300,U+830a-830b,U+830d,U+8310,U+8312-8313,U+8316,U+8318-8319,U+831d-8326,U+8329-832a,U+832e,U+8330,U+8332,U+8337,U+833b,U+833d-833f,U+8341-8342,U+8344-8345,U+8348,U+834a-834e,U+8353,U+8355-8359,U+835d,U+8362,U+8370-8376,U+8379-837a,U+837e-8384,U+8387-8388,U+838a-838d,U+838f-8391,U+8394-8397,U+8399-839a,U+839d,U+839f,U+83a1-83a7,U+83ac-83af,U+83b5,U+83bb,U+83be-83bf,U+83c2-83c4,U+83c6,U+83c8-83c9,U+83cb,U+83cd-83ce,U+83d0-83d3,U+83d5,U+83d7,U+83d9-83db,U+83de,U+83e2-83e4,U+83e6-83e8,U+83eb-83ef,U+83f3-83f7,U+83fa-83fc,U+83fe-8400,U+8402,U+8405,U+8407-840a,U+8410,U+8412-8417,U+8419-841b,U+841e-8423,U+8429-8430,U+8432-8437,U+8439-843b,U+843e-8445,U+8447-8450,U+8452-8455"}},{uri:cMe,descriptors:{unicodeRange:"U+81a4-81a5,U+81a7,U+81a9,U+81ab-81b2,U+81b4-81b9,U+81bc-81bf,U+81c4-81c5,U+81c7-81c9,U+81cb,U+81cd-81e2,U+81e4-81e6,U+81e8-81e9,U+81eb,U+81ee-81f2,U+81f5-81fa,U+81fd,U+81ff,U+8203,U+8207-820b,U+820e-820f,U+8211,U+8213,U+8215-821a,U+821d,U+8220,U+8224-8227,U+8229,U+822e,U+8232,U+823a,U+823c-823d,U+823f-8243,U+8245-8246,U+8248,U+824a,U+824c-824e,U+8250-8257,U+8259,U+825b-825e,U+8260-8267,U+8269-826d,U+8271,U+8275-8278,U+827b-827c,U+8280-8281,U+8283,U+8285-8287,U+8289,U+828c,U+8290,U+8293-8296,U+829a-829b,U+829e,U+82a0,U+82a2-82a3,U+82a7,U+82b2,U+82b5-82b6,U+82ba-82bc,U+82bf-82c0"}},{uri:dMe,descriptors:{unicodeRange:"U+8059,U+805b-8068,U+806b-8070,U+8072-807e,U+8081-8082,U+8085,U+8088,U+808a,U+808d-8092,U+8094-8095,U+8097,U+8099,U+809e,U+80a3,U+80a6-80a8,U+80ac,U+80b0,U+80b3,U+80b5-80b6,U+80b8-80b9,U+80bb,U+80c5,U+80c7-80cb,U+80cf-80d5,U+80d8,U+80df-80e0,U+80e2-80e3,U+80e6,U+80ee,U+80f5,U+80f7,U+80f9,U+80fb,U+80fe-8101,U+8103-8105,U+8107-8108,U+810b-810c,U+8115,U+8117,U+8119,U+811b-811d,U+811f-812b,U+812d-812e,U+8130,U+8133-8135,U+8137,U+8139-813d,U+813f-8145,U+8147,U+8149,U+814d-814f,U+8152,U+8156-8158,U+815b-815f,U+8161-8164,U+8166,U+8168,U+816a-816c,U+816f,U+8172-8173,U+8175-8178,U+8181,U+8183-8187,U+8189,U+818b-818e,U+8190,U+8192-8197,U+8199-819a,U+819e-81a2"}},{uri:uMe,descriptors:{unicodeRange:"U+7f3c-7f41,U+7f43,U+7f46-7f4f,U+7f52-7f53,U+7f56,U+7f59,U+7f5b-7f5e,U+7f60,U+7f63-7f67,U+7f6b-7f6d,U+7f6f-7f70,U+7f73,U+7f75-7f78,U+7f7a-7f7d,U+7f7f-7f80,U+7f82-7f89,U+7f8b,U+7f8d,U+7f8f-7f93,U+7f95-7f99,U+7f9b-7f9c,U+7fa0,U+7fa2-7fa3,U+7fa5-7fa6,U+7fa8-7fae,U+7fb1,U+7fb3-7fb7,U+7fba-7fbb,U+7fbe,U+7fc0,U+7fc2-7fc4,U+7fc6-7fc9,U+7fcb,U+7fcd,U+7fcf-7fd3,U+7fd6-7fd7,U+7fd9-7fde,U+7fe2-7fe4,U+7fe7-7fe8,U+7fea-7fed,U+7fef,U+7ff2,U+7ff4-7ffa,U+7ffd-7fff,U+8002,U+8007-800a,U+800e-800f,U+8011,U+8013,U+801a-801b,U+801d-801f,U+8021,U+8023-8024,U+802b-8030,U+8032,U+8034,U+8039-803a,U+803c,U+803e,U+8040-8041,U+8044-8045,U+8047-8049,U+804e-8051,U+8053,U+8055-8057"}},{uri:fMe,descriptors:{unicodeRange:"U+7cd8,U+7cda-7cdb,U+7cdd-7cde,U+7ce1-7ce7,U+7ce9-7cee,U+7cf0-7cf7,U+7cf9-7cfa,U+7cfc-7d09,U+7d0b-7d1f,U+7d21,U+7d23-7d26,U+7d28-7d2a,U+7d2c-7d2e,U+7d30-7d6d,U+7d6f-7d76,U+7d78-7d94"}},{uri:hMe,descriptors:{unicodeRange:"U+7afe,U+7b00-7b02,U+7b05,U+7b07,U+7b09,U+7b0c-7b0e,U+7b10,U+7b12-7b13,U+7b16-7b18,U+7b1a,U+7b1c-7b1d,U+7b1f,U+7b21-7b23,U+7b27,U+7b29,U+7b2d,U+7b2f-7b30,U+7b32,U+7b34-7b37,U+7b39,U+7b3b,U+7b3d,U+7b3f-7b44,U+7b46,U+7b48,U+7b4a,U+7b4d-7b4e,U+7b53,U+7b55,U+7b57,U+7b59,U+7b5c,U+7b5e-7b5f,U+7b61,U+7b63-7b6d,U+7b6f-7b70,U+7b73-7b74,U+7b76,U+7b78,U+7b7a,U+7b7c-7b7d,U+7b7f,U+7b81-7b84,U+7b86-7b8c,U+7b8e-7b8f,U+7b91-7b93,U+7b96,U+7b98-7b9b,U+7b9e-7ba0,U+7ba3-7ba5,U+7bae-7bb0,U+7bb2-7bb3,U+7bb5-7bb7,U+7bb9-7bc0,U+7bc2-7bc5,U+7bc8-7bcb,U+7bcd-7bd0,U+7bd2,U+7bd4-7bd8,U+7bdb-7bdc,U+7bde-7be0,U+7be2-7be4,U+7be7-7be9,U+7beb-7bed,U+7bef-7bf0,U+7bf2-7bf6,U+7bf8-7bfb,U+7bfd,U+7bff-7c06,U+7c08-7c0a,U+7c0d-7c0e,U+7c10-7c13"}},{uri:pMe,descriptors:{unicodeRange:"U+7a10-7a13,U+7a15-7a16,U+7a18-7a19,U+7a1b-7a1d,U+7a1f,U+7a21-7a22,U+7a24-7a32,U+7a34-7a36,U+7a38,U+7a3a,U+7a3e,U+7a40-7a45,U+7a47-7a50,U+7a52-7a56,U+7a58-7a6f,U+7a71-7a73,U+7a75,U+7a7b-7a7e,U+7a82,U+7a85,U+7a87,U+7a89-7a8c,U+7a8e-7a90,U+7a93-7a94,U+7a99-7a9b,U+7a9e,U+7aa1-7aa4,U+7aa7,U+7aa9-7aab,U+7aae-7ab2,U+7ab4-7abe,U+7ac0-7aca,U+7acc-7ad5,U+7ad7-7ad8,U+7ada-7add,U+7ae1-7ae2,U+7ae4,U+7ae7-7aec,U+7aee,U+7af0-7af8,U+7afb-7afc"}},{uri:gMe,descriptors:{unicodeRange:"U+790d-7912,U+7914-791d,U+791f-7923,U+7925-7933,U+7935-7939,U+793d,U+793f,U+7942-7945,U+7947,U+794a-7952,U+7954-7955,U+7958-7959,U+7961,U+7963-7964,U+7966,U+7969-796c,U+796e,U+7970-7976,U+7979,U+797b-797f,U+7982-7983,U+7986-7989,U+798b-798e,U+7990-7999,U+799b-79a6,U+79a8-79b2,U+79b4-79b8,U+79bc,U+79bf,U+79c2,U+79c4-79c5,U+79c7-79c8,U+79ca,U+79cc,U+79ce-79d0,U+79d3-79d4,U+79d6-79d7,U+79d9-79de,U+79e0-79e2,U+79e5,U+79e8,U+79ea,U+79ec,U+79ee,U+79f1-79f7,U+79f9-79fa,U+79fc,U+79fe-79ff,U+7a01,U+7a04-7a05,U+7a07-7a0a,U+7a0c,U+7a0f"}},{uri:mMe,descriptors:{unicodeRange:"U+77d8-77da,U+77dd-77e1,U+77e4,U+77e6,U+77e8,U+77ea,U+77ef-77f2,U+77f4-77f5,U+77f7,U+77f9-77fc,U+7803-7808,U+780a-780b,U+780e-7810,U+7813,U+7815,U+7819,U+781b,U+781e,U+7820-7822,U+7824,U+7828,U+782a-782b,U+782e-782f,U+7831-7833,U+7835-7836,U+783d,U+783f,U+7841-7844,U+7846,U+7848-784b,U+784d,U+784f,U+7851,U+7853-7854,U+7858-785c,U+785e-7869,U+786f-7876,U+7878-787b,U+787d-7886,U+7888,U+788a-788b,U+788f-7890,U+7892,U+7894-7896,U+7899,U+789d-789e,U+78a0,U+78a2,U+78a4,U+78a6,U+78a8-78af,U+78b5-78b8,U+78ba-78bd,U+78bf-78c0,U+78c2-78c4,U+78c6-78c8,U+78cc-78cf,U+78d1-78d3,U+78d6-78d8,U+78da-78e7,U+78e9-78eb,U+78ed-78f1,U+78f3,U+78f5-78f6,U+78f8-78f9,U+78fb-7900,U+7902-7904,U+7906-790c"}},{uri:UMe,descriptors:{unicodeRange:"U+76af-76b0,U+76b3,U+76b5-76be,U+76c0-76c1,U+76c3-76c4,U+76c7,U+76c9,U+76cb-76cc,U+76d3,U+76d5,U+76d9-76da,U+76dc-76de,U+76e0-76e4,U+76e6-76ed,U+76f0,U+76f3,U+76f5-76f7,U+76fa-76fb,U+76fd,U+76ff-7703,U+7705-7706,U+770a,U+770c,U+770e-7718,U+771b-771e,U+7721,U+7723-7725,U+7727,U+772a-772c,U+772e,U+7730-7734,U+7739,U+773b,U+773d-773f,U+7742,U+7744-7746,U+7748-774f,U+7752-7759,U+775c-7760,U+7764,U+7767,U+7769-776a,U+776d-7778,U+777a-777c,U+7781-7783,U+7786-778b,U+778f-7790,U+7793-779e,U+77a1,U+77a3-77a4,U+77a6,U+77a8,U+77ab,U+77ad-77af,U+77b1-77b2,U+77b4,U+77b6-77ba,U+77bc,U+77be,U+77c0-77cc,U+77ce-77d6"}},{uri:vMe,descriptors:{unicodeRange:"U+7589-758a,U+758c-758e,U+7590,U+7593,U+7595,U+7598,U+759b-759c,U+759e,U+75a2,U+75a6-75aa,U+75ad,U+75b6-75b7,U+75ba-75bb,U+75bf-75c1,U+75c6,U+75cb-75cc,U+75ce-75d1,U+75d3,U+75d7,U+75d9-75da,U+75dc-75dd,U+75df-75e1,U+75e5,U+75e9,U+75ec-75ef,U+75f2-75f3,U+75f5-75f8,U+75fa-75fb,U+75fd-75fe,U+7602,U+7604,U+7606-7609,U+760b,U+760d-760f,U+7611-7614,U+7616,U+761a,U+761c-761e,U+7621,U+7623,U+7627-7628,U+762c,U+762e-762f,U+7631-7632,U+7636-7637,U+7639-763b,U+763d,U+7641-7642,U+7644-764b,U+764e-7653,U+7655,U+7657-765b,U+765d,U+765f-7662,U+7664-766a,U+766c-766e,U+7670-7677,U+7679-767a,U+767c,U+767f-7681,U+7683,U+7685,U+7689-768a,U+768c-768d,U+768f-7690,U+7692,U+7694-7695,U+7697-7698,U+769a-76a3,U+76a5-76ad"}},{uri:yMe,descriptors:{unicodeRange:"U+7492-749b,U+749d,U+749f-74a6,U+74aa-74b9,U+74bb-74d1,U+74d3-74db,U+74dd,U+74df,U+74e1,U+74e5,U+74e7-74ed,U+74f0-74f3,U+74f5,U+74f8-74fe,U+7500-7503,U+7505-750c,U+750e,U+7510,U+7512,U+7514-7517,U+751b,U+751d-751e,U+7520-7524,U+7526-7527,U+752a,U+752e,U+7534,U+7536,U+7539,U+753c-753d,U+753f,U+7541-7544,U+7546-7547,U+7549-754a,U+754d,U+7550-7553,U+7555-7558,U+755d-7564,U+7567-7569,U+756b-7571,U+7573,U+7575-7577,U+757a-757e,U+7580-7582,U+7584-7585,U+7587-7588"}},{uri:bMe,descriptors:{unicodeRange:"U+7372-737d,U+737f-7383,U+7385-7386,U+7388,U+738a,U+738c-738d,U+738f-7390,U+7392-7395,U+7397-739a,U+739c-739e,U+73a0-73a1,U+73a3-73a8,U+73aa,U+73ac-73ad,U+73b1,U+73b4-73b6,U+73b8-73b9,U+73bc-73bf,U+73c1,U+73c3-73c7,U+73cb-73cc,U+73ce,U+73d2-73d8,U+73da-73dd,U+73df,U+73e1-73e4,U+73e6,U+73e8,U+73ea-73ec,U+73ee-73f1,U+73f3-7402,U+7404,U+7407-7408,U+740b-740e,U+7411-7419,U+741c-7421,U+7423-7424,U+7427,U+7429,U+742b,U+742d,U+742f,U+7431-7432,U+7437-743b,U+743d-7440,U+7442-7454,U+7456,U+7458,U+745d,U+7460-746c,U+746e-746f,U+7471-7475,U+7478-747d,U+747f,U+7482,U+7484-7486,U+7488-748a,U+748c-748d,U+748f,U+7491"}},{uri:AMe,descriptors:{unicodeRange:"U+7054-705d,U+705f-706a,U+706e,U+7071-7074,U+7077,U+7079-707b,U+707d,U+7081-7084,U+7086-7088,U+708b-708d,U+708f-7091,U+7093,U+7097-7098,U+709a-709b,U+709e-70aa,U+70b0,U+70b2,U+70b4-70b6,U+70ba,U+70be-70bf,U+70c4-70c7,U+70c9,U+70cb-70d7,U+70da,U+70dc-70de,U+70e0-70e3,U+70e5,U+70ea,U+70ee,U+70f0-70f6,U+70f8,U+70fa-70fc,U+70fe-7108,U+710b-710f,U+7111-7112,U+7114,U+7117,U+711b-7125,U+7127-712e,U+7132-7135,U+7137-7144,U+7146-7149,U+714b,U+714d,U+714f-715b,U+715d,U+715f-7163,U+7165,U+7169-716d,U+716f-7171,U+7174-7177"}},{uri:wMe,descriptors:{unicodeRange:"U+722e-722f,U+7232-7234,U+723a,U+723c,U+723e,U+7240-7246,U+7249-724b,U+724e-7251,U+7253-7255,U+7257-7258,U+725a,U+725c,U+725e,U+7260,U+7263-7265,U+7268,U+726a-726d,U+7270-7271,U+7273-7274,U+7276-7278,U+727b-727d,U+7282-7283,U+7285-7289,U+728c,U+728e,U+7290-7291,U+7293-729e,U+72a0-72ab,U+72ae,U+72b1-72b3,U+72b5,U+72ba-72c0,U+72c5-72c7,U+72c9-72cc,U+72cf,U+72d1,U+72d3-72d6,U+72d8,U+72da-72dd,U+72df,U+72e2-72e7,U+72ea-72eb,U+72f5-72f6,U+72f9,U+72fd-7300,U+7302,U+7304-7309,U+730b-730d,U+730f-7312,U+7314,U+7318-731a,U+731f-7320,U+7323-7324,U+7326-7328,U+732d,U+732f-7330,U+7332-7333,U+7335-7336,U+733a-733d,U+7340-734c,U+734e-734f,U+7351,U+7353-7356,U+7358-735f,U+7361-736b,U+736e,U+7370-7371"}},{uri:EMe,descriptors:{unicodeRange:"U+6ec5-6ec6,U+6ec8-6eca,U+6ecc-6ece,U+6ed0,U+6ed2,U+6ed6,U+6ed8-6ed9,U+6edb-6edd,U+6ee3,U+6ee7,U+6eea-6ef3,U+6ef5-6ef8,U+6efa-6f01,U+6f03-6f05,U+6f07-6f08,U+6f0a-6f0e,U+6f10-6f12,U+6f16-6f1f,U+6f21-6f23,U+6f25-6f28,U+6f2c,U+6f2e,U+6f30,U+6f32,U+6f34-6f35,U+6f37-6f3d,U+6f3f-6f45,U+6f48-6f4a,U+6f4c,U+6f4e-6f57,U+6f59-6f5b,U+6f5d,U+6f5f-6f61,U+6f63-6f65,U+6f67-6f6c,U+6f6f-6f71,U+6f73,U+6f75-6f77,U+6f79,U+6f7b,U+6f7d-6f83,U+6f85-6f87,U+6f8a-6f8b,U+6f8f-6f9b,U+6f9d-6fa0,U+6fa2-6fa6,U+6fa8-6fb1"}},{uri:xMe,descriptors:{unicodeRange:"U+6d73,U+6d75-6d76,U+6d79-6d7b,U+6d7d-6d81,U+6d83-6d84,U+6d86-6d87,U+6d8a-6d8b,U+6d8d,U+6d8f-6d90,U+6d92,U+6d96-6d9a,U+6d9c,U+6da2,U+6da5,U+6dac-6dad,U+6db0-6db1,U+6db3-6db4,U+6db6-6db7,U+6db9-6dbe,U+6dc1-6dc3,U+6dc8-6dca,U+6dcd-6dd0,U+6dd2-6dd5,U+6dd7,U+6dda-6ddc,U+6ddf,U+6de2-6de3,U+6de5,U+6de7-6dea,U+6ded,U+6def-6df0,U+6df2,U+6df4-6df6,U+6df8,U+6dfa,U+6dfd-6e04,U+6e06-6e09,U+6e0b,U+6e0f,U+6e12-6e13,U+6e15,U+6e18-6e19,U+6e1b-6e1c,U+6e1e-6e1f,U+6e22,U+6e26-6e28,U+6e2a,U+6e2c,U+6e2e,U+6e30-6e31,U+6e33,U+6e35-6e37,U+6e39,U+6e3b-6e42,U+6e45-6e4c,U+6e4f-6e52,U+6e55,U+6e57,U+6e59-6e5a,U+6e5c-6e5e,U+6e60-6e6a,U+6e6c-6e6d,U+6e6f-6e7d,U+6e80-6e82,U+6e84,U+6e87-6e88,U+6e8a-6e8e,U+6e91-6e97,U+6e99-6e9b,U+6e9d-6e9e,U+6ea0-6ea1,U+6ea3-6ea4,U+6ea6,U+6ea8-6ea9,U+6eab-6eae,U+6eb0,U+6eb3,U+6eb5,U+6eb8-6eb9,U+6ebc,U+6ebe-6ec0,U+6ec3-6ec4"}},{uri:_Me,descriptors:{unicodeRange:"U+6bbb-6bbe,U+6bc0,U+6bc3-6bc4,U+6bc6-6bca,U+6bcc,U+6bce,U+6bd0-6bd1,U+6bd8,U+6bda,U+6bdc-6be0,U+6be2-6be9,U+6bec-6bee,U+6bf0-6bf2,U+6bf4,U+6bf6-6bf8,U+6bfa-6bfc,U+6bfe-6c04,U+6c08-6c0c,U+6c0e,U+6c12,U+6c17,U+6c1c-6c1e,U+6c20,U+6c23,U+6c25,U+6c2b-6c2d,U+6c31,U+6c33,U+6c36-6c37,U+6c39-6c3c,U+6c3e-6c3f,U+6c43-6c45,U+6c48,U+6c4b-6c4f,U+6c51-6c53,U+6c56,U+6c58-6c5a,U+6c62-6c63,U+6c65-6c67,U+6c6b-6c6f,U+6c71,U+6c73,U+6c75,U+6c77-6c78,U+6c7a-6c7c,U+6c7f-6c80,U+6c84,U+6c87,U+6c8a-6c8b,U+6c8d-6c8e,U+6c91-6c92,U+6c95-6c98,U+6c9a,U+6c9c-6c9e,U+6ca0,U+6ca2,U+6ca8,U+6cac,U+6caf-6cb0,U+6cb4-6cb7,U+6cba,U+6cc0-6cc3,U+6cc6-6cc8,U+6ccb,U+6ccd-6ccf,U+6cd1-6cd2,U+6cd8-6cda,U+6cdc-6cdd,U+6cdf,U+6ce4,U+6ce6-6ce7,U+6ce9,U+6cec-6ced,U+6cf2,U+6cf4,U+6cf9,U+6cff-6d00,U+6d02-6d03,U+6d05-6d06,U+6d08-6d0a,U+6d0d,U+6d0f-6d11,U+6d13-6d16,U+6d18,U+6d1c-6d1d,U+6d1f-6d24,U+6d26,U+6d28-6d29,U+6d2c-6d2d,U+6d2f-6d30,U+6d34,U+6d36-6d38,U+6d3a,U+6d3f-6d40,U+6d42,U+6d44,U+6d49,U+6d4c,U+6d50,U+6d55-6d58,U+6d5b,U+6d5d,U+6d5f,U+6d61-6d62,U+6d64-6d65,U+6d67-6d68,U+6d6b-6d6d,U+6d70-6d72"}},{uri:CMe,descriptors:{unicodeRange:"U+6967-696a,U+696c-696d,U+696f-6970,U+6972-6976,U+697a-697b,U+697d-697f,U+6981,U+6983,U+6985,U+698a-698c,U+698e-6993,U+6996-6997,U+6999-699a,U+699d-69a6,U+69a9-69aa,U+69ac,U+69ae-69b0,U+69b2-69b3,U+69b5-69b6,U+69b8-69ba,U+69bc-69c0,U+69c2-69c9,U+69cb,U+69cd,U+69cf,U+69d1-69d3,U+69d5-69da,U+69dc-69de,U+69e1-69ec,U+69ee-69f1,U+69f3-69fc,U+69fe,U+6a00-6a09,U+6a0b-6a16,U+6a19-6a1e,U+6a20,U+6a22-6a27,U+6a29,U+6a2b-6a2e,U+6a30,U+6a32-6a34,U+6a36-6a3c,U+6a3f-6a43,U+6a45-6a46,U+6a48-6a4a"}},{uri:SMe,descriptors:{unicodeRange:"U+6830-6831,U+6834-6836,U+683a-683b,U+683f,U+6847,U+684b,U+684d,U+684f,U+6852,U+6856-685f,U+686a,U+686c-6873,U+6875,U+6878-6880,U+6882,U+6884,U+6887-688e,U+6890-6892,U+6894-6896,U+6898-68a1,U+68a3-68a5,U+68a9-68ac,U+68ae,U+68b1-68b2,U+68b4,U+68b6-68bf,U+68c1,U+68c3-68c8,U+68ca,U+68cc,U+68ce-68d1,U+68d3-68d4,U+68d6-68d7,U+68d9,U+68db-68df,U+68e1-68e2,U+68e4-68ed,U+68ef,U+68f2-68f4,U+68f6-68f8,U+68fb,U+68fd-6900,U+6902-6904,U+6906-690a,U+690c,U+690f,U+6911,U+6913-691e,U+6921-6923,U+6925-692c,U+692e-692f,U+6931-6933,U+6935-6938,U+693a-693c,U+693e,U+6940-6941,U+6943-6953,U+6955-6956,U+6958-6959,U+695b-695c,U+695f,U+6961-6962,U+6964-6965"}},{uri:IMe,descriptors:{unicodeRange:"U+66b8,U+66ba-66bd,U+66bf-66d8,U+66da,U+66de-66e5,U+66e7-66e8,U+66ea-66ef,U+66f1,U+66f5-66f6,U+66f8,U+66fa-66fb,U+66fd,U+6701-6707,U+670c,U+670e-670f,U+6711-6713,U+6716,U+6718-671a,U+671c,U+671e,U+6720-6725,U+6727,U+6729,U+672e,U+6730,U+6732-6733,U+6736-6739,U+673b-673c,U+673e-673f,U+6741,U+6744-6745,U+6747,U+674a-674b,U+674d,U+6752,U+6754-6755,U+6757-675b,U+675d,U+6762-6764,U+6766-6767,U+676b-676c,U+676e,U+6771,U+6774,U+6776,U+6778-677b,U+677d,U+6780,U+6782-6783,U+6785-6786,U+6788,U+678a,U+678c-678f,U+6791-6794,U+6796,U+6799,U+679b,U+679f-67a1,U+67a4,U+67a6,U+67a9,U+67ac,U+67ae,U+67b1-67b2,U+67b4,U+67b9-67c0,U+67c2,U+67c5-67ce,U+67d5-67d7,U+67db,U+67df,U+67e1,U+67e3-67e4,U+67e6-67e8,U+67ea-67eb,U+67ed-67ee,U+67f2,U+67f5-67fc,U+67fe,U+6801-6804,U+6806,U+680d,U+6810,U+6812,U+6814-6815,U+6818-681c,U+681e-6820,U+6822-6828,U+682b-682f"}},{uri:kMe,descriptors:{unicodeRange:"U+6569-656a,U+656d-656f,U+6571,U+6573,U+6575-6576,U+6578-6586,U+6588-658a,U+658d-658f,U+6592,U+6594-6596,U+6598,U+659a,U+659d-659e,U+65a0,U+65a2-65a3,U+65a6,U+65a8,U+65aa,U+65ac,U+65ae,U+65b1-65b8,U+65ba-65bb,U+65be-65c0,U+65c2,U+65c7-65ca,U+65cd,U+65d0-65d1,U+65d3-65d5,U+65d8-65df,U+65e1,U+65e3-65e4,U+65ea-65eb,U+65f2-65f5,U+65f8-65f9,U+65fb-65ff,U+6601,U+6604-6605,U+6607-6609,U+660b,U+660d,U+6610-6612,U+6616-6618,U+661a-661c,U+661e,U+6621-6624,U+6626,U+6629-662c,U+662e,U+6630,U+6632-6633,U+6637-663b,U+663d,U+663f-6640,U+6642,U+6644-664a,U+664d-664e,U+6650-6651,U+6658-6659,U+665b-665e,U+6660,U+6662-6663,U+6665,U+6667,U+6669-666d,U+6671-6673,U+6675,U+6678-6679,U+667b-667d,U+667f-6681,U+6683,U+6685-6686,U+6688-668b,U+668d-6690,U+6692-6695,U+6698-669c,U+669e-66a6,U+66a9-66ad,U+66af-66b3,U+66b5-66b7"}},{uri:MMe,descriptors:{unicodeRange:"U+5f30,U+5f32-5f38,U+5f3b,U+5f3d-5f3f,U+5f41-5f4f,U+5f51,U+5f54,U+5f59-5f5c,U+5f5e-5f60,U+5f63,U+5f65,U+5f67-5f68,U+5f6b,U+5f6e-5f6f,U+5f72,U+5f74-5f76,U+5f78,U+5f7a,U+5f7d-5f7f,U+5f83,U+5f86,U+5f8d-5f8f,U+5f91,U+5f93-5f94,U+5f96,U+5f9a-5f9b,U+5f9d-5fa0,U+5fa2-5fa7,U+5fa9,U+5fab-5fac,U+5faf-5fb4,U+5fb6,U+5fb8-5fbb,U+5fbe-5fc2,U+5fc7-5fc8,U+5fca-5fcb,U+5fce,U+5fd3-5fd5,U+5fda-5fdc,U+5fde-5fdf,U+5fe2-5fe3,U+5fe5-5fe6,U+5fe8-5fe9,U+5fec,U+5fef-5ff0,U+5ff2-5ff4,U+5ff6-5ff7,U+5ff9-5ffa,U+5ffc,U+6007-6009,U+600b-600c,U+6010-6011,U+6013,U+6017-6018,U+601a,U+601e-601f,U+6022-6024,U+602c-602e,U+6030-6034,U+6036-603a,U+603d-603e,U+6040,U+6044-604a,U+604c,U+604e-604f,U+6051,U+6053-6054,U+6056-6058,U+605b-605c,U+605e-6061,U+6065-6066,U+606e,U+6071-6072,U+6074-6075,U+6077,U+607e,U+6080-6082,U+6085-6088,U+608a-608b,U+608e-6091,U+6093,U+6095,U+6097-6099,U+609c,U+609e,U+60a1-60a2,U+60a4-60a5,U+60a7,U+60a9-60aa,U+60ae,U+60b0,U+60b3,U+60b5-60b7,U+60b9-60ba,U+60bd-60c4,U+60c7-60c9,U+60cc"}},{uri:TMe,descriptors:{unicodeRange:"U+635a-635d,U+6360,U+6364-6366,U+6368,U+636a-636c,U+636f-6370,U+6372-6375,U+6378-6379,U+637c-637f,U+6381,U+6383-6386,U+638b,U+638d,U+6391,U+6393-6395,U+6397,U+6399-639f,U+63a1,U+63a4,U+63a6,U+63ab,U+63af,U+63b1-63b2,U+63b5-63b6,U+63b9,U+63bb,U+63bd,U+63bf-63c3,U+63c5,U+63c7-63c8,U+63ca-63cc,U+63d1,U+63d3-63d5,U+63d7-63dd,U+63df,U+63e2,U+63e4-63e8,U+63eb-63ec,U+63ee-63f1,U+63f3,U+63f5,U+63f7,U+63f9-63fc,U+63fe,U+6403-6404,U+6406-640a,U+640d-640e,U+6411-6412,U+6415-641a,U+641d,U+641f,U+6422-6425,U+6427-6429,U+642b,U+642e-6433,U+6435-6439,U+643b-643c,U+643e,U+6440,U+6442-6443,U+6449,U+644b-6451,U+6453,U+6455-6457,U+6459-645d,U+645f-6466,U+6468,U+646a-646c,U+646e-6477,U+647b-6481,U+6483,U+6486,U+6488-648f"}},{uri:BMe,descriptors:{unicodeRange:"U+61c5-61c7,U+61c9,U+61cc-61d0,U+61d3,U+61d5-61e5,U+61e7-61f4,U+61f6-61fe,U+6200-6205,U+6207,U+6209,U+6213-6214,U+6219,U+621c-621e,U+6220,U+6223,U+6226-6229,U+622b,U+622d,U+622f-6232,U+6235-6236,U+6238-623c,U+6242,U+6244-6246,U+624a,U+624f-6250,U+6255-6257,U+6259-625a,U+625c-6262,U+6264-6265,U+6268,U+6271-6272,U+6274-6275,U+6277-6278,U+627a-627b,U+627d,U+6281-6283,U+6285-6288,U+628b-6290,U+6294,U+6299,U+629c-629e,U+62a3,U+62a6-62a7,U+62a9-62aa,U+62ad-62b0,U+62b2-62b4,U+62b6-62b8,U+62ba,U+62be,U+62c0-62c1,U+62c3,U+62cb,U+62cf,U+62d1,U+62d5,U+62dd-62de,U+62e0-62e1,U+62e4,U+62ea-62eb,U+62f0,U+62f2,U+62f5,U+62f8-62fb,U+6300,U+6303-6306,U+630a-630d,U+630f-6310,U+6312-6315,U+6317-6319,U+631c,U+6326-6327,U+6329,U+632c-632e,U+6330-6331,U+6333-6338,U+633b-633c,U+633e-6341,U+6344,U+6347-6348,U+634a,U+6351-6354,U+6356-6359"}},{uri:RMe,descriptors:{unicodeRange:"U+5dd0-5dda,U+5ddc,U+5ddf-5de0,U+5de3-5de4,U+5dea,U+5dec-5ded,U+5df0,U+5df5-5df6,U+5df8-5dfc,U+5dff-5e00,U+5e04,U+5e07,U+5e09-5e0b,U+5e0d-5e0e,U+5e12-5e13,U+5e17,U+5e1e-5e25,U+5e28-5e2c,U+5e2f-5e30,U+5e32-5e36,U+5e39-5e3a,U+5e3e-5e41,U+5e43,U+5e46-5e4b,U+5e4d-5e53,U+5e56-5e5a,U+5e5c-5e5d,U+5e5f-5e60,U+5e63-5e71,U+5e75,U+5e77,U+5e79,U+5e7e,U+5e81-5e83,U+5e85,U+5e88-5e89,U+5e8c-5e8e,U+5e92,U+5e98,U+5e9b,U+5e9d,U+5ea1-5ea4,U+5ea8-5eac,U+5eae-5eb2,U+5eb4,U+5eba-5ebd,U+5ebf-5ec8,U+5ecb-5ed0,U+5ed4-5ed5,U+5ed7-5eda,U+5edc-5ee7,U+5ee9,U+5eeb-5ef3,U+5ef5,U+5ef8-5ef9,U+5efb-5efd,U+5f05-5f07,U+5f09,U+5f0c-5f0e,U+5f10,U+5f12,U+5f14,U+5f16,U+5f19-5f1a,U+5f1c-5f1e,U+5f21-5f24,U+5f28,U+5f2b-5f2c,U+5f2e"}},{uri:DMe,descriptors:{unicodeRange:"U+60cd-60d0,U+60d2-60d4,U+60d6-60d7,U+60d9,U+60db,U+60de,U+60e1-60e5,U+60ea,U+60f1-60f2,U+60f5,U+60f7-60f8,U+60fb-60ff,U+6102-6105,U+6107,U+610a-610c,U+6110-6114,U+6116-6119,U+611b-611e,U+6121-6122,U+6125,U+6128-612a,U+612c-613e,U+6140-6147,U+6149,U+614b,U+614d,U+614f-6150,U+6152-6154,U+6156-615c,U+615e-6161,U+6163-6166,U+6169-616f,U+6171-6174,U+6176,U+6178-618a,U+618c-618d,U+618f-6193,U+6195-619c,U+619e-61a6,U+61aa-61ab,U+61ad-61b6,U+61b8-61bd,U+61bf-61c1,U+61c3-61c4"}},{uri:PMe,descriptors:{unicodeRange:"U+5cf4-5cfa,U+5cfc-5d01,U+5d04-5d05,U+5d08-5d0d,U+5d0f-5d13,U+5d15,U+5d17-5d1a,U+5d1c-5d1d,U+5d1f-5d23,U+5d25,U+5d28,U+5d2a-5d2c,U+5d2f-5d33,U+5d35-5d3c,U+5d3f-5d46,U+5d48-5d49,U+5d4d-5d57,U+5d59-5d5a,U+5d5c,U+5d5e-5d68,U+5d6a,U+5d6d-5d6e,U+5d70-5d73,U+5d75-5d81,U+5d83-5d98,U+5d9a-5d9c,U+5d9e-5db6,U+5db8-5dc4,U+5dc6-5dcc,U+5dce-5dcf"}},{uri:LMe,descriptors:{unicodeRange:"U+5b52,U+5b56,U+5b5e,U+5b60-5b61,U+5b67-5b68,U+5b6b,U+5b6d-5b6f,U+5b72,U+5b74,U+5b76-5b79,U+5b7b-5b7c,U+5b7e-5b7f,U+5b82,U+5b86,U+5b8a,U+5b8d-5b8e,U+5b90-5b92,U+5b94,U+5b96,U+5b9f,U+5ba7-5ba9,U+5bac-5baf,U+5bb1-5bb2,U+5bb7,U+5bba-5bbc,U+5bc0-5bc1,U+5bc3,U+5bc8-5bcb,U+5bcd-5bcf,U+5bd1,U+5bd4-5bdc,U+5be0,U+5be2-5be3,U+5be6-5be7,U+5be9-5bed,U+5bef,U+5bf1-5bf7,U+5bfd-5bfe,U+5c00,U+5c02-5c03,U+5c05,U+5c07-5c08,U+5c0b-5c0e,U+5c10,U+5c12-5c13,U+5c17,U+5c19,U+5c1b,U+5c1e-5c21,U+5c23,U+5c26,U+5c28-5c2b,U+5c2d-5c30,U+5c32-5c33,U+5c35-5c37,U+5c43-5c44,U+5c46-5c47,U+5c4c-5c4d,U+5c52-5c54,U+5c56-5c58,U+5c5a-5c5d,U+5c5f,U+5c62,U+5c64,U+5c67-5c6d,U+5c70,U+5c72-5c78,U+5c7b-5c7e,U+5c80,U+5c83-5c87,U+5c89-5c8b,U+5c8e-5c8f,U+5c92-5c93,U+5c95,U+5c9d-5ca1,U+5ca4-5ca8,U+5caa,U+5cae-5cb0,U+5cb2,U+5cb4,U+5cb6,U+5cb9-5cbc,U+5cbe,U+5cc0,U+5cc2-5cc3,U+5cc5-5cca,U+5ccc-5cd1,U+5cd3-5cd8,U+5cda-5ce0,U+5ce2-5ce3,U+5ce7,U+5ce9,U+5ceb-5cec,U+5cee-5cef,U+5cf1-5cf3"}},{uri:NMe,descriptors:{unicodeRange:"U+593b,U+593d-5940,U+5943,U+5945-5946,U+594a,U+594c-594d,U+5950,U+5952-5953,U+5959,U+595b-595f,U+5961,U+5963-5964,U+5966-5972,U+5975,U+5977,U+597a-597c,U+597e-5980,U+5985,U+5989,U+598b-598c,U+598e-5991,U+5994-5995,U+5998,U+599a-599d,U+599f-59a2,U+59a6-59a7,U+59ac-59ad,U+59b0-59b1,U+59b3-59b8,U+59ba,U+59bc-59bd,U+59bf-59c5,U+59c7-59c9,U+59cc-59cf,U+59d5-59d6,U+59d9,U+59db,U+59de-59e2,U+59e4,U+59e6-59e7,U+59e9-59eb,U+59ed-59f8,U+59fa,U+59fc-59fe,U+5a00,U+5a02,U+5a0a-5a0b,U+5a0d-5a10,U+5a12,U+5a14-5a17,U+5a19-5a1b,U+5a1d-5a1e,U+5a21-5a22,U+5a24,U+5a26-5a28,U+5a2a-5a30,U+5a33,U+5a35,U+5a37-5a3b,U+5a3d-5a3f,U+5a41-5a45,U+5a47-5a48,U+5a4b-5a54,U+5a56-5a59,U+5a5b-5a61,U+5a63-5a66,U+5a68-5a69,U+5a6b-5a73,U+5a78-5a79,U+5a7b-5a7e,U+5a80-5a90"}},{uri:$Me,descriptors:{unicodeRange:"U+5a91,U+5a93-5a99,U+5a9c-5aa9,U+5aab-5ab1,U+5ab4,U+5ab6-5ab7,U+5ab9-5abd,U+5abf-5ac0,U+5ac3-5ac8,U+5aca-5acb,U+5acd-5ad1,U+5ad3,U+5ad5,U+5ad7,U+5ad9-5adb,U+5add-5adf,U+5ae2,U+5ae4-5ae5,U+5ae7-5ae8,U+5aea,U+5aec-5af0,U+5af2-5b08,U+5b0a-5b15,U+5b18-5b31,U+5b33,U+5b35-5b36,U+5b38-5b3f,U+5b41-5b4f"}},{uri:FMe,descriptors:{unicodeRange:"U+5843,U+5845-584b,U+584e-5850,U+5852-5853,U+5855-5857,U+5859-585d,U+585f-5864,U+5866-586a,U+586d-587d,U+587f,U+5882,U+5884,U+5886-5888,U+588a-5891,U+5894-5898,U+589b-589d,U+58a0-58a7,U+58aa-58bb,U+58bd-58c0,U+58c2-58c4,U+58c6-58d0,U+58d2-58d4,U+58d6-58e3,U+58e5-58ea,U+58ed,U+58ef,U+58f1-58f2,U+58f4-58f5,U+58f7-58f8,U+58fa-5901,U+5903,U+5905-5906,U+5908-590c,U+590e,U+5910-5913,U+5917-5918,U+591b,U+591d-591e,U+5920-5923,U+5926,U+5928,U+592c,U+5930,U+5932-5933,U+5935-5936"}},{uri:jMe,descriptors:{unicodeRange:"U+56d0-56d3,U+56d5-56d6,U+56d8-56d9,U+56dc,U+56e3,U+56e5-56ea,U+56ec,U+56ee-56ef,U+56f2-56f3,U+56f6-56f8,U+56fb-56fc,U+5700-5702,U+5705,U+5707,U+570b-571b,U+571d-571e,U+5720-5722,U+5724-5727,U+572b,U+5731-5732,U+5734-5738,U+573c-573d,U+573f,U+5741,U+5743-5746,U+5748-5749,U+574b,U+5752-5756,U+5758-5759,U+5762-5763,U+5765,U+5767,U+576c,U+576e,U+5770-5772,U+5774-5775,U+5778-577a,U+577d-5781,U+5787-578a,U+578d-5791,U+5794-579a,U+579c-579f,U+57a5,U+57a8,U+57aa,U+57ac,U+57af-57b1,U+57b3,U+57b5-57b7,U+57b9-57c1,U+57c4-57ca,U+57cc-57cd,U+57d0-57d1,U+57d3,U+57d6-57d7,U+57db-57dc,U+57de,U+57e1-57e3,U+57e5-57ec,U+57ee,U+57f0-57f3,U+57f5-57f7,U+57fb-57fc,U+57fe-57ff,U+5801,U+5803-5805,U+5808-580a,U+580c,U+580e-5810,U+5812-5814,U+5816-5818,U+581a-581d,U+581f,U+5822-5823,U+5825-5829,U+582b-582f,U+5831-5834,U+5836-5842"}},{uri:OMe,descriptors:{unicodeRange:"U+55f9-55fc,U+55ff,U+5602-5607,U+560a-560b,U+560d,U+5610-5617,U+5619-561a,U+561c-561d,U+5620-5622,U+5625-5626,U+5628-562b,U+562e-5630,U+5633,U+5635,U+5637-5638,U+563a,U+563c-563e,U+5640-564b,U+564f-5653,U+5655-5656,U+565a-565b,U+565d-5661,U+5663,U+5665-5667,U+566d-5670,U+5672-5675,U+5677-567a,U+567d-5684,U+5687-568d,U+5690-5692,U+5694-56a2,U+56a4-56ae,U+56b0-56b6,U+56b8-56bb,U+56bd-56c9,U+56cb-56cf"}},{uri:zMe,descriptors:{unicodeRange:"U+5286-5287,U+5289-528f,U+5291-5292,U+5294-529a,U+529c,U+52a4-52a7,U+52ae-52b0,U+52b4-52bd,U+52c0-52c2,U+52c4-52c6,U+52c8,U+52ca,U+52cc-52cf,U+52d1,U+52d3-52d5,U+52d7,U+52d9-52de,U+52e0-52e3,U+52e5-52ef,U+52f1-52f8,U+52fb-52fd,U+5301-5304,U+5307,U+5309-530c,U+530e,U+5311-5314,U+5318,U+531b-531c,U+531e-531f,U+5322,U+5324-5325,U+5327-5329,U+532b-532d,U+532f-5338,U+533c-533d,U+5340,U+5342,U+5344,U+5346,U+534b-534d,U+5350,U+5354,U+5358-5359,U+535b,U+535d,U+5365,U+5368,U+536a,U+536c-536d,U+5372,U+5376,U+5379,U+537b-537e,U+5380-5381,U+5383,U+5387-5388,U+538a,U+538e-5394,U+5396-5397,U+5399,U+539b-539c,U+539e,U+53a0-53a1,U+53a4,U+53a7,U+53aa-53ad,U+53af-53b5,U+53b7-53ba,U+53bc-53be,U+53c0,U+53c3-53c7,U+53ce-53d0,U+53d2-53d3,U+53d5,U+53da,U+53dc-53de,U+53e1-53e2,U+53e7,U+53f4,U+53fa,U+53fe-5400,U+5402,U+5405,U+5407,U+540b,U+5414,U+5418-541a,U+541c,U+5422,U+5424-5425,U+542a,U+5430,U+5433,U+5436-5437,U+543a"}},{uri:QMe,descriptors:{unicodeRange:"U+5101-5105,U+5108-510a,U+510c-5111,U+5113-5120,U+5122-513e,U+5142,U+5147,U+514a,U+514c,U+514e-5150,U+5152-5153,U+5157-5159,U+515b,U+515d-5161,U+5163-5164,U+5166-5167,U+5169-516a,U+516f,U+5172,U+517a,U+517e-517f,U+5183-5184,U+5186-5187,U+518a-518b,U+518e-5191,U+5193-5194,U+5198,U+519a,U+519d-519f,U+51a1,U+51a3,U+51a6-51aa,U+51ad-51ae,U+51b4,U+51b8-51ba,U+51be-51bf,U+51c1-51c3,U+51c5,U+51c8,U+51ca,U+51cd-51ce,U+51d0,U+51d2-51da,U+51dc,U+51de-51df,U+51e2-51e3,U+51e5-51ea,U+51ec,U+51ee,U+51f1-51f2,U+51f4,U+51f7,U+51fe,U+5204-5205,U+5209,U+520b-520c,U+520f-5210,U+5213-5215,U+521c,U+521e-521f,U+5221-5223,U+5225-5227,U+522a,U+522c,U+522f,U+5231-5232,U+5234-5235,U+523c,U+523e,U+5244-5249,U+524b,U+524e-524f,U+5252-5253,U+5255,U+5257-525b,U+525d,U+525f-5260,U+5262-5264,U+5266,U+5268,U+526b-526e,U+5270-5271,U+5273-527c,U+527e,U+5280,U+5283-5285"}},{uri:HMe,descriptors:{unicodeRange:"U+543d,U+543f,U+5441-5442,U+5444-5445,U+5447,U+5449,U+544c-544f,U+5451,U+545a,U+545d-5461,U+5463,U+5465,U+5467,U+5469-5470,U+5474,U+5479-547a,U+547e-547f,U+5481,U+5483,U+5485,U+5487-548a,U+548d,U+5491,U+5493,U+5497-5498,U+549c,U+549e-54a2,U+54a5,U+54ae,U+54b0,U+54b2,U+54b5-54b7,U+54b9-54ba,U+54bc,U+54be,U+54c3,U+54c5,U+54ca-54cb,U+54d6,U+54d8,U+54db,U+54e0-54e4,U+54eb-54ec,U+54ef-54f1,U+54f4-54f9,U+54fb,U+54fe,U+5500,U+5502-5505,U+5508,U+550a-550e,U+5512-5513,U+5515-551a,U+551c-551f,U+5521,U+5525-5526,U+5528-5529,U+552b,U+552d,U+5532,U+5534-5536,U+5538-553b,U+553d,U+5540,U+5542,U+5545,U+5547-5548,U+554b-554f,U+5551-5554,U+5557-555b,U+555d-5560,U+5562-5563,U+5568-5569,U+556b,U+556f-5574,U+5579-557a,U+557d,U+557f,U+5585-5586,U+558c-558e,U+5590,U+5592-5593,U+5595-5597,U+559a-559b,U+559e,U+55a0-55a6,U+55a8-55b0,U+55b2,U+55b4,U+55b6,U+55b8,U+55ba,U+55bc,U+55bf-55c3,U+55c6-55c8,U+55ca-55cb,U+55ce-55d0,U+55d5,U+55d7-55db,U+55de,U+55e0,U+55e2,U+55e7,U+55e9,U+55ed-55ee,U+55f0-55f1,U+55f4,U+55f6,U+55f8"}},{uri:GMe,descriptors:{unicodeRange:"U+4fe0,U+4fe2,U+4fe4-4fe5,U+4fe7,U+4feb-4fec,U+4ff0,U+4ff2,U+4ff4-4ff7,U+4ff9,U+4ffb-4ffd,U+4fff-500b,U+500e,U+5010-5011,U+5013,U+5015-5017,U+501b,U+501d-501e,U+5020,U+5022-5024,U+5027,U+502b,U+502f-5039,U+503b,U+503d,U+503f-5042,U+5044-5046,U+5049-504b,U+504d,U+5050-5054,U+5056-5059,U+505b,U+505d-5064,U+5066-506b,U+506d-5075,U+5078-507a,U+507c-507d,U+5081-5084,U+5086-5087,U+5089-508c,U+508e-50a2,U+50a4,U+50a6,U+50aa-50ab,U+50ad-50b1,U+50b3-50b9,U+50bc-50ce,U+50d0-50d5,U+50d7-50d9,U+50db-50e5,U+50e8-50eb,U+50ef-50f2,U+50f4,U+50f6-50fa,U+50fc-5100"}},{uri:WMe,descriptors:{unicodeRange:"U+49d5-4a77"}},{uri:VMe,descriptors:{unicodeRange:"U+4dac-4dad,U+4daf-4db5,U+4e02,U+4e04-4e06,U+4e0f,U+4e12,U+4e17,U+4e1f-4e21,U+4e23,U+4e26,U+4e29,U+4e2e-4e2f,U+4e31,U+4e33,U+4e35,U+4e37,U+4e3c,U+4e40-4e42,U+4e44,U+4e46,U+4e4a,U+4e51,U+4e55,U+4e57,U+4e5a-4e5b,U+4e62-4e65,U+4e67-4e68,U+4e6a-4e6f,U+4e72,U+4e74-4e7d,U+4e7f-4e85,U+4e87,U+4e8a,U+4e90,U+4e96-4e97,U+4e99,U+4e9c-4e9e,U+4ea3,U+4eaa,U+4eaf-4eb1,U+4eb4,U+4eb6-4eb9,U+4ebc-4ebe,U+4ec8,U+4ecc,U+4ecf-4ed0,U+4ed2,U+4eda-4edc,U+4ee0,U+4ee2,U+4ee6-4ee7,U+4ee9,U+4eed-4eef,U+4ef1,U+4ef4,U+4ef8-4efa,U+4efc,U+4efe,U+4f00,U+4f02-4f08,U+4f0b-4f0c,U+4f12-4f16,U+4f1c-4f1d,U+4f21,U+4f23,U+4f28-4f29,U+4f2c-4f2e,U+4f31,U+4f33,U+4f35,U+4f37,U+4f39,U+4f3b,U+4f3e-4f42,U+4f44-4f45,U+4f47-4f4c,U+4f52,U+4f54,U+4f56,U+4f61-4f62,U+4f66,U+4f68,U+4f6a-4f6b,U+4f6d-4f6e,U+4f71-4f72,U+4f75,U+4f77-4f7a,U+4f7d,U+4f80-4f82,U+4f85-4f87,U+4f8a,U+4f8c,U+4f8e,U+4f90,U+4f92-4f93,U+4f95-4f96,U+4f98-4f9a,U+4f9c,U+4f9e-4f9f,U+4fa1-4fa2,U+4fa4,U+4fab,U+4fad,U+4fb0-4fb4,U+4fb6-4fbe,U+4fc0-4fc2,U+4fc6-4fc9,U+4fcb-4fcd,U+4fd2-4fd6,U+4fd9,U+4fdb"}},{uri:YMe,descriptors:{unicodeRange:"U+4933-49d4"}},{uri:KMe,descriptors:{unicodeRange:"U+487a-4932"}},{uri:XMe,descriptors:{unicodeRange:"U+47d2-4879,U+2ce7c,U+2ce88,U+2ce93"}},{uri:ZMe,descriptors:{unicodeRange:"U+4756-47d1,U+2ca02,U+2ca0e,U+2ca7d,U+2caa9,U+2cb29,U+2cb2e,U+2cb31,U+2cb38-2cb39,U+2cb3f,U+2cb41,U+2cb4e,U+2cb5a,U+2cb64,U+2cb69,U+2cb6c,U+2cb6f,U+2cb76,U+2cb78,U+2cb7c,U+2cbb1,U+2cbbf-2cbc0,U+2cbce,U+2cc5f,U+2ccf5-2ccf6,U+2ccfd,U+2ccff,U+2cd02-2cd03,U+2cd0a,U+2cd8b,U+2cd8d,U+2cd8f-2cd90,U+2cd9f-2cda0,U+2cda8,U+2cdad-2cdae,U+2cdd5,U+2ce18,U+2ce1a,U+2ce23,U+2ce26,U+2ce2a"}},{uri:qMe,descriptors:{unicodeRange:"U+46c3-4755,U+2c488,U+2c494,U+2c497,U+2c542,U+2c613,U+2c618,U+2c621,U+2c629,U+2c62b-2c62d,U+2c62f,U+2c642,U+2c64a-2c64b,U+2c72c,U+2c72f,U+2c79f,U+2c7c1,U+2c7fd,U+2c8d9,U+2c8de,U+2c8e1,U+2c8f3,U+2c907,U+2c90a,U+2c91d"}},{uri:JMe,descriptors:{unicodeRange:"U+4629-46c2,U+2bdf7,U+2be29,U+2c029-2c02a,U+2c0a9,U+2c0ca,U+2c1d5,U+2c1d9,U+2c1f9,U+2c27c,U+2c288,U+2c2a4,U+2c317,U+2c35b,U+2c361,U+2c364"}},{uri:eTe,descriptors:{unicodeRange:"U+458e-4628,U+2b7a9,U+2b7c5,U+2b7e6,U+2b7f9,U+2b806,U+2b80a,U+2b81c,U+2b8b8,U+2bac7,U+2bb5f,U+2bb62,U+2bb7c,U+2bb83,U+2bc1b,U+2bd77,U+2bd87"}},{uri:tTe,descriptors:{unicodeRange:"U+4449-4511,U+2afa2,U+2b127-2b128,U+2b137-2b138,U+2b1ed"}},{uri:nTe,descriptors:{unicodeRange:"U+439b-4448,U+2a437,U+2a5f1,U+2a602,U+2a61a,U+2a6b2,U+2a7dd,U+2a8fb,U+2a917,U+2aa30,U+2aa36,U+2aa58"}},{uri:rTe,descriptors:{unicodeRange:"U+4275-430d,U+298c6,U+29a72,U+29d98,U+29ddb,U+29e15,U+29e3d,U+29e49"}},{uri:iTe,descriptors:{unicodeRange:"U+4132-41de,U+28bef,U+28c47,U+28c4f,U+28c51,U+28c54,U+28d10,U+28d71,U+28dfb,U+28e1f,U+28e36,U+28e89,U+28e99,U+28eeb,U+28f32,U+28ff8,U+292a0"}},{uri:aTe,descriptors:{unicodeRange:"U+41df-4274,U+292b1,U+29490,U+295cf,U+2967f,U+296f0,U+29719,U+29750"}},{uri:oTe,descriptors:{unicodeRange:"U+408e-4131,U+285c8-285c9,U+28678,U+28695,U+286d7,U+286fa,U+287e0,U+28946,U+28949,U+2896b,U+28987-28988,U+289ba-289bb,U+28a1e,U+28a29,U+28a43,U+28a71,U+28a99,U+28acd,U+28add,U+28ae4,U+28b49,U+28bc1"}},{uri:sTe,descriptors:{unicodeRange:"U+3e83-3f2f,U+27139,U+273da-273db,U+273fe,U+27410,U+27449,U+27614-27615,U+27631,U+27684,U+27693,U+2770e,U+27723,U+27752"}},{uri:lTe,descriptors:{unicodeRange:"U+3f30-3fdb,U+27985,U+27a84,U+27bb3,U+27bbe,U+27bc7,U+27cb8,U+27da0,U+27e10"}},{uri:cTe,descriptors:{unicodeRange:"U+3fdc-408d,U+27fb7,U+27ff9,U+2808a,U+280bb,U+2815d,U+28277,U+28282,U+282e2,U+282f3,U+283cd,U+28408,U+2840c,U+28455,U+28468,U+2856b"}},{uri:dTe,descriptors:{unicodeRange:"U+3dd2-3e82,U+26a58,U+26a8c,U+26ab7,U+26aff,U+26b5c,U+26c21,U+26c29,U+26c73,U+26cdd,U+26e40,U+26e65,U+26f94,U+26ff6-26ff8,U+270f4,U+2710d"}},{uri:uTe,descriptors:{unicodeRange:"U+3d34-3dd1,U+2648d,U+26676,U+2667e,U+266b0,U+2671d,U+2677c,U+267cc,U+268dd,U+268ea,U+26951,U+2696f,U+269dd,U+269fa,U+26a1e"}},{uri:fTe,descriptors:{unicodeRange:"U+3c76-3d33,U+25d0a,U+25da1,U+25e2e,U+25e56,U+25e62,U+25e65,U+25ec2,U+25ed7-25ed8,U+25ee8,U+25f23,U+25f5c,U+25fd4,U+25fe0,U+25ffb,U+2600c,U+26017,U+26060,U+260ed,U+26221,U+26270,U+26286,U+2634c,U+26402"}},{uri:hTe,descriptors:{unicodeRange:"U+3bda-3c75,U+25771,U+257a9,U+257b4,U+259c4,U+259d4,U+25ae3-25ae4,U+25af1,U+25bb2,U+25c14,U+25c4b,U+25c64"}},{uri:pTe,descriptors:{unicodeRange:"U+3b25-3bd9,U+2504a,U+25055,U+25122,U+2512b,U+251a9,U+251cd,U+251e5,U+2521e,U+2524c,U+2542e,U+2548e,U+254d9,U+2550e,U+25532,U+25562,U+255a7-255a8"}},{uri:gTe,descriptors:{unicodeRange:"U+3a6b-3b24,U+24896,U+249db,U+24a4d,U+24a7d,U+24ac9,U+24b56,U+24b6f,U+24c16,U+24d14,U+24dea,U+24e0e,U+24e37,U+24e6a,U+24e8b,U+24eaa"}},{uri:mTe,descriptors:{unicodeRange:"U+39a9-3a6a,U+24096,U+24103,U+241ac,U+241c6,U+241fe,U+243bc,U+243f8,U+244d3,U+24629,U+246a5,U+247f1"}},{uri:UTe,descriptors:{unicodeRange:"U+38e3-39a8,U+23a98,U+23c7f,U+23c97-23c98,U+23cfe,U+23d00,U+23d0e,U+23d40,U+23dd3,U+23df9-23dfa,U+23e23,U+23f7e"}},{uri:vTe,descriptors:{unicodeRange:"U+3760-382a,U+22ab8,U+22b43,U+22b46,U+22b4f-22b50,U+22ba6,U+22bca,U+22c1d,U+22c24,U+22c55,U+22d4c,U+22de1"}},{uri:yTe,descriptors:{unicodeRange:"U+382b-38e2,U+231b6,U+231c3-231c4,U+231f5,U+23350,U+23372,U+233d0,U+233d2-233d3,U+233d5,U+233da,U+233df,U+233e4,U+2344a-2344b,U+23451,U+23465,U+234e4,U+2355a,U+23594,U+235c4,U+235cb,U+23638-2363a,U+23647,U+2370c,U+2371c,U+2373f,U+23763-23764,U+237e7,U+237ff,U+23824,U+2383d"}},{uri:bTe,descriptors:{unicodeRange:"U+3698-375f,U+22218,U+2231e,U+223ad,U+224dc,U+226f3,U+2285b,U+228ab,U+2298f"}},{uri:ATe,descriptors:{unicodeRange:"U+35e6-3697,U+21c56,U+21cde,U+21d2d,U+21d45,U+21d62,U+21d78,U+21d92,U+21d9c,U+21da1,U+21db7,U+21de0,U+21e33-21e34,U+21f1e,U+21f76,U+21ffa,U+2217b"}},{uri:wTe,descriptors:{unicodeRange:"U+3444-350e,U+20ad3,U+20b1d,U+20b9f,U+20c41,U+20cbf,U+20cd0,U+20d45,U+20de1,U+20e64,U+20e6d,U+20e95,U+20e9d,U+20ea2,U+20f5f,U+210c1,U+21201,U+2123d,U+21255,U+21274,U+2127b"}},{uri:ETe,descriptors:{unicodeRange:"U+350f-35e5,U+212d7,U+212e4,U+212fd,U+2131b,U+21336,U+21344,U+2139a,U+213c4,U+21413,U+2146d-2146e,U+215d7,U+21647,U+216b4,U+21706,U+21742,U+218bd,U+219c3"}},{uri:xTe,descriptors:{unicodeRange:"U+336d-3443,U+2032b,U+20371,U+20381,U+203f9,U+2044a,U+20509,U+20547,U+205d6,U+20628,U+20676,U+2074f,U+20779,U+20807,U+2083a,U+20895,U+208b9,U+2097c,U+2099d"}},{uri:_Te,descriptors:{unicodeRange:"U+328b-336c,U+2000b,U+20089,U+200a2,U+200a4,U+20164,U+201a2,U+20213"}},{uri:CTe,descriptors:{unicodeRange:"U+3192-31ba,U+31c0-31e3,U+31f0-321e,U+3220-328a,U+1f250-1f251"}},{uri:STe,descriptors:{unicodeRange:"U+2f74-2fd5,U+3000,U+3003-3007,U+3012-3013,U+3018-301c,U+3020-3029,U+302f-303f,U+3041-3096,U+3099-30a1"}},{uri:ITe,descriptors:{unicodeRange:"U+30a2-30ff,U+3105-312f,U+3131-318e,U+3190-3191"}},{uri:kTe,descriptors:{unicodeRange:"U+4e36,U+4ea0,U+4f74,U+4f91,U+4f94,U+4fc5,U+507e,U+50ed,U+5182,U+51f5,U+525e,U+5282,U+52f9,U+5326,U+537a,U+53a3,U+5423,U+5459,U+54b4,U+54d9,U+55c9,U+57f4,U+580b,U+5902,U+5925,U+5a08,U+5ab5,U+5b84,U+5be4,U+5c22,U+5cb5,U+5cbd,U+5d3e,U+5e31,U+5e5e,U+5e80,U+5ee8,U+5f82,U+5fc9,U+5fed,U+600a,U+605d,U+609b,U+609d,U+60dd,U+6243,U+6322,U+63ce,U+640c,U+643f,U+6445,U+64d7,U+6534,U+6549,U+656b,U+6603,U+674c,U+680a,U+6864,U+69d4,U+6a65,U+6c2a,U+6c46,U+6c5c,U+6d0e,U+6d48,U+6e2b,U+6eb2,U+6eb7,U+6f89,U+706c,U+70b1,U+7113,U+71d4,U+727f,U+72f3,U+7303,U+7321,U+736c,U+736f,U+74a9,U+74de,U+750d,U+7513,U+7592,U+75c4,U+7605,U+760a,U+761b,U+7625,U+762d,U+7643,U+7707,U+7747,U+77b5,U+7839,U+784e,U+78a5,U+7924,U+793b,U+798a,U+7a03,U+7a06,U+7a78,U+7a80,U+7aad,U+7ba8,U+7be5,U+7cc8,U+7ec1,U+7f0b,U+7f0f,U+7f12,U+7f68,U+7f9d,U+8025,U+809c,U+80ad,U+80b7,U+80e8,U+811e,U+8204,U+8223,U+822d,U+823b,U+824b,U+825a,U+827d,U+827f,U+828f,U+82c8,U+8307,U+831b,U+8347,U+837d,U+839b,U+83a9,U+83f9,U+84b9,U+8579,U+864d,U+867f,U+86b0,U+86d1,U+86d8,U+86f2,U+8764,U+8770,U+8788,U+8797,U+87ac-87ad,U+87b5,U+881b,U+8844,U+88bc,U+88fc,U+8930,U+89cf,U+89d6,U+8ba0,U+8bd4,U+8c02,U+8c2b,U+8c85,U+8e23,U+8f81-8f82,U+8fd5,U+90b6,U+90db,U+914e,U+9164,U+91ad,U+943e,U+94b7-94b8,U+94eb,U+950d,U+9514,U+9516,U+9518,U+9529,U+9538,U+953f,U+954e,U+955f,U+95fc,U+9667,U+96b3,U+9792,U+97b2,U+98a1,U+9969,U+9987,U+9998,U+9a80,U+9a92,U+9a96,U+9adf,U+9cb4,U+9cbd,U+9cd0,U+9cd4,U+9e31,U+9e3a,U+9e71,U+9ee5,U+9eea,U+9ef9,U+9fa0"}},{uri:MTe,descriptors:{unicodeRange:"U+4e0c,U+4e28,U+4e3f,U+4ec2,U+502e,U+50ba,U+5155,U+5181,U+522d,U+5281,U+5290,U+5369,U+53b6,U+54d5,U+54dc,U+54ff,U+552a,U+553c,U+5588,U+55b5,U+5686,U+570a,U+5776,U+5786,U+57a4,U+5820,U+5865,U+58bc,U+5b32,U+5b65,U+5c1c,U+5c66,U+5c6e,U+5c8d,U+5ddb,U+5f2a,U+5f50,U+5f61,U+6067,U+614a,U+615d,U+619d,U+61d4,U+620b,U+6224-6225,U+6343,U+63ad,U+63f2,U+640b,U+6420,U+6434,U+6496,U+64d0,U+6509,U+652e,U+67a8,U+6833,U+6844,U+684a,U+6920,U+6957,U+6971,U+6a8e,U+6a91,U+6aa0,U+6b43,U+6bea,U+6bf5,U+6c15,U+6cd0,U+6ee0,U+6f24,U+6f2d,U+70c0,U+721d,U+728b,U+72c3,U+72e8,U+730a,U+7338-7339,U+734d,U+746d,U+752f,U+754e,U+770d,U+7735,U+778d,U+77a2,U+77e7,U+7857,U+786d,U+78c9,U+78f2,U+791e,U+7953,U+7b58,U+7b9d,U+7bda,U+7cd7,U+7f32-7f33,U+8022,U+8028-8029,U+8035,U+804d,U+8080,U+80c2,U+80e9,U+80ec,U+80f2,U+810e,U+8221,U+8274,U+82b0,U+82e0,U+83b0,U+8487-8488,U+848e,U+84cd,U+84d0,U+8539,U+857a,U+85a8,U+85b7,U+867c,U+871e,U+8723,U+877e,U+878b,U+8793,U+8803,U+88d2,U+8966,U+89cc,U+89eb,U+8b26,U+8c8a,U+8c98,U+8d33,U+8d47,U+8d55,U+8dbc,U+8e40,U+8e94,U+8f77,U+8f79,U+9058,U+91a2,U+91b5,U+928e,U+9494,U+94b6,U+94de,U+94f4,U+94f9,U+950a,U+950e,U+951e,U+952b,U+953c,U+953e,U+9544,U+9561,U+9564,U+9569,U+95f6,U+9603,U+960d,U+963d,U+9674,U+9794,U+97ab,U+98a5,U+9a9f,U+9ab1,U+9ad1,U+9b0f,U+9b2f,U+9c92,U+9c95,U+9cba,U+9cbc,U+9cc6,U+9ccb,U+9cd8,U+9e32,U+9e38,U+9e5b,U+9e7e,U+9eb4,U+9efb-9efc,U+9f3d"}},{uri:TTe,descriptors:{unicodeRange:"U+2e3b,U+2e80-2e99,U+2e9b-2ef3,U+2f00-2f73,U+ffffd"}},{uri:BTe,descriptors:{unicodeRange:"U+4e69,U+4f1b,U+4f67,U+4f7e,U+4fdc,U+50e6,U+5196,U+5202,U+5233,U+523f,U+52a2,U+536e,U+5476,U+54ad,U+54cf,U+5537,U+561e,U+56dd,U+56df,U+5709,U+572c,U+57cf,U+57f8,U+580d,U+5881,U+589a,U+5941,U+59b2,U+5c25,U+5d24,U+5d74,U+5e42,U+5e8b,U+5eb3,U+5ed2,U+5fad,U+6003,U+603c,U+6083,U+6100,U+6126,U+6206,U+62ca,U+638e,U+63b4,U+6426,U+646d,U+6535,U+65c4,U+66db,U+6715,U+6769,U+6798,U+67c3,U+6861,U+698d,U+69ca,U+69ed,U+69f2,U+69ff,U+6a18,U+6b39,U+6bb3,U+6c0d,U+6cb2,U+6cd6,U+6cf7,U+6cfa,U+6d33,U+6e16,U+6e53-6e54,U+6ebb,U+6fb6,U+709d,U+72ad,U+72f7,U+72fb,U+7313,U+739f,U+74ba,U+754b,U+755b,U+758b,U+75ac,U+75d6,U+7617,U+7635,U+7640,U+76a4,U+76b2,U+775a,U+77bd,U+781f,U+79b3,U+7b2b,U+7b31,U+7b3e,U+7b6e,U+7b9c,U+7c0b,U+7c9e,U+7cc1,U+7ce8,U+7ea5,U+7f21,U+7f27,U+7f74,U+7fb0,U+8031,U+8071,U+80ea,U+8114,U+8160,U+81a6,U+81c1,U+829f,U+82a4,U+82fb,U+831a,U+8333,U+836c,U+83b6,U+83f8,U+8411,U+841c,U+8489,U+848c,U+85a4,U+8627,U+8629,U+866e,U+86b5,U+872e,U+8731,U+877b,U+877d,U+87ea,U+8813,U+8816,U+8864,U+88ce,U+88e5,U+897b,U+89cb,U+89f3,U+8bfc,U+8c35,U+8d46,U+8d4d,U+8dba,U+8e3a,U+8f75,U+8f7e,U+8fd3,U+9161,U+9179,U+917e,U+91a3,U+94ac,U+94d7,U+94e5,U+952a,U+952c,U+9545,U+9565,U+9568,U+956a,U+961d,U+96e0,U+972a,U+9730,U+989f,U+98e7,U+990d,U+9967,U+9993,U+9aa3,U+9ac0,U+9ae1,U+9aeb,U+9af9,U+9c86,U+9c8b,U+9ca0-9ca1,U+9ca3,U+9ce2,U+9e48,U+9e6a,U+9e87,U+9ee2,U+9ee9,U+9f17,U+9f19,U+9f2c,U+9f80"}},{uri:RTe,descriptors:{unicodeRange:"U+4ef3,U+50d6,U+50ec,U+51ab,U+51b1,U+52d6,U+54a9,U+54da,U+55be,U+55cd,U+564d,U+572f,U+574c,U+576b,U+57d8,U+57fd,U+5844,U+59d2,U+5ae0,U+5b16,U+5b37,U+5b5b,U+5b80,U+5d1e,U+5d6b,U+5efe,U+5f11,U+5f56,U+5f58,U+5f73,U+5f8c,U+5fc4,U+5fe4,U+602b,U+6106,U+610d,U+63de,U+63f8,U+641b,U+64e4,U+6634,U+676a,U+67b5,U+681d,U+6883,U+69b1,U+69e0,U+6b37,U+6b9b,U+6d7c,U+6ed7,U+6f36,U+6f72,U+6f8c,U+7035,U+7039,U+7173,U+7178,U+7228,U+728f,U+72b4,U+72ef,U+72f4,U+7331,U+7481,U+74e0,U+7540,U+75c3,U+75e6,U+763c,U+764d,U+76cd,U+7704,U+7743,U+7780,U+7847,U+786a,U+78b9,U+7962,U+7a02,U+7aac,U+7ab3,U+7b0a,U+7b4c,U+7b7b,U+7bfc,U+7c0f,U+7c16,U+7c40,U+7ca2,U+7cc7,U+7cf8,U+7d77,U+7e3b,U+7ea1,U+7ea9,U+7ef2,U+7f02,U+7f07,U+7f0c,U+7f23,U+7f2f,U+7fbc,U+8016,U+8020,U+812c,U+8136,U+8182,U+822f,U+8233,U+825f,U+8268,U+8284,U+8288,U+8291,U+8308,U+8311,U+835b,U+836d,U+83dd,U+8406,U+840f,U+845c,U+84b4,U+84e3,U+850c,U+855e,U+863c,U+86ba,U+86c4,U+86de,U+86f1,U+873e,U+87bd,U+87db,U+880a,U+883c,U+887f,U+88f0,U+890a,U+892b,U+895e,U+89ef,U+8a48,U+8bdc,U+8c18,U+8c33,U+8c94,U+8db1,U+8dcf,U+8dd6,U+8de3,U+8e6f,U+8e90,U+8f7a,U+8fb6,U+902d,U+90be,U+91af,U+936a,U+948b,U+94d8,U+9513,U+953a,U+956c,U+963c,U+9654,U+966c,U+9688,U+97b4,U+996b,U+9a75,U+9a7a,U+9aba,U+9aed,U+9b08,U+9b43,U+9c8e,U+9c94,U+9c9a,U+9e2b,U+9e36,U+9e4b,U+9e4e,U+9e55,U+9e63,U+9e68-9e69,U+9ebd,U+9ec9,U+9f0d,U+9f37,U+9f51"}},{uri:DTe,descriptors:{unicodeRange:"U+50a7,U+5240,U+5261,U+52ac,U+531a,U+5363,U+5432,U+5452,U+5456,U+5472,U+5478,U+553f,U+5575,U+5581,U+55cc,U+55fe,U+5601,U+572e,U+57d2,U+57ef,U+581e,U+5924,U+5981,U+5997,U+59a3,U+5aaa,U+5ab8,U+5b34,U+5d5d,U+5def,U+5e11,U+5e91,U+5ed1,U+5ef4,U+5f40,U+600d,U+6019,U+601b,U+605a,U+6092,U+60ab,U+6217,U+623d,U+6369,U+65d2,U+6661,U+670a,U+6753,U+67a7,U+6855,U+68f9,U+6939,U+696e,U+6980,U+6a7c,U+6aab,U+6b82,U+6bf3,U+6bf9,U+6c05,U+6c19-6c1a,U+6ca9,U+6cf6,U+6d1a,U+6dab,U+6f74,U+7085,U+7198,U+71b5,U+7256,U+725d,U+727e,U+72fa,U+7322,U+738e,U+73e5,U+750f,U+755a,U+7594,U+75b3,U+760c,U+7615,U+7630,U+763f,U+77ec,U+7817,U+78a1,U+78d9,U+7905,U+7b2a,U+7b2e,U+7b62,U+7b85,U+7bcc,U+7bea,U+7c26,U+7c74,U+7c9c-7c9d,U+7e47,U+7e9b,U+7e9f,U+7ee0,U+7ee8,U+7ef1,U+7f01,U+7f11,U+7f17,U+7f36,U+7f7e,U+7fee,U+802a,U+80cd,U+8112,U+8169,U+8234,U+8279,U+8298,U+82ca,U+82d8,U+82e1,U+83c0,U+83d4,U+83df,U+8401,U+8451,U+845a,U+8476,U+8478,U+84ba,U+84bd,U+84e0,U+851f,U+8548,U+8556,U+8585,U+868d,U+86e9,U+86f4,U+86f8,U+8765,U+8785,U+87ab,U+87ee,U+8832,U+8872,U+88b7,U+88e2-88e3,U+89da,U+8bce,U+8bd3,U+8bd6,U+8bf9,U+8c16,U+8c73,U+8d5c,U+8dde,U+8f6d,U+8f94,U+8fe8,U+9011,U+915e,U+9185,U+918c,U+94ab,U+94d1,U+94f3,U+9515,U+951d,U+9558,U+9567,U+96ce,U+96e9,U+9785,U+9878,U+987c,U+9883,U+98d1,U+9954,U+9963,U+9a93,U+9ac1,U+9acc,U+9b1f,U+9b49,U+9b4d,U+9b51,U+9ca7,U+9cae,U+9cce,U+9cd3,U+9e37,U+9e39,U+9e41,U+9e46,U+9f22,U+9f2f,U+9f39,U+9f85"}},{uri:PTe,descriptors:{unicodeRange:"U+4e5c,U+4edf,U+4f25,U+4f32,U+4f5e,U+4f76,U+4faa,U+4fe6,U+5028,U+5048,U+5250,U+535f,U+538d,U+53c1,U+5412,U+5443,U+54d4,U+54dd,U+5541,U+5550,U+5577,U+55dd,U+55f3,U+560f,U+562c,U+5657-5658,U+5664,U+56af,U+575c,U+577c,U+57b2,U+57da,U+5800,U+5a62,U+5aeb,U+5c3b,U+5ca3,U+5d26,U+5d9d,U+5f01,U+5fb5,U+5fdd,U+5ff8,U+6029,U+6041,U+6079,U+60b1,U+6222,U+629f,U+6332,U+63bc,U+63e0,U+6485,U+65ab,U+65c3,U+65c6,U+668c,U+669d,U+66be,U+67fd,U+6800,U+68fc,U+690b,U+6924,U+6978,U+69a7,U+6a3e,U+6a50,U+6a5b,U+6a97,U+6b24,U+6b8d,U+6baa,U+6c10,U+6c54,U+6ceb,U+6d04,U+6d4d,U+6eb1,U+6ebd,U+7110,U+71b3,U+71f9,U+7230,U+728d,U+7292,U+72b8,U+72d2,U+7360,U+73a2,U+7511,U+75a0,U+75c8,U+779f,U+7826,U+7877,U+7a39,U+7aa8,U+7ae6,U+7b04,U+7b0f,U+7baa,U+7bac,U+7c1f,U+7ccd,U+7ecb,U+7ed4,U+7ed7,U+7efb,U+7f0d,U+7f5f,U+7faf,U+7fd5,U+7fe5,U+8027,U+80bc,U+80dd,U+80fc,U+8132,U+815a,U+8167,U+816d,U+81ca,U+8228,U+82a1,U+82a9,U+82ab,U+82cc,U+8351,U+8368,U+83b8,U+83d8,U+83ea,U+83f0,U+8497,U+84c1,U+858f,U+85ff,U+867b,U+86a8-86a9,U+870a,U+8722,U+876e,U+877c,U+87e5,U+8888,U+88df,U+8919,U+8bcc,U+8bdf,U+8be8,U+8bee,U+8c20,U+8c2f,U+8d36,U+8df8,U+8e05,U+8e2f,U+8f9a,U+9021,U+908b,U+90b4,U+90ba,U+90d0,U+90eb,U+90fe,U+91aa,U+933e,U+9486-9487,U+948d,U+9490,U+94ad,U+94bd,U+94d6,U+94d9,U+9507,U+9546,U+955e,U+956b,U+95e9,U+9604,U+960b,U+9612,U+9615,U+9617,U+96b9,U+989a-989b,U+989e,U+9a78,U+9a7d,U+9aa0,U+9aa2,U+9ac2,U+9b23,U+9b3b,U+9c82,U+9cca,U+9cd9,U+9e28,U+9e5a,U+9e5e,U+9e6c,U+9efe,U+9f0b"}},{uri:LTe,descriptors:{unicodeRange:"U+4e47,U+4e8d,U+4f65,U+4f89,U+50ee,U+520e,U+5416,U+5454,U+54bb,U+54c2,U+54d3,U+54de,U+5591,U+55e5,U+560c,U+566b,U+5769,U+578c,U+5793,U+57e4,U+5889,U+593c,U+59ab,U+5ad4,U+5ad8,U+5af1,U+5b53,U+5ba5,U+5c59,U+5c63,U+5d5b,U+5e0f,U+5e14,U+5edb,U+5fbc,U+6004,U+60ad,U+610e,U+61b7,U+624c,U+634c,U+647a,U+64ba,U+65f0,U+6600,U+66f7,U+67e2,U+67f0,U+680c,U+686b,U+6874,U+691f,U+6989,U+6a17,U+6b81,U+6b84,U+6c06-6c07,U+6c3d,U+6d07,U+6d27,U+6d2b,U+6d91,U+6e6b,U+6e8f,U+6fde,U+70bb,U+723b,U+726e,U+72b0,U+72ce,U+72f2,U+7301,U+731e,U+737e,U+7477,U+748e,U+74ff,U+7633,U+7654,U+771a,U+7726,U+7765,U+7768,U+781c,U+7829,U+78d4,U+7913,U+7957,U+79d5,U+79eb,U+7a70,U+7a86,U+7b25,U+7b38,U+7b47,U+7b72,U+7ba6-7ba7,U+7dae,U+7ee1,U+7efe,U+7f26,U+7f31,U+7f35,U+801c,U+8043,U+809f,U+80ab,U+80d7,U+8118,U+8188,U+81cc,U+823e,U+8244,U+824f,U+82b4,U+82c1,U+82e4,U+82f4,U+8306,U+833a,U+835c,U+839c,U+83b3,U+83bc,U+846d,U+867a,U+868b,U+8734,U+87ca,U+886e,U+887e,U+88a2,U+88c9,U+8921,U+8bb5,U+8bf3,U+8c04,U+8c17,U+8c1d,U+8c25,U+8c36,U+8c55,U+8c78,U+8d3d,U+8d40,U+8d59,U+8d67,U+8d91,U+8dbf,U+8deb-8dec,U+8dfd,U+8e14,U+8e41,U+8f8e,U+900b,U+9044,U+9062,U+90cf,U+9123,U+9146,U+9162,U+9172,U+918d,U+9190,U+92c8,U+93ca,U+948c,U+94aa,U+94b2,U+94c8,U+94ca,U+94d5,U+94df,U+94e9-94ea,U+94f7,U+94fc-94fd,U+951b,U+954f,U+9554,U+9559,U+9566,U+9571-9572,U+95f1,U+9608,U+960f,U+97af,U+988f,U+98d5,U+992e,U+9955,U+9ab0,U+9b32,U+9c90,U+9c9e,U+9ca5,U+9ca9,U+9cad,U+9cb1,U+9cc3,U+9e47,U+9ee7,U+9f87"}},{uri:NTe,descriptors:{unicodeRange:"U+4e93,U+4ec4,U+4ef5,U+4f27,U+4f7b,U+4fe3,U+5080,U+5121,U+51eb,U+5208,U+52f0,U+53f5,U+5453,U+5466,U+54a6,U+54bf,U+54d0,U+5533,U+5549,U+5556,U+556d,U+558f,U+55f2,U+55f5,U+5627,U+567b,U+56d4,U+571c,U+5739,U+57b4,U+5807,U+58c5,U+59a4,U+59af,U+59d8,U+5a09,U+5a0c,U+5a4a,U+5ad2,U+5b6c,U+5ca2,U+5cac,U+5d03,U+5d6c,U+5db7,U+5ebe,U+5f2d,U+5fea,U+6042,U+6120,U+6175,U+6221,U+623e,U+6339,U+638a,U+643d,U+64b8,U+64e2,U+66e9,U+67b3,U+67c1,U+67d2,U+6832,U+6877,U+68f0,U+6934,U+6966,U+6987,U+6998,U+69c1,U+69ce,U+6a3d,U+6a84,U+6aa9,U+6b87,U+6bd6,U+6c16,U+6c18,U+6cd4,U+6cee,U+6de0,U+6e0c,U+6ecf,U+6f4b,U+70b7,U+7168,U+72d9,U+7352,U+73b3,U+73d0,U+7441,U+74d2,U+75a5,U+75e7-75e8,U+7610,U+7619,U+765e,U+772d,U+7812,U+782c,U+784c,U+7850,U+7856,U+789b,U+78f4,U+7a51,U+7b15,U+7b1e,U+7b24,U+7b5a,U+7bb8,U+7bc1,U+7bd9,U+7ed0,U+7ee6,U+7efa,U+7f1b,U+7f1f,U+7f22,U+7f45,U+7f71,U+7fa7,U+7fbf,U+7ff3,U+8052,U+80b1,U+80db,U+80f4,U+81bb,U+81ec,U+8202,U+8210,U+8249,U+828a,U+828e,U+82e3,U+8315,U+8369,U+8378,U+83a8,U+83aa,U+83b4,U+83e1,U+84fc,U+8538,U+853b,U+859c,U+85ae,U+86b4,U+86c9,U+86cf,U+8725,U+879f,U+87b3,U+887d,U+88fe,U+8a8a,U+8ba7,U+8c07,U+8c14,U+8c30,U+8c47,U+8db5,U+8dd7,U+8e1f,U+8e69,U+8e70,U+8e85,U+8f78,U+8f87,U+8f8b,U+8f8f,U+90c4,U+9143,U+917d,U+948f,U+94cd,U+94d2,U+94ef,U+954a,U+9609-960a,U+96d2,U+9708,U+9765,U+97ea,U+9880,U+98a7,U+996c,U+9980,U+9991,U+9a88,U+9ab6,U+9afb,U+9b47,U+9c87,U+9c9b,U+9cb5,U+9cc7,U+9e2c,U+9e42,U+9e58,U+9ecd,U+9ecf,U+9f8a,U+9f8c"}},{uri:$Te,descriptors:{unicodeRange:"U+4ebb,U+4edd,U+4fa9,U+502c,U+50a5,U+51c7,U+51fc,U+523d,U+5241,U+530f,U+5464,U+549d,U+54a3,U+5514,U+5527,U+555c,U+556e,U+5576,U+55b1,U+55b9,U+55eb,U+5624,U+564c,U+5671,U+5685,U+568f,U+56d7,U+56e1,U+57a1,U+57d9,U+5942,U+5a67,U+5c50,U+5c7a,U+5c98,U+5d06,U+5d27,U+5d6f,U+5df3,U+5dfd,U+5e19,U+5ea0,U+5eb9,U+5eea,U+5ffe,U+600f,U+606b,U+6215,U+622c,U+6266,U+62bb,U+62bf,U+6308,U+6387,U+63b8,U+63c4,U+63c6,U+63f6,U+6441,U+6555,U+659b,U+6677,U+66a7,U+6775,U+678b,U+679e,U+6840,U+6849,U+6860,U+68c2,U+6910,U+6a28,U+6a2f,U+6a79,U+6b92-6b93,U+6bc2,U+6bfd,U+6c29,U+6c32,U+6c86,U+6cc5,U+6d0c,U+6d60,U+6da0,U+6ddd,U+6e86,U+6ed3,U+6edf,U+6fb9,U+6fd1,U+6fef,U+7023,U+7080,U+70ca,U+712f,U+7145,U+7284,U+732c,U+73c8,U+73d9,U+740a,U+7457,U+7596,U+759d,U+75a3,U+75d8,U+75e3-75e4,U+75ff,U+7622,U+7688,U+76b4,U+76e5,U+7818,U+7887,U+789a,U+78b2,U+7b08,U+7b33,U+7c2a,U+7ccc,U+7ea8,U+7ec0,U+7fe6,U+8012,U+8084,U+8093,U+80e4,U+80ef,U+8297,U+82a8,U+82be,U+8331,U+8366,U+83c5,U+83fd,U+8473,U+84a1,U+84ca,U+84d1,U+857b,U+85c1,U+85d3,U+8605,U+8662,U+86aa,U+86b1,U+86d4,U+86ed,U+86f3,U+8709,U+8748,U+874c,U+8763,U+89c7,U+89de,U+89e5,U+8a3e,U+8ba6,U+8c00,U+8c21,U+8c49,U+8c7a,U+8d30,U+8df9,U+8e51,U+8e59,U+8f6b,U+8f73,U+8ff3,U+9016,U+9026,U+902f,U+9099,U+909b,U+90c7,U+914a,U+91ae,U+91ba,U+9495,U+94a3,U+94af,U+94ba,U+94bf,U+94cc,U+94e1,U+94f0,U+9531,U+955d,U+95f3,U+9697,U+96bc,U+975b,U+977c,U+98a2,U+998a,U+9994-9995,U+9a9b,U+9ab7,U+9ac5,U+9c91,U+9ccf,U+9cd5,U+9e29,U+9edc,U+9edf,U+9f83,U+9f88-9f89"}},{uri:FTe,descriptors:{unicodeRange:"U+4ee8,U+4f22,U+4f43,U+4f57,U+4f5d,U+4f6f,U+4ff8,U+502d,U+507b,U+5345,U+53df,U+53fb,U+544b,U+5482,U+54a7,U+54cc,U+550f,U+5544,U+5555,U+5594,U+55e8,U+55ec,U+55ef,U+564e,U+56f9,U+5704,U+576d,U+5785,U+57ad,U+5914,U+5958,U+599e,U+59aa,U+59be,U+5a06,U+5abe,U+5ae1,U+5b40,U+5bee,U+5cbf,U+5cc4,U+5ccb,U+5d47,U+603f,U+6078,U+607d,U+607f,U+608c,U+609a,U+60fa,U+61ff,U+621b,U+622e,U+626a,U+6371,U+63ae,U+63cd,U+63d6,U+6410,U+6414,U+6421,U+6448,U+64d8,U+6710,U+6748,U+6772,U+680e,U+6954,U+69ab,U+6c68,U+6c8f,U+6ca4,U+6d2e,U+6e4e,U+6e98,U+6fe0,U+7094,U+70e9,U+7116,U+7119,U+723f,U+73c9,U+74e4,U+753e,U+7548,U+75bd,U+75cd,U+7618,U+7634,U+76c5,U+76f1,U+7708,U+7719,U+777e,U+7791,U+77b3,U+7823,U+7827,U+7830,U+7889,U+7893,U+7949,U+795c,U+79e3,U+7a14,U+7a88,U+7a95,U+7aa0,U+7afd,U+7b90,U+7bd1,U+7bfe,U+7da6,U+7ec2,U+7eef,U+7f03-7f04,U+7f08,U+7f58,U+7f61,U+7f9f,U+8174,U+8200,U+828d,U+82c4,U+82d5,U+82dc,U+82f7,U+832d,U+835a,U+840b,U+8438,U+852b,U+869d,U+86ac,U+86d0,U+86f0,U+8782,U+87a8,U+87d1-87d2,U+87e0,U+8839,U+8913,U+891b,U+8934,U+8941,U+89ca,U+89ce,U+8a07,U+8ba3,U+8bc5,U+8bcb,U+8bdb,U+8c11,U+8c15,U+8c29,U+8c32,U+8dc4,U+8dce,U+8ddb,U+8dfa,U+8e09,U+8e1d,U+8e39,U+8e42,U+8e49,U+8e4b,U+8e8f,U+8f71-8f72,U+9004,U+9036,U+9097,U+90dc,U+90e2,U+90e6,U+90ef,U+9104,U+919a,U+91b4,U+938f,U+9497,U+950f,U+9557,U+9562-9563,U+9573,U+9606,U+9649,U+972d,U+973e,U+97a3,U+97eb,U+988c,U+9894,U+98a6,U+9974,U+9977,U+997d,U+9a90,U+9a9d,U+9aef,U+9ca2,U+9ccd,U+9cdf,U+9e20,U+9e4c,U+9e6b,U+9f3e"}},{uri:jTe,descriptors:{unicodeRange:"U+4ede,U+4ee1,U+4eeb,U+4fda,U+4ffe,U+5025,U+506c,U+50f3,U+5106,U+520d,U+525c,U+52ad,U+530d,U+5310,U+539d,U+53a9,U+53fc,U+5421,U+5477,U+54e7,U+551b,U+5530,U+557e,U+5599,U+55c4,U+55d1,U+55d4,U+55df,U+55e4,U+55ea,U+5623,U+562d,U+5654,U+56eb,U+56f5,U+57a7,U+57d5,U+57dd,U+584d,U+5880,U+58ec,U+59dd,U+5a32,U+5a55,U+5a75,U+5b51,U+5b71,U+5b73,U+5cd2,U+5ce4,U+5e5b,U+5e96,U+5fd2,U+607b,U+61d1,U+634b,U+636d,U+63b3,U+63ff,U+64c0,U+661d,U+6657,U+66dc,U+67a5,U+6841,U+6867,U+6901,U+699b,U+6a47,U+6b46,U+6c21,U+6c24,U+6c35,U+6c4a,U+6c94,U+6ca3,U+6d39,U+6d63,U+6d6f,U+6d94,U+705e,U+71e7,U+726f,U+72cd,U+72de,U+72f0,U+7325,U+7350,U+7391,U+741a,U+757f,U+7583,U+75b1,U+75b4,U+75b8,U+75c2,U+75f1,U+766f,U+7699,U+7751,U+789c,U+7a17,U+7be6,U+7cb2,U+7ea3,U+7eb0,U+7ebe,U+7eeb,U+7f25,U+7f2c,U+7fb8,U+8026,U+8037,U+8153,U+8171,U+8191,U+8214,U+821b,U+8222,U+826e,U+82eb,U+830c,U+8314,U+8334,U+83d6,U+8418,U+843c,U+84ff,U+8564,U+8572,U+8616,U+866c,U+8693,U+86a3,U+86a7,U+86af,U+86b6,U+86c6,U+86ca,U+8708,U+870d,U+8759,U+8760,U+87af,U+87c6,U+8869,U+88c6,U+89d0,U+8b07,U+8baa-8bab,U+8bc2,U+8be4,U+8bf0,U+8c2a,U+8c62,U+8c89,U+8d49,U+8d6d,U+8d84,U+8d94,U+8db8,U+8dc6,U+8e2e,U+8e3d,U+8e47,U+8e7f,U+9005,U+9051,U+907d,U+9082,U+9088,U+90b0,U+90d3,U+9150,U+949c,U+94a4,U+94b9,U+94cb,U+94e0,U+9509,U+9512,U+951f,U+9534,U+9552-9553,U+965f,U+96b0,U+9791,U+9889,U+9990,U+9a9c,U+9aa7,U+9c88,U+9cb2-9cb3,U+9cb6-9cb7,U+9cc5,U+9cdc,U+9e22,U+9e2a,U+9e57,U+9e67,U+9e73,U+9e82,U+9eb8,U+9ee0,U+9f9b"}},{uri:OTe,descriptors:{unicodeRange:"U+4eb5,U+4f09,U+4f5a,U+4f8f,U+4fce,U+4fdf,U+4fea,U+4ff3,U+500c,U+500f,U+504e,U+5088,U+52be,U+5420,U+5457,U+5499,U+549b,U+54c6,U+54d2,U+558b,U+559f,U+55bd,U+55d6,U+565c,U+567c,U+568e,U+5768,U+577b,U+57a9,U+57ed,U+59f9,U+5a11,U+5a40,U+5ae6,U+5b6a,U+5b93,U+5bb8,U+5c15,U+5c99,U+5c9c,U+5cc1,U+5d2e,U+5d4b,U+5d99,U+5e54,U+5e61,U+5fcf-5fd1,U+6002,U+6006,U+6014,U+60af,U+60c6,U+60da,U+60f4,U+621f,U+62c8,U+631b,U+631e,U+63e9,U+64b5,U+655d,U+6619,U+6635,U+6641,U+67ad,U+67b0,U+67b7,U+67e9,U+684e,U+688f,U+695d,U+696b,U+69b7,U+6a58,U+6c26,U+6d35,U+6d43,U+6d9e,U+6dd9,U+6dec,U+6e11,U+6e6e,U+6e9f,U+6ec2,U+6ee2,U+6ef9,U+6f09,U+6f66,U+6f8d,U+6fc2,U+6fc9,U+729f,U+72c8,U+73de,U+7430,U+7566,U+7579,U+75c9,U+75e2,U+75fc,U+762a,U+7638,U+7678,U+76c2,U+76f9,U+778c,U+77cd,U+77dc,U+7800,U+781d,U+782d,U+783b-783c,U+78a3,U+78ec,U+7980,U+7a23,U+7b95,U+7bdd,U+7c0c,U+7c41,U+7c91,U+7cb3,U+7cc5,U+7ecc,U+7f19,U+7fca,U+8006,U+8069,U+807f,U+80bd,U+80ed,U+814b,U+8198,U+82cb,U+82d2,U+834f,U+8360,U+847a,U+84d6,U+84e5,U+8537,U+85d0,U+8671,U+86a4,U+86ce,U+86f9,U+8703,U+8707,U+8737,U+873b,U+8815,U+8936,U+8bc3,U+8bcf,U+8bd2,U+8bd8,U+8be9,U+8c0c,U+8c0f,U+8c4c,U+8d45,U+8d5d,U+8d73,U+8e31,U+8e6d,U+8e76,U+8fe4,U+9041,U+90d7,U+9169,U+92ae,U+94a1,U+94c4,U+94c9,U+94db,U+94e7,U+9503,U+9506,U+9517,U+9528,U+9537,U+9542,U+9549,U+95fe,U+9616,U+961a,U+96c9,U+96f3,U+9701,U+970e,U+9739,U+9753,U+9798,U+98d2-98d3,U+98d9-98da,U+9968,U+996f,U+9984,U+9997,U+9acb,U+9b03,U+9c85,U+9ca8,U+9cab,U+9e49,U+9e51,U+9e66,U+9f10"}},{uri:zTe,descriptors:{unicodeRange:"U+4e15,U+4e1e,U+4e2b,U+4eb3,U+4ec9,U+4f0e,U+4f64,U+501c,U+50a9,U+510b,U+51a2,U+51bc,U+527d,U+52d0,U+53fd,U+5429,U+542e,U+5486,U+54af,U+5506,U+5511,U+5522,U+552c,U+556c,U+55b3,U+55d2,U+55e6,U+55fd,U+561f,U+5639,U+5659,U+5662,U+5693,U+572a,U+5892,U+598a,U+5992,U+59a9,U+5a20,U+5ae3,U+5b17,U+5b7d,U+5d34,U+5d3d,U+5d4a,U+5d82,U+5e1a-5e1b,U+5ea5,U+5f0b,U+5f77,U+5fd6,U+5fff,U+6026,U+6035,U+6063,U+60b4,U+60bb,U+60ee,U+612b,U+6194,U+61ca,U+61e6,U+61f5,U+620a,U+6248,U+62a1,U+62d7,U+6376,U+637b,U+652b,U+65bc,U+65cc,U+65ce,U+65d6,U+664c,U+665f,U+6666,U+6684,U+66b9,U+6773,U+6777,U+6787,U+67de,U+6845,U+693d,U+6994,U+6a35,U+6d54,U+6d5c,U+6d8e,U+6dd6,U+6eb4,U+6f2a,U+6f78,U+704f,U+70ec,U+7118,U+714a,U+7172,U+71b9,U+724d,U+728a,U+7337,U+733e,U+7396,U+73b7,U+73cf,U+7428,U+742c,U+742e,U+74ee,U+74f4,U+7525,U+753a,U+7572,U+75d4,U+765c,U+768e,U+7762,U+777d,U+77fd,U+7825,U+7837,U+78b4,U+795f,U+79ed,U+7a1e,U+7b06,U+7b20,U+7ba9,U+7bab,U+7c7c,U+7cbd,U+7cdc,U+7ec9,U+7ef6,U+7f30,U+7f42,U+7f44,U+7f54,U+7f94,U+8004,U+800b,U+8019,U+809b,U+80ae,U+80c4,U+80f1,U+8146,U+816e,U+817c,U+81c0,U+81fc,U+81fe,U+822b,U+830f,U+832f,U+8340,U+8365,U+8385,U+8392,U+83a0,U+8424,U+84af,U+869c,U+8713,U+8717-8718,U+87c0,U+87cb,U+87fe,U+8821,U+8902,U+89d1,U+8bb9,U+8c12,U+8d32,U+8d53,U+8df7,U+8e7c,U+8f7c,U+8f95,U+8fab,U+9052,U+905b,U+9095,U+909d,U+90c5,U+911e,U+9122,U+916a,U+919b,U+948e,U+9492,U+949a,U+94b5,U+94bc,U+94c6,U+94f1,U+9502,U+9511,U+9536,U+956f-9570,U+9602,U+9621,U+9631,U+998b,U+99a5,U+9a81,U+9a9e,U+9ebe,U+9f8b"}},{uri:QTe,descriptors:{unicodeRange:"U+4f2b,U+4f3d,U+4fac,U+5043,U+5055,U+5140,U+5156,U+51cb,U+5243,U+531d,U+536f,U+53a5,U+53ae,U+53f1,U+541d,U+5431,U+547b,U+5492,U+5494,U+54a4,U+54aa,U+54ce,U+54fd,U+5509,U+5520,U+553e,U+557b,U+55c5,U+55e1,U+55f7,U+5608,U+5636,U+563b,U+5773,U+57a0,U+5811,U+587e,U+58d5,U+59e3,U+5a29,U+5a6a,U+5a76,U+5a7a,U+5ac9,U+5b62,U+5b95,U+5c49,U+5c8c,U+5cab,U+5cb7,U+5d02,U+5d58,U+5e44,U+5e7a,U+5eff,U+5f29,U+5f89,U+5f9c,U+5fa8,U+6005,U+6043,U+60b8,U+60d8,U+60ec,U+60f0,U+6115,U+618e,U+630e,U+637a,U+6390,U+63ac,U+63b0,U+64de,U+6525,U+6538,U+65ee-65ef,U+6631,U+6636,U+6654,U+677c,U+67b8,U+67d8,U+683e,U+6886,U+68b5,U+692d,U+6963,U+6979,U+6988,U+6b59,U+6b9a,U+6c69,U+6c74,U+6cae,U+6ce0,U+6cef,U+6d95,U+6dc5,U+6dde,U+6de6,U+6dfc,U+6ea7,U+6f15,U+6f29,U+7096,U+70c3,U+7131,U+715c,U+7166,U+7266,U+7317,U+731d,U+7329,U+73e9,U+7425,U+7455,U+7490,U+74ef,U+7519,U+75b5,U+75b9,U+75de,U+7656,U+7663,U+7691,U+7729,U+77fe,U+783e,U+787c,U+795a,U+7a79,U+7abf,U+7b3a,U+7b4f,U+7b60,U+7b75,U+7b8d,U+7bb4,U+7bd3,U+7be1,U+7cbc,U+7edb,U+7f1c,U+7f8c,U+7fb2,U+7fb9,U+7fce,U+7ff1,U+810d,U+81c6,U+82a5,U+82aa,U+82de,U+8317,U+8343,U+835e,U+8364,U+836a,U+853a,U+8543,U+854a,U+8559,U+8568,U+85b0,U+85b9,U+864f,U+86e4,U+8715,U+8845,U+8884,U+88e8,U+88f1,U+8983,U+8be1,U+8c1f,U+8c27,U+8c5a,U+8c82,U+8d58,U+8dbe,U+8f98,U+9035,U+9074,U+90a1,U+9149,U+9157,U+93d6,U+949d,U+94c2,U+94e3-94e4,U+95eb,U+95f0,U+9611,U+9619,U+9642,U+968d,U+9706,U+970f,U+97ed,U+988a,U+9893,U+98e8,U+9a77,U+9a87,U+9aa1,U+9abc,U+9cdd,U+9e2f,U+9e33,U+9e44,U+9e5c,U+9e9d,U+9edd"}},{uri:HTe,descriptors:{unicodeRange:"U+4f58,U+4f6c,U+4f70,U+4fd0,U+5014,U+51bd,U+524c,U+5315,U+5323,U+535e,U+540f,U+542d,U+545b,U+548e,U+549a,U+54ab,U+54fc,U+5567,U+556a,U+5600,U+5618,U+563f,U+5669,U+56f1,U+56ff,U+573b,U+574d,U+579b,U+57b8,U+57c2,U+586c,U+58f9,U+595a,U+598d,U+5993,U+5996,U+59d7,U+5b7a,U+5ba6,U+5c4e,U+5c96,U+5ce5,U+5eb6,U+5f08,U+5f99,U+602f,U+6059,U+606c,U+607a,U+60ed,U+61a9,U+620c,U+6249,U+62a8,U+62c4,U+62ed,U+62fd,U+6342,U+6345,U+6396,U+63a3,U+6402,U+6413,U+642a,U+6487,U+64a9,U+64ac,U+64ae,U+64b7,U+659f,U+65a1,U+667e,U+66f3,U+67e0,U+69db,U+69df,U+6aac,U+6b86,U+6c50,U+6c5e,U+6c76,U+6c85,U+6c8c,U+6cde,U+6d19,U+6d52,U+6da7,U+6db8,U+6e1a,U+6e25,U+6e4d,U+6e5f,U+6ec1,U+6f31,U+6f7a,U+6fa7,U+6fe1,U+701b,U+70ab,U+70f7,U+717d,U+71a8,U+7252,U+72c4,U+72e1,U+7315,U+736d,U+73ae,U+73c0,U+73c2,U+740f,U+75a4,U+7600-7601,U+768b,U+76bf,U+76d4,U+7728,U+772f,U+776c,U+77a0,U+77b0,U+77f8,U+783a,U+78d0,U+78fa,U+7977,U+7a37,U+7a92,U+7afa,U+7b71,U+7b94,U+7cef,U+7f28,U+7fe1,U+808b,U+80e5,U+80eb,U+8110,U+8113,U+812f,U+814c,U+81c3,U+8235,U+82d4,U+8309,U+83c1,U+8431,U+8469,U+84bf,U+84d3,U+84df,U+84e6,U+8511,U+8638,U+86c0,U+86db,U+86fe,U+8757,U+8822,U+8882,U+8885,U+8892,U+88f3,U+892a,U+8ba5,U+8bd9,U+8be0,U+8be7,U+8bfd,U+8c1a,U+8d4a,U+8d4e,U+8d66,U+8dda,U+8e0c,U+8e52,U+8e74,U+8e87,U+8f76,U+8fc2,U+8fe6,U+900d,U+9068,U+90ac,U+90b3,U+90b8,U+90e7,U+9119,U+9131,U+915a,U+916e,U+94b4,U+94d0,U+94e2,U+94ec,U+94ff,U+9522,U+9535,U+9556,U+965b,U+96f9,U+9774,U+9981,U+998d,U+998f,U+9a6e,U+9a7f,U+9a8a,U+9b13,U+9c9f,U+9e3e,U+9e43,U+9e6d,U+9e8b,U+9e92,U+9edb,U+9eef"}},{uri:GTe,descriptors:{unicodeRange:"U+4e10,U+4e56,U+4e98,U+4ec3,U+4f3a,U+4f5f,U+4f88,U+4f97,U+4fa5,U+4fe8,U+504c,U+5197,U+52fa,U+5364,U+53e8,U+5406,U+543c,U+545c,U+5471,U+5480,U+5495,U+54b3,U+54df,U+54e6,U+54ee,U+557c,U+5583,U+55dc,U+55e3,U+566c,U+592f,U+5944,U+5983,U+59ca,U+59e5,U+5a13,U+5a7f,U+5b09,U+5bd0,U+5e4c,U+5eb5,U+5f1b,U+5f3c,U+608d,U+60cb,U+61a7,U+61ac,U+61cb,U+6233,U+62a0,U+62e7,U+62ee,U+62f4,U+62f7,U+634e,U+6382,U+63c9,U+63ea,U+6400,U+645e,U+6482,U+6556,U+6593,U+6615,U+664f,U+66e6,U+672d,U+675e,U+67da,U+6805,U+6808,U+6868,U+68a2,U+695e,U+69ad,U+6a80,U+6a90,U+6b83,U+6be1,U+6c30,U+6cad,U+6cb1,U+6cf1,U+6d31,U+6d93,U+6dae,U+6dbf,U+6dc6-6dc7,U+6e0d,U+6e32,U+6e3a,U+6e85,U+6eba,U+6f3e,U+6f5e,U+6f7c,U+6fee,U+71ee,U+722a,U+72b7,U+72e9,U+73ba,U+73d1,U+7409,U+7435-7436,U+7459-745a,U+747e,U+7487,U+74e2,U+7504,U+752c-752d,U+7599,U+759f,U+75a1,U+75ca,U+75f0,U+761f,U+7629,U+777f,U+7785,U+77a5,U+77bf,U+78d5,U+7934,U+7940,U+79a7,U+7b19,U+7c38,U+7c95,U+7cb1,U+7ce0,U+7eca,U+7ef7,U+7f2b,U+7f81,U+7fcc,U+8046,U+8148,U+8165,U+819b,U+81ba,U+828b,U+82ae,U+82b7,U+82d3,U+8301,U+830e,U+831c,U+8338,U+837c,U+8393,U+8398,U+83ba,U+83e0,U+83e9,U+853c,U+8654,U+86df,U+8712,U+873f,U+874e,U+8783,U+8859,U+88a4,U+8925,U+8bb7,U+8bff,U+8c19,U+8c1b,U+8c24,U+8c2c,U+8d61,U+8db4,U+8e6c,U+8f8a,U+8fe5,U+8ff8,U+901e,U+90f4,U+912f,U+9163,U+9170,U+91dc,U+949b,U+94a8,U+94b3,U+94c0,U+94e8,U+9525,U+9530,U+9539,U+954c-954d,U+9550,U+955b,U+962a,U+9685,U+96cc,U+9776,U+988d,U+9975,U+9985,U+9a6f,U+9aa5,U+9ab8,U+9c7f,U+9ca4,U+9cb8,U+9e25,U+9e35,U+9e4a"}},{uri:WTe,descriptors:{unicodeRange:"U+4ea2,U+4ea5,U+4f36,U+4f84,U+4f8d,U+501a,U+5029,U+516e,U+51a5,U+51c4,U+51f8,U+5201,U+527f,U+5321,U+5352,U+5366,U+53e9,U+54c7,U+5632,U+5676,U+56b7,U+56bc,U+56da,U+56e4,U+5703,U+5729,U+5742,U+57a2-57a3,U+5815,U+58d1,U+5919,U+592d,U+5955,U+5a05,U+5a25,U+5a34,U+5b70,U+5b75,U+5bdd,U+5bf0,U+5c41,U+5c79,U+5c91,U+5c94,U+5ce6,U+5ced,U+5d69,U+5dc5,U+5e16,U+5e27,U+5f27,U+5f95,U+5ffb,U+6020,U+604d,U+6055,U+60e6,U+60eb,U+6123,U+618b,U+61a8,U+620d,U+62c7,U+62ce,U+62d9,U+631f,U+634d,U+6452,U+6479,U+64ce,U+64d2,U+655b,U+660a,U+6726,U+67c4,U+6809,U+6853,U+68e3,U+68f1,U+68fa,U+693f,U+6942,U+6995,U+69a8,U+69b4,U+6a71,U+6b89,U+6bcb,U+6bd3,U+6bd9,U+6c40,U+6cf8,U+6cfe,U+6d85,U+6da3,U+6daa,U+6e0e,U+6e43-6e44,U+6f88,U+7078,U+7099,U+70bd,U+70d9,U+70fd,U+7109,U+7184,U+7239,U+733f,U+73f2,U+748b,U+749c,U+749e,U+759a,U+75d2,U+75eb,U+7620,U+766b,U+7693,U+76cf,U+7738,U+773a,U+776b,U+778e,U+77aa,U+7852,U+78be,U+7948,U+795b,U+7960,U+796f,U+79ba,U+7a20,U+7a96,U+7aa5,U+7b03,U+7b28,U+7b50,U+7b77,U+7bc6,U+7bf1,U+7c27,U+7d0a,U+7ead,U+7ec5,U+7ee2,U+7ef0,U+7efd,U+7f0e,U+7f2e,U+7f79,U+7f9a,U+8098,U+80da,U+80e7,U+80f0,U+80f3,U+80fa,U+818a,U+81e7,U+8237-8238,U+8299,U+82b8,U+82ce,U+837b,U+83bd,U+83cf,U+8426,U+8475,U+85c9,U+85d5,U+85dc,U+85e9,U+871a,U+8747,U+8749,U+888d,U+8910,U+891a,U+8bb4,U+8be3,U+8bec,U+8bf2,U+8c06,U+8c0d,U+8d31,U+8d48,U+8de4,U+8e1e,U+8e4a,U+8e66,U+8f84,U+8f97,U+9083,U+90e1,U+9165,U+91c9,U+94b0,U+94f5,U+9504,U+9532,U+956d,U+95f5,U+95fa,U+9668,U+9698,U+96bd,U+9704,U+9773,U+9890,U+996a,U+997a,U+9a74,U+9a8b,U+9cc4,U+9ccc"}},{uri:VTe,descriptors:{unicodeRange:"U+4ea8,U+4f1e,U+4f51,U+4f63,U+4f7c,U+4f83,U+4fa0,U+4fd1,U+4ffa,U+5018,U+5026,U+508d,U+50bb,U+50f5,U+50fb,U+5162,U+5319,U+5320,U+538c,U+5413,U+541f,U+5475,U+54bd,U+54d1,U+5589,U+5598,U+575f,U+57ae,U+57e0,U+5937,U+5974,U+5978,U+59ae,U+5a1f,U+5a49,U+5ab3,U+5b99,U+5b9b,U+5ba0,U+5be1,U+5be5,U+5c09,U+5c27,U+5de2,U+5e9a,U+5f26,U+5f8a,U+5f98,U+6021,U+606d,U+60bc,U+60d5,U+60e7,U+611a,U+614c,U+6254,U+626f,U+6292,U+6296,U+62b9,U+62e2,U+631a,U+631d,U+6320,U+6346,U+63ba,U+6467,U+64bc,U+658b,U+663c,U+6643,U+6652,U+6656,U+6687,U+66d9,U+66dd,U+66f0,U+673d,U+67ab,U+6816-6817,U+68a7,U+68ad,U+68cd,U+68e0,U+6986,U+69fd,U+6b47,U+6bd7,U+6c1f,U+6c2e-6c2f,U+6cbe,U+6de4,U+6e1d,U+6e83,U+6e9c,U+6ed4-6ed5,U+6f4d,U+70f9,U+7130,U+716e,U+718f,U+71ac,U+71e5,U+72fc,U+731c,U+7334,U+73ca,U+7422,U+7426,U+745f,U+7470,U+75af,U+75f4,U+762b,U+763e,U+7696,U+7737,U+7741,U+77a7,U+77bb,U+77ee,U+785d,U+788c,U+78ca,U+7901,U+796d,U+7985,U+79fd,U+7a3c,U+7a57,U+7a74,U+7b5b,U+7caa,U+7cb9,U+7cd5,U+7eac,U+7eb6,U+7ed1,U+7ee5,U+7f20,U+7f2a,U+7f38,U+7f69,U+7fa1,U+8018,U+8038,U+803f,U+804b,U+80a2,U+80be,U+80d6,U+817a,U+81fb,U+820c,U+82ad,U+82af,U+82bd,U+8327,U+8354,U+835f,U+8367,U+836b,U+840c,U+841d,U+8471,U+849c,U+84b2,U+84c9,U+8517,U+851a,U+8549,U+8681,U+8721,U+8776,U+88d9,U+88f9,U+89c5,U+8c1c,U+8c34,U+8d81,U+8d9f,U+8e0a,U+8e72,U+8eb2,U+8fed,U+901b,U+902e,U+906e,U+9091,U+90aa,U+90af,U+915d,U+9171,U+946b,U+9489,U+9499,U+94a5,U+9508,U+9524,U+952d,U+9551,U+9576,U+95f7,U+9600,U+96b6,U+96c0,U+9756,U+97f6,U+98a0,U+98a4,U+997f,U+9a73,U+9a86,U+9ad3,U+9e3d,U+9ed4"}},{uri:YTe,descriptors:{unicodeRange:"U+4e4d,U+4e5e,U+4ec7,U+4ed5,U+50da,U+50e7,U+515c,U+51a4,U+51ff,U+5203,U+5254,U+5300,U+533e,U+5375,U+53ee,U+5435,U+543b,U+5455,U+548b,U+548f,U+54d7,U+54fa,U+5578,U+5587,U+55a7,U+560e,U+5760,U+576f,U+5777,U+5830,U+58a9,U+5962,U+59e8,U+5a07,U+5a23,U+5a3c,U+5b5a,U+5bb5,U+5bc5,U+5bde,U+5c7f,U+5cb1,U+5ce8,U+5cea,U+5d29,U+5d4c,U+5e18,U+5f57,U+5f5d,U+5f87,U+5ff1,U+6016,U+601c,U+6064,U+6177,U+61d2,U+625b,U+62e3,U+62f1,U+634f,U+63a0,U+6401,U+6405,U+6495,U+64c2,U+6512,U+6577,U+6590,U+65a7,U+65a9,U+65f7,U+6627,U+6655,U+6714,U+6795,U+67d1,U+67ff,U+68b3,U+68d5,U+68d8,U+6930,U+6960,U+6977,U+69bb,U+69d0,U+6a31,U+6b7c,U+6bb4,U+6c22,U+6c72,U+6c79,U+6c7e,U+6c81,U+6c93,U+6ca5,U+6cbc,U+6ce3,U+6cfb,U+6d3c,U+6da9,U+6df3,U+6e2d,U+6eaf,U+6ec7,U+6f13,U+6f33,U+6f62,U+6fa1,U+7011,U+707c,U+708a,U+70c1,U+70d8,U+70eb,U+711a,U+7194,U+7281,U+7316,U+7357,U+7384,U+7405,U+742a,U+745b,U+7574,U+7578,U+75ea,U+7682,U+7792,U+77d7,U+77e9,U+77eb,U+77f6,U+780c,U+78c5,U+7941,U+79e4,U+7a1a,U+7a9c,U+7ad6,U+7b5d,U+7bf7,U+7c07,U+7c3f,U+7c9f,U+7ca5,U+7cdf,U+7e82,U+7eab,U+7ece,U+7eda,U+7f09,U+7f15,U+7f9e,U+7fdf,U+7fe9,U+803b,U+803d,U+80aa,U+80b4,U+813e,U+8155,U+817b,U+819d,U+821c,U+82b9,U+82df,U+82ef,U+8304,U+83b9,U+8446,U+853d,U+85af,U+85fb,U+8650,U+865e,U+86d9,U+86ee,U+8700,U+8862,U+889c,U+88d4,U+88f8,U+895f,U+8a79,U+8bb3,U+8bb6,U+8bc0,U+8beb,U+8bf5,U+8c23,U+8c79,U+8d1e,U+8dcb,U+8e29,U+8e44,U+8e81,U+8eac,U+8eaf,U+8f8d,U+9050,U+90f8,U+914b,U+948a,U+94be,U+94ee,U+950c,U+9540,U+962e,U+9647,U+9661,U+9699,U+96cf,U+9716,U+9761,U+97a0,U+97e7,U+9a7c,U+9a8f,U+9ae6,U+9cd6,U+9e26"}},{uri:KTe,descriptors:{unicodeRange:"U+4fa3,U+4fae,U+4fd8,U+4fef,U+50a3,U+5189,U+5195,U+51db,U+51f3,U+51f9,U+5220,U+5228,U+5288,U+52ff,U+532e,U+533f,U+5351,U+53db,U+53ed,U+5450,U+5484,U+5490,U+54c9,U+54e9,U+5501,U+5507,U+5543,U+55d3,U+56a3,U+575e,U+589f,U+5984,U+59ec,U+5a04,U+5a36,U+5a77,U+5a9a-5a9b,U+5ab2,U+5ac2,U+5ad6,U+5bc7,U+5c2c,U+5c34,U+5c51,U+5cd9,U+5d0e,U+5deb,U+5e3c,U+5e87,U+5ed3,U+5f13,U+5f64,U+5fe1,U+606a,U+6096,U+60df,U+60f6,U+60f9,U+6151,U+620e,U+6241,U+6252,U+6273,U+627c,U+6289,U+62c2,U+62cc,U+62ef,U+6361,U+6363,U+63b7,U+63e3,U+6518,U+66ae,U+6756,U+6789,U+6813,U+6829,U+6862,U+6866,U+6893,U+6897,U+690e,U+6984,U+69cc,U+6a1f,U+6a44,U+6a59,U+6ba1,U+6c13,U+6c90,U+6ca6,U+6cbd,U+6ccc,U+6cd3,U+6cd7,U+6d4a,U+6d4f,U+6d5a,U+6d9f,U+6da1,U+6dcc,U+6ea5,U+6ee4,U+6ee6,U+6f2f,U+6f8e,U+701a,U+7095,U+709c,U+70af,U+70db,U+70e8,U+714e,U+715e,U+71a0,U+71ce,U+7235,U+7280,U+72d0,U+72f8,U+73ab,U+7410,U+745c,U+7480,U+74a7-74a8,U+74e3,U+75ae,U+75f9,U+76b1,U+76ce,U+7736,U+77e2-77e3,U+781a,U+789f,U+797a,U+79be,U+79c3,U+79c6,U+79f8,U+7a8d,U+7a98,U+7aa6,U+7aff,U+7b1b,U+7cd9,U+7d6e,U+7ede,U+7eee,U+7f00,U+7f24,U+7f2d,U+7fd8,U+800d,U+8116,U+8151,U+81b3,U+8205,U+82c7,U+82db,U+832c,U+8335,U+8339,U+8386,U+846b,U+8587,U+8611,U+8682,U+868a,U+868c,U+8774,U+88d8,U+88f4,U+8912,U+8b6c,U+8bbd,U+8c0e,U+8c41,U+8d26,U+8d3b-8d3c,U+8d50,U+8dea,U+8e35,U+8f99,U+8fe2,U+8fe9,U+9017,U+914c,U+916f,U+9175-9176,U+918b,U+94a0,U+94ae,U+94ce,U+94f2,U+951a,U+952f,U+9541,U+9640,U+9672,U+968b,U+96cd,U+96ef,U+9713,U+97ec,U+9885,U+9992,U+9a6d,U+9a79,U+9a85,U+9cbb,U+9cd7,U+9cde,U+9e93,U+9f9f"}},{uri:XTe,descriptors:{unicodeRange:"U+4e11,U+4ed7,U+4fcf,U+4fe9,U+4fed,U+50ac,U+50b2,U+5112,U+5180,U+5188,U+51f6,U+522e,U+5265,U+52cb,U+52df,U+5349,U+5367,U+5378,U+537f,U+5395,U+5398,U+53d4,U+543e,U+5440,U+5446,U+54b8,U+5565-5566,U+5580,U+55bb,U+56ca,U+572d,U+573e,U+574e,U+5782-5784,U+58f3,U+5938-5939,U+5948,U+594e,U+5a1c,U+5a74,U+5ae9,U+5b55,U+5b5c,U+5bb0,U+5bd3,U+5bf8,U+5c3f,U+5d14,U+5d2d,U+5df7,U+5dfe,U+5e05-5e06,U+5e1c,U+5e62,U+5e7b,U+5e7d,U+5ed6,U+5f2f,U+5f66,U+5f6c,U+5fa1,U+604b,U+609f,U+60a6,U+60e8,U+6101,U+6124,U+6127,U+6148,U+61be,U+6247,U+62d8,U+62da,U+633d,U+635e,U+6367,U+6380,U+638f,U+63a9,U+63fd,U+641c,U+64e6,U+655e,U+6572,U+6591,U+65a5,U+6691,U+6735,U+67a2-67a3,U+67ef,U+680b,U+6876,U+6905,U+6a0a,U+6a61,U+6b79,U+6bb7,U+6bbf,U+6c41,U+6c55,U+6c83,U+6c9b,U+6ca7,U+6cfc,U+6d46,U+6d51,U+6d74,U+6d9d,U+6daf,U+6dc0,U+6deb,U+6e17,U+6e24,U+6e89,U+6ea2,U+6ef4,U+6f6d,U+707f,U+70b3,U+70e4,U+70ef,U+710a,U+722c,U+725f,U+7261,U+72ee,U+72f1,U+730e,U+732b,U+7433,U+7538,U+75bc,U+7624,U+7709,U+7750,U+7779,U+7802,U+7898,U+78a7,U+78b1,U+78cb,U+78f7,U+7984,U+7a83,U+7aed,U+7b3c,U+7b4b,U+7c92,U+7c98,U+7ca4,U+7eb9,U+7ee3,U+7ef3,U+7ef5,U+7f05,U+7f55,U+7f62,U+7fc1,U+7fd4,U+7fe0,U+8042,U+806a,U+80a0,U+80a4,U+80c3,U+8102,U+8106,U+814a,U+8154,U+8247,U+8258,U+82cd,U+8328,U+832b,U+8389,U+83ca,U+845b,U+846c,U+84b8,U+8574,U+859b,U+8680,U+8695,U+86c7,U+8702,U+886c,U+8896,U+88b1,U+88e4,U+8bc8,U+8c10,U+8c26,U+8c28,U+8c2d,U+8d4c,U+8d63,U+8f67,U+8f74,U+8fc4,U+9006,U+9063,U+90a2,U+90b1,U+90c1,U+9177,U+9189,U+9493,U+949e,U+94fe,U+9610,U+961c,U+96a7,U+96fe,U+978d,U+97f5,U+9888,U+997c,U+9a84,U+9b3c,U+9b44-9b45,U+9b54,U+9e64,U+9f0e,U+9f9a"}},{uri:ZTe,descriptors:{unicodeRange:"U+4e19,U+4e38,U+4e53,U+4e7e,U+4e9f,U+4ec6,U+4f50,U+4fde,U+502a,U+5154,U+517d,U+51d1,U+51f0,U+5239,U+5256,U+52c9,U+52fe,U+5308,U+532a,U+535c,U+5384,U+53a2,U+53a8,U+53c9,U+53e0,U+5496,U+54ac,U+54c0,U+54c4,U+54e8,U+5561,U+5582,U+561b,U+5631,U+566a,U+5764,U+576a,U+5792,U+57ab,U+584c,U+5885,U+58f6,U+59a8,U+5acc,U+5bc2,U+5c38-5c39,U+5c60,U+5c6f,U+5c82,U+5c90,U+5d16,U+5dcd,U+5e37,U+5e90,U+5eb8,U+5f6a,U+5fcc,U+6012,U+6068,U+6073,U+607c,U+6094,U+6109,U+621a,U+626e,U+6284,U+62d0,U+62e6,U+62fe,U+6321,U+6328,U+632b,U+6349,U+6454,U+65ed,U+660f,U+6674,U+66a8,U+6749,U+674f,U+6760,U+67af,U+6850,U+6854,U+6869,U+68a8,U+68d2,U+68f5,U+6912,U+6b49,U+6b6a,U+6bef,U+6c28,U+6c5d,U+6c82,U+6cab,U+6cb8,U+6cc4,U+6cf5,U+6d47,U+6d78,U+6da4,U+6dc4,U+6dcb,U+6df9,U+6e0a,U+6e23,U+6e5b,U+6eb6,U+6f06,U+6f47,U+6f84,U+6f9c,U+6fd2,U+7076,U+70ac,U+7199,U+723d,U+72ac,U+72ed,U+7476,U+7529,U+752b,U+754f,U+7554,U+75d5,U+7626,U+76ef,U+7720,U+7766,U+7784,U+77ac,U+780d,U+7838,U+7845,U+786b,U+78b3,U+7978,U+79b9,U+79c9,U+79e7,U+7a3d,U+7a84,U+7a9f,U+7b0b,U+7b52,U+7c7d,U+7f1a,U+7fc5,U+7ff0,U+804a,U+8086-8087,U+808c,U+809a,U+80ba,U+810a,U+8180,U+818f,U+81c2,U+81ed,U+8231,U+8292,U+829c,U+82a6,U+82d1,U+8346,U+838e,U+839e,U+83c7,U+83f1,U+8403,U+840e,U+8513,U+857e,U+85e4,U+867e,U+871c,U+87ba,U+87f9,U+884d,U+8944,U+8a93,U+8c05,U+8d2c,U+8d2e,U+8d42-8d43,U+8dfb,U+8e22,U+8eba,U+8f69,U+8f9c,U+8fa3,U+8fa8,U+8fb1,U+900a,U+9038,U+903b,U+9042,U+904f,U+90b5,U+90dd,U+9102,U+9187,U+94a7,U+94c5,U+9523,U+95f8,U+95fd,U+960e,U+964b-964c,U+96c1,U+9709,U+971c,U+97ad,U+9882,U+9965,U+9976,U+9988,U+99a8,U+9a82,U+9a9a,U+9b41,U+9c8d,U+9e45,U+9e70,U+9e9f,U+9f3b,U+9f7f"}},{uri:qTe,descriptors:{unicodeRange:"U+4e08,U+4e18,U+4e1b,U+4e22,U+4e27,U+4e32,U+4e52,U+4e73,U+4ead,U+4ed4,U+4ed9,U+4ef0,U+4fa6,U+5076,U+5179,U+51bb,U+51c9,U+51ef,U+51fd,U+524a,U+526a,U+529d,U+52ab,U+5306,U+5339,U+53d9,U+540a,U+5410,U+541e,U+5439,U+54b1,U+54ed,U+5564,U+558a,U+55b7,U+5634,U+574a,U+5751,U+57a6,U+57cb,U+57d4,U+5824,U+582a,U+5835,U+5858,U+5893,U+58e4,U+5951,U+5986,U+59da,U+59fb,U+59ff,U+5a03,U+5a46,U+5ac1,U+5b5d,U+5bfa,U+5c18,U+5c3a,U+5c48,U+5c4f,U+5c61,U+5cb3,U+5d1b,U+5e15,U+5e3d,U+5e99,U+5e9e,U+5eca,U+5f0a,U+5f17-5f18,U+5f25,U+5f7c,U+5fcd,U+6028,U+60a0,U+60ac,U+60d1,U+614e,U+6155,U+6168,U+61c8,U+6208,U+6212,U+6251,U+629a-629b,U+62ab-62ac,U+62fc,U+6323,U+632a,U+63d2,U+643a,U+6491-6492,U+649e,U+64b0,U+64c5,U+659c,U+6614,U+662d,U+6664,U+6670,U+6676,U+6746,U+67cf,U+67d4,U+682a,U+6843,U+6846,U+68da,U+6b3a,U+6b67,U+6c27,U+6c5b,U+6c64,U+6c70,U+6caa,U+6cca,U+6ce1,U+6d12,U+6d45,U+6dd1,U+6dd8,U+6e34,U+6e7f,U+6ee5,U+6f02,U+7092,U+70c2,U+70e6,U+7115,U+7237,U+7272,U+727a,U+72c2,U+739b,U+73b2,U+743c,U+751c,U+758f,U+75b2,U+7686,U+76c6,U+76d2,U+76fc,U+775b,U+77a9,U+7816,U+788e,U+7897,U+78b0,U+79bd,U+7a0d,U+7a91,U+7a9d,U+7ae3,U+7bad,U+7cca,U+7d2b,U+7eb1,U+7f06,U+7f14,U+7f1d,U+7f50,U+7ffc,U+8036,U+80bf,U+80c1,U+80ce,U+80f8,U+8109,U+810f,U+8170,U+8179,U+819c,U+821f,U+8230,U+8236,U+8273,U+829d,U+82f9,U+8305,U+8350,U+83b2,U+83cc,U+8404,U+840d,U+8427,U+8482,U+8679,U+8854,U+886b,U+8bbc,U+8be6,U+8c31,U+8c6b,U+8d4b,U+8dcc,U+8e2a,U+8e48,U+8f90,U+8fb0,U+9022,U+903c,U+903e,U+9065,U+916c,U+917f,U+94a9,U+94c3,U+94dd,U+94ed,U+9510,U+953b,U+96c7,U+970d,U+9738,U+9877,U+987d,U+989c,U+98d8,U+9a70,U+9a91,U+9aa4,U+9b42,U+9b4f,U+9e2d,U+9e3f,U+9e7f,U+9f20"}},{uri:JTe,descriptors:{unicodeRange:"U+4e59,U+4ed3,U+4f0f,U+4f38,U+4f69,U+4fa7,U+4faf,U+4ff1,U+5077,U+5085,U+5144,U+5151,U+51af,U+51b6,U+51cc,U+523a,U+5251,U+5269,U+5272,U+52d8,U+5353,U+5389,U+53f9,U+5401,U+5415,U+541b,U+54f2,U+5524,U+554a,U+559d,U+5609,U+5740,U+575d,U+5806,U+5821,U+586b,U+5915,U+594f,U+5960,U+5999,U+59a5,U+59b9,U+59c6,U+59d1,U+59dc,U+5b5f,U+5b64,U+5b87,U+5bb4,U+5bbf,U+5c16,U+5c1d,U+5c3e,U+5c9a,U+5ca9,U+5cad,U+5cfb,U+5de1,U+5de7,U+5de9,U+5ef7,U+5f04,U+5f70,U+5f79,U+5fc6,U+602a,U+6050,U+6052,U+6070,U+6084,U+60b2,U+60dc,U+60e9,U+6167,U+6170,U+61c2,U+6270,U+6291,U+62b1,U+62bc,U+62dc,U+62df,U+62f3,U+6324,U+633a,U+6377,U+6398,U+63cf,U+640f,U+642c-642d,U+6458,U+6478,U+6500,U+654c,U+6566,U+658c,U+65c1,U+65cb,U+65e8,U+65ec,U+6696-6697,U+6734,U+679a,U+679d,U+67dc,U+67f3-67f4,U+680f,U+683d,U+684c,U+68af,U+699c,U+6bc1,U+6c0f,U+6c1b,U+6c57,U+6c6a,U+6d3d,U+6d6e,U+6d82,U+6db5,U+6dee,U+6e58,U+6eaa,U+6ecb,U+6ede,U+6ee9,U+6f0f,U+6f20,U+6f58,U+704c,U+7070,U+70b8,U+718a,U+7238,U+7262,U+7275,U+72b9,U+72d7,U+72e0,U+741b,U+7434,U+7483,U+74f6-74f7,U+75ab,U+764c,U+7761,U+7855,U+7891,U+78c1,U+79d2,U+7a00,U+7a3b,U+7c97,U+7ea4,U+7eb2,U+7ed2,U+7eea,U+7ef8,U+7f18,U+7fbd,U+8000,U+8010,U+8096,U+809d,U+80a9,U+817f,U+81e3,U+8206,U+8212,U+82ac,U+8302,U+8361,U+8377,U+83f2,U+8461,U+848b,U+84ec,U+8521,U+85aa,U+8870,U+8877,U+8881,U+888b,U+88ad,U+88c2,U+8986,U+8bd1,U+8bf1,U+8d24,U+8d2a,U+8d3e-8d3f,U+8d41,U+8d56,U+8d64,U+8d6b,U+8e0f,U+8f70,U+8f85,U+8f88,U+8fa9,U+9003,U+901d,U+90b9,U+90ce,U+94a6,U+94f8,U+9505,U+95ea,U+95ef,U+95f2,U+95f9,U+9601,U+9605,U+9634,U+966a,U+9677,U+9690,U+9694,U+96d5,U+971e,U+9896-9897,U+9972,U+9a71,U+9a76,U+9a7e,U+9e1f,U+9e23"}},{uri:eBe,descriptors:{unicodeRange:"U+4e01,U+4e43,U+4ea6,U+4ef2,U+4eff,U+4f26,U+4f2a,U+4f2f,U+4f5b,U+4fa8,U+4fca,U+4fd7,U+5021,U+504f,U+5141,U+51c0,U+51dd,U+51e4,U+51ed,U+5200,U+5237,U+5427,U+5448,U+54a8,U+5706,U+5708,U+5723,U+575b,U+57c3,U+5899,U+58a8,U+58c1,U+5976,U+5988,U+59bb,U+59d0,U+59d3,U+5a18,U+5a31,U+5a92,U+5b54,U+5b85,U+5baa-5bab,U+5bc4,U+5bd2,U+5be8,U+5bff,U+5c65,U+5d07,U+5e1d,U+5e78,U+5e7c,U+5f03,U+5f1f,U+5f39,U+5f6d,U+5f92,U+5faa,U+5fbd,U+5fe7,U+5ffd,U+60a8,U+60ef,U+6108,U+6162,U+622a,U+6234,U+626b,U+626d,U+62c6,U+62d2,U+62d4,U+62d6,U+62e8,U+6316,U+6355,U+63ed,U+6447,U+64a4,U+65f1,U+6606,U+6628,U+664b,U+6668,U+6682,U+66f9,U+66fc,U+66ff,U+6717,U+6740,U+676d,U+67aa,U+67ec,U+67f1,U+6842,U+6851,U+695a,U+6982,U+6a2a,U+6b20,U+6b23,U+6b32,U+6b96,U+6bc5,U+6beb,U+6c60,U+6c9f,U+6cea,U+6cf3,U+6d1e,U+6d53,U+6d66,U+6d69,U+6d8c,U+6d9b,U+6db2,U+6de1,U+6dfb,U+6e14,U+6ed1,U+6eda,U+6ee8,U+6f2b,U+706d,U+7089,U+708e,U+70ad-70ae,U+70e7,U+7126,U+714c,U+71c3,U+71d5,U+7206,U+7259,U+731b,U+73a9,U+73bb,U+74dc,U+7532,U+7545,U+755c,U+75c7,U+7687,U+76d7,U+76f2,U+788d,U+78e8,U+79e6,U+79e9,U+7a3f,U+7a46,U+7a97,U+7af9,U+7bee,U+7c4d,U+7c89,U+7cd6,U+7eb5,U+7ebd,U+7ed8,U+8017,U+8033,U+80c0,U+80de,U+80f6,U+8138,U+817e,U+81a8,U+820d,U+827e,U+82b3,U+82d7,U+83b1,U+84c4,U+84dd,U+8584,U+864e,U+865a,U+866b,U+86cb,U+88d5,U+89e6,U+8bca,U+8bde,U+8bfa,U+8c0a,U+8c37,U+8c46,U+8c6a,U+8c8c,U+8d1d,U+8d29,U+8d4f,U+8d54,U+8d5a,U+8d60,U+8d62,U+8f7f,U+8f96,U+8f9e-8f9f,U+8fc1,U+8fdf,U+8fea,U+8ff7,U+9012,U+906d,U+9075,U+90a6,U+90bb,U+90ca,U+9178,U+9192,U+91ca,U+94bb,U+94dc,U+94fa,U+9501,U+950b,U+9521,U+955c,U+963b,U+9655,U+9675-9676,U+9887,U+9891,U+9971,U+9a97,U+9ece,U+9ed8"}},{uri:tBe,descriptors:{unicodeRange:"U+4e1d,U+4e39,U+4e4c,U+4e4f,U+4e54,U+4e58,U+4e95,U+4ea1,U+4eab,U+4eae,U+4ec1,U+4f10,U+4f19,U+4f30,U+4f34,U+4fb5,U+503e,U+518c,U+5192,U+51a0,U+51ac,U+51b0,U+51e1,U+5211,U+5242,U+52a3,U+52b2,U+52c3,U+52c7,U+52d2,U+52e4,U+5377,U+539a,U+53a6,U+53e5,U+5417,U+5510,U+552f,U+5531,U+574f-5750,U+5761,U+5851,U+5854,U+58ee,U+593a,U+5949,U+5954,U+5a5a,U+5b8b,U+5bbd,U+5c04,U+5c0a,U+5c4b,U+5ce1,U+5cf0,U+5e10,U+5e8a,U+5e9f,U+5ec9,U+5f31,U+5f84,U+5fd8-5fd9,U+5fe0,U+6015,U+6062,U+6069,U+6076,U+6089,U+60a3,U+60ca,U+620f,U+624e,U+6263,U+6298,U+62a2,U+62bd,U+6311,U+6350,U+6389,U+638c,U+63f4,U+6446,U+644a,U+6469,U+64cd,U+654f,U+6562,U+656c,U+65d7,U+65e6,U+65fa,U+660c,U+6653,U+66b4,U+670b,U+672b,U+676f-6770,U+6881,U+6885,U+68a6,U+68cb,U+68ee,U+6b8a,U+6c88-6c89,U+6cc9,U+6ce5,U+6d01,U+6d17,U+6d1b,U+6d59,U+6d6a,U+6da8,U+6df7,U+6e10,U+6e20-6e21,U+6f5c,U+706f,U+70bc,U+719f,U+7267,U+732a,U+73cd,U+7518,U+756a,U+7586,U+7591,U+75db,U+76c8,U+76d0,U+76d6,U+76d8,U+76df,U+76fe,U+77db,U+7801,U+786c,U+795d,U+7965,U+79cb,U+7a77,U+7a7f,U+7aef,U+7b11,U+7bb1,U+7bc7,U+7ea0,U+7eaf,U+7ed5,U+7edc,U+7f13,U+7f29,U+7f34,U+7f8a,U+7ffb,U+8015,U+8058,U+805a,U+8083,U+80af,U+80c6,U+80cc,U+811a,U+8150,U+82e5,U+8336,U+8352,U+83ab,U+8428,U+8463,U+852c,U+8861,U+89c8,U+8bcd,U+8bd7,U+8bda,U+8be2,U+8bef,U+8bf8,U+8c0b,U+8c13,U+8d34,U+8d3a,U+8d74,U+8d76,U+8da3,U+8dd1,U+8ddd,U+8ddf,U+8df3,U+8f68,U+8f6f,U+8f7d,U+8f91,U+8f9b,U+8fbd,U+8fc8,U+8fd4,U+8feb,U+8ff9,U+900f,U+9057,U+907f-9080,U+90d1,U+90ed,U+91ce,U+9519,U+9526,U+95ed,U+9614,U+9635,U+9644,U+9686,U+96c5,U+96ea,U+9707,U+9732,U+9759,U+978b,U+9876,U+9881,U+9910,U+996e,U+9970,U+9c81,U+9e21,U+9ebb,U+9f84"}},{uri:nBe,descriptors:{unicodeRange:"U+4e3d,U+4e4e,U+4e71,U+4e8f,U+4ed8,U+4eea,U+4f0a,U+4f0d,U+4f11,U+4f1f,U+4f24,U+4f3c,U+4f73,U+4fc4,U+500d,U+5012,U+501f,U+503a,U+505c,U+507f,U+50a8,U+514d,U+5178,U+517c,U+51b2,U+51b7,U+520a,U+5238,U+523b,U+52b1,U+535a,U+5371,U+5385,U+53eb-53ec,U+53f3,U+53f6,U+5409,U+542b,U+542f,U+5434,U+5462,U+5473,U+547c,U+54c8,U+54ea,U+56fa,U+5733,U+5757,U+5766,U+5802,U+585e,U+590f,U+591c,U+591f,U+5947,U+594b,U+5987,U+5a01,U+5b59,U+5b63,U+5b88,U+5b97,U+5b9c,U+5bbe,U+5bfb,U+5c01,U+5c1a,U+5c24,U+5c3c,U+5c97,U+5c9b,U+5cb8,U+5de6,U+5e01,U+5e2e,U+5e45,U+5e55,U+5e84,U+5ef6,U+5f02,U+5f52,U+5f69,U+5f7b,U+5f90,U+5fae,U+6000,U+600e,U+6025,U+60e0,U+6276,U+6297,U+62b5,U+62cd,U+62d3,U+62e5,U+62e9,U+62ff,U+6302,U+632f,U+63e1,U+6444,U+64ad,U+653b,U+6551,U+6563,U+65a4,U+65e7,U+6620,U+667a,U+66f2,U+671d,U+6731,U+6742,U+675f,U+6768,U+677e-677f,U+6790,U+67b6,U+67d3,U+6863,U+68b0,U+68c9,U+690d,U+6b8b,U+6bcd,U+6bd2,U+6bd5,U+6c38,U+6c61,U+6cbf,U+6cdb,U+6cf0,U+6d2a,U+6d89,U+6da6,U+6f6e,U+6fb3,U+7075,U+707e,U+70df,U+7164,U+7236,U+725b,U+7389,U+73e0,U+745e,U+74e6,U+751a,U+7537,U+75be,U+76ae,U+76db,U+793c,U+7956,U+7981,U+79d8,U+79df,U+79fb,U+7adf,U+7ae5,U+7b14,U+7b26,U+7b54,U+7b79,U+7d2f,U+7eb8,U+7eba,U+7ec6,U+7ee9,U+7eff,U+7f5a,U+7f6a,U+7f72,U+8089,U+80a5,U+80e1,U+8111,U+8131,U+821e,U+822c,U+8270,U+8499,U+8651,U+867d,U+8840,U+8857,U+8863,U+88c1,U+89c9,U+89d2,U+8a89,U+8bed,U+8bfe,U+8c01,U+8c22,U+8d21,U+8d25,U+8d2f,U+8d5e,U+8d75,U+8d8b,U+8dc3,U+8de8,U+8df5,U+8f6e,U+8f86,U+8f89,U+8fc5,U+8ff0,U+8ffd,U+9014,U+904d,U+90ae,U+9274,U+949f,U+952e,U+969c,U+96c4,U+96e8,U+96f6-96f7,U+97e9,U+987f,U+996d,U+9a7b,U+9aa8,U+9c7c,U+9c9c,U+9e4f,U+9f13,U+9f50"}},{uri:rBe,descriptors:{unicodeRange:"U+4e13,U+4e16,U+4e1c,U+4e24,U+4e3e,U+4e49,U+4e61,U+4e66,U+4e89,U+4e8c,U+4e94,U+4e9b,U+4ea4,U+4eac,U+4ebf,U+4eca,U+4ef6-4ef7,U+4efb,U+4f18,U+4f20,U+4f46,U+4f7f,U+4fe1,U+503c,U+505a,U+5146,U+5148,U+515a,U+5171,U+5177,U+519b,U+51b3,U+51c6,U+51e0,U+5212,U+521b,U+522b,U+529e,U+52bf,U+534e-534f,U+5355,U+5357,U+5382,U+539f,U+53bb,U+53bf,U+53c2,U+53c8,U+53ca,U+53d6-53d8,U+53e3,U+53ea,U+53f0,U+540d,U+5411,U+56db,U+56de,U+56e0,U+56e2,U+578b,U+57ce,U+57fa,U+589e,U+5904,U+5934,U+5982,U+5b89,U+5b8c,U+5bfc,U+5c06,U+5c11,U+5c40,U+5c71,U+5e38,U+5e72,U+5e76,U+5e7f,U+5e94,U+5e9c,U+5f0f,U+5f15,U+5f20,U+5f3a,U+5f62,U+5f88,U+5fc5,U+5fd7,U+5feb,U+601d,U+6027,U+60c5,U+60f3,U+610f,U+6216,U+6218,U+624b,U+624d,U+6279,U+628a,U+6295,U+6301,U+6307,U+636e,U+63a5,U+63a8,U+652f,U+6536,U+653e,U+6548,U+6559,U+6570,U+65bd,U+65e0,U+6602,U+660e,U+6613,U+66f4,U+6700,U+670d,U+671f,U+672f,U+6743,U+674e,U+6751,U+6761,U+6784,U+6797,U+679c,U+67e5,U+6807,U+6837,U+683c,U+6b21,U+6b63-6b65,U+6bcf,U+6bd4,U+6c42,U+6c5f,U+6ca1,U+6cbb,U+6d3b,U+6d41,U+6d88,U+6df1,U+70b9,U+7136,U+7269,U+7279,U+7531,U+754c,U+767e,U+76ca,U+76f8,U+770b,U+7740,U+7814,U+79ef,U+7a0b,U+7a0e,U+7a76,U+7b80,U+7cbe,U+7cfb,U+7e41,U+7ea7,U+7ec4,U+7ec7,U+7ed3,U+7ed9,U+7edf,U+7f8e,U+8001,U+804c,U+8054,U+80b2,U+81f3,U+8425,U+8868,U+88ab,U+897f,U+89c1-89c2,U+89c4,U+89c6,U+89e3,U+8ba1,U+8ba4,U+8bae,U+8bb0,U+8bba,U+8bc1,U+8c03,U+8d28,U+8d39,U+8def,U+8f66,U+8f6c,U+8fd0-8fd1,U+9020,U+9053,U+90a3,U+90fd,U+91cc,U+9500,U+9547,U+95e8,U+95f4,U+961f,U+9645,U+9662,U+96be,U+96c6,U+9700,U+9769,U+97e6,U+9875,U+9879,U+9886,U+9898,U+98ce,U+9996,U+2b5af,U+2cc56,U+2e9f5,U+30edd-30ede"}},{uri:iBe,descriptors:{unicodeRange:"U+4e03,U+4e30,U+4e34,U+4e45,U+4e60,U+4e70,U+4e88,U+4e91-4e92,U+4ea9,U+4eb2,U+4ec0,U+4ecb,U+4ecd,U+4ee4,U+4fee,U+5019,U+5047,U+50cf,U+5145,U+516d,U+5170,U+5175,U+5199,U+51cf,U+51fb,U+521a,U+5224,U+5267,U+52aa,U+5347-5348,U+534a,U+5356,U+5361,U+536b,U+5370,U+538b,U+53e4,U+53e6,U+5403,U+5426,U+5428,U+542c,U+5438,U+5668,U+56ed,U+56f4,U+56fe,U+57df,U+592a,U+5957,U+5b69,U+5b81,U+5b8f,U+5b98,U+5b9d,U+5ba1,U+5ba4,U+5bb3,U+5bc6,U+5bdf,U+5c3d,U+5c5e,U+5c81,U+5ddd,U+5de8,U+5dee,U+5e0c,U+5e86,U+5e8f,U+5e93,U+5e95,U+5e97,U+5ea7,U+5ead,U+5eb7,U+5f55,U+5f81,U+5f85,U+5ff5,U+6001,U+613f,U+6258,U+6267,U+6269,U+626c,U+627e,U+62db,U+62ec,U+6325,U+635f,U+6362,U+6388,U+6392,U+63a2,U+63a7,U+63aa,U+641e,U+6545,U+6597,U+65e2,U+65e9,U+661f,U+665a,U+666e-666f,U+66fe,U+6728,U+67d0,U+6811,U+6838,U+6865,U+697c,U+6b22,U+6b27,U+6b4c,U+6b62,U+6b66,U+6b7b,U+6bdb,U+6c47,U+6c49,U+6c7d,U+6c99,U+6cfd,U+6d0b,U+6d25,U+6d32,U+6d3e,U+6d4b,U+6e29,U+6e56,U+6e7e,U+6f14,U+6fc0,U+706b,U+70c8,U+7247,U+72af,U+72b6,U+72ec,U+732e,U+73ed,U+7403,U+7533,U+753b,U+7559,U+7565,U+7597,U+767b,U+773c,U+7763,U+77ed,U+77ff,U+7968,U+798f,U+79bb,U+79c0-79c1,U+7ad9,U+7ae0,U+7b51,U+7b7e,U+7cae,U+7d22,U+7ea2,U+7eb3,U+7eb7,U+7ec3,U+7ec8,U+7ecd,U+7edd,U+7efc,U+7f16,U+7f3a,U+7f51,U+7f57,U+7f6e,U+80dc,U+822a,U+8239,U+826f,U+82cf,U+82e6,U+8349,U+8363,U+83dc,U+8457,U+85cf,U+878d,U+8865,U+8a00,U+8b66,U+8ba2,U+8ba8,U+8bad,U+8bb2,U+8bc9,U+8bd5,U+8bfb,U+8d2b,U+8d35,U+8d37,U+8f7b,U+8f93,U+8fce,U+8fdd,U+9000-9002,U+9010,U+9047,U+9093,U+9152,U+9488,U+94a2,U+9633,U+9636,U+963f,U+9646,U+9648,U+964d,U+9664,U+9669,U+9760,U+97f3,U+987a,U+987e,U+9884,U+98de,U+9986,U+9ed1"}},{uri:aBe,descriptors:{unicodeRange:"U+4e14,U+4e25,U+4e48,U+4e50,U+4e5d,U+4e9a,U+4ec5,U+4efd,U+4f17,U+4f4e-4f4f,U+4f55,U+4f59,U+4f60,U+4f8b,U+4f9b,U+4f9d,U+4fbf,U+4fc3,U+5065,U+513f,U+5149,U+514b,U+516b,U+5174,U+517b,U+518d,U+51b5,U+5207,U+5217-5219,U+521d,U+526f,U+529f,U+52a9,U+52b3,U+5305,U+533b,U+5343,U+5360,U+5373-5374,U+5386,U+53cb-53cd,U+53f2,U+53f7,U+544a,U+5468,U+547d,U+54cd,U+552e,U+5584,U+56f0,U+571f,U+5747,U+575a,U+57f9,U+5883,U+58eb,U+58f0,U+5907,U+590d,U+592e,U+5931,U+5956,U+5965,U+5973,U+5979,U+59cb,U+5b57-5b58,U+5b83,U+5ba2-5ba3,U+5bb9,U+5bcc,U+5c42,U+5c45,U+5c4a,U+5dde,U+5df1,U+5df4,U+5e03,U+5e08,U+5e26,U+5e2d,U+5f71,U+5f80,U+5f8b,U+5fb7,U+606f,U+611f,U+6237,U+623f,U+6253,U+627f,U+6293,U+62a4,U+62c5,U+62c9,U+6309,U+6574,U+6599,U+65ad,U+65af,U+65c5,U+65cf,U+6625,U+663e,U+671b,U+672a,U+6750,U+6781,U+6821,U+6839,U+6848,U+68c0,U+6a21,U+6b3e,U+6bb5,U+6c14,U+6cb3,U+6cb9,U+6ce8,U+6e05,U+6e2f,U+6e38,U+6e90,U+6ee1,U+70ed,U+7167,U+7231,U+7248,U+724c,U+7387,U+738b,U+73af,U+7530,U+75c5,U+767d,U+76d1,U+76f4,U+771f,U+77e5,U+77f3,U+7834,U+7840,U+786e,U+793a,U+795e,U+79f0,U+7a33,U+7a7a,U+7a81,U+7ade,U+7b56,U+7b97,U+7c73,U+7c7b,U+7d20,U+7d27,U+7ea6,U+7eaa,U+7ebf,U+7ee7,U+7eed,U+7ef4,U+7fa4,U+8003,U+80a1,U+81f4,U+8272,U+827a,U+8282,U+82b1,U+82f1,U+8303,U+836f,U+83b7,U+843d,U+88c5,U+8ba9,U+8baf,U+8bb8,U+8bbf,U+8bc4,U+8bc6,U+8bdd,U+8be5,U+8bf7,U+8c08,U+8c61,U+8d1f,U+8d22-8d23,U+8d27,U+8d2d,U+8d38,U+8d5b,U+8d70,U+8d85,U+8d8a,U+8db3,U+8eab,U+8f83,U+8fb9,U+8fdc,U+8fde,U+9009,U+901f,U+914d,U+91c7,U+94b1,U+94c1,U+94f6,U+95fb,U+9632,U+9650,U+968f,U+9752,U+975e,U+987b,U+989d,U+98df,U+9999,U+9a6c,U+9a8c,U+9ec4,U+9feb-9fec"}},{uri:oBe,descriptors:{unicodeRange:"U+98fb-990c,U+990e-990f,U+9911-992d,U+992f-9953,U+9956-9962,U+9964,U+9966,U+9973,U+9978-9979,U+997b,U+997e,U+9982-9983,U+9989,U+998c,U+998e,U+999a-99a4,U+99a6-99a7,U+99a9-99c8"}},{uri:sBe,descriptors:{unicodeRange:"U+8e4c-8e50,U+8e53-8e58,U+8e5a-8e65,U+8e67-8e68,U+8e6a-8e6b,U+8e6e,U+8e71,U+8e73,U+8e75,U+8e77-8e7b,U+8e7d-8e7e,U+8e80,U+8e82-8e84,U+8e86,U+8e88-8e8e,U+8e91-8e93,U+8e95-8e9b,U+8e9d,U+8e9f-8eaa,U+8ead-8eae,U+8eb0-8eb1,U+8eb3-8eb9,U+8ebb-8ecd,U+8ecf-8f02"}},{uri:lBe,descriptors:{unicodeRange:"U+2e3a,U+3001-3002,U+3008-3011,U+3014-3017,U+301d-301f,U+4dae,U+4e00,U+4e07,U+4e09-4e0b,U+4e0d-4e0e,U+4e1a,U+4e2a,U+4e2d,U+4e3a-4e3b,U+4e4b,U+4e5f,U+4e86,U+4e8b,U+4e8e,U+4ea7,U+4eba,U+4ece,U+4ed1,U+4ed6,U+4ee3,U+4ee5,U+4eec,U+4f01,U+4f1a,U+4f4d,U+4f53,U+4f5c,U+4fdd,U+5143,U+5165,U+5168,U+516c,U+5173,U+5176,U+5185,U+519c,U+51fa,U+5206,U+5229,U+5230,U+5236,U+524d,U+529b,U+52a0-52a1,U+52a8,U+5316-5317,U+533a,U+5341,U+5362,U+53d1,U+53ef,U+53f8,U+5404,U+5408,U+540c,U+540e,U+5458,U+548c,U+54c1,U+54e5,U+5546,U+559c,U+56fd,U+5728,U+5730,U+573a,U+5916,U+591a,U+5927,U+5929,U+592b,U+597d,U+59d4,U+5b50,U+5b66,U+5b9a,U+5b9e,U+5bb6,U+5bf9,U+5c0f,U+5c14,U+5c31,U+5c55,U+5de5,U+5df2,U+5e02,U+5e73-5e74,U+5ea6,U+5efa,U+5f00,U+5f53,U+5f97,U+5fc3,U+603b,U+6210-6211,U+6240,U+6280,U+62a5,U+63d0,U+6539,U+653f,U+6587,U+65b0,U+65b9,U+65e5,U+65f6,U+662f,U+6708-6709,U+672c,U+673a,U+675c,U+6765,U+6c11,U+6c34,U+6cd5,U+6ce2,U+6d4e,U+6d77,U+73b0,U+7406,U+751f,U+7528,U+7535,U+7684,U+76ee,U+793e,U+79cd,U+79d1,U+7acb,U+7b2c,U+7b49,U+7ba1,U+7ecf,U+8005,U+800c,U+80fd,U+81ea,U+884c,U+8981,U+8bbe,U+8bf4,U+8d44,U+8d77,U+8fbe,U+8fc7,U+8fd8-8fd9,U+8fdb,U+901a,U+90e8,U+91cd,U+91cf,U+91d1,U+9485,U+957f,U+95ee,U+9762,U+9ad8,U+9ea6,U+9f99,U+9fcf,U+9fd4,U+9fed,U+fe10-fe19,U+fe30-fe31,U+fe33-fe44,U+ff01,U+ff0c,U+ff1f,U+2b4e7,U+2b7f7,U+2b7fc,U+2cb2d,U+2cb3b,U+2cb4a,U+2cb5b,U+2cb73"}},{uri:cBe,descriptors:{unicodeRange:"U+6490,U+6493-6494,U+6497-6498,U+649a-649d,U+649f-64a3,U+64a5-64a8,U+64aa-64ab,U+64af,U+64b1-64b4,U+64b6,U+64b9,U+64bb,U+64bd-64bf,U+64c1,U+64c3-64c4,U+64c6-64cc,U+64cf,U+64d1,U+64d3-64d6,U+64d9-64dd,U+64df-64e1,U+64e3,U+64e5,U+64e7-64ff,U+6501-6508,U+650a-6511,U+6513-6517,U+6519-6524,U+6526-652a,U+652c-652d,U+6530-6533,U+6537,U+653a,U+653c-653d,U+6540-6544,U+6546-6547,U+654a-654b,U+654d-654e,U+6550,U+6552-6554,U+6557-6558,U+655a,U+655c,U+655f-6561,U+6564-6565,U+6567-6568"}},{uri:dBe,descriptors:{unicodeRange:"U+9695-9696,U+969a-969b,U+969d-96a6,U+96a8-96af,U+96b1-96b2,U+96b4-96b5,U+96b7-96b8,U+96ba-96bb,U+96bf,U+96c2-96c3,U+96c8,U+96ca-96cb,U+96d0-96d1,U+96d3-96d4,U+96d6-96df,U+96e1-96e7,U+96eb-96ee,U+96f0-96f2,U+96f4-96f5,U+96f8,U+96fa-96fd,U+96ff,U+9702-9703,U+9705,U+970a-970c,U+9710-9712,U+9714-9715,U+9717-971b,U+971d,U+971f-9729,U+972b-972c,U+972e-972f,U+9731,U+9733-9737,U+973a-973d,U+973f-9751,U+9754-9755,U+9757-9758,U+975a,U+975c-975d,U+975f,U+9763-9764,U+9766-9768,U+976a-9770"}},{uri:uBe,descriptors:{unicodeRange:"U+6af0-6b1f,U+6b25-6b26,U+6b28-6b31,U+6b33-6b36,U+6b38,U+6b3b-6b3d,U+6b3f-6b42,U+6b44-6b45,U+6b48,U+6b4a-6b4b,U+6b4d-6b58,U+6b5a-6b61,U+6b68-6b69,U+6b6b-6b78,U+6b7a,U+6b7d-6b80,U+6b85,U+6b88,U+6b8c,U+6b8e-6b91,U+6b94-6b95,U+6b97-6b99,U+6b9c-6ba0,U+6ba2-6ba9,U+6bab-6bb2,U+6bb6,U+6bb8-6bba"}},{uri:fBe,descriptors:{unicodeRange:"U+430e-439a,U+29e8a,U+29ec4,U+29edb,U+29ee9,U+29f7e,U+29f83,U+29f8c,U+29fce,U+2a01a,U+2a02f,U+2a082,U+2a0f9,U+2a190,U+2a38c"}},{uri:hBe,descriptors:{unicodeRange:"U+92ef-933d,U+933f-9369,U+936b-9388"}},{uri:pBe,descriptors:{unicodeRange:"U+4512-458d,U+2b300,U+2b363,U+2b36f,U+2b372,U+2b37d,U+2b404,U+2b410,U+2b413,U+2b461,U+2b4ef,U+2b4f6,U+2b4f9,U+2b50d-2b50e,U+2b536,U+2b5ae,U+2b5b3,U+2b5e7,U+2b5f4,U+2b61c-2b61d,U+2b626-2b628,U+2b62a,U+2b62c,U+2b695-2b696,U+2b6ad,U+2b6ed"}},{uri:gBe,descriptors:{unicodeRange:"U+88bd-88c0,U+88c3-88c4,U+88c7-88c8,U+88ca-88cd,U+88cf-88d1,U+88d3,U+88d6-88d7,U+88da-88de,U+88e0-88e1,U+88e6-88e7,U+88e9-88ef,U+88f2,U+88f5-88f7,U+88fa-88fb,U+88fd,U+88ff-8901,U+8903-8909,U+890b-890f,U+8911,U+8914-8918,U+891c-8920,U+8922-8924,U+8926-8929,U+892c-892f,U+8931-8933,U+8935,U+8937-8940,U+8942-8943,U+8945-895d,U+8960-8965,U+8967-897a,U+897c-897e,U+8980,U+8982,U+8984-8985"}},{uri:mBe,descriptors:{unicodeRange:"U+4b0b-4ba0"}},{uri:UBe,descriptors:{unicodeRange:"U+7179,U+717b-717c,U+717e-7183,U+7185-7189,U+718b-718e,U+7190-7193,U+7195-7197,U+719a-719e,U+71a1-71a7,U+71a9-71ab,U+71ad-71b2,U+71b4,U+71b6-71b8,U+71ba-71c2,U+71c4-71cd,U+71cf-71d3,U+71d6-71df,U+71e1-71e4,U+71e6,U+71e8-71ed,U+71ef-71f8,U+71fa-7205,U+7207-721c,U+721e-7227,U+7229,U+722b,U+722d"}},{uri:vBe,descriptors:{unicodeRange:"U+982e-9874,U+988b,U+988e,U+9892,U+9895,U+9899,U+98a3,U+98a8-98cd,U+98cf-98d0,U+98d4,U+98d6-98d7,U+98db-98dd,U+98e0-98e6,U+98e9-98fa"}},{uri:yBe,descriptors:{unicodeRange:"U+7c14-7c15,U+7c17-7c1e,U+7c20-7c25,U+7c28-7c29,U+7c2b-7c37,U+7c39-7c3e,U+7c42-7c4c,U+7c4e-7c72,U+7c75-7c7a,U+7c7e-7c88,U+7c8a-7c90,U+7c93-7c94,U+7c96,U+7c99-7c9b,U+7ca0-7ca1,U+7ca3,U+7ca6-7ca9,U+7cab-7cad,U+7caf-7cb0,U+7cb4-7cb8,U+7cba-7cbb,U+7cbf-7cc0,U+7cc2-7cc4,U+7cc6,U+7cc9,U+7ccb,U+7cce-7cd4"}},{uri:bBe,descriptors:{unicodeRange:"U+7d95-7da5,U+7da7-7dad,U+7daf-7e2a"}},{uri:ABe,descriptors:{unicodeRange:"U+4a78-4b0a"}},{uri:wBe,descriptors:{unicodeRange:"U+9b30-9b31,U+9b33-9b3a,U+9b3d-9b40,U+9b46,U+9b4a-9b4c,U+9b4e,U+9b50,U+9b52-9b53,U+9b55-9bcf"}},{uri:EBe,descriptors:{unicodeRange:"U+6a4b-6a4f,U+6a51-6a57,U+6a5a,U+6a5c-6a60,U+6a62-6a64,U+6a66-6a70,U+6a72-6a78,U+6a7a-6a7b,U+6a7d-6a7f,U+6a81-6a83,U+6a85-6a8d,U+6a8f,U+6a92-6a96,U+6a98-6a9f,U+6aa1-6aa8,U+6aaa,U+6aad-6aef"}},{uri:xBe,descriptors:{unicodeRange:"U+99c9-9a53"}},{uri:_Be,descriptors:{unicodeRange:"U+8550-8555,U+8557-8558,U+855a-855d,U+855f-8563,U+8565-8567,U+8569-8571,U+8573,U+8575-8578,U+857c-857d,U+857f-8583,U+8586,U+8588-858e,U+8590-859a,U+859d-85a3,U+85a5-85a7,U+85a9,U+85ab-85ad,U+85b1-85b6,U+85b8,U+85ba-85c0,U+85c2-85c8,U+85ca-85ce,U+85d1-85d2,U+85d4,U+85d6-85db,U+85dd-85e3,U+85e5-85e8,U+85ea-85fa,U+85fc-85fe,U+8600-8603"}},{uri:CBe,descriptors:{unicodeRange:"U+6fb2,U+6fb4-6fb5,U+6fb7-6fb8,U+6fba-6fbf,U+6fc1,U+6fc3-6fc8,U+6fca-6fd0,U+6fd3-6fdd,U+6fdf,U+6fe2-6fed,U+6ff0-7010,U+7012-7019,U+701c-7022,U+7024-7034,U+7036-7038,U+703a-704b,U+704d-704e,U+7050-7053"}},{uri:SBe,descriptors:{unicodeRange:"U+4ba1-4c2c"}},{uri:IBe,descriptors:{unicodeRange:"U+9a54-9a6b,U+9a72,U+9a83,U+9a89,U+9a8d-9a8e,U+9a94-9a95,U+9a99,U+9aa6,U+9aa9-9aaf,U+9ab2-9ab5,U+9ab9,U+9abb,U+9abd-9abf,U+9ac3-9ac4,U+9ac6-9aca,U+9acd-9ad0,U+9ad2,U+9ad4-9ad7,U+9ad9-9ade,U+9ae0,U+9ae2-9ae5,U+9ae7-9aea,U+9aec,U+9aee,U+9af0-9af8,U+9afa,U+9afc-9b02,U+9b04-9b07,U+9b09-9b0e,U+9b10-9b12,U+9b14-9b1e,U+9b20-9b22,U+9b24-9b2e"}},{uri:kBe,descriptors:{unicodeRange:"U+9d1a-9da1"}},{uri:MBe,descriptors:{unicodeRange:"U+9e13-9e1e,U+9e24,U+9e27,U+9e2e,U+9e30,U+9e34,U+9e3b-9e3c,U+9e40,U+9e4d,U+9e50,U+9e52-9e54,U+9e56,U+9e59,U+9e5d,U+9e5f-9e62,U+9e65,U+9e6e-9e6f,U+9e72,U+9e74-9e7d,U+9e80-9e81,U+9e83-9e86,U+9e89-9e8a,U+9e8c-9e91,U+9e94-9e9c,U+9e9e,U+9ea0-9ea5,U+9ea7-9eb3,U+9eb5-9eb7,U+9eb9-9eba,U+9ebc,U+9ebf-9ec3,U+9ec5-9ec8,U+9eca-9ecc,U+9ed0,U+9ed2-9ed3,U+9ed5-9ed7,U+9ed9-9eda,U+9ede,U+9ee1,U+9ee3-9ee4,U+9ee6,U+9ee8,U+9eeb-9eee,U+9ef0-9ef8"}},{uri:TBe,descriptors:{unicodeRange:"U+8b1c-8b25,U+8b27-8b65,U+8b67-8b6b,U+8b6d-8b9f,U+8bac,U+8bb1,U+8bbb,U+8bc7,U+8bd0"}},{uri:BBe,descriptors:{unicodeRange:"U+4cad-4d2f"}},{uri:RBe,descriptors:{unicodeRange:"U+9c4b-9c7b,U+9c7d-9c7e,U+9c80,U+9c83-9c84,U+9c89-9c8a,U+9c8c,U+9c8f,U+9c93,U+9c96-9c99,U+9c9d,U+9caa,U+9cac,U+9caf,U+9cb9,U+9cbe-9cc2,U+9cc8-9cc9,U+9cd1-9cd2,U+9cda-9cdb,U+9ce0-9ce1,U+9ce3-9d19"}},{uri:DBe,descriptors:{unicodeRange:"U+9389-938e,U+9390-93c9,U+93cb-93d5,U+93d7-9410"}},{uri:PBe,descriptors:{unicodeRange:"U+20a0-20b5,U+20b9-20ba,U+20bc-20bd,U+4e2c,U+5107,U+5216,U+5293,U+54f3,U+5523,U+5819,U+5adc,U+5c88,U+5e3b,U+5fee,U+62f6,U+63be,U+6484,U+6499,U+67d9,U+67dd,U+6d5e,U+6f46,U+717a,U+71e0,U+72c1,U+73e7,U+75b0,U+7603,U+7722,U+7809,U+7811,U+7946,U+7967,U+799a,U+7b45,U+7ba2,U+8014,U+80d9,U+8159,U+817d,U+81a3,U+81aa,U+8201,U+833c,U+836e,U+83e5,U+8459,U+84f0,U+8729,U+8753,U+87d3,U+89dc,U+8bf6,U+8c2e,U+8e2c,U+8e9c,U+8e9e,U+8ece,U+8fee,U+9139,U+914f,U+9174,U+9191,U+960c,U+9622,U+9a98,U+9b48,U+9ca6,U+9cb0,U+9da2-9e12,U+9e88,U+9f44,U+9f86"}},{uri:LBe,descriptors:{unicodeRange:"U+9bd0-9c4a"}},{uri:NBe,descriptors:{unicodeRange:"U+4c2d-4cac"}},{uri:$Be,descriptors:{unicodeRange:"U+4d30-4dab"}},{uri:FBe,descriptors:{unicodeRange:"U+9411-943d,U+943f-946a,U+946c-9484"}},{uri:jBe,descriptors:{unicodeRange:"U+9efa,U+9efd,U+9eff-9f0a,U+9f0c,U+9f0f,U+9f11-9f12,U+9f14-9f16,U+9f18,U+9f1a-9f1f,U+9f21,U+9f23-9f2b,U+9f2d-9f2e,U+9f30-9f36,U+9f38,U+9f3a,U+9f3c,U+9f3f-9f43,U+9f45-9f4f,U+9f52-9f7e,U+9f81-9f82,U+9f8d-9f94"}},{uri:OBe,descriptors:{unicodeRange:"U+7e2b-7e3a,U+7e3c-7e40,U+7e42-7e46,U+7e48-7e81,U+7e83-7e9a,U+7e9c-7e9e,U+7eae,U+7eb4,U+7ebb-7ebc,U+7ed6,U+7ee4,U+7eec,U+7ef9,U+7f0a,U+7f10,U+7f1e,U+7f37,U+7f39,U+7f3b"}}],pn,fd=(pn=class{constructor(t){ee(this,"scene");ee(this,"getSceneFamilies",()=>pn.getUniqueFamilies(this.scene.getNonDeletedElements()));ee(this,"onLoaded",t=>{let n=!0;for(let o of t){let s=`${o.family}-${o.style}-${o.weight}-${o.unicodeRange}`;pn.loadedFontsCache.has(s)||(pn.loadedFontsCache.add(s),n=!1)}if(n)return;let r=!1,a=this.scene.getNonDeletedElementsMap();for(let o of this.scene.getNonDeletedElements())if(pt(o)){r=!0,Vr.delete(o),Rb.clearCache(Xn(o));let s=lo(o,a);s&&Vr.delete(s)}r&&this.scene.triggerUpdate()});ee(this,"loadSceneFonts",async()=>{let t=this.getSceneFamilies(),n=Y3?pn.getCharsPerFamily(this.scene.getNonDeletedElements()):void 0;return pn.loadFontFaces(t,n)});this.scene=t}static get registered(){return pn._registered?pn._initialized||(pn._registered=new Map([...pn.init().entries(),...pn._registered.entries()])):pn._registered=pn.init(),pn._registered}get registered(){return pn.registered}static async generateFontFaceDeclarations(t){let n=pn.getUniqueFamilies(t),r=pn.getCharsPerFamily(t),a=n.find(d=>pZ(d).includes(Tg));if(a){let d=pn.getCharacters(r,a);if(M_e(d)){let u=Bg[Tg];r[u]=new Set(d),n.unshift(Bg[Tg])}}let o=pn.fontFacesStylesGenerator(n,r),s=3,l=await new MF(o,s).all();return Array.from(new Set(l))}static async loadFontFaces(t,n){for(let{fontFaces:o,metadata:s}of pn.registered.values())if(!s.local)for(let{fontFace:l}of o)window.document.fonts.has(l)||window.document.fonts.add(l);let r=pn.fontFacesLoader(t,n),a=10;return(await new MF(r,a).all()).flat().filter(Boolean)}static*fontFacesLoader(t,n){for(let[r,a]of t.entries()){let o=Xn({fontFamily:a,fontSize:16}),s=Y3&&n?pn.getCharacters(n,a):"";window.document.fonts.check(o,s)||(yield Ry(async()=>{var l;try{let d=await window.document.fonts.load(o,s);return[r,d]}catch(d){console.error(`Failed to load font "${o}" from urls "${(l=pn.registered.get(a))==null?void 0:l.fontFaces.map(u=>u.urls)}"`,d)}}))}}static*fontFacesStylesGenerator(t,n){for(let[r,a]of t.entries()){let{fontFaces:o,metadata:s}=pn.registered.get(a)??{};if(!Array.isArray(o)){console.error(`Couldn't find registered fonts for font-family "${a}"`,pn.registered);continue}if(!(s!=null&&s.local))for(let[l,d]of o.entries())yield Ry(async()=>{try{let u=pn.getCharacters(n,a),f=await d.toCSS(u);return f?[r*1e4+l,f]:void 0}catch(u){console.error(`Couldn't transform font-face to css for family "${d.fontFace.family}"`,u)}})}}static register(t,n,...r){let a=Nr[t]??Bg[t]??t;return this.registered.get(a)||this.registered.set(a,{metadata:n,fontFaces:r.map(({uri:o,descriptors:s})=>new fq(t,o,s))}),this.registered}static init(){let t={registered:new Map},n=(r,...a)=>{let o=Nr[r]??Bg[r]??r,s=Ly[o]??Ly[Nr.Excalifont];pn.register.call(t,r,s,...a)};return n("Cascadia",...bIe),n("Comic Shanns",..._Ie),n("Excalifont",...DIe),n("Helvetica",...PIe),n("Liberation Sans",...NIe),n("Lilita One",...jIe),n("Nunito",...WIe),n("Virgil",...YIe),n(Tg,...zBe),n(Bm,...CIe),pn._initialized=!0,t.registered}static getUniqueFamilies(t){return Array.from(t.reduce((n,r)=>(pt(r)&&n.add(r.fontFamily),n),new Set))}static getCharsPerFamily(t){let n={};for(let r of t)if(pt(r))for(let a of r.originalText)n[r.fontFamily]||(n[r.fontFamily]=new Set),n[r.fontFamily].add(a);return n}static getCharacters(t,n){return t[n]?Array.from(t[n]).join(""):""}static getAllFamilies(){return Array.from(pn.registered.keys())}},ee(pn,"loadedFontsCache",new Set),ee(pn,"_registered"),ee(pn,"_initialized",!1),ee(pn,"loadElementsFonts",async t=>{let n=pn.getUniqueFamilies(t),r=Y3?pn.getCharsPerFamily(t):void 0;return pn.loadFontFaces(n,r)}),ee(pn,"loadAllFonts",async()=>{let t=pn.getAllFamilies();return pn.loadFontFaces(t)}),pn),hq=(e,t,n)=>{var d;let{unitsPerEm:r,ascender:a,descender:o}=((d=fd.registered.get(e))==null?void 0:d.metadata.metrics)||Ly[Nr.Virgil].metrics,s=t/r,l=(n-s*a+s*o)/2;return s*a+l},H0=e=>{var n;let{lineHeight:t}=((n=fd.registered.get(e))==null?void 0:n.metadata.metrics)||Ly[Nr.Excalifont].metrics;return t};N();N();var pq=e=>{let{angle:t,width:n,height:r,x:a,y:o}=e,s=a+n/2,l=o+r/2,d=$(s,l),u;return e.type==="diamond"?u=_F(De($(s,o),d,t),De($(a+n,l),d,t),De($(s,o+r),d,t),De($(a,l),d,t)):u=_F(De($(a,o),d,t),De($(a+n,o),d,t),De($(a+n,o+r),d,t),De($(a,o+r),d,t)),{type:"polygon",data:u}},QBe=(e,t,n=10)=>{let[r,a,o,s,l,d]=Xt(e,t,!0);r-=n,o+=n,a-=n,s+=n;let u=$(l,d),f=De($(r,a),u,e.angle),p=De($(o,a),u,e.angle),g=De($(r,s),u,e.angle),v=De($(o,s),u,e.angle);return{type:"polygon",data:[f,p,v,g]}},HBe=e=>{let{width:t,height:n,angle:r,x:a,y:o}=e;return{type:"ellipse",data:{center:$(a+t/2,o+n/2),angle:r,halfWidth:t/2,halfHeight:n/2}}},qM=e=>{for(let t of e.sets)if(t.type==="path")return t.ops;return e.sets[0].ops},GBe=(e,t=$(0,0),n,r)=>{let a=d=>De($(d[0]+t[0],d[1]+t[1]),r,n),o=qM(e),s=[],l=$(0,0);for(let d of o){if(d.op==="move"){let u=$M(d.data);ml(u!=null,"Ops data is not a point"),l=a(u)}if(d.op==="bcurveTo"){let u=a($(d.data[0],d.data[1])),f=a($(d.data[2],d.data[3])),p=a($(d.data[4],d.data[5]));s.push(r_e(l,u,f,p)),l=p}}return{type:"polycurve",data:s}},WBe=e=>{let t=e[0],n=[];for(let r=1;r<e.length;r++){let a=e[r];n.push(rr(t,a)),t=a}return n},VBe=(e,t,n=!1)=>{let r=o=>De(Uh(sr(o),Vi(e.x,e.y)),t,e.angle),a=WBe(e.points.map(o=>r(o)));return n?{type:"polygon",data:B8(a.flat())}:{type:"polyline",data:a}},YBe=(e,t,n=$(0,0),r,a)=>{let o=f=>De($(f[0]+n[0],f[1]+n[1]),a,r);if(e.roundness===null)return{type:"polygon",data:B8(e.points.map(f=>o(f)))};let s=qM(t),l=[],d=!1;for(let f of s)f.op==="move"?(d=!d,d&&l.push($(f.data[0],f.data[1]))):f.op==="bcurveTo"?d&&(l.push($(f.data[0],f.data[1])),l.push($(f.data[2],f.data[3])),l.push($(f.data[4],f.data[5]))):f.op==="lineTo"&&d&&l.push($(f.data[0],f.data[1]));let u=QM(l,10,5).map(f=>o(f));return{type:"polygon",data:B8(u)}},KBe=(e,t,n=0)=>{let r=[e.x-n,e.y-n,e.x+e.width+n,e.y+e.height+n],a=$((r[0]+r[2])/2,(r[1]+r[3])/2);return[rr(De($(r[0],r[1]),a,e.angle),De($(r[2],r[1]),a,e.angle)),rr(De($(r[2],r[1]),a,e.angle),De($(r[2],r[3]),a,e.angle)),rr(De($(r[2],r[3]),a,e.angle),De($(r[0],r[3]),a,e.angle)),rr(De($(r[0],r[3]),a,e.angle),De($(r[0],r[1]),a,e.angle))].map(o=>i_e(t,o)).filter(o=>!!o)},XBe=(e,t)=>{let{angle:n,halfWidth:r,halfHeight:a,center:o}=t,s=r,l=a,d=Uh(sr(e),dd(sr(o),-1)),[u,f]=De(d,$(0,0),-n),p=Math.abs(u),g=Math.abs(f),v=.707,c=.707;for(let U=0;U<3;U++){let b=s*v,w=l*c,E=(s*s-l*l)*v**3/s,x=(l*l-s*s)*c**3/l,C=b-E,I=w-x,S=p-E,M=g-x,R=Math.hypot(I,C),D=Math.hypot(M,S);v=Math.min(1,Math.max(0,(S*R/D+E)/s)),c=Math.min(1,Math.max(0,(M*R/D+x)/l));let L=Math.hypot(c,v);v/=L,c/=L}let[h,m]=[s*v*Math.sign(u),l*c*Math.sign(f)];return Yi($(u,f),$(h,m))},ZBe=(e,t,n=1e-4)=>XBe(e,t)<=n,qBe=(e,t)=>{let{center:n,angle:r,halfWidth:a,halfHeight:o}=t,s=Uh(sr(e),dd(sr(n),-1)),[l,d]=De(s,$(0,0),-r);return l/a*(l/a)+d/o*(d/o)<=1};N();N();var JC=(e,t,n=0)=>{switch(t.type){case"polygon":return o_e(e,t.data,n);case"ellipse":return ZBe(e,t.data,n);case"line":return xb(e,t.data,n);case"polyline":return mq(e,t.data,n);case"curve":return gq(e,t.data,n);case"polycurve":return JBe(e,t.data,n);default:throw Error(`shape ${t} is not implemented`)}},j8=(e,t)=>{switch(t.type){case"polygon":return CF(e,t.data);case"line":return!1;case"curve":return!1;case"ellipse":return qBe(e,t.data);case"polyline":{let n=B8(t.data.flat());return CF(e,n)}case"polycurve":return!1;default:throw Error(`shape ${t} is not implemented`)}},JBe=(e,t,n)=>t.some(r=>gq(e,r,n)),eRe=e=>{let[t,n,r,a]=e;return(o,s)=>Math.pow(1-o,3)*a[s]+3*o*Math.pow(1-o,2)*r[s]+3*Math.pow(o,2)*(1-o)*n[s]+t[s]*Math.pow(o,3)},tRe=(e,t=10)=>{let n=eRe(e),r=[n(0,0),n(0,1)],a=[],o=0,s=1/t;for(let l=0;l<t;l++)if(o+=s,o<=1){let d=$(n(o,0),n(o,1));a.push(rr(r,d)),r=d}return a},gq=(e,t,n)=>mq(e,tRe(t),n),mq=(e,t,n=1e-4)=>t.some(r=>xb(e,r,n)),eS=e=>{if(e.type==="arrow")return!1;let t=!ud(e.backgroundColor)||xl(e)||ol(e)||pt(e);return e.type==="line"||e.type==="freedraw"?t&&qu(e.points):t||zn(e)},fg=({x:e,y:t,element:n,shape:r,threshold:a=10,frameNameBound:o=null})=>{let s=eS(n)&&j8($(e,t),r)||JC($(e,t),r,a);return!s&&o&&(s=j8($(e,t),{type:"polygon",data:pq(o).data})),s},JM=(e,t,n,r,a=0)=>{let[o,s,l,d]=ef(n,r);return o-=a,s-=a,l+=a,d+=a,AZ($(o,s),$(e,t),$(l,d))},nRe=(e,t)=>!fg(e)&&!Uq(e.x,e.y,vq(e.element,t))&&JM(e.x,e.y,e.element,t),Uq=(e,t,n)=>!!n&&j8($(e,t),n);N();var Pn={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",THREE:"Digit3",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",Y:"KeyY",R:"KeyR",S:"KeyS"},ie={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:_d?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",SUBTRACT:"-",SLASH:"/",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",W:"w",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},rRe=new Map([[ie.Z,Pn.Z],[ie.Y,Pn.Y]]),iRe=e=>/^[a-z]$/.test(e.toLowerCase()),tS=(e,t)=>{if(t===e.key.toLowerCase())return!0;let n=rRe.get(t);return!!(n&&!iRe(e.key)&&e.code===n)},XU=e=>e===ie.ARROW_LEFT||e===ie.ARROW_RIGHT||e===ie.ARROW_DOWN||e===ie.ARROW_UP,Nx=e=>e.altKey,iU=e=>e.shiftKey,$v=e=>e.shiftKey,eT=[{icon:DCe,value:"selection",key:ie.V,numericKey:ie[1],fillable:!0},{icon:PCe,value:"rectangle",key:ie.R,numericKey:ie[2],fillable:!0},{icon:LCe,value:"diamond",key:ie.D,numericKey:ie[3],fillable:!0},{icon:NCe,value:"ellipse",key:ie.O,numericKey:ie[4],fillable:!0},{icon:$Ce,value:"arrow",key:ie.A,numericKey:ie[5],fillable:!0},{icon:FCe,value:"line",key:ie.L,numericKey:ie[6],fillable:!0},{icon:Py,value:"freedraw",key:[ie.P,ie.X],numericKey:ie[7],fillable:!1},{icon:GZ,value:"text",key:ie.T,numericKey:ie[8],fillable:!1},{icon:OCe,value:"image",key:null,numericKey:ie[9],fillable:!1},{icon:zCe,value:"eraser",key:ie.E,numericKey:ie[0],fillable:!1}],aRe=e=>{var t;return((t=eT.find((n,r)=>n.numericKey!=null&&e===n.numericKey.toString()||n.key&&(typeof n.key=="string"?n.key===e:n.key.includes(e))))==null?void 0:t.value)||null},Au=(e,t)=>{var n;switch(e.type){case"rectangle":case"diamond":case"frame":case"magicframe":case"embeddable":case"image":case"iframe":case"text":case"selection":return pq(e);case"arrow":case"line":{let r=((n=Vr.get(e))==null?void 0:n[0])??Vr.generateElementShape(e,null)[0],[,,,,a,o]=Xt(e,t);return eS(e)?YBe(e,r,$(e.x,e.y),e.angle,$(a,o)):GBe(r,$(e.x,e.y),e.angle,$(a,o))}case"ellipse":return HBe(e);case"freedraw":{let[,,,,r,a]=Xt(e,t);return VBe(e,$(r,a),eS(e))}}},vq=(e,t)=>{let n=on(e,t);return n?e.type==="arrow"?Au({...n,...xt.getBoundTextElementPosition(e,n,t)},t):Au(n,t):null},yq=(e,t)=>{let n=Vr.generateElementShape(e,null);if(!n)return null;let r=qM(n[0]),a=$(0,0),o=0,s=1/0,l=null;for(;o<r.length;){let{op:d,data:u}=r[o];if(d==="move"&&(ml(n_e(u),"The returned ops is not compatible with a point"),a=u),d==="bcurveTo"){let f=a,p=$(u[0],u[1]),g=$(u[2],u[3]),v=$(u[4],u[5]),c=Yi(v,t);c<s&&(s=c,l=[f,p,g,v]),a=v}o++}return l},bq=(e,t,n,r,a)=>{let o=(d,u)=>Math.pow(1-d,3)*r[u]+3*d*Math.pow(1-d,2)*n[u]+3*Math.pow(d,2)*(1-d)*t[u]+e[u]*Math.pow(d,3),s=o(a,0),l=o(a,1);return $(s,l)},oRe=(e,t)=>{let n=yq(e,t);if(!n)return[];let r=[],a=1;for(;a>0;){let o=bq(n[0],n[1],n[2],n[3],a);r.push($(o[0],o[1])),a-=.05}return r.length&&T8(r.at(-1),t)&&r.push($(t[0],t[1])),r},Aq=(e,t)=>{let n=[];n[0]=0;let r=oRe(e,t),a=0,o=0;for(;a<r.length-1;){let s=Yi(r[a],r[a+1]);o+=s,n.push(o),a++}return n},sRe=(e,t)=>Aq(e,t).at(-1),lRe=(e,t,n)=>{let r=Aq(e,t),a=r.length-1,o=r.at(-1),s=n*o,l=0,d=a,u=0;for(;l<d;)u=Math.floor(l+(d-l)/2),r[u]<s?l=u+1:d=u;return r[u]>s&&u--,r[u]===s?u/a:1-(u+(s-r[u])/(r[u+1]-r[u]))/a},nd=(e,t)=>{let n={minX:e.x,minY:e.y,maxX:e.x+e.width,maxY:e.y+e.height,midX:e.x+e.width/2,midY:e.y+e.height/2},r=$(n.midX,n.midY),[a,o]=De($(n.minX,n.minY),r,e.angle),[s,l]=De($(n.maxX,n.minY),r,e.angle),[d,u]=De($(n.maxX,n.maxY),r,e.angle),[f,p]=De($(n.minX,n.maxY),r,e.angle),g=[Math.min(a,s,d,f),Math.min(o,l,u,p),Math.max(a,s,d,f),Math.max(o,l,u,p)];if(t){let[v,c,h,m]=t;return[g[0]-m,g[1]-v,g[2]+c,g[3]+h]}return g},Pg=(e,t)=>e[0]>t[0]&&e[0]<t[2]&&e[1]>t[1]&&e[1]<t[3],Rh=(e,t)=>{var n,r,a,o;if(((n=t.roundness)==null?void 0:n.type)===Di.PROPORTIONAL_RADIUS||((r=t.roundness)==null?void 0:r.type)===Di.LEGACY)return e*Sx;if(((a=t.roundness)==null?void 0:a.type)===Di.ADAPTIVE_RADIUS){let s=((o=t.roundness)==null?void 0:o.value)??W9e,l=s/Sx;return e<=l?e*Sx:s}return 0},qu=(e,t=1)=>{if(e.length>=3){let[n,r]=[e[0],e[e.length-1]];return Yi(n,r)<=K3/t}return!1};N();var la=10,cRe=(e,t,n,r,a,o,s)=>{var R,D;let{width:l,height:d}=Ju(e),u=n/l,f=r/d,p=(((R=e.crop)==null?void 0:R.x)??0)/u,g=(((D=e.crop)==null?void 0:D.y)??0)/f,v=De($(a,o),$(e.x+e.width/2,e.y+e.height/2),-e.angle);a=v[0],o=v[1];let c=e.width,h=e.height,m=e.crop??{x:0,y:0,width:n,height:r,naturalWidth:n,naturalHeight:r},U=m.height,b=m.width,w=e.scale[0]===-1,E=e.scale[1]===-1,x=o-e.y,C=a-e.x;t.includes("n")&&(h=Rn(e.height-x,la,E?d-g:e.height+g)),t.includes("s")&&(x=o-e.y-e.height,h=Rn(e.height+x,la,E?e.height+g:d-g)),t.includes("e")&&(C=a-e.x-e.width,c=Rn(e.width+C,la,w?e.width+p:l-p)),t.includes("w")&&(c=Rn(e.width-C,la,w?l-p:e.width+p));let I=L=>{L.height=h*f,L.width=c*u};I(m);let S=(L,j)=>{I(j),L.includes("n")&&(E||(j.y+=U-j.height)),L.includes("s")&&E&&(j.y+=U-j.height),L.includes("e")&&w&&(j.x+=b-j.width),L.includes("w")&&(w||(j.x+=b-j.width))};switch(t){case"n":{if(s){let L=p+e.width/2,j=l-p-e.width/2,re=Math.min(L,j)*2;c=Rn(h*s,la,re),h=c/s}S(t,m),s&&(m.x+=(b-m.width)/2);break}case"s":{if(s){let L=p+e.width/2,j=l-p-e.width/2,re=Math.min(L,j)*2;c=Rn(h*s,la,re),h=c/s}S(t,m),s&&(m.x+=(b-m.width)/2);break}case"w":{if(s){let L=g+e.height/2,j=d-g-e.height/2,re=Math.min(L,j)*2;h=Rn(c/s,la,re),c=h*s}S(t,m),s&&(m.y+=(U-m.height)/2);break}case"e":{if(s){let L=g+e.height/2,j=d-g-e.height/2,re=Math.min(L,j)*2;h=Rn(c/s,la,re),c=h*s}S(t,m),s&&(m.y+=(U-m.height)/2);break}case"ne":{if(s)if(C>-x){let L=E?d-g:g+e.height;h=Rn(c/s,la,L),c=h*s}else{let L=w?p+e.width:l-p;c=Rn(h*s,la,L),h=c/s}S(t,m);break}case"nw":{if(s)if(C<x){let L=E?d-g:g+e.height;h=Rn(c/s,la,L),c=h*s}else{let L=w?l-p:p+e.width;c=Rn(h*s,la,L),h=c/s}S(t,m);break}case"se":{if(s)if(C>x){let L=E?g+e.height:d-g;h=Rn(c/s,la,L),c=h*s}else{let L=w?p+e.width:l-p;c=Rn(h*s,la,L),h=c/s}S(t,m);break}case"sw":{if(s)if(-C>x){let L=E?g+e.height:d-g;h=Rn(c/s,la,L),c=h*s}else{let L=w?l-p:p+e.width;c=Rn(h*s,la,L),h=c/s}S(t,m);break}}let M=dRe(e,t,c,h,!!s);return wF(m.width,m.naturalWidth)&&wF(m.height,m.naturalHeight)&&(m=null),{x:M[0],y:M[1],width:c,height:h,crop:m}},dRe=(e,t,n,r,a)=>{let[o,s,l,d]=Dh(e,e.width,e.height,!0),u=$(o,s),f=$(l,d),p=By(u,f),[g,v,c,h]=Dh(e,n,r,!0),m=c-g,U=h-v,b=[...u];if(["n","w","nw"].includes(t)&&(b=[f[0]-Math.abs(m),f[1]-Math.abs(U)]),t==="ne"){let S=[u[0],f[1]];b=[S[0],S[1]-Math.abs(U)]}if(t==="sw"){let S=[f[0],u[1]];b=[S[0]-Math.abs(m),S[1]]}a&&(["s","n"].includes(t)&&(b[0]=p[0]-m/2),["e","w"].includes(t)&&(b[1]=p[1]-U/2));let w=e.angle,E=De(b,p,w),x=[b[0]+Math.abs(m)/2,b[1]+Math.abs(U)/2],C=De(x,p,w);b=De(E,C,-w);let I=[...b];return I[0]+=e.x-g,I[1]+=e.y-v,I},uRe=(e,t)=>{if(e.crop){let{width:n,height:r}=Ju(e),[a,o,s,l,d,u]=Xt(e,t),f=sr(De($(a,o),$(d,u),e.angle)),p=sr(De($(s,o),$(d,u),e.angle)),g=M8(_0(p,f)),v=sr(De($(a,l),$(d,u),e.angle)),c=_0(v,f),h=M8(c),{cropX:m,cropY:U}=fRe(e.crop,e.scale),b=Uh(Uh(f,dd(g,-m*n/e.crop.naturalWidth)),dd(h,-U*r/e.crop.naturalHeight)),w=Uh(Uh(b,dd(g,n/2)),dd(h,r/2)),E=De(b,w,-e.angle);return{...e,x:E[0],y:E[1],width:n,height:r,crop:null}}return e},Ju=e=>{if(e.crop){let t=e.width/(e.crop.width/e.crop.naturalWidth),n=e.height/(e.crop.height/e.crop.naturalHeight);return{width:t,height:n}}return{width:e.width,height:e.height}},fRe=(e,t)=>{let n=e.x,r=e.y,a=t[0]===-1,o=t[1]===-1;return a&&(n=e.naturalWidth-Math.abs(n)-e.width),o&&(r=e.naturalHeight-Math.abs(r)-e.height),{cropX:n,cropY:r}},hRe=(e,t=!1)=>{let n=e.crop;if(!n)return null;let r=e.scale[0]===-1,a=e.scale[1]===-1,o=n.x,s=n.y;if(r&&(o=n.naturalWidth-n.width-n.x),a&&(s=n.naturalHeight-n.height-n.y),t)return{x:o,y:s};let{width:l,height:d}=Ju(e);return{x:o/(n.naturalWidth/l),y:s/(n.naturalHeight/d)}},wq="invert(100%) hue-rotate(180deg) saturate(1.25)",pRe=Cd(),Eq=(e,t)=>al(e)&&!t.imageCache.has(e.fileId),xq=(e,t,n)=>{var r;return n.theme===Un.DARK&&al(e)&&!Eq(e,t)&&((r=t.imageCache.get(e.fileId))==null?void 0:r.mimeType)!==Ft.svg},k4=e=>{switch(e.type){case"freedraw":return e.strokeWidth*12;case"text":return e.fontSize/2;default:return 20}},_q=(e,t,n,r,a=1)=>{let o=((t==null?void 0:t.opacity)??100)*e.opacity/1e4*a;return(n.has(e.id)||r&&r.some(s=>s.id===e.id)||t&&n.has(t.id))&&(o*=G9e/100),o},gRe=(e,t,n)=>{let r=k4(e),[a,o,s,l]=Xt(e,t),d=rn(e)||El(e)?ja(a,s):e.width,u=rn(e)||El(e)?ja(o,l):e.height,f=d*window.devicePixelRatio+r*2,p=u*window.devicePixelRatio+r*2,g=n.value;return(f*g>32767||p*g>32767)&&(g=Math.min(32767/f,32767/p)),f*p*g*g>16777216&&(g=Math.sqrt(16777216/(f*p))),f=Math.floor(f*g),p=Math.floor(p*g),{width:f,height:p,scale:g}},Cq=(e,t,n,r,a)=>{var U,b;let o=document.createElement("canvas"),s=o.getContext("2d"),l=k4(e),{width:d,height:u,scale:f}=gRe(e,t,n);if(!d||!u)return null;o.width=d,o.height=u;let p=-100,g=0;if(rn(e)||El(e)){let[w,E]=Xt(e,t);p=e.x>w?ja(e.x,w)*window.devicePixelRatio*f:0,g=e.y>E?ja(e.y,E)*window.devicePixelRatio*f:0,s.translate(p,g)}s.save(),s.translate(l*f,l*f),s.scale(window.devicePixelRatio*f,window.devicePixelRatio*f);let v=op.canvas(o);xq(e,r,a)&&(s.filter=wq),tA(e,v,s,r),s.restore();let c=on(e,t),h=document.createElement("canvas"),m=h.getContext("2d");if(ln(e)&&c){let[w,E,x,C]=Xt(e,t),I=Math.max(ja(w,x),ja(E,C));h.width=I*window.devicePixelRatio*f+l*f*10,h.height=I*window.devicePixelRatio*f+l*f*10,m.translate(h.width/2,h.height/2),m.rotate(e.angle),m.drawImage(o,-o.width/2,-o.height/2,o.width,o.height);let[,,,,S,M]=Xt(c,t);m.rotate(-e.angle);let R=(h.width-o.width)/2,D=(h.height-o.height)/2,L=h.width/2-(S-w)*window.devicePixelRatio*f-R-l*f,j=h.height/2-(M-E)*window.devicePixelRatio*f-D-l*f;m.translate(-L,-j),m.clearRect(-(c.width/2+Ri)*window.devicePixelRatio*f,-(c.height/2+Ri)*window.devicePixelRatio*f,(c.width+Ri*2)*window.devicePixelRatio*f,(c.height+Ri*2)*window.devicePixelRatio*f)}return{element:e,canvas:o,theme:a.theme,scale:f,zoomValue:n.value,canvasOffsetX:p,canvasOffsetY:g,boundTextElementVersion:((U=on(e,t))==null?void 0:U.version)||null,containingFrameOpacity:((b=Ss(e,t))==null?void 0:b.opacity)||100,boundTextCanvas:h,angle:e.angle,imageCrop:zn(e)?e.crop:null}},mRe=14,Sq=document.createElement("img");Sq.src=`data:${Ft.svg},${encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>')}`;var Iq=document.createElement("img");Iq.src=`data:${Ft.svg},${encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>')}`;var URe=(e,t)=>{t.fillStyle="#E7E7E7",t.fillRect(0,0,e.width,e.height);let n=Math.min(e.width,e.height),r=Math.min(n,Math.min(n*.4,100));t.drawImage(e.status==="error"?Iq:Sq,e.width/2-r/2,e.height/2-r/2,r,r)},tA=(e,t,n,r,a)=>{var o;switch(e.type){case"rectangle":case"iframe":case"embeddable":case"diamond":case"ellipse":{n.lineJoin="round",n.lineCap="round",t.draw(Vr.get(e));break}case"arrow":case"line":{n.lineJoin="round",n.lineCap="round",Vr.get(e).forEach(s=>{t.draw(s)});break}case"freedraw":{n.save(),n.fillStyle=e.strokeColor;let s=bRe(e),l=Vr.get(e);l&&t.draw(l),n.fillStyle=e.strokeColor,n.fill(s),n.restore();break}case"image":{let s=al(e)?(o=r.imageCache.get(e.fileId))==null?void 0:o.image:void 0;if(s!=null&&!(s instanceof Promise)){e.roundness&&n.roundRect&&(n.beginPath(),n.roundRect(0,0,e.width,e.height,Rh(Math.min(e.width,e.height),e)),n.clip());let{x:l,y:d,width:u,height:f}=e.crop?e.crop:{x:0,y:0,width:s.naturalWidth,height:s.naturalHeight};n.drawImage(s,l,d,u,f,0,0,e.width,e.height)}else URe(e,n);break}default:if(pt(e)){let s=EZ(e.text),l=s&&!n.canvas.isConnected;l&&document.body.appendChild(n.canvas),n.canvas.setAttribute("dir",s?"rtl":"ltr"),n.save(),n.font=Xn(e),n.fillStyle=e.strokeColor,n.textAlign=e.textAlign;let d=e.text.replace(/\r\n?/g,`
`).split(`
`),u=e.textAlign==="center"?e.width/2:e.textAlign==="right"?e.width:0,f=Bb(e.fontSize,e.lineHeight),p=hq(e.fontFamily,e.fontSize,f);for(let g=0;g<d.length;g++)n.fillText(d[g],u,g*f+p);n.restore(),l&&n.canvas.remove()}else throw new Error(`Unimplemented type ${e.type}`)}},nS=new WeakMap,uj=(e,t,n,r)=>{var p;let a=n?r.zoom:pRe.zoom,o=nS.get(e),s=o&&o.zoomValue!==a.value&&!(r!=null&&r.shouldCacheIgnoreZoom),l=on(e,t),d=(l==null?void 0:l.version)||null,u=zn(e)?e.crop:null,f=((p=Ss(e,t))==null?void 0:p.opacity)||100;if(!o||s||o.theme!==r.theme||o.boundTextElementVersion!==d||o.imageCrop!==u||o.containingFrameOpacity!==f||ln(e)&&l&&e.angle!==o.angle){let g=Cq(e,t,a,n,r);return g?(nS.set(e,g),g):null}return o},$x=(e,t,n,r,a)=>{let o=e.element,s=k4(o),l=e.scale,[d,u,f,p]=Xt(o,a),g=((d+f)/2+r.scrollX)*window.devicePixelRatio,v=((u+p)/2+r.scrollY)*window.devicePixelRatio;t.save(),t.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);let c=on(o,a);if(ln(o)&&c){let h=(e.boundTextCanvas.width-e.canvas.width)/2,m=(e.boundTextCanvas.height-e.canvas.height)/2;t.translate(g,v),t.drawImage(e.boundTextCanvas,-(f-d)/2*window.devicePixelRatio-h/l-s,-(p-u)/2*window.devicePixelRatio-m/l-s,e.boundTextCanvas.width/l,e.boundTextCanvas.height/l)}else if(t.translate(g,v),t.rotate(o.angle),"scale"in e.element&&!Eq(o,n)&&t.scale(e.element.scale[0],e.element.scale[1]),t.translate(-g,-v),t.drawImage(e.canvas,(d+r.scrollX)*window.devicePixelRatio-s*e.scale/e.scale,(u+r.scrollY)*window.devicePixelRatio-s*e.scale/e.scale,e.canvas.width/e.scale,e.canvas.height/e.scale),gt.VITE_APP_DEBUG_ENABLE_TEXT_CONTAINER_BOUNDING_BOX==="true"&&xl(o)){let h=on(o,a),m=lJ(o);t.strokeStyle="#c92a2a",t.lineWidth=3,t.strokeRect((m.x+r.scrollX)*window.devicePixelRatio,(m.y+r.scrollY)*window.devicePixelRatio,Id(o,h)*window.devicePixelRatio,Db(o,h)*window.devicePixelRatio)}t.restore()},vRe=(e,t,n,r)=>{t.save(),t.translate(e.x+n.scrollX,e.y+n.scrollY),t.fillStyle="rgba(0, 0, 200, 0.04)";let a=.5/n.zoom.value;t.fillRect(a,a,e.width,e.height),t.lineWidth=1/n.zoom.value,t.strokeStyle=r,t.strokeRect(a,a,e.width,e.height),t.restore()},Yp=(e,t,n,r,a,o,s)=>{var d;let l=((d=s.openDialog)==null?void 0:d.name)==="elementLinkSelector"&&!s.selectedElementIds[e.id]&&!s.hoveredElementIds[e.id];switch(a.globalAlpha=_q(e,Ss(e,t),o.elementsPendingErasure,o.pendingFlowchartNodes,l?yZ:1),e.type){case"magicframe":case"frame":{s.frameRendering.enabled&&s.frameRendering.outline&&(a.save(),a.translate(e.x+s.scrollX,e.y+s.scrollY),a.fillStyle="rgba(0, 0, 200, 0.04)",a.lineWidth=Qr.strokeWidth/s.zoom.value,a.strokeStyle=Qr.strokeColor,Z3(e)&&(a.strokeStyle=s.theme===Un.LIGHT?"#7affd7":"#1d8264"),a.roundRect?(a.beginPath(),a.roundRect(0,0,e.width,e.height,Qr.radius/s.zoom.value),a.stroke(),a.closePath()):a.strokeRect(0,0,e.width,e.height),a.restore());break}case"freedraw":{if(Vr.generateElementShape(e,null),o.isExporting){let[u,f,p,g]=Xt(e,t),v=(u+p)/2+s.scrollX,c=(f+g)/2+s.scrollY,h=(p-u)/2-(e.x-u),m=(g-f)/2-(e.y-f);a.save(),a.translate(v,c),a.rotate(e.angle),a.translate(-h,-m),tA(e,r,a,o),a.restore()}else{let u=uj(e,n,o,s);if(!u)return;$x(u,a,o,s,n)}break}case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":case"iframe":case"embeddable":{if(Vr.generateElementShape(e,o),o.isExporting){let[u,f,p,g]=Xt(e,t),v=(u+p)/2+s.scrollX,c=(f+g)/2+s.scrollY,h=(p-u)/2-(e.x-u),m=(g-f)/2-(e.y-f);if(pt(e)){let b=lo(e,t);if(ln(b)){let w=xt.getBoundTextElementPosition(b,e,t);h=(p-u)/2-(w.x-u),m=(g-f)/2-(w.y-f)}}a.save(),a.translate(v,c),xq(e,o,s)&&(a.filter="none");let U=on(e,t);if(ln(e)&&U){let b=document.createElement("canvas"),w=b.getContext("2d"),E=Math.max(ja(u,p),ja(f,g)),x=k4(e);b.width=E*s.exportScale+x*10*s.exportScale,b.height=E*s.exportScale+x*10*s.exportScale,w.translate(b.width/2,b.height/2),w.scale(s.exportScale,s.exportScale),h=e.width/2-(e.x-u),m=e.height/2-(e.y-f),w.rotate(e.angle);let C=op.canvas(b);w.translate(-h,-m),tA(e,C,w,o),w.translate(h,m),w.rotate(-e.angle);let[,,,,I,S]=Xt(U,t),M=(u+p)/2-I,R=(f+g)/2-S;w.translate(-M,-R),w.clearRect(-U.width/2,-U.height/2,U.width,U.height),a.scale(1/s.exportScale,1/s.exportScale),a.drawImage(b,-b.width/2,-b.height/2,b.width,b.height)}else a.rotate(e.angle),e.type==="image"&&a.scale(e.scale[0],e.scale[1]),a.translate(-h,-m),tA(e,r,a,o);a.restore()}else{let u=uj(e,n,o,s);if(!u)return;let f=a.imageSmoothingEnabled;if(!(s!=null&&s.shouldCacheIgnoreZoom)&&(!e.angle||J9e(e.angle))&&(a.imageSmoothingEnabled=!1),e.id===s.croppingElementId&&zn(u.element)&&u.element.crop!==null){a.save(),a.globalAlpha=.1;let p=Cq(uRe(u.element,t),n,s.zoom,o,s);p&&$x(p,a,o,s,n),a.restore()}$x(u,a,o,s,n),a.imageSmoothingEnabled=f}break}default:throw new Error(`Unimplemented type ${e.type}`)}a.globalAlpha=1},kq=new WeakMap([]);function yRe(e){let t=Mq(e),n=new Path2D(t);return kq.set(e,n),n}function bRe(e){return kq.get(e)}function Mq(e){let t=e.simulatePressure?e.points:e.points.length?e.points.map(([r,a],o)=>[r,a,e.pressures[o]]):[[0,0,.5]],n={simulatePressure:e.simulatePressure,size:e.strokeWidth*4.25,thinning:.6,smoothing:.5,streamline:.5,easing:r=>Math.sin(r*Math.PI/2),last:!!e.lastCommittedPoint};return wRe(SCe(t,n))}function fj(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}var ARe=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g;function wRe(e){if(!e.length)return"";let t=e.length-1;return e.reduce((n,r,a,o)=>(a===t?n.push(r,fj(r,o[0]),"L",o[0],"Z"):n.push(r,fj(r,o[a+1])),n),["M",e[0],"Q"]).join(" ").replace(ARe,"$1")}N();function Fx(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function ERe(e,t,n){let r=Fx(t,n);if(r===0)return Fx(e,t);let a=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return a=Math.max(0,Math.min(1,a)),Fx(e,xRe(t,n,a))}function xRe(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function _Re(e,t){return rS(e,0,e.length,t)}function rS(e,t,n,r,a){let o=a||[],s=e[t],l=e[n-1],d=0,u=1;for(let f=t+1;f<n-1;++f){let p=ERe(e[f],s,l);p>d&&(d=p,u=f)}return Math.sqrt(d)>r?(rS(e,t,u+1,r,o),rS(e,u,n,r,o)):(o.length||o.push(s),o.push(l)),o}N();var Lm=e=>e==="rectangle"||e==="iframe"||e==="embeddable"||e==="ellipse"||e==="diamond"||e==="line"||e==="freedraw",iS=e=>e!=="image"&&e!=="frame"&&e!=="magicframe",hj=e=>e==="rectangle"||e==="iframe"||e==="embeddable"||e==="ellipse"||e==="diamond"||e==="freedraw"||e==="arrow"||e==="line",pj=e=>e==="rectangle"||e==="iframe"||e==="embeddable"||e==="ellipse"||e==="diamond"||e==="arrow"||e==="line",aS=e=>e==="rectangle"||e==="iframe"||e==="embeddable"||e==="line"||e==="diamond"||e==="image",gj=e=>e==="arrow",O8=e=>e==="arrow",CRe=(e,t)=>{let n=null;for(let r=e.length-1;r>=0;--r){let a=e[r];if(!a.isDeleted&&t(a)){n=a;break}}return n},SRe=e=>[8,8+e],Tq=e=>[1.5,6+e];function IRe(e){let t=e.roughness,n=Math.max(e.width,e.height),r=Math.min(e.width,e.height);return r>=20&&n>=50||r>=15&&e.roundness&&aS(e.type)||rn(e)&&n>=50?t:Math.min(t/(n<10?3:2),2.5)}var Us=(e,t=!1)=>{let n={seed:e.seed,strokeLineDash:e.strokeStyle==="dashed"?SRe(e.strokeWidth):e.strokeStyle==="dotted"?Tq(e.strokeWidth):void 0,disableMultiStroke:e.strokeStyle!=="solid",strokeWidth:e.strokeStyle!=="solid"?e.strokeWidth+.5:e.strokeWidth,fillWeight:e.strokeWidth/2,hachureGap:e.strokeWidth*4,roughness:IRe(e),stroke:e.strokeColor,preserveVertices:t||e.roughness<mZ.cartoonist};switch(e.type){case"rectangle":case"iframe":case"embeddable":case"diamond":case"ellipse":return n.fillStyle=e.fillStyle,n.fill=ud(e.backgroundColor)?void 0:e.backgroundColor,e.type==="ellipse"&&(n.curveFitting=1),n;case"line":case"freedraw":return qu(e.points)&&(n.fillStyle=e.fillStyle,n.fill=e.backgroundColor==="transparent"?void 0:e.backgroundColor),n;case"arrow":return n;default:throw new Error(`Unimplemented type ${e.type}`)}},mj=(e,t,n)=>ol(e)&&(t||Io(e)&&(n==null?void 0:n.get(e.id))!==!0)&&ud(e.backgroundColor)&&ud(e.strokeColor)?{...e,roughness:0,backgroundColor:"#d3d3d3",fillStyle:"solid"}:rh(e)?{...e,strokeColor:ud(e.strokeColor)?"#000000":e.strokeColor,backgroundColor:ud(e.backgroundColor)?"#f4f4f6":e.backgroundColor}:e,Uj=(e,t,n,r,a,o,s)=>{let l=NRe(e,t,n,r);if(l===null)return[];switch(r){case"dot":case"circle":case"circle_outline":{let[d,u,f]=l;return delete o.strokeLineDash,[a.circle(d,u,f,{...o,fill:r==="circle_outline"?s:e.strokeColor,fillStyle:"solid",stroke:e.strokeColor,roughness:Math.min(.5,o.roughness||0)})]}case"triangle":case"triangle_outline":{let[d,u,f,p,g,v]=l;return delete o.strokeLineDash,[a.polygon([[d,u],[f,p],[g,v],[d,u]],{...o,fill:r==="triangle_outline"?s:e.strokeColor,fillStyle:"solid",roughness:Math.min(1,o.roughness||0)})]}case"diamond":case"diamond_outline":{let[d,u,f,p,g,v,c,h]=l;return delete o.strokeLineDash,[a.polygon([[d,u],[f,p],[g,v],[c,h],[d,u]],{...o,fill:r==="diamond_outline"?s:e.strokeColor,fillStyle:"solid",roughness:Math.min(1,o.roughness||0)})]}case"bar":case"arrow":default:{let[d,u,f,p,g,v]=l;if(e.strokeStyle==="dotted"){let c=Tq(e.strokeWidth-1);o.strokeLineDash=[c[0],c[1]-1]}else delete o.strokeLineDash;return o.roughness=Math.min(1,o.roughness||0),[a.line(f,p,d,u,o),a.line(g,v,d,u,o)]}}},kRe=(e,t,{isExporting:n,canvasBackgroundColor:r,embedsValidationStatus:a})=>{switch(e.type){case"rectangle":case"iframe":case"embeddable":{let o;if(e.roundness){let s=e.width,l=e.height,d=Rh(Math.min(s,l),e);o=t.path(`M ${d} 0 L ${s-d} 0 Q ${s} 0, ${s} ${d} L ${s} ${l-d} Q ${s} ${l}, ${s-d} ${l} L ${d} ${l} Q 0 ${l}, 0 ${l-d} L 0 ${d} Q 0 0, ${d} 0`,Us(mj(e,n,a),!0))}else o=t.rectangle(0,0,e.width,e.height,Us(mj(e,n,a),!1));return o}case"diamond":{let o,[s,l,d,u,f,p,g,v]=BRe(e);if(e.roundness){let c=Rh(Math.abs(s-g),e),h=Rh(Math.abs(u-l),e);o=t.path(`M ${s+c} ${l+h} L ${d-c} ${u-h}
            C ${d} ${u}, ${d} ${u}, ${d-c} ${u+h}
            L ${f+c} ${p-h}
            C ${f} ${p}, ${f} ${p}, ${f-c} ${p-h}
            L ${g+c} ${v+h}
            C ${g} ${v}, ${g} ${v}, ${g+c} ${v-h}
            L ${s-c} ${l+h}
            C ${s} ${l}, ${s} ${l}, ${s+c} ${l+h}`,Us(e,!0))}else o=t.polygon([[s,l],[d,u],[f,p],[g,v]],Us(e));return o}case"ellipse":return t.ellipse(e.width/2,e.height/2,e.width,e.height,Us(e));case"line":case"arrow":{let o,s=Us(e),l=e.points.length?e.points:[$(0,0)];if(Wt(e)?o=[t.path(MRe(l,16),Us(e,!0))]:e.roundness?o=[t.curve(l,s)]:s.fill?o=[t.polygon(l,s)]:o=[t.linearPath(l,s)],e.type==="arrow"){let{startArrowhead:d=null,endArrowhead:u="arrow"}=e;if(d!==null){let f=Uj(e,o,"start",d,t,s,r);o.push(...f)}if(u!==null){let f=Uj(e,o,"end",u,t,s,r);o.push(...f)}}return o}case"freedraw":{let o;if(yRe(e),qu(e.points)){let s=_Re(e.points,.75);o=t.curve(s,{...Us(e),stroke:"none"})}else o=null;return o}case"frame":case"magicframe":case"text":case"image":return null;default:return O0(e,`generateElementShape(): Unimplemented type ${e==null?void 0:e.type}`),null}},MRe=(e,t)=>{let n=[];for(let a=1;a<e.length-1;a+=1){let o=e[a-1],s=e[a+1],l=Math.min(t,Yi(e[a],s)/2,Yi(e[a],o)/2);o[0]<e[a][0]&&o[1]===e[a][1]?n.push([e[a][0]-l,e[a][1]]):o[0]===e[a][0]&&o[1]<e[a][1]?n.push([e[a][0],e[a][1]-l]):o[0]>e[a][0]&&o[1]===e[a][1]?n.push([e[a][0]+l,e[a][1]]):n.push([e[a][0],e[a][1]+l]),n.push(e[a]),s[0]<e[a][0]&&s[1]===e[a][1]?n.push([e[a][0]-l,e[a][1]]):s[0]===e[a][0]&&s[1]<e[a][1]?n.push([e[a][0],e[a][1]-l]):s[0]>e[a][0]&&s[1]===e[a][1]?n.push([e[a][0]+l,e[a][1]]):n.push([e[a][0],e[a][1]+l])}let r=[`M ${e[0][0]} ${e[0][1]}`];for(let a=0;a<n.length;a+=3)r.push(`L ${n[a][0]} ${n[a][1]}`),r.push(`Q ${n[a+1][0]} ${n[a+1][1]}, ${n[a+2][0]} ${n[a+2][1]}`);return r.push(`L ${e[e.length-1][0]} ${e[e.length-1][1]}`),r.join(" ")};N();var Ny=e=>{let t=e.map(r=>r[0]),n=e.map(r=>r[1]);return{width:Math.max(...t)-Math.min(...t),height:Math.max(...n)-Math.min(...n)}},z8=(e,t,n,r)=>{let a=n.map(g=>g[e]),o=Math.max(...a),s=Math.min(...a),l=o-s,d=l===0?1:t/l,u=1/0,f=n.map(g=>{let v=g[e]*d,c=[...g];return c[e]=v,v<u&&(u=v),c});if(!r||f.length===2)return f;let p=s-u;return f.map(g=>g.map((v,c)=>c===e?v+p:v))},Ru,TRe=(Ru=class{static getBounds(t,n){let r=Ru.boundsCache.get(t);if(r!=null&&r.version&&r.version===t.version&&!bi(t))return r.bounds;let a=Ru.calculateBounds(t,n);return Ru.boundsCache.set(t,{version:t.version,bounds:a}),a}static calculateBounds(t,n){let r,[a,o,s,l,d,u]=Xt(t,n);if(El(t)){let[f,p,g,v]=tT(t.points.map(([c,h])=>De($(c,h),$(d-t.x,u-t.y),t.angle)));return[f+t.x,p+t.y,g+t.x,v+t.y]}else if(rn(t))r=FRe(t,d,u,n);else if(t.type==="diamond"){let[f,p]=De($(d,o),$(d,u),t.angle),[g,v]=De($(d,l),$(d,u),t.angle),[c,h]=De($(a,u),$(d,u),t.angle),[m,U]=De($(s,u),$(d,u),t.angle),b=Math.min(f,g,c,m),w=Math.min(p,v,h,U),E=Math.max(f,g,c,m),x=Math.max(p,v,h,U);r=[b,w,E,x]}else if(t.type==="ellipse"){let f=(s-a)/2,p=(l-o)/2,g=Math.cos(t.angle),v=Math.sin(t.angle),c=Math.hypot(f*g,p*v),h=Math.hypot(p*g,f*v);r=[d-c,u-h,d+c,u+h]}else{let[f,p]=De($(a,o),$(d,u),t.angle),[g,v]=De($(a,l),$(d,u),t.angle),[c,h]=De($(s,l),$(d,u),t.angle),[m,U]=De($(s,o),$(d,u),t.angle),b=Math.min(f,g,c,m),w=Math.min(p,v,h,U),E=Math.max(f,g,c,m),x=Math.max(p,v,h,U);r=[b,w,E,x]}return r}},ee(Ru,"boundsCache",new WeakMap),Ru),Xt=(e,t,n=!1)=>{if(El(e))return DRe(e);if(rn(e))return xt.getElementAbsoluteCoords(e,t,n);if(pt(e)){let r=t?lo(e,t):null;if(ln(r)){let{x:a,y:o}=xt.getBoundTextElementPosition(r,e,t);return[a,o,a+e.width,o+e.height,a+e.width/2,o+e.height/2]}}return[e.x,e.y,e.x+e.width,e.y+e.height,e.x+e.width/2,e.y+e.height/2]},vj=(e,t)=>{let[n,r,a,o,s,l]=Xt(e,t),d=$(s,l);if(rn(e)||El(e)){let U=[],b=0;for(;b<e.points.length-1;)U.push(rr(De($(e.points[b][0]+e.x,e.points[b][1]+e.y),d,e.angle),De($(e.points[b+1][0]+e.x,e.points[b+1][1]+e.y),d,e.angle))),b++;return U}let[u,f,p,g,v,c,h,m]=[[n,r],[a,r],[n,o],[a,o],[s,r],[s,o],[n,l],[a,l]].map(U=>De(U,d,e.angle));return e.type==="diamond"?[rr(v,h),rr(v,m),rr(c,h),rr(c,m)]:e.type==="ellipse"?[rr(v,h),rr(v,m),rr(c,h),rr(c,m),rr(v,h),rr(v,m),rr(c,h),rr(c,m)]:[rr(u,f),rr(p,g),rr(u,p),rr(f,g),rr(u,m),rr(p,m),rr(f,h),rr(g,h)]},BRe=e=>{let t=Math.floor(e.width/2)+1,n=0,r=e.width,a=Math.floor(e.height/2)+1,o=t,s=e.height;return[t,n,r,a,o,s,0,a]},Sb=e=>{for(let t of e.sets)if(t.type==="path")return t.ops;return e.sets[0].ops},yj=(e,t,n,r,a)=>{let o=1-e;return Math.pow(o,3)*t+3*Math.pow(o,2)*e*n+3*o*Math.pow(e,2)*r+Math.pow(e,3)*a},bj=(e,t,n,r)=>{let a=t-e,o=n-t,s=r-n,l=3*a-6*o+3*s,d=6*o-6*a,u=3*a,f=d*d-4*l*u;if(!(f>=0))return!1;let p=null,g=null,v=1/0,c=1/0;return l===0?v=c=-u/d:(v=(-d+Math.sqrt(f))/(2*l),c=(-d-Math.sqrt(f))/(2*l)),v>=0&&v<=1&&(p=yj(v,e,t,n,r)),c>=0&&c<=1&&(g=yj(c,e,t,n,r)),[p,g]},RRe=(e,t,n,r)=>{let a=bj(e[0],t[0],n[0],r[0]),o=bj(e[1],t[1],n[1],r[1]),s=Math.min(e[0],r[0]),l=Math.max(e[0],r[0]);if(a){let f=a.filter(p=>p!==null);s=Math.min(s,...f),l=Math.max(l,...f)}let d=Math.min(e[1],r[1]),u=Math.max(e[1],r[1]);if(o){let f=o.filter(p=>p!==null);d=Math.min(d,...f),u=Math.max(u,...f)}return[s,d,l,u]},M4=(e,t)=>{let n=$(0,0),{minX:r,minY:a,maxX:o,maxY:s}=e.reduce((l,{op:d,data:u})=>{if(d==="move"){let f=$M(u);ml(f!=null,"Op data is not a point"),n=f}else if(d==="bcurveTo"){let f=$(u[0],u[1]),p=$(u[2],u[3]),g=$(u[4],u[5]),v=t?t(f):f,c=t?t(p):p,h=t?t(g):g,m=t?t(n):n;n=g;let[U,b,w,E]=RRe(m,v,c,h);l.minX=Math.min(l.minX,U),l.minY=Math.min(l.minY,b),l.maxX=Math.max(l.maxX,w),l.maxY=Math.max(l.maxY,E)}return l},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[r,a,o,s]},tT=e=>{let t=1/0,n=1/0,r=-1/0,a=-1/0;for(let[o,s]of e)t=Math.min(t,o),n=Math.min(n,s),r=Math.max(r,o),a=Math.max(a,s);return[t,n,r,a]},DRe=e=>{let[t,n,r,a]=tT(e.points),o=t+e.x,s=n+e.y,l=r+e.x,d=a+e.y;return[o,s,l,d,(o+l)/2,(s+d)/2]},PRe=e=>{switch(e){case"arrow":return 25;case"diamond":case"diamond_outline":return 12;default:return 15}},LRe=e=>{switch(e){case"bar":return 90;case"arrow":return 20;default:return 25}},NRe=(e,t,n,r)=>{let a=Sb(t[0]);if(a.length<1)return null;let o=n==="start"?1:a.length-1,s=a[o].data;ml(s.length===6,"Op data length is not 6");let l=$(s[4],s[5]),d=$(s[2],s[3]),u=$(s[0],s[1]),f=a[o-1],p=$(0,0);if(f.op==="move"){let re=$M(f.data);ml(re!=null,"Op data is not a point"),p=re}else f.op==="bcurveTo"&&(p=$(f.data[4],f.data[5]));let g=(re,J)=>Math.pow(1-re,3)*l[J]+3*re*Math.pow(1-re,2)*d[J]+3*Math.pow(re,2)*(1-re)*u[J]+p[J]*Math.pow(re,3),[v,c]=n==="start"?p:l,[h,m]=[g(.3,0),g(.3,1)],U=Math.hypot(v-h,c-m),b=(v-h)/U,w=(c-m)/U,E=PRe(r),x=0;{let[re,J]=n==="end"?e.points[e.points.length-1]:e.points[0],[H,ne]=e.points.length>1?n==="end"?e.points[e.points.length-2]:e.points[1]:[0,0];x=Math.hypot(re-H,J-ne)}let C=Math.min(E,x*(r==="diamond"||r==="diamond_outline"?.25:.5)),I=v-b*C,S=c-w*C;if(r==="dot"||r==="circle"||r==="circle_outline"){let re=Math.hypot(S-c,I-v)+e.strokeWidth-2;return[v,c,re]}let M=LRe(r),[R,D]=De($(I,S),$(v,c),-M*Math.PI/180),[L,j]=De($(I,S),$(v,c),Ty(M));if(r==="diamond"||r==="diamond_outline"){let re,J;if(n==="start"){let[H,ne]=e.points.length>1?e.points[1]:[0,0];[re,J]=De($(v+C*2,c),$(v,c),Math.atan2(ne-c,H-v))}else{let[H,ne]=e.points.length>1?e.points[e.points.length-2]:[0,0];[re,J]=De($(v-C*2,c),$(v,c),Math.atan2(c-ne,v-H))}return[v,c,R,D,re,J,L,j]}return[v,c,R,D,L,j]},$Re=e=>{let t=op.generator(),n=Us(e),r=e.roundness?"curve":n.fill?"polygon":"linearPath";return t[r](e.points,n)},FRe=(e,t,n,r)=>{var u;let a=on(e,r);if(e.points.length<2){let[f,p]=e.points[0],[g,v]=De($(e.x+f,e.y+p),$(t,n),e.angle),c=[g,v,g,v];if(a){let h=xt.getMinMaxXYWithBoundText(e,r,[g,v,g,v],a);c=[h[0],h[1],h[2],h[3]]}return c}let o=((u=Vr.get(e))==null?void 0:u[0])??$Re(e),s=Sb(o),l=M4(s,([f,p])=>De($(e.x+f,e.y+p),$(t,n),e.angle)),d=[l[0],l[1],l[2],l[3]];if(a){let f=xt.getMinMaxXYWithBoundText(e,r,d,a);d=[f[0],f[1],f[2],f[3]]}return d},ef=(e,t)=>TRe.getBounds(e,t),Yn=(e,t)=>{if(!e.length)return[0,0,0,0];let n=1/0,r=-1/0,a=1/0,o=-1/0,s=t||Vt(e);return e.forEach(l=>{let[d,u,f,p]=ef(l,s);n=Math.min(n,d),a=Math.min(a,u),r=Math.max(r,f),o=Math.max(o,p)}),[n,a,r,o]},nT=(e,t)=>{let[n,r,a,o]=Yn(e);return[n+t.x,r+t.y,a+t.x,o+t.y]},Dh=(e,t,n,r)=>{if(!(rn(e)||El(e)))return[e.x,e.y,e.x+t,e.y+n];let a=z8(0,t,z8(1,n,e.points,r),r),o;if(El(e))o=tT(a);else{let f=op.generator(),p=e.roundness?f.curve(a,Us(e)):f.linearPath(a,Us(e)),g=Sb(p);o=M4(g)}let[s,l,d,u]=o;return[s+e.x,l+e.y,d+e.x,u+e.y]},Aj=(e,t)=>{let n=op.generator(),r=e.roundness==null?n.linearPath(t,Us(e)):n.curve(t,Us(e)),a=Sb(r),[o,s,l,d]=M4(a);return[o+e.x,s+e.y,l+e.x,d+e.y]},jRe=(e,t)=>{if(!e.length)return[0,0,0,0];let n=1/0,r=e[0],a=Vt(e);return e.forEach(o=>{let[s,l,d,u]=ef(o,a),f=Yi($((s+d)/2,(l+u)/2),$(t.x,t.y));f<n&&(n=f,r=o)}),ef(r,a)},fc=e=>{let[t,n,r,a]=Yn(e);return{minX:t,minY:n,maxX:r,maxY:a,width:r-t,height:a-n,midX:(t+r)/2,midY:(n+a)/2}},ORe=({scrollX:e,scrollY:t,width:n,height:r,zoom:a})=>[-e,-t,-e+n/a.value,-t+r/a.value],Bq=e=>$(e[0]+(e[2]-e[0])/2,e[1]+(e[3]-e[1])/2);N();N();var io=(e,t)=>[0,0,0,0,t,e,1,0],zRe=(e,t)=>[0,0,0,0,t,e,0,0],i1=(e=0,t=0)=>{let n=[0,0,0,0,0,0,0,0];if(t<0||t>7)throw new Error(`Expected \`index\` between 0 and 7, got \`${t}\``);return e!==0&&(n[t]=e),n},T4=e=>[e[0],e[1],e[2],e[3],-e[4],-e[5],-e[6],-e[7]],QRe=(e,t)=>rT(t)?[e[0]+t,e[1],e[2],e[3],e[4],e[5],e[6],e[7]]:[e[0]+t[0],e[1]+t[1],e[2]+t[2],e[3]+t[3],e[4]+t[4],e[5]+t[5],e[6]+t[6],e[7]+t[7]],wj=(e,t)=>rT(t)?[e[0]-t,e[1],e[2],e[3],e[4],e[5],e[6],e[7]]:[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3],e[4]-t[4],e[5]-t[5],e[6]-t[6],e[7]-t[7]],Nm=(e,t)=>rT(t)?[e[0]*t,e[1]*t,e[2]*t,e[3]*t,e[4]*t,e[5]*t,e[6]*t,e[7]*t]:[HRe(e,t),t[1]*e[0]+t[0]*e[1]-t[4]*e[2]+t[5]*e[3]+t[2]*e[4]-t[3]*e[5]-t[7]*e[6]-t[6]*e[7],t[2]*e[0]+t[0]*e[2]-t[6]*e[3]+t[3]*e[6],t[3]*e[0]+t[6]*e[2]+t[0]*e[3]-t[2]*e[6],t[4]*e[0]+t[2]*e[1]-t[1]*e[2]+t[7]*e[3]+t[0]*e[4]+t[6]*e[5]-t[5]*e[6]+t[3]*e[7],t[5]*e[0]-t[3]*e[1]+t[7]*e[2]+t[1]*e[3]-t[6]*e[4]+t[0]*e[5]+t[4]*e[6]+t[2]*e[7],t[6]*e[0]+t[3]*e[2]-t[2]*e[3]+t[0]*e[6],t[7]*e[0]+t[6]*e[1]+t[5]*e[2]+t[4]*e[3]+t[3]*e[4]+t[2]*e[5]+t[1]*e[6]+t[0]*e[7]],HRe=(e,t)=>t[0]*e[0]+t[2]*e[2]+t[3]*e[3]-t[6]*e[6],GRe=(e,t)=>[t[0]*e[0],t[1]*e[0]+t[0]*e[1],t[2]*e[0]+t[0]*e[2],t[3]*e[0]+t[0]*e[3],t[4]*e[0]+t[2]*e[1]-t[1]*e[2]+t[0]*e[4],t[5]*e[0]-t[3]*e[1]+t[1]*e[3]+t[0]*e[5],t[6]*e[0]+t[3]*e[2]-t[2]*e[3]+t[0]*e[6],t[7]*e[0]+t[6]*e[1]+t[5]*e[2]+t[4]*e[3]+t[3]*e[4]+t[2]*e[5]+t[1]*e[6]],Rq=(e,t)=>[Dq(e,t),e[1]*t[7]+e[4]*t[5]-e[5]*t[4]+e[7]*t[1],e[2]*t[7]-e[4]*t[6]+e[6]*t[4]+e[7]*t[2],e[3]*t[7]+e[5]*t[6]-e[6]*t[5]+e[7]*t[3],e[4]*t[7]+e[7]*t[4],e[5]*t[7]+e[7]*t[5],e[6]*t[7]+e[7]*t[6],e[7]*t[7]],Dq=(e,t)=>e[0]*t[7]+e[1]*t[6]+e[2]*t[5]+e[3]*t[4]+e[4]*t[3]+e[5]*t[2]+e[6]*t[1]+e[7]*t[0],WRe=(e,t)=>[t[0]*e[0]+t[2]*e[2]+t[3]*e[3]-t[6]*e[6],t[1]*e[0]+t[0]*e[1]-t[4]*e[2]+t[5]*e[3]+t[2]*e[4]-t[3]*e[5]-t[7]*e[6]-t[6]*e[7],t[2]*e[0]+t[0]*e[2]-t[6]*e[3]+t[3]*e[6],t[3]*e[0]+t[6]*e[2]+t[0]*e[3]-t[2]*e[6],t[4]*e[0]+t[7]*e[3]+t[0]*e[4]+t[3]*e[7],t[5]*e[0]+t[7]*e[2]+t[0]*e[5]+t[2]*e[7],t[6]*e[0]+t[0]*e[6],t[7]*e[0]+t[0]*e[7]],Pq=e=>Math.sqrt(Math.abs(e[0]*e[0]-e[2]*e[2]-e[3]*e[3]+e[6]*e[6])),VRe=e=>Math.sqrt(Math.abs(e[7]*e[7]-e[5]*e[5]-e[4]*e[4]+e[1]*e[1])),B4=e=>{let t=Pq(e);if(t===0||t===1)return e;let n=e[6]<0?-1:1;return Nm(e,n/t)},YRe=e=>{let t=VRe(e);return t===0||t===1?e:Nm(e,1/t)},rT=e=>typeof e=="number";i1(1,1);i1(1,2);i1(1,3);i1(1,4);i1(1,5);i1(1,6);i1(1,7);N();N();var oS=(e,t,n)=>B4([0,n,e,t,0,0,0,0]),Ib=(e,t)=>B4(Rq(t,e)),KRe=(e,t)=>WRe(e,t),XRe=(e,t)=>KRe(Ib(e,t),t),ZRe=e=>Math.sign(e[1]),$m=([e,t])=>[0,0,0,0,t,e,1,0],Fm=e=>[e[5],e[4]],qRe=e=>[0,0,0,0,Math.abs(e[4]),Math.abs(e[5]),1,0],JRe=(e,t)=>B4(GRe(e,t)),Ej=(e,t)=>Pq(Rq(e,t)),G0=(e,t)=>Dq(e,t);N();var Lq=e=>[0,0,0,0,e[4],e[5],0,0],eDe=(e,t)=>YRe([0,0,0,0,t[4]-e[4],t[5]-e[5],0,0]);N();var Nq=(e,t)=>QRe(Nm(e,Math.sin(t/2)),Math.cos(t/2)),tDe=e=>[1,0,0,0,-(.5*e[5]),.5*e[4],0,0],nDe=(e,t)=>{let n=.5*t;return[1,0,0,0,n*e[4],n*e[5],0,0]},rDe=(e,t)=>Nm(t,e),vd=(e,t)=>B4(Nm(Nm(e,t),T4(e)));N();N();var iDe=(e,t)=>{let[n,r,a,o]=t,{x:s,y:l}=ic({sceneX:n,sceneY:r},e),{x:d,y:u}=ic({sceneX:a,sceneY:o},e);return d-s>e.width||u-l>e.height},$q=({scenePoint:e,viewportDimensions:t,zoom:n,offsets:r})=>{let a=(t.width-((r==null?void 0:r.right)??0))/2/n.value-e.x;a+=((r==null?void 0:r.left)??0)/2/n.value;let o=(t.height-((r==null?void 0:r.bottom)??0))/2/n.value-e.y;return o+=((r==null?void 0:r.top)??0)/2/n.value,{scrollX:a,scrollY:o}},$y=(e,t)=>{if(e=gNe(e),!e.length)return{scrollX:0,scrollY:0};let[n,r,a,o]=Yn(e);iDe(t,[n,r,a,o])&&([n,r,a,o]=jRe(e,Ur({clientX:t.scrollX,clientY:t.scrollY},t)));let s=(n+a)/2,l=(r+o)/2;return $q({scenePoint:{x:s,y:l},viewportDimensions:{width:t.width,height:t.height},zoom:t.zoom})};N();var Tu=e=>Rn(Fu(e,6),RM,DM),aDe=e=>Rn(Math.round(e),1,100),Fq=e=>Rn(Math.round(e),1,100);N();var Ki=[1,0],Ro=[0,1],Do=[-1,0],Po=[0,-1],S5=(e,t)=>{let n=Eb(Math.atan2(t[1]-e[1],t[0]-e[0]));return n>=315||n<45?Po:n>=45&&n<135?Ki:n>=135&&n<225?Ro:Do},jm=e=>{let[t,n]=e,r=Math.abs(t),a=Math.abs(n);return t>a?Ki:t<=-a?Do:n>r?Ro:Po},Es=(e,t)=>e[0]===t[0]&&e[1]===t[1],iT=(e,t,n)=>{let r=Bq(t);if(e.type==="diamond"){if(n[0]<e.x)return Do;if(n[1]<e.y)return Po;if(n[0]>e.x+e.width)return Ki;if(n[1]>e.y+e.height)return Ro;let d=De(su($(e.x+e.width/2,e.y),r,2),r,e.angle),u=De(su($(e.x+e.width,e.y+e.height/2),r,2),r,e.angle),f=De(su($(e.x+e.width/2,e.y+e.height),r,2),r,e.angle),p=De(su($(e.x,e.y+e.height/2),r,2),r,e.angle);return M1([d,u,r],n)?S5(d,u):M1([u,f,r],n)?S5(u,f):M1([f,p,r],n)?S5(f,p):S5(p,d)}let a=su($(t[0],t[1]),r,2),o=su($(t[2],t[1]),r,2),s=su($(t[0],t[3]),r,2),l=su($(t[2],t[3]),r,2);return M1([a,o,r],n)?Po:M1([o,l,r],n)?Ki:M1([l,s,r],n)?Ro:Do},oDe=e=>[e[0]===0?0:e[0]>0?-1:1,e[1]===0?0:e[1]>0?-1:1],sDe=e=>!e[ie.CTRL_OR_CMD],u0=e=>e.isBindingEnabled,vr=5,aT=10,oT=4,lDe=(e,t)=>{let n=[];return t.forEach(r=>{let a=e.getNonDeletedElement(r);a!=null&&n.push(a)}),n},R4=(e,t,n,r,a)=>{let o=new Set,s=new Set;xj(e,t,n,"start",o,s,r),xj(e,n,t,"end",o,s,r);let l=Array.from(s).filter(d=>!o.has(d));lDe(a,l).forEach(d=>{var u;Qe(d,{boundElements:(u=d.boundElements)==null?void 0:u.filter(f=>f.type!=="arrow"||f.id!==e.id)})})},xj=(e,t,n,r,a,o,s)=>{if(t!=="keep"){if(t===null){let l=hDe(e,r);l!=null&&o.add(l);return}Qq(e)?(n==null||(n==="keep"?!Oq(e,t,r):r==="start"||n.id!==t.id))&&(Sd(e,t,r,s),a.add(t.id)):(Sd(e,t,r,s),a.add(t.id))}},cDe=(e,t,n,r)=>{var s,l;let a=Hq(e,t,n),o=t==="start"?(s=e.startBinding)==null?void 0:s.elementId:(l=e.endBinding)==null?void 0:l.elementId;if(o){let d=n.get(o);if(Xu(d)&&Vq(d,a,n,r))return d}return null},jq=(e,t,n)=>["start","end"].map(r=>cDe(e,r,t,n)),dDe=(e,t,n,r,a,o)=>{let s=e.points.length-1,l=n.findIndex(p=>p===0)>-1,d=n.findIndex(p=>p===s)>-1,u=l?t?Lg(e,"start",r,a,o):null:Lg(e,"start",r,a,o),f=d?t?Lg(e,"end",r,a,o):null:Lg(e,"end",r,a,o);return[u,f]},uDe=(e,t,n,r,a)=>{let[o,s]=jq(e,t,a),l=o&&r?Lg(e,"start",t,n,a):null,d=s&&r?Lg(e,"end",t,n,a):null;return[l,d]},Q8=(e,t,n,r,a,o,s)=>{e.forEach(l=>{let[d,u]=o!=null&&o.length?dDe(l,a,o??[],t,n,s):uDe(l,t,n,a,s);R4(l,d,u,t,r)})},jx=(e,t,n)=>e.length>50?[]:e.filter(rn).flatMap(r=>jq(r,t,n)).filter(r=>r!==null).filter(r=>e.filter(a=>a.id===(r==null?void 0:r.id)).length===0),sS=(e,t,n,r,a)=>{t.startBoundElement!=null&&Sd(e,t.startBoundElement,"start",r);let o=dl(n,a,r,t.zoom,Wt(e)&&Wt(e));o!==null&&(Oq(e,o,"end")||Sd(e,o,"end",r))},fDe=(e,t)=>{let n=e.gap,r=kb(t,t.width,t.height);return n>r&&(n=aT+oT),{...e,gap:n}},Sd=(e,t,n,r)=>{if(!ln(e))return;let a={elementId:t.id,...fDe(pDe(e,t,n,r),t),...Wt(e)?G8(e,t,n,r):{fixedPoint:null}};Qe(e,{[n==="start"?"startBinding":"endBinding"]:a}),Vt(t.boundElements||[]).has(e.id)||Qe(t,{boundElements:(t.boundElements||[]).concat({id:e.id,type:"arrow"})}),Wt(e)||_s(t,r)},Oq=(e,t,n)=>{let r=e[n==="start"?"endBinding":"startBinding"];return zq(e,r==null?void 0:r.elementId,t)},zq=(e,t,n)=>t===n.id&&Qq(e),Qq=e=>e.points.length<3,hDe=(e,t)=>{let n=t==="start"?"startBinding":"endBinding",r=e[n];return r==null?null:(Qe(e,{[n]:null}),r.elementId)},dl=(e,t,n,r,a)=>CRe(t,o=>Xu(o,!1)&&Vq(o,e,n,r,a)),pDe=(e,t,n,r)=>{let a=n==="start"?-1:1,o=a===-1?0:e.points.length-1,s=o-a,l=xt.getPointAtIndexGlobalCoordinates(e,o,r),d=xt.getPointAtIndexGlobalCoordinates(e,s,r);return{focus:SDe(t,d,l,r),gap:Math.max(1,Mb(t,l,r))}},_s=(e,t,n)=>{let{newSize:r,simultaneouslyUpdated:a,changedElements:o,zoom:s}=n??{},l=mDe(a);Xu(e)&&W8(t,e,d=>{var g,v;if(!rn(d)||d.isDeleted||!gDe(d,e))return;let u={startBinding:_j(e,d.startBinding,r),endBinding:_j(e,d.endBinding,r)};if(l.has(d.id)){Qe(d,u);return}let f=V8(t,d,(c,h)=>{var m;if(c&&Xu(c)&&(h==="startBinding"||h==="endBinding")&&e.id===((m=d[h])==null?void 0:m.elementId)){let U=wDe(d,h,u[h],c,t);if(U)return{index:h==="startBinding"?0:d.points.length-1,point:U}}return null}).filter(c=>c!==null);xt.movePoints(d,f,t,{...e.id===((g=d.startBinding)==null?void 0:g.elementId)?{startBinding:u.startBinding}:{},...e.id===((v=d.endBinding)==null?void 0:v.elementId)?{endBinding:u.endBinding}:{}},{changedElements:o,zoom:s});let p=on(d,t);p&&!p.isDeleted&&Tb(d,t,!1)})},gDe=(e,t)=>{var n,r;return((n=e.startBinding)==null?void 0:n.elementId)===t.id||((r=e.endBinding)==null?void 0:r.elementId)===t.id},mDe=e=>new Set((e||[]).map(t=>t.id)),UDe=(e,t,n,r,a,o,s)=>{let l=jm(sr(t,e));return!n||!r?l:vDe(o,n,a,s)?iT(n,r,e):jm(sr(e,$(n.x+n.width/2,n.y+n.height/2)))},vDe=(e,t,n,r)=>{let a=Mb(t,e,n),o=kb(t,t.width,t.height,r);return a>o?null:a},H8=(e,t,n,r)=>{let a=n&&nd(n);if(n&&a){let o=iT(n,a,e),s=[...lS(n,$(e[0],e[1]-2*n.height),$(e[0],e[1]+2*n.height),vr,r)??[],...lS(n,$(e[0]-2*n.width,e[1]),$(e[0]+2*n.width,e[1]),vr,r)??[]],l=Es(o,Do)||Es(o,Ki),d=Math.abs(Mb(n,e,r)),u=l?d<n.width*-.1:d<n.height*-.1;return s.sort((f,p)=>xF(f,e)-xF(p,e)),u?yDe(t,n,a):s.filter(f=>l?Math.abs(e[1]-f[1])<.1:Math.abs(e[0]-f[0])<.1)[0]??e}return e},yDe=(e,t,n)=>{let r=Bq(n),a=jm(sr(e,r));switch(!0){case Es(a,Po):return De($((n[0]+n[2])/2+.1,n[1]),r,t.angle);case Es(a,Ki):return De($(n[2],(n[1]+n[3])/2+.1),r,t.angle);case Es(a,Ro):return De($((n[0]+n[2])/2-.1,n[3]),r,t.angle);default:return De($(n[0],(n[1]+n[3])/2-.1),r,t.angle)}},bDe=(e,t)=>{let n=$(e.x+e.width/2,e.y+e.height/2),r=De(t,n,-e.angle);return r[0]<e.x&&r[1]<e.y?r[1]-e.y>-vr?De($(e.x-vr,e.y),n,e.angle):De($(e.x,e.y-vr),n,e.angle):r[0]<e.x&&r[1]>e.y+e.height?r[0]-e.x>-vr?De($(e.x,e.y+e.height+vr),n,e.angle):De($(e.x-vr,e.y+e.height),n,e.angle):r[0]>e.x+e.width&&r[1]>e.y+e.height?r[0]-e.x<e.width+vr?De($(e.x+e.width,e.y+e.height+vr),n,e.angle):De($(e.x+e.width+vr,e.y+e.height),n,e.angle):r[0]>e.x+e.width&&r[1]<e.y?r[0]-e.x<e.width+vr?De($(e.x+e.width,e.y-vr),n,e.angle):De($(e.x+e.width+vr,e.y),n,e.angle):t},ADe=(e,t,n=.05)=>{let{x:r,y:a,width:o,height:s,angle:l}=e,d=$(r+o/2-.1,a+s/2-.1),u=De(t,d,-l),f=Rn(n*s,5,80),p=Rn(n*o,5,80);return u[0]<=r+o/2&&u[1]>d[1]-f&&u[1]<d[1]+f?De($(r-vr,d[1]),d,l):u[1]<=a+s/2&&u[0]>d[0]-p&&u[0]<d[0]+p?De($(d[0],a-vr),d,l):u[0]>=r+o/2&&u[1]>d[1]-f&&u[1]<d[1]+f?De($(r+o+vr,d[1]),d,l):u[1]>=a+s/2&&u[0]>d[0]-p&&u[0]<d[0]+p?De($(d[0],a+s+vr),d,l):t},wDe=(e,t,n,r,a)=>{if(n==null||n.elementId!==r.id&&e.points.length>2)return null;let o=t==="startBinding"?-1:1,s=o===-1?0:e.points.length-1;if(Wt(e)&&P8(n)){let p=D4(n.fixedPoint)??G8(e,r,t==="startBinding"?"start":"end",a).fixedPoint,g=$(r.x+r.width/2,r.y+r.height/2),v=$(r.x+p[0]*r.width,r.y+p[1]*r.height),c=De(v,g,r.angle);return xt.pointFromAbsoluteCoords(e,c,a)}let l=s-o,d=xt.getPointAtIndexGlobalCoordinates(e,l,a),u=IDe(r,n.focus,d,a),f;if(n.gap===0)f=u;else{let p=lS(r,d,u,n.gap,a);!p||p.length===0?f=u:f=p[0]}return xt.pointFromAbsoluteCoords(e,f,a)},G8=(e,t,n,r)=>{let a=[t.x,t.y,t.x+t.width,t.y+t.height],o=n==="start"?0:e.points.length-1,s=xt.getPointAtIndexGlobalCoordinates(e,o,r),l=xt.getPointAtIndexGlobalCoordinates(e,o,r),d=H8(s,l,t,r),u=$(a[0]+(a[2]-a[0])/2,a[1]+(a[3]-a[1])/2),f=De(d,u,-t.angle);return{fixedPoint:D4([(f[0]-t.x)/t.width,(f[1]-t.y)/t.height])}},_j=(e,t,n)=>{if(t==null||n==null)return t;let{width:r,height:a}=n,{width:o,height:s}=e,l=Math.max(1,Math.min(kb(e,r,a),t.gap*(r<a?r/o:a/s)));return{...t,gap:l}},Lg=(e,t,n,r,a)=>dl(Hq(e,t,n),r,n,a),Hq=(e,t,n)=>{let r=t==="start"?0:-1;return cl(xt.getPointAtIndexGlobalCoordinates(e,r,n))},Gq=(e,t,n,r)=>{let a=new Set,o=new Set,s=r==="duplicatesServeAsOld",l=new Map([...n].map(([d,u])=>[u,d]));t.forEach(d=>{let{boundElements:u}=d;if(u!=null&&u.length>0&&(u.forEach(f=>{s&&!n.has(f.id)&&a.add(f.id)}),o.add(n.get(d.id))),ad(d)){if(d.startBinding!=null){let{elementId:f}=d.startBinding;s&&!n.has(f)&&o.add(f)}if(d.endBinding!=null){let{elementId:f}=d.endBinding;s&&!n.has(f)&&o.add(f)}(d.startBinding!=null||d.endBinding!=null)&&a.add(n.get(d.id))}}),e.filter(({id:d})=>a.has(d)).forEach(d=>{let{startBinding:u,endBinding:f}=d;Qe(d,{startBinding:Cj(u,n),endBinding:Cj(f,n)})}),e.filter(({id:d})=>o.has(d)).forEach(d=>{var p;let u=l.get(d.id),f=(p=e.find(({id:g})=>g===u))==null?void 0:p.boundElements;f&&f.length>0&&Qe(d,{boundElements:f.map(g=>n.has(g.id)?{id:n.get(g.id),type:g.type}:g)})})},Cj=(e,t)=>e==null?null:{...e,elementId:t.get(e.elementId)??e.elementId},Wq=(e,t)=>{let n=Vt(e);for(let r of t)ZU.unbindAffected(n,r,Qe),qU.unbindAffected(n,r,Qe)},Fv=(e,t,n=[])=>{if(!e)return null;let r=e.filter(a=>!t.has(a.id));return r.push(...n.map(a=>({id:a.id,type:a.type}))),r},Vq=(e,{x:t,y:n},r,a,o)=>{let s=kb(e,e.width,e.height,a),l=Au(e,r);return JC($(t,n),l,s)||o===!0&&Pg($(t,n),nd(e))},kb=(e,t,n,r)=>{let a=r!=null&&r.value&&r.value<1?r.value:1,o=(e.type==="diamond"?1/Math.sqrt(2):1)*Math.min(t,n);return Math.max(16,Math.min(.25*o,32),aT/a+oT)},Mb=(e,t,n)=>{switch(e.type){case"rectangle":case"image":case"text":case"iframe":case"embeddable":case"frame":case"magicframe":return EDe(e,t,n);case"diamond":return xDe(e,t,n);case"ellipse":return _De(e,t,n)}},EDe=(e,t,n)=>{let[,r,a,o]=sT(e,t,n);return Math.max(G0(r,oS(0,1,-o)),G0(r,oS(1,0,-a)))},xDe=(e,t,n)=>{let[,r,a,o]=sT(e,t,n),s=oS(o,a,-o*a);return G0(r,s)},_De=(e,t,n)=>{let[r,a]=CDe(e,t,n);return-ZRe(a)*G0(r,a)},CDe=(e,t,n)=>{let[,r,a,o]=sT(e,t,n),[s,l]=Fm(r),d=.707,u=.707,f=a,p=o;[0,1,2,3].forEach(c=>{let h=f*d,m=p*u,U=(f*f-p*p)*d**3/f,b=(p*p-f*f)*u**3/p,w=h-U,E=m-b,x=s-U,C=l-b,I=Math.hypot(E,w),S=Math.hypot(C,x);d=Math.min(1,Math.max(0,(x*I/S+U)/f)),u=Math.min(1,Math.max(0,(C*I/S+b)/p));let M=Math.hypot(u,d);d/=M,u/=M});let g=io(f*d,p*u),v=XRe(r,g);return[r,v]},sT=(e,t,n)=>{let r=$m(t),[a,o,s,l]=Xt(e,n),d=cT(a,o,s,l),u=Nq(d,e.angle),f=vd(u,r),p=wj(f,Lq(d)),g=qRe(p),v=zRe(e.x,e.y),c=wj(f,v),h=(s-a)/2,m=(l-o)/2;return[c,g,h,m]},lT=(e,t)=>{let[n,r,a,o]=Xt(e,t),s=cT(n,r,a,o),l=Nq(s,e.angle),d=T4(tDe(Lq(s)));return rDe(l,d)},cT=(e,t,n,r)=>io((e+n)/2,(t+r)/2),SDe=(e,t,n,r)=>{let a=lT(e,r),o=vd(a,$m(t)),s=vd(a,$m(n)),l=Ib(o,s),d=e.height/e.width,u=e.width/2,f=e.height/2,p=l[2],g=l[3],v=l[1],c=Math.abs(g),h=Math.abs(p),m;switch(e.type){case"rectangle":case"image":case"text":case"iframe":case"embeddable":case"frame":case"magicframe":m=v/(u*(h+d*c));break;case"diamond":m=c<h?v/(h*u):v/(c*f);break;case"ellipse":m=v/(u*Math.sqrt(p**2+d**2*g**2));break}return m||0},IDe=(e,t,n,r)=>{if(t===0){let[d,u,f,p]=Xt(e,r),g=cT(d,u,f,p);return Fm(g)}let a=lT(e,r),o=vd(a,$m(n)),s=T4(a),l;switch(e.type){case"rectangle":case"image":case"text":case"diamond":case"iframe":case"embeddable":case"frame":case"magicframe":l=PDe(e,t,o);break;case"ellipse":l=DDe(e,t,o);break}return Fm(vd(s,l))},lS=(e,t,n,r=0,a)=>{if(S_e(e))return KBe(e,rr(t,n),r);let o=lT(e,a),s=vd(o,$m(t)),l=vd(o,$m(n)),d=Ib(s,l),u=T4(o);return kDe(e,d,s,r).map(f=>Fm(vd(u,f)))},kDe=(e,t,n,r=0)=>{let a;switch(e.type){case"rectangle":case"image":case"text":case"diamond":case"iframe":case"embeddable":case"frame":case"magicframe":let s=Yq(e);a=s.flatMap((l,d)=>{let u=[l,s[(d+1)%4]];return MDe(t,TDe(u,r))}).concat(s.flatMap(l=>RDe(l,r,t)));break;case"ellipse":a=BDe(e,r,t);break}if(a.length<2)return[];let o=a.sort((s,l)=>Ej(s,n)-Ej(l,n));return[o[0],o[o.length-1]]},Yq=(e,t=1)=>{let n=t*e.width/2,r=t*e.height/2;switch(e.type){case"rectangle":case"image":case"text":case"iframe":case"embeddable":case"frame":case"magicframe":return[io(n,r),io(n,-r),io(-n,-r),io(-n,r)];case"diamond":return[io(0,r),io(n,0),io(0,-r),io(-n,0)]}},MDe=(e,t)=>{let[n,r]=t,a=G0(n,e),o=G0(r,e);return a*o>=0?[]:[JRe(e,Ib(n,r))]},TDe=(e,t)=>{let[n,r]=e,a=nDe(eDe(n,r),t);return[vd(a,n),vd(a,r)]},BDe=(e,t,n)=>{let r=e.width/2+t,a=e.height/2+t,o=n[2],s=n[3],l=n[1],d=r*r*o*o+a*a*s*s,u=d-l*l;if(d===0||u<=0)return[];let f=Math.sqrt(u),p=-r*r*o*l,g=-a*a*s*l;return[io((p+r*a*s*f)/d,(g-r*a*o*f)/d),io((p-r*a*s*f)/d,(g+r*a*o*f)/d)]},RDe=(e,t,n)=>{if(t===0)return G0(n,e)===0?[e]:[];let r=n[2],a=n[3],o=n[1],[s,l]=Fm(e),d=t,u=r*r+a*a,f=d*d*u-(r*s+a*l+o)**2;if(u===0||f<=0)return[];let p=Math.sqrt(f),g=s*a*a-l*r*a-r*o,v=l*r*r-s*r*a-a*o;return[io((g+a*p)/u,(v-r*p)/u),io((g-a*p)/u,(v+r*p)/u)]},DDe=(e,t,n)=>{let r=Math.abs(t),a=e.width*r/2,o=e.height*r/2,s=Math.sign(t),[l,d]=Fm(n),u=d===0?1e-4:d,f=l**2*o**2+u**2*a**2,p=(-l*o**2+s*u*Math.sqrt(Math.max(0,f-a**2*o**2)))/f,g=(-p*l-1)/u;g===0&&(g=(Object.is(g,-0)?-1:1)*.01);let v=-(a**2*p)/(g**2*o**2+p**2*a**2);return io(v,(-p*v-1)/g)},PDe=(e,t,n)=>{let r=Math.abs(t),a=Math.sign(t),o=Yq(e,r),s=0,l=null;return o.forEach(d=>{let u=a*Ib(n,d)[1];u>s&&(s=u,l=d)}),l},LDe=new Set(["boundElements","frameId","containerId","startBinding","endBinding"]),W8=(e,t,n)=>{var r;Xu(t)&&(((r=t.boundElements)==null?void 0:r.slice())??[]).forEach(({id:a})=>{n(e.get(a),"boundElements",a)})},V8=(e,t,n)=>{let r=[];if(t.frameId){let a=t.frameId;r.push(n(e.get(a),"frameId",a))}if(bi(t)){let a=t.containerId;r.push(n(e.get(a),"containerId",a))}if(ln(t)){if(t.startBinding){let a=t.startBinding.elementId;r.push(n(e.get(a),"startBinding",a))}if(t.endBinding){let a=t.endBinding.elementId;r.push(n(e.get(a),"endBinding",a))}}return r},X9,ZU=(X9=class{static unbindAffected(t,n,r){n&&V8(t,n,a=>{!a||a.isDeleted||W8(t,a,(o,s,l)=>{l===n.id&&r(a,{boundElements:Fv(a.boundElements,new Set([l]))})})})}},ee(X9,"rebindAffected",(t,n,r)=>{!n||n.isDeleted||V8(t,n,(a,o)=>{var s,l;if(!a||a.isDeleted){r(n,{[o]:null});return}o!=="frameId"&&((s=a.boundElements)!=null&&s.find(d=>d.id===n.id)||(ln(n)&&r(a,{boundElements:Fv(a.boundElements,new Set,new Array(n))}),pt(n)&&((l=a.boundElements)!=null&&l.find(d=>d.type==="text")?r(n,{[o]:null}):r(a,{boundElements:Fv(a.boundElements,new Set,new Array(n))}))))})}),X9),Z9,qU=(Z9=class{static unbindAffected(t,n,r){n&&W8(t,n,a=>{!a||a.isDeleted||V8(t,a,(o,s,l)=>{l===n.id&&r(a,{[s]:null})})})}},ee(Z9,"rebindAffected",(t,n,r)=>{!n||n.isDeleted||W8(t,n,(a,o,s)=>{var l,d;if(!a||a.isDeleted){r(n,{boundElements:Fv(n.boundElements,new Set([s]))});return}pt(a)&&(((d=(((l=n.boundElements)==null?void 0:l.slice())??[]).reverse().find(u=>u.type==="text"))==null?void 0:d.id)===a.id?a.containerId!==n.id&&r(a,{containerId:n.id}):(a.containerId!==null&&r(a,{containerId:null}),r(n,{boundElements:Fv(n.boundElements,new Set([a.id]))})))})}),Z9),cS=(e,t)=>{let[n,r]=D4(e);return De($(t.x+t.width*n,t.y+t.height*r),$(t.x+t.width/2,t.y+t.height/2),t.angle)},NDe=(e,t)=>{let n=e.startBinding&&t.get(e.startBinding.elementId),r=e.endBinding&&t.get(e.endBinding.elementId),a=n&&e.startBinding?cS(e.startBinding.fixedPoint,n):$(e.x+e.points[0][0],e.y+e.points[0][1]),o=r&&e.endBinding?cS(e.endBinding.fixedPoint,r):$(e.x+e.points[e.points.length-1][0],e.y+e.points[e.points.length-1][1]);return[a,o]},$De=(e,t)=>{let[n,r]=NDe(e,t);return[xt.pointFromAbsoluteCoords(e,n,t),xt.pointFromAbsoluteCoords(e,r,t)]},D4=e=>e&&(e[0]===.5||e[1]===.5)?e.map(t=>t===.5?.5001:t):e;N();N();var FDe=class{constructor(e){ee(this,"content",[]);this.scoreFunction=e}sinkDown(e){let t=this.content[e];for(;e>0;){let n=(e+1>>1)-1,r=this.content[n];if(this.scoreFunction(t)<this.scoreFunction(r))this.content[n]=t,this.content[e]=r,e=n;else break}}bubbleUp(e){let t=this.content.length,n=this.content[e],r=this.scoreFunction(n);for(;;){let a=e+1<<1,o=a-1,s=null,l=0;if(o<t){let d=this.content[o];l=this.scoreFunction(d),l<r&&(s=o)}if(a<t){let d=this.content[a];this.scoreFunction(d)<(s===null?r:l)&&(s=a)}if(s!==null)this.content[e]=this.content[s],this.content[s]=n,e=s;else break}}push(e){this.content.push(e),this.sinkDown(this.content.length-1)}pop(){if(this.content.length===0)return null;let e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e}remove(e){if(this.content.length===0)return;let t=this.content.indexOf(e),n=this.content.pop();t<this.content.length&&(this.content[t]=n,this.scoreFunction(n)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))}size(){return this.content.length}rescoreElement(e){this.sinkDown(this.content.indexOf(e))}},Ic=40,W0=(e,t,n,r,a,o)=>{let s=Kq(e,t,n,r,o);s?Qe(e,{...a,...s,angle:0},o==null?void 0:o.informMutation):console.error("Elbow arrow cannot find a route")},Kq=(e,t,n,r,a)=>{var J,H;let o=Dg(Dg(n[0],Vi(e.x,e.y)),r),s=Dg(Dg(n[n.length-1],Vi(e.x,e.y)),r),l=e.startBinding&&Ij(e.startBinding.elementId,t),d=e.endBinding&&Ij(e.endBinding.elementId,t),[u,f]=a!=null&&a.isDragging?KDe(o,s,t,a==null?void 0:a.zoom):[l,d],p=kj((J=e.startBinding)==null?void 0:J.fixedPoint,o,s,t,l,u,a==null?void 0:a.isDragging),g=kj((H=e.endBinding)==null?void 0:H.fixedPoint,s,o,t,d,f,a==null?void 0:a.isDragging),v=Tj(p,g,t,u,o),c=Tj(g,p,t,f,s),h=[p[0]-2,p[1]-2,p[0]+2,p[1]+2],m=[g[0]-2,g[1]-2,g[0]+2,g[1]+2],U=u?nd(u,Bf(v,e.startArrowhead?vr*6:vr*2,1)):h,b=f?nd(f,Bf(c,e.endArrowhead?vr*6:vr*2,1)):m,w=Pg(p,f?nd(f,Bf(c,Ic,Ic)):m)||Pg(g,u?nd(u,Bf(v,Ic,Ic)):h),E=Xq(w?[h,m]:[U,b]),x=zDe(w?h:U,w?m:b,E,w?Bf(v,!u&&!f?0:Ic,0):Bf(v,!u&&!f?0:Ic-(e.startArrowhead?vr*6:vr*2),Ic),w?Bf(c,!u&&!f?0:Ic,0):Bf(c,!u&&!f?0:Ic-(e.endArrowhead?vr*6:vr*2),Ic),w,u&&nd(u),f&&nd(f)),C=Sj(x[0],v,p),I=Sj(x[1],c,g),S=QDe(x,C||p,v,I||g,c,E),M=C&&I5(C,S),R=I&&I5(I,S),D=I5(g,S);D&&f&&(D.closed=!0);let L=I5(p,S);L&&e.startBinding&&(L.closed=!0);let j=M&&R&&(Pg(M.pos,x[1])||Pg(R.pos,x[0])),re=jDe(M||L,R||D,S,v||Ki,c||Ki,j?[]:x);if(re){let ne=re.map(Z=>[Z.pos[0],Z.pos[1]]);return M&&ne.unshift(p),R&&ne.push(g),WDe(VDe(ne),0,0)}return null},Bf=(e,t,n)=>{switch(e){case Po:return[t,n,n,n];case Ki:return[n,t,n,n];case Ro:return[n,n,t,n]}return[n,n,n,t]},jDe=(e,t,n,r,a,o)=>{let s=Ox(e.pos,t.pos),l=new FDe(d=>d.f);for(l.push(e);l.size()>0;){let d=l.pop();if(!d||d.closed)continue;if(d===t)return ODe(e,d);d.closed=!0;let u=GDe(d.addr,n);for(let f=0;f<4;f++){let p=u[f];if(!p||p.closed)continue;let g=su(p.pos,d.pos,.5);if(x_e(...o.map(w=>Pg(g,w))))continue;let v=YDe(f),c=d.parent?jm(sr(d.pos,d.parent.pos)):r,h=oDe(c);if(Es(h,v)||Bj(e.addr,p.addr)&&Es(v,r)||Bj(t.addr,p.addr)&&Es(v,a))continue;let m=c!==v,U=d.g+Ox(p.pos,d.pos)+(m?Math.pow(s,3):0),b=p.visited;if(!b||U<p.g){let w=HDe(p,t,v,a);p.visited=!0,p.parent=d,p.h=Ox(t.pos,p.pos)+w*Math.pow(s,2),p.g=U,p.f=p.g+p.h,b?l.rescoreElement(p):l.push(p)}}}return null},ODe=(e,t)=>{let n=t,r=[];for(;n.parent;)r.unshift(n),n=n.parent;return r.unshift(e),r},Ox=(e,t)=>Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1]),zDe=(e,t,n,r,a,o,s,l)=>{let d=s??e,u=l??t,[f,p,g,v]=r??[0,0,0,0],[c,h,m,U]=a??[0,0,0,0],b=[e[0]>t[2]?e[1]>t[3]||e[3]<t[1]?Math.min((d[0]+u[2])/2,e[0]-v):(d[0]+u[2])/2:e[0]>t[0]?e[0]-v:n[0]-v,e[1]>t[3]?e[0]>t[2]||e[2]<t[0]?Math.min((d[1]+u[3])/2,e[1]-f):(d[1]+u[3])/2:e[1]>t[1]?e[1]-f:n[1]-f,e[2]<t[0]?e[1]>t[3]||e[3]<t[1]?Math.max((d[2]+u[0])/2,e[2]+p):(d[2]+u[0])/2:e[2]<t[2]?e[2]+p:n[2]+p,e[3]<t[1]?e[0]>t[2]||e[2]<t[0]?Math.max((d[3]+u[1])/2,e[3]+g):(d[3]+u[1])/2:e[3]<t[3]?e[3]+g:n[3]+g],w=[t[0]>e[2]?t[1]>e[3]||t[3]<e[1]?Math.min((u[0]+d[2])/2,t[0]-U):(u[0]+d[2])/2:t[0]>e[0]?t[0]-U:n[0]-U,t[1]>e[3]?t[0]>e[2]||t[2]<e[0]?Math.min((u[1]+d[3])/2,t[1]-c):(u[1]+d[3])/2:t[1]>e[1]?t[1]-c:n[1]-c,t[2]<e[0]?t[1]>e[3]||t[3]<e[1]?Math.max((u[2]+d[0])/2,t[2]+h):(u[2]+d[0])/2:t[2]<e[2]?t[2]+h:n[2]+h,t[3]<e[1]?t[0]>e[2]||t[2]<e[0]?Math.max((u[3]+d[1])/2,t[3]+m):(u[3]+d[1])/2:t[3]<e[3]?t[3]+m:n[3]+m],E=Xq([b,w]);if(!o&&b[2]-b[0]+w[2]-w[0]>E[2]-E[0]+1e-11&&b[3]-b[1]+w[3]-w[1]>E[3]-E[1]+1e-11){let[x,C]=[(w[0]+w[2])/2,(w[1]+w[3])/2];if(t[0]>e[2]&&e[1]>t[3]){let I=b[2]+(w[0]-b[2])/2,S=w[3]+(b[1]-w[3])/2;return Mu(Vi(e[2]-x,e[1]-C),Vi(e[0]-x,e[3]-C))>0?[[b[0],b[1],I,b[3]],[I,w[1],w[2],w[3]]]:[[b[0],S,b[2],b[3]],[w[0],w[1],w[2],S]]}else if(e[2]<t[0]&&e[3]<t[1]){let I=b[2]+(w[0]-b[2])/2,S=b[3]+(w[1]-b[3])/2;return Mu(Vi(e[0]-x,e[1]-C),Vi(e[2]-x,e[3]-C))>0?[[b[0],b[1],b[2],S],[w[0],S,w[2],w[3]]]:[[b[0],b[1],I,b[3]],[I,w[1],w[2],w[3]]]}else if(e[0]>t[2]&&e[3]<t[1]){let I=w[2]+(b[0]-w[2])/2,S=b[3]+(w[1]-b[3])/2;return Mu(Vi(e[2]-x,e[1]-C),Vi(e[0]-x,e[3]-C))>0?[[I,b[1],b[2],b[3]],[w[0],w[1],I,w[3]]]:[[b[0],b[1],b[2],S],[w[0],S,w[2],w[3]]]}else if(e[0]>t[2]&&e[1]>t[3]){let I=w[2]+(b[0]-w[2])/2,S=w[3]+(b[1]-w[3])/2;return Mu(Vi(e[0]-x,e[1]-C),Vi(e[2]-x,e[3]-C))>0?[[I,b[1],b[2],b[3]],[w[0],w[1],I,w[3]]]:[[b[0],S,b[2],b[3]],[w[0],w[1],w[2],S]]}}return[b,w]},QDe=(e,t,n,r,a,o)=>{let s=new Set,l=new Set;n===Do||n===Ki?l.add(t[1]):s.add(t[0]),a===Do||a===Ki?l.add(r[1]):s.add(r[0]),e.forEach(f=>{s.add(f[0]),s.add(f[2]),l.add(f[1]),l.add(f[3])}),s.add(o[0]),s.add(o[2]),l.add(o[1]),l.add(o[3]);let d=Array.from(l).sort((f,p)=>f-p),u=Array.from(s).sort((f,p)=>f-p);return{row:d.length,col:u.length,data:d.flatMap((f,p)=>u.map((g,v)=>({f:0,g:0,h:0,closed:!1,visited:!1,parent:null,addr:[v,p],pos:[g,f]})))}},Sj=(e,t,n)=>{switch(t){case Po:return $(n[0],e[1]);case Ki:return $(e[2],n[1]);case Ro:return $(n[0],e[3])}return $(e[0],n[1])},HDe=(e,t,n,r)=>{if(r===Ki)switch(n){case Ki:return e.pos[0]>=t.pos[0]?4:e.pos[1]===t.pos[1]?0:2;case Po:return e.pos[1]>t.pos[1]&&e.pos[0]<t.pos[0]?1:3;case Ro:return e.pos[1]<t.pos[1]&&e.pos[0]<t.pos[0]?1:3;case Do:return e.pos[1]===t.pos[1]?4:2}else if(r===Do)switch(n){case Ki:return e.pos[1]===t.pos[1]?4:2;case Po:return e.pos[1]>t.pos[1]&&e.pos[0]>t.pos[0]?1:3;case Ro:return e.pos[1]<t.pos[1]&&e.pos[0]>t.pos[0]?1:3;case Do:return e.pos[0]<=t.pos[0]?4:e.pos[1]===t.pos[1]?0:2}else if(r===Po)switch(n){case Ki:return e.pos[1]>t.pos[1]&&e.pos[0]<t.pos[0]?1:3;case Po:return e.pos[1]>=t.pos[1]?4:e.pos[0]===t.pos[0]?0:2;case Ro:return e.pos[0]===t.pos[0]?4:2;case Do:return e.pos[1]>t.pos[1]&&e.pos[0]>t.pos[0]?1:3}else if(r===Ro)switch(n){case Ki:return e.pos[1]<t.pos[1]&&e.pos[0]<t.pos[0]?1:3;case Po:return e.pos[0]===t.pos[0]?4:2;case Ro:return e.pos[1]<=t.pos[1]?4:e.pos[0]===t.pos[0]?0:2;case Do:return e.pos[1]<t.pos[1]&&e.pos[0]>t.pos[0]?1:3}return 0},GDe=([e,t],n)=>[JU([e,t-1],n),JU([e+1,t],n),JU([e,t+1],n),JU([e-1,t],n)],JU=([e,t],n)=>e<0||e>=n.col||t<0||t>=n.row?null:n.data[t*n.col+e]??null,I5=(e,t)=>{for(let n=0;n<t.col;n++)for(let r=0;r<t.row;r++){let a=JU([n,r],t);if(a&&e[0]===a.pos[0]&&e[1]===a.pos[1])return a}return null},Xq=e=>[Math.min(...e.map(t=>t[0])),Math.min(...e.map(t=>t[1])),Math.max(...e.map(t=>t[2])),Math.max(...e.map(t=>t[3]))],Ij=(e,t)=>{let n=t.get(e);return n&&Xu(n)?n:null},WDe=(e,t,n)=>{let r=e[0][0],a=e[0][1],o=e.map(s=>Dg(s,dd(sr(e[0]),-1)));return{points:o,x:r+t,y:a+n,...Ny(o)}},VDe=e=>e.slice(2).reduce((t,n)=>Es(jm(sr(t[t.length-1],t[t.length-2])),jm(sr(n,t[t.length-1])))?[...t.slice(0,-1),n]:[...t,n],[e[0]??[0,0],e[1]??[1,0]]),YDe=e=>{switch(e){case 0:return Po;case 1:return Ki;case 2:return Ro}return Do},kj=(e,t,n,r,a,o,s)=>{if(s){if(o){let l=Mj(t,n,o,r);return ADe(o,l)}return t}if(a){let l=cS(e||[0,0],a);return Math.abs(Mb(a,l,r)-vr)>.01?Mj(t,n,a,r):l}return t},Mj=(e,t,n,r)=>H8(C_e(n)?bDe(n,e):e,t,n,r),Tj=(e,t,n,r,a)=>UDe(e,t,r,r&&nd(r,Array(4).fill(Mb(r,e,n))),n,a),KDe=(e,t,n,r)=>{let a=Bs(new Map([...n].filter(s=>!s[1].isDeleted))),o=Array.from(n.values());return[dl(cl(e),o,a,r,!0),dl(cl(t),o,a,r,!0)]},Bj=(e,t)=>e[0]===t[0]&&e[1]===t[1];N();N();var Zq=(e,t,n)=>{let r=n.reduce((a,o)=>(o.groupIds.includes(e)&&(a[o.id]=!0),a),{});return Object.keys(r).length<2?t.selectedGroupIds[e]||t.editingGroupId===e?{selectedElementIds:t.selectedElementIds,selectedGroupIds:{...t.selectedGroupIds,[e]:!1},editingGroupId:null}:t:{editingGroupId:t.editingGroupId,selectedGroupIds:{...t.selectedGroupIds,[e]:!0},selectedElementIds:{...t.selectedElementIds,...r}}},So=function(){let e=null,t=null,n=null,r=(o,s,l,d)=>{if(n!==void 0&&s===t&&o===e&&l.editingGroupId===(n==null?void 0:n.editingGroupId))return n;let u={};for(let g of o){let v=g.groupIds;if(l.editingGroupId){let c=v.indexOf(l.editingGroupId);c>-1&&(v=v.slice(0,c))}if(v.length>0){let c=v[v.length-1];u[c]=!0}}let f={},p=s.reduce((g,v)=>{let c=v.groupIds.find(h=>u[h]);return c&&(g[v.id]=!0,Array.isArray(f[c])?f[c].push(v.id):f[c]=[v.id]),g},{});for(let g of Object.keys(f))f[g].length<2&&u[g]&&(u[g]=!1);return t=s,e=o,n={editingGroupId:l.editingGroupId,selectedGroupIds:u,selectedElementIds:On({...l.selectedElementIds,...p},d)},n},a=(o,s,l,d)=>{let u=d?d.scene.getSelectedElements({selectedElementIds:o.selectedElementIds,elements:s}):gn(s,o);return u.length?r(u,s,o,l):{selectedGroupIds:{},editingGroupId:null,selectedElementIds:On(o.selectedElementIds,l)}};return a.clearCache=()=>{t=null,e=null,n=null},a}(),qq=(e,t)=>Jq(e,t)!=null,Jq=(e,t)=>t.groupIds.filter(n=>n!==e.editingGroupId).find(n=>e.selectedGroupIds[n]),I0=e=>Object.entries(e.selectedGroupIds).filter(([t,n])=>n).map(([t,n])=>t),eJ=(e,t)=>{let n={...t,selectedGroupIds:{}};for(let r of e){let a=r.groupIds;if(t.editingGroupId){let o=a.indexOf(t.editingGroupId);o>-1&&(a=a.slice(0,o))}if(a.length>0){let o=a[a.length-1];n={...n,...Zq(o,n,e)}}}return n.selectedGroupIds},XDe=(e,t)=>({...e,editingGroupId:t.groupIds.length?t.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:{[t.id]:!0}}),Fy=(e,t)=>e.groupIds.includes(t),mi=(e,t)=>{let n=[];for(let r of e.values())Fy(r,t)&&n.push(r);return n},ZDe=(e,t)=>e.groupIds.find(n=>t[n]),qDe=(e,t,n)=>{let r=[...e],a=t?e.indexOf(t):-1,o=a>-1?a:e.length;for(let s=0;s<o;s++)r[s]=n(r[s]);return r},JDe=(e,t,n)=>{let r=[...e],a=n?r.indexOf(n):-1,o=a>-1?a:r.length;return r.splice(o,0,t),r},ePe=(e,t)=>e.filter(n=>!t[n]),P4=(e,t)=>{let n=new Map;return e.forEach(r=>{let a=r.groupIds.length===0?r.id:r.groupIds[r.groupIds.length-1],o=n.get(a)||[],s=on(r,t);s&&o.push(s),n.set(a,[...o,r])}),Array.from(n.values())},tPe=e=>{let t=new Set;for(let[,n]of e)if(!n.isDeleted)for(let r of n.groupIds??[])t.add(r);return t},tJ=e=>{let t=e.flatMap(a=>a.groupIds),n=new Map,r=0;for(let a of t)n.set(a,(n.get(a)??0)+1),n.get(a)>r&&(r=n.get(a));return r===e.length},Om=e=>e.groupIds.length>0,nPe=8,Rj=99999,L4=e=>nPe/e,ua,Uu=(ua=class{},ee(ua,"referenceSnapPoints",null),ee(ua,"visibleGaps",null),ee(ua,"setReferenceSnapPoints",t=>{ua.referenceSnapPoints=t}),ee(ua,"getReferenceSnapPoints",()=>ua.referenceSnapPoints),ee(ua,"setVisibleGaps",t=>{ua.visibleGaps=t}),ee(ua,"getVisibleGaps",()=>ua.visibleGaps),ee(ua,"destroy",()=>{ua.referenceSnapPoints=null,ua.visibleGaps=null}),ua),jy=e=>e.props.gridModeEnabled??e.state.gridModeEnabled,Qh=({event:e,app:t,selectedElements:n})=>e?t.state.objectsSnapModeEnabled&&!e[ie.CTRL_OR_CMD]||!t.state.objectsSnapModeEnabled&&e[ie.CTRL_OR_CMD]&&!jy(t):n.length===1&&n[0].type==="arrow"?!1:t.state.objectsSnapModeEnabled,rPe=(e,t,n=.01)=>Math.abs(e-t)<=n,Oy=(e,t,{omitCenter:n,boundingBoxCorners:r,dragOffset:a}={omitCenter:!1,boundingBoxCorners:!1})=>{let o=[];if(e.length===1){let s=e[0],[l,d,u,f,p,g]=Xt(s,t);a&&(l+=a.x,u+=a.x,p+=a.x,d+=a.y,f+=a.y,g+=a.y);let v=(u-l)/2,c=(f-d)/2;if((s.type==="diamond"||s.type==="ellipse")&&!r){let h=De($(l,d+c),$(p,g),s.angle),m=De($(l+v,d),$(p,g),s.angle),U=De($(u,d+c),$(p,g),s.angle),b=De($(l+v,f),$(p,g),s.angle),w=$(p,g);o=n?[h,m,U,b]:[h,m,U,b,w]}else{let h=De($(l,d),$(p,g),s.angle),m=De($(u,d),$(p,g),s.angle),U=De($(l,f),$(p,g),s.angle),b=De($(u,f),$(p,g),s.angle),w=$(p,g);o=n?[h,m,U,b]:[h,m,U,b,w]}}else if(e.length>1){let[s,l,d,u]=nT(e,a??{x:0,y:0}),f=d-s,p=u-l,g=$(s,l),v=$(d,l),c=$(s,u),h=$(d,u),m=$(s+f/2,l+p/2);o=n?[g,v,c,h]:[g,v,c,h,m]}return o.map(s=>$(Hr(s[0]),Hr(s[1])))},nJ=(e,t,n,r)=>{let a=t.filter(o=>en(o)).map(o=>o.id);return aee(e,t,n,r).filter(o=>!(o.frameId&&a.includes(o.frameId)))},iPe=(e,t,n,r)=>{let a=nJ(e,t,n,r),o=P4(a,r).filter(p=>!(p.length===1&&bi(p[0]))).map(p=>Yn(p).map(g=>Hr(g))),s=o.sort((p,g)=>p[0]-g[0]),l=[],d=0;e:for(let p=0;p<s.length;p++){let g=s[p];for(let v=p+1;v<s.length;v++){if(++d>Rj)break e;let c=s[v],[,h,m,U]=g,[b,w,,E]=c;m<b&&R8(Na(h,U),Na(w,E))&&l.push({startBounds:g,endBounds:c,startSide:[$(m,h),$(m,U)],endSide:[$(b,w),$(b,E)],length:b-m,overlap:D8(Na(h,U),Na(w,E))})}}let u=o.sort((p,g)=>p[1]-g[1]),f=[];d=0;e:for(let p=0;p<u.length;p++){let g=u[p];for(let v=p+1;v<u.length;v++){if(++d>Rj)break e;let c=u[v],[h,,m,U]=g,[b,w,E]=c;U<w&&R8(Na(h,m),Na(b,E))&&f.push({startBounds:g,endBounds:c,startSide:[$(h,U),$(m,U)],endSide:[$(b,w),$(E,w)],length:w-U,overlap:D8(Na(h,m),Na(b,E))})}}return{horizontalGaps:l,verticalGaps:f}},Dj=(e,t,n,r,a,o,s)=>{if(!Qh({app:n,event:r,selectedElements:e}))return[];if(e.length===0)return[];let l=Uu.getVisibleGaps();if(l){let{horizontalGaps:d,verticalGaps:u}=l,[f,p,g,v]=nT(e,t).map(m=>Hr(m)),c=(f+g)/2,h=(p+v)/2;for(let m of d){if(!R8(Na(p,v),m.overlap))continue;let U=m.startSide[0][0]+m.length/2,b=Hr(U-c);if(m.length>g-f&&Math.abs(b)<=s.x){Math.abs(b)<s.x&&(a.length=0),s.x=Math.abs(b);let M={type:"gap",direction:"center_horizontal",gap:m,offset:b};a.push(M);continue}let[,,w]=m.endBounds,E=f-w,x=Hr(m.length-E);if(Math.abs(x)<=s.x){Math.abs(x)<s.x&&(a.length=0),s.x=Math.abs(x);let M={type:"gap",direction:"side_right",gap:m,offset:x};a.push(M);continue}let[C,,,]=m.startBounds,I=C-g,S=Hr(I-m.length);if(Math.abs(S)<=s.x){Math.abs(S)<s.x&&(a.length=0),s.x=Math.abs(S);let M={type:"gap",direction:"side_left",gap:m,offset:S};a.push(M);continue}}for(let m of u){if(!R8(Na(f,g),m.overlap))continue;let U=m.startSide[0][1]+m.length/2,b=Hr(U-h);if(m.length>v-p&&Math.abs(b)<=s.y){Math.abs(b)<s.y&&(o.length=0),s.y=Math.abs(b);let M={type:"gap",direction:"center_vertical",gap:m,offset:b};o.push(M);continue}let[,w,,]=m.startBounds,E=w-v,x=Hr(E-m.length);if(Math.abs(x)<=s.y){Math.abs(x)<s.y&&(o.length=0),s.y=Math.abs(x);let M={type:"gap",direction:"side_top",gap:m,offset:x};o.push(M);continue}let[,,,C]=m.endBounds,I=Hr(p-C),S=m.length-I;if(Math.abs(S)<=s.y){Math.abs(S)<s.y&&(o.length=0),s.y=Math.abs(S);let M={type:"gap",direction:"side_bottom",gap:m,offset:S};o.push(M);continue}}}},aPe=(e,t,n,r)=>{let a=nJ(e,t,n,r);return P4(a,r).filter(o=>!(o.length===1&&bi(o[0]))).flatMap(o=>Oy(o,r))},zm=(e,t,n,r,a,o,s)=>{if(!Qh({app:n,event:r,selectedElements:e})||e.length===0&&t.length===0)return[];let l=Uu.getReferenceSnapPoints();if(l)for(let d of t)for(let u of l){let f=u[0]-d[0],p=u[1]-d[1];Math.abs(f)<=s.x&&(Math.abs(f)<s.x&&(a.length=0),a.push({type:"point",points:[d,u],offset:f}),s.x=Math.abs(f)),Math.abs(p)<=s.y&&(Math.abs(p)<s.y&&(o.length=0),o.push({type:"point",points:[d,u],offset:p}),s.y=Math.abs(p))}},oPe=(e,t,n,r,a)=>{var m,U;let o=n.state,s=gn(e,o);if(!Qh({app:n,event:r,selectedElements:s})||s.length===0)return{snapOffset:{x:0,y:0},snapLines:[]};t.x=Hr(t.x),t.y=Hr(t.y);let l=[],d=[],u=L4(o.zoom.value),f={x:u,y:u},p=Oy(s,a,{dragOffset:t});zm(s,p,n,r,l,d,f),Dj(s,t,n,r,l,d,f);let g={x:((m=l[0])==null?void 0:m.offset)??0,y:((U=d[0])==null?void 0:U.offset)??0};f.x=0,f.y=0,l.length=0,d.length=0;let v={x:Hr(t.x+g.x),y:Hr(t.y+g.y)};zm(s,Oy(s,a,{dragOffset:v}),n,r,l,d,f),Dj(s,v,n,r,l,d,f);let c=dT(l,d),h=lPe(s,v,[...l,...d].filter(b=>b.type==="gap"));return{snapOffset:g,snapLines:[...c,...h]}},Hr=e=>Math.round(e*10**6)/10**6,Pj=e=>{let t=new Map;for(let n of e){let r=n.join(",");t.has(r)||t.set(r,n)}return Array.from(t.values())},dT=(e,t)=>{let n={},r={};if(e.length>0){for(let a of e)if(a.type==="point"){let o=Hr(a.points[0][0]);n[o]||(n[o]=[]),n[o].push(...a.points.map(s=>$(Hr(s[0]),Hr(s[1]))))}}if(t.length>0){for(let a of t)if(a.type==="point"){let o=Hr(a.points[0][1]);r[o]||(r[o]=[]),r[o].push(...a.points.map(s=>$(Hr(s[0]),Hr(s[1]))))}}return Object.entries(n).map(([a,o])=>({type:"points",points:Pj(o.map(s=>$(Number(a),s[1])).sort((s,l)=>s[1]-l[1]))})).concat(Object.entries(r).map(([a,o])=>({type:"points",points:Pj(o.map(s=>$(s[0],Number(a))).sort((s,l)=>s[0]-l[0]))})))},sPe=e=>{let t=new Map;for(let n of e){let r=n.points.flat().map(a=>[Hr(a)]).join(",");t.has(r)||t.set(r,n)}return Array.from(t.values())},lPe=(e,t,n)=>{let[r,a,o,s]=nT(e,t),l=[];for(let d of n){let[u,f,p,g]=d.gap.startBounds,[v,c,h,m]=d.gap.endBounds,U=D8(Na(a,s),d.gap.overlap),b=D8(Na(r,o),d.gap.overlap);switch(d.direction){case"center_horizontal":{if(U){let w=(U[0]+U[1])/2;l.push({type:"gap",direction:"horizontal",points:[$(d.gap.startSide[0][0],w),$(r,w)]},{type:"gap",direction:"horizontal",points:[$(o,w),$(d.gap.endSide[0][0],w)]})}break}case"center_vertical":{if(b){let w=(b[0]+b[1])/2;l.push({type:"gap",direction:"vertical",points:[$(w,d.gap.startSide[0][1]),$(w,a)]},{type:"gap",direction:"vertical",points:[$(w,s),$(w,d.gap.endSide[0][1])]})}break}case"side_right":{if(U){let w=(U[0]+U[1])/2;l.push({type:"gap",direction:"horizontal",points:[$(p,w),$(v,w)]},{type:"gap",direction:"horizontal",points:[$(h,w),$(r,w)]})}break}case"side_left":{if(U){let w=(U[0]+U[1])/2;l.push({type:"gap",direction:"horizontal",points:[$(o,w),$(u,w)]},{type:"gap",direction:"horizontal",points:[$(p,w),$(v,w)]})}break}case"side_top":{if(b){let w=(b[0]+b[1])/2;l.push({type:"gap",direction:"vertical",points:[$(w,s),$(w,f)]},{type:"gap",direction:"vertical",points:[$(w,g),$(w,c)]})}break}case"side_bottom":{if(b){let w=(b[0]+b[1])/2;l.push({type:"gap",direction:"vertical",points:[$(w,g),$(w,c)]},{type:"gap",direction:"vertical",points:[$(w,m),$(w,a)]})}break}}}return sPe(l.map(d=>({...d,points:d.points.map(u=>$(Hr(u[0]),Hr(u[1])))})))},Lj=(e,t,n,r,a,o)=>{var C,I;if(!Qh({event:r,selectedElements:e,app:n})||e.length===0||e.length===1&&!rPe(e[0].angle,0))return{snapOffset:{x:0,y:0},snapLines:[]};let[s,l,d,u]=Yn(t);o&&(o.includes("e")?d+=a.x:o.includes("w")&&(s+=a.x),o.includes("n")?l+=a.y:o.includes("s")&&(u+=a.y));let f=[];if(o)switch(o){case"e":{f.push($(d,l),$(d,u));break}case"w":{f.push($(s,l),$(s,u));break}case"n":{f.push($(s,l),$(d,l));break}case"s":{f.push($(s,u),$(d,u));break}case"ne":{f.push($(d,l));break}case"nw":{f.push($(s,l));break}case"se":{f.push($(d,u));break}case"sw":{f.push($(s,u));break}}let p=L4(n.state.zoom.value),g={x:p,y:p},v=[],c=[];zm(t,f,n,r,v,c,g);let h={x:((C=v[0])==null?void 0:C.offset)??0,y:((I=c[0])==null?void 0:I.offset)??0};g.x=0,g.y=0,v.length=0,c.length=0;let[m,U,b,w]=Yn(e).map(S=>Hr(S)),E=[$(m,U),$(m,w),$(b,U),$(b,w)];zm(e,E,n,r,v,c,g);let x=dT(v,c);return{snapOffset:h,snapLines:x}},cPe=(e,t,n,r,a,o)=>{var c,h;if(!Qh({event:n,selectedElements:[e],app:t}))return{snapOffset:{x:0,y:0},snapLines:[]};let s=[$(r.x+a.x,r.y+a.y)],l=L4(t.state.zoom.value),d={x:l,y:l},u=[],f=[];zm([e],s,t,n,u,f,d);let p={x:((c=u[0])==null?void 0:c.offset)??0,y:((h=f[0])==null?void 0:h.offset)??0};d.x=0,d.y=0,u.length=0,f.length=0;let g=Oy([e],o,{boundingBoxCorners:!0,omitCenter:!0});zm([e],g,t,n,u,f,d);let v=dT(u,f);return{snapOffset:p,snapLines:v}},dPe=(e,t,n,r,a)=>{if(!Qh({event:r,selectedElements:[],app:t}))return{originOffset:{x:0,y:0},snapLines:[]};let o=aee(e,[],t.state,a),s=L4(t.state.zoom.value),l={x:s,y:s},d=[],u=[];for(let f of o){let p=Oy([f],a);for(let g of p){let v=g[0]-n.x;Math.abs(v)<=Math.abs(l.x)&&(Math.abs(v)<Math.abs(l.x)&&(u.length=0),u.push({type:"pointer",points:[g,$(g[0],n.y)],direction:"vertical"}),l.x=v);let c=g[1]-n.y;Math.abs(c)<=Math.abs(l.y)&&(Math.abs(c)<Math.abs(l.y)&&(d.length=0),d.push({type:"pointer",points:[g,$(n.x,g[1])],direction:"horizontal"}),l.y=c)}}return{originOffset:{x:u.length>0?u[0].points[0][0]-n.x:0,y:d.length>0?d[0].points[0][1]-n.y:0},snapLines:[...u,...d]}},uPe=e=>e===Qi.rectangle||e===Qi.ellipse||e===Qi.diamond||e===Qi.frame||e===Qi.magicframe||e===Qi.image||e===Qi.text,Oi=(e,t,n)=>n?[Math.round(e/n)*n,Math.round(t/n)*n]:[e,t],Rf={version:null,points:[],zoom:null},Mt,xt=(Mt=class{constructor(t){ee(this,"elementId");ee(this,"selectedPointsIndices");ee(this,"pointerDownState");ee(this,"isDragging");ee(this,"lastUncommittedPoint");ee(this,"pointerOffset");ee(this,"startBindingElement");ee(this,"endBindingElement");ee(this,"hoverPointIndex");ee(this,"segmentMidPointHoveredCoords");ee(this,"elbowed");this.elementId=t.id,T8(t.points[0],$(0,0))||console.error("Linear element is not normalized",Error().stack),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,lastClickedIsEndPoint:!1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null,this.elbowed=Wt(t)&&t.elbowed}static getElement(t,n){return n.get(t)||null}static handleBoxSelection(t,n,r,a){if(!n.editingLinearElement||!n.selectionElement)return!1;let{editingLinearElement:o}=n,{selectedPointsIndices:s,elementId:l}=o,d=Mt.getElement(l,a);if(!d)return!1;let[u,f,p,g]=Xt(n.selectionElement,a),v=Mt.getPointsGlobalCoordinates(d,a).reduce((c,h,m)=>((h[0]>=u&&h[0]<=p&&h[1]>=f&&h[1]<=g||t.shiftKey&&(s!=null&&s.includes(m)))&&c.push(m),c),[]).filter(c=>!(Wt(d)&&c!==0&&c!==d.points.length-1));r({editingLinearElement:{...o,selectedPointsIndices:v.length?v:null}})}static handlePointDragging(t,n,r,a,o,s,l){var c;if(!s)return!1;let{elementId:d}=s,u=l.getNonDeletedElementsMap(),f=Mt.getElement(d,u);if(!f||Wt(f)&&!s.pointerDownState.lastClickedIsEndPoint&&s.pointerDownState.lastClickedPoint!==0)return!1;let p=Wt(f)?(c=s.selectedPointsIndices)==null?void 0:c.reduce((h,m)=>m===0?[0,h[1]]:[h[0],f.points.length-1],[!1,!1]).filter(h=>typeof h=="number"):s.selectedPointsIndices,g=Wt(f)?s.pointerDownState.lastClickedPoint>0?f.points.length-1:0:s.pointerDownState.lastClickedPoint,v=f.points[g];if(p&&v){if($v(t)&&p.length===1&&f.points.length>1){let h=p[0],m=f.points[h===0?1:h-1],[U,b]=Mt._getShiftLockedDelta(f,u,m,$(r,a),t[ie.CTRL_OR_CMD]?null:n.getEffectiveGridSize());Mt.movePoints(f,[{index:h,point:$(U+m[0],b+m[1]),isDragging:h===g}],u)}else{let h=Mt.createPointAt(f,u,r-s.pointerOffset.x,a-s.pointerOffset.y,t[ie.CTRL_OR_CMD]?null:n.getEffectiveGridSize()),m=h[0]-v[0],U=h[1]-v[1];Mt.movePoints(f,p.map(b=>{let w=b===g?Mt.createPointAt(f,u,r-s.pointerOffset.x,a-s.pointerOffset.y,t[ie.CTRL_OR_CMD]?null:n.getEffectiveGridSize()):$(f.points[b][0]+m,f.points[b][1]+U);return{index:b,point:w,isDragging:b===g}}),u)}if(on(f,u)&&Tb(f,u,!1),ad(f,!1)){let h=[];p[0]===0&&h.push(cl(Mt.getPointGlobalCoordinates(f,f.points[0],u)));let m=p[p.length-1];m===f.points.length-1&&h.push(cl(Mt.getPointGlobalCoordinates(f,f.points[m],u))),h.length&&o(f,h)}return!0}return!1}static handlePointerUp(t,n,r,a){var v;let o=a.getNonDeletedElementsMap(),s=a.getNonDeletedElements(),{elementId:l,selectedPointsIndices:d,isDragging:u,pointerDownState:f}=n,p=Mt.getElement(l,o);if(!p)return n;let g={};if(u&&d){for(let c of d)if(c===0||c===p.points.length-1){qu(p.points,r.zoom.value)&&Mt.movePoints(p,[{index:c,point:c===0?p.points[p.points.length-1]:p.points[0]}],o);let h=u0(r)?dl(cl(Mt.getPointAtIndexGlobalCoordinates(p,c,o)),s,o,r.zoom):null;g[c===0?"startBindingElement":"endBindingElement"]=h}}return{...n,...g,selectedPointsIndices:u||t.shiftKey?!u&&t.shiftKey&&((v=f.prevSelectedPointsIndices)!=null&&v.includes(f.lastClickedPoint))?d&&d.filter(c=>c!==f.lastClickedPoint):d:d!=null&&d.includes(f.lastClickedPoint)?[f.lastClickedPoint]:d,isDragging:!1,pointerOffset:{x:0,y:0}}}static isSegmentTooShort(t,n,r,a){let o=Yi($(n[0],n[1]),$(r[0],r[1]));return t.points.length>2&&t.roundness&&(o=sRe(t,r)),o*a.value<Mt.POINT_HANDLE_SIZE*4}static getSegmentMidPoint(t,n,r,a,o){let s=By(n,r);if(t.points.length>2&&t.roundness){let l=yq(t,t.points[a]);if(l){let d=lRe(t,t.points[a],.5);s=Mt.getPointGlobalCoordinates(t,bq(l[0],l[1],l[2],l[3],d),o)}}return s}static getSegmentMidPointIndex(t,n,r,a){let o=Mt.getElement(t.elementId,a);if(!o)return-1;let s=Mt.getEditorMidPoints(o,a,n),l=0;for(;l<s.length;){if(Mt.arePointsEqual(r,s[l]))return l+1;l++}return-1}static handlePointerDown(t,n,r,a,o,s){var S;let l=n.state,d=s.getNonDeletedElementsMap(),u=s.getNonDeletedElements(),f={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!o)return f;let{elementId:p}=o,g=Mt.getElement(p,d);if(!g)return f;let v=Mt.getSegmentMidpointHitCoords(o,a,l,d),c=null;if(v&&(c=Mt.getSegmentMidPointIndex(o,l,v,d)),t.altKey&&l.editingLinearElement)return o.lastUncommittedPoint==null&&!Wt(g)&&(Qe(g,{points:[...g.points,Mt.createPointAt(g,d,a.x,a.y,t[ie.CTRL_OR_CMD]?null:n.getEffectiveGridSize())]}),f.didAddPoint=!0),r.shouldCaptureIncrement(),f.linearElementEditor={...o,pointerDownState:{prevSelectedPointsIndices:o.selectedPointsIndices,lastClickedPoint:-1,lastClickedIsEndPoint:!1,origin:{x:a.x,y:a.y},segmentMidpoint:{value:v,index:c,added:!1}},selectedPointsIndices:[g.points.length-1],lastUncommittedPoint:null,endBindingElement:dl(a,u,d,n.state.zoom)},f.didAddPoint=!0,f;let h=Mt.getPointIndexUnderCursor(g,d,l.zoom,a.x,a.y);if(h>=0||v)f.hitElement=g;else{let{startBindingElement:M,endBindingElement:R}=o;u0(l)&&ad(g)&&R4(g,M,R,d,s)}let[m,U,b,w]=Xt(g,d),E=(m+b)/2,x=(U+w)/2,C=h>-1&&De($(g.x+g.points[h][0],g.y+g.points[h][1]),$(E,x),g.angle),I=h>-1||t.shiftKey?t.shiftKey||(S=o.selectedPointsIndices)!=null&&S.includes(h)?fPe([...o.selectedPointsIndices||[],h]):[h]:null;return f.linearElementEditor={...o,pointerDownState:{prevSelectedPointsIndices:o.selectedPointsIndices,lastClickedPoint:h,lastClickedIsEndPoint:h===g.points.length-1,origin:{x:a.x,y:a.y},segmentMidpoint:{value:v,index:c,added:!1}},selectedPointsIndices:I,pointerOffset:C?{x:a.x-C[0],y:a.y-C[1]}:{x:0,y:0}},f}static arePointsEqual(t,n){return!t&&!n?!0:!t||!n?!1:T8(t,n)}static handlePointerMove(t,n,r,a,o){let s=a.state;if(!s.editingLinearElement)return null;let{elementId:l,lastUncommittedPoint:d}=s.editingLinearElement,u=Mt.getElement(l,o);if(!u)return s.editingLinearElement;let{points:f}=u,p=f[f.length-1];if(!t.altKey)return p===d&&Mt.deletePoints(u,[f.length-1],o,a.state.zoom),{...s.editingLinearElement,lastUncommittedPoint:null};let g;if($v(t)&&f.length>=2){let v=f[f.length-2],[c,h]=Mt._getShiftLockedDelta(u,o,v,$(n,r),t[ie.CTRL_OR_CMD]?null:a.getEffectiveGridSize());g=$(c+v[0],h+v[1])}else g=Mt.createPointAt(u,o,n-s.editingLinearElement.pointerOffset.x,r-s.editingLinearElement.pointerOffset.y,t[ie.CTRL_OR_CMD]||Wt(u)?null:a.getEffectiveGridSize());return p===d?Mt.movePoints(u,[{index:u.points.length-1,point:g}],o):Mt.addPoints(u,[{point:g}],o,a.state.zoom),{...s.editingLinearElement,lastUncommittedPoint:u.points[u.points.length-1]}}static getPointGlobalCoordinates(t,n,r){let[a,o,s,l]=Xt(t,r),d=(a+s)/2,u=(o+l)/2,{x:f,y:p}=t;return De($(f+n[0],p+n[1]),$(d,u),t.angle)}static getPointsGlobalCoordinates(t,n){let[r,a,o,s]=Xt(t,n),l=(r+o)/2,d=(a+s)/2;return t.points.map(u=>{let{x:f,y:p}=t;return De($(f+u[0],p+u[1]),$(l,d),t.angle)})}static getPointAtIndexGlobalCoordinates(t,n,r){let a=n<0?t.points.length+n:n,[o,s,l,d]=Xt(t,r),u=(o+l)/2,f=(s+d)/2,p=t.points[a],{x:g,y:v}=t;return De(p?$(g+p[0],v+p[1]):$(g,v),$(u,f),t.angle)}static pointFromAbsoluteCoords(t,n,r){if(Wt(t))return $(n[0]-t.x,n[1]-t.y);let[a,o,s,l]=Xt(t,r),d=(a+s)/2,u=(o+l)/2,[f,p]=De($(n[0],n[1]),$(d,u),-t.angle);return $(f-t.x,p-t.y)}static getPointIndexUnderCursor(t,n,r,a,o){let s=Mt.getPointsGlobalCoordinates(t,n),l=s.length;for(;--l>-1;){let d=s[l];if(Yi($(a,o),$(d[0],d[1]))*r.value<Mt.POINT_HANDLE_SIZE+1)return l}return-1}static createPointAt(t,n,r,a,o){let s=Oi(r,a,o),[l,d,u,f]=Xt(t,n),p=(l+u)/2,g=(d+f)/2,[v,c]=De($(s[0],s[1]),$(p,g),-t.angle);return $(v-t.x,c-t.y)}static getNormalizedPoints(t){let{points:n}=t,r=n[0][0],a=n[0][1];return{points:n.map(o=>$(o[0]-r,o[1]-a)),x:t.x+r,y:t.y+a}}static normalizePoints(t){Qe(t,Mt.getNormalizedPoints(t))}static duplicateSelectedPoints(t,n){ml(t.editingLinearElement,"Not currently editing a linear element");let{selectedPointsIndices:r,elementId:a}=t.editingLinearElement,o=Mt.getElement(a,n);ml(o,"The linear element does not exist in the provided Scene"),ml(r!=null,"There are no selected points to duplicate");let{points:s}=o,l=[],d=!1,u=-1,f=s.reduce((p,g,v)=>{if(++u,p.push(g),r.includes(v)){let c=s[v+1];c||(d=!0),p.push(c?$((g[0]+c[0])/2,(g[1]+c[1])/2):$(g[0],g[1])),l.push(u+1),++u}return p},[]);if(Qe(o,{points:f}),d){let p=o.points[o.points.length-1];Mt.movePoints(o,[{index:o.points.length-1,point:$(p[0]+30,p[1]+30)}],n)}return{...t,editingLinearElement:{...t.editingLinearElement,selectedPointsIndices:l}}}static deletePoints(t,n,r,a){let o=0,s=0;if(n.includes(0)){let d=t.points.find((u,f)=>!n.includes(f));d&&(o=d[0],s=d[1])}let l=t.points.reduce((d,u,f)=>(n.includes(f)||d.push(d.length?$(u[0]-o,u[1]-s):$(0,0)),d),[]);Mt._updatePoints(t,l,o,s,r)}static addPoints(t,n,r,a){let o=[...t.points,...n.map(s=>s.point)];Mt._updatePoints(t,o,0,0,r)}static movePoints(t,n,r,a,o){let{points:s}=t,l=0,d=0,u=n.find(({index:p})=>p===0);u&&(l=u.point[0]+s[u.index][0],d=u.point[1]+s[u.index][1]);let f=s.map((p,g)=>{let v=n.find(c=>c.index===g);if(v){if(v.index===0)return p;let c=v.point[0]-s[v.index][0],h=v.point[1]-s[v.index][1];return $(p[0]+c-l,p[1]+h-d)}return l||d?$(p[0]-l,p[1]-d):p});Mt._updatePoints(t,f,l,d,r,a,{isDragging:n.reduce((p,g)=>p||g.isDragging===!0,!1),changedElements:o==null?void 0:o.changedElements,zoom:o==null?void 0:o.zoom})}static shouldAddMidpoint(t,n,r,a){let o=Mt.getElement(t.elementId,a);if(o&&Wt(o)||!o)return!1;let{segmentMidpoint:s}=t.pointerDownState;if(s.added||s.value===null||s.index===null||t.pointerDownState.origin===null)return!1;let l=t.pointerDownState.origin,d=Yi($(l.x,l.y),$(n.x,n.y));return!(!r.editingLinearElement&&d<Wp/r.zoom.value)}static addMidpoint(t,n,r,a,o){let s=Mt.getElement(t.elementId,o);if(!s)return;let{segmentMidpoint:l}=t.pointerDownState,d={pointerDownState:t.pointerDownState,selectedPointsIndices:t.selectedPointsIndices},u=Mt.createPointAt(s,o,n.x,n.y,a&&!Wt(s)?r.getEffectiveGridSize():null),f=[...s.points.slice(0,l.index),u,...s.points.slice(l.index)];return Qe(s,{points:f}),d.pointerDownState={...t.pointerDownState,segmentMidpoint:{...t.pointerDownState.segmentMidpoint,added:!0},lastClickedPoint:l.index},d.selectedPointsIndices=[l.index],d}static _updatePoints(t,n,r,a,o,s,l){if(Wt(t)){let d={};(s==null?void 0:s.startBinding)!==void 0&&(d.startBinding=s.startBinding!==null&&P8(s.startBinding)?s.startBinding:null),(s==null?void 0:s.endBinding)!==void 0&&(d.endBinding=s.endBinding!==null&&P8(s.endBinding)?s.endBinding:null);let u=l!=null&&l.changedElements?Bs(new Map([...o,...l.changedElements])):o;W0(t,u,n,Vi(r,a),d,{isDragging:l==null?void 0:l.isDragging,zoom:l==null?void 0:l.zoom})}else{let d=Aj(t,n),u=Aj(t,t.points),f=(d[0]+d[2])/2,p=(d[1]+d[3])/2,g=(u[0]+u[2])/2,v=(u[1]+u[3])/2,c=g-f,h=v-p,m=De($(r,a),$(c,h),t.angle);Qe(t,{...s,points:n,x:t.x+m[0],y:t.y+m[1]})}}static _getShiftLockedDelta(t,n,r,a,o){let s=Mt.getPointGlobalCoordinates(t,r,n);if(Wt(t))return[a[0]-s[0],a[1]-s[1]];let[l,d]=Oi(a[0],a[1],o),{width:u,height:f}=vS(s[0],s[1],l,d);return De($(u,f),$(0,0),-t.angle)}},ee(Mt,"POINT_HANDLE_SIZE",10),ee(Mt,"getEditorMidPoints",(t,n,r)=>{let a=on(t,n);return!r.editingLinearElement&&t.points.length>2&&!a?[]:(Rf.version===t.version&&Rf.zoom===r.zoom.value||Mt.updateEditorMidPointsCache(t,n,r),Rf.points)}),ee(Mt,"updateEditorMidPointsCache",(t,n,r)=>{let a=Mt.getPointsGlobalCoordinates(t,n),o=0,s=[];for(;o<a.length-1;){if(Mt.isSegmentTooShort(t,t.points[o],t.points[o+1],r.zoom)){s.push(null),o++;continue}let l=Mt.getSegmentMidPoint(t,a[o],a[o+1],o+1,n);s.push(l),o++}Rf.points=s,Rf.version=t.version,Rf.zoom=r.zoom.value}),ee(Mt,"getSegmentMidpointHitCoords",(t,n,r,a)=>{let{elementId:o}=t,s=Mt.getElement(o,a);if(!s||Mt.getPointIndexUnderCursor(s,a,r.zoom,n.x,n.y)>=0||Mt.getPointsGlobalCoordinates(s,a).length>=3&&!r.editingLinearElement)return null;let l=Mt.POINT_HANDLE_SIZE/r.zoom.value,d=t.segmentMidPointHoveredCoords;if(d&&Yi($(d[0],d[1]),$(n.x,n.y))<=l)return d;let u=0,f=Mt.getEditorMidPoints(s,a,r);for(;u<f.length;){if(f[u]!==null&&Yi($(f[u][0],f[u][1]),$(n.x,n.y))<=l)return f[u];u++}return null}),ee(Mt,"getBoundTextElementPosition",(t,n,r)=>{let a=Mt.getPointsGlobalCoordinates(t,r);a.length<2&&Qe(n,{isDeleted:!0});let o=0,s=0;if(t.points.length%2===1){let l=Math.floor(t.points.length/2),d=Mt.getPointGlobalCoordinates(t,t.points[l],r);o=d[0]-n.width/2,s=d[1]-n.height/2}else{let l=t.points.length/2-1,d=Rf.points[l];t.points.length===2&&(d=By(a[0],a[1])),(!d||Rf.version!==t.version)&&(d=Mt.getSegmentMidPoint(t,a[l],a[l+1],l+1,r)),o=d[0]-n.width/2,s=d[1]-n.height/2}return{x:o,y:s}}),ee(Mt,"getMinMaxXYWithBoundText",(t,n,r,a)=>{let[o,s,l,d]=r,u=(o+l)/2,f=(s+d)/2,{x:p,y:g}=Mt.getBoundTextElementPosition(t,a,n),v=p+a.width,c=g+a.height,h=$(u,f),m=De($(o,s),h,t.angle),U=De($(l,s),h,t.angle),b=De($(p,g),h,-t.angle),w=De($(v,g),h,-t.angle),E=De($(p,c),h,-t.angle),x=De($(v,c),h,-t.angle);return m[0]<U[0]&&m[1]>=U[1]?(o=Math.min(o,E[0]),l=Math.max(l,Math.max(w[0],x[0])),s=Math.min(s,b[1]),d=Math.max(d,x[1])):m[0]>=U[0]&&m[1]>U[1]?(o=Math.min(o,x[0]),l=Math.max(l,Math.max(b[0],w[0])),s=Math.min(s,E[1]),d=Math.max(d,w[1])):m[0]>=U[0]?(o=Math.min(o,w[0]),l=Math.max(l,E[0]),s=Math.min(s,x[1]),d=Math.max(d,b[1])):m[1]<=U[1]&&(o=Math.min(o,Math.min(w[0],b[0])),l=Math.max(l,x[0]),s=Math.min(s,w[1]),d=Math.max(d,E[1])),[o,s,l,d,u,f]}),ee(Mt,"getElementAbsoluteCoords",(t,n,r=!1)=>{let a,o,s,l,d;if(t.points.length<2||!Vr.get(t)){let{minX:g,minY:v,maxX:c,maxY:h}=t.points.reduce((m,[U,b])=>(m.minY=Math.min(m.minY,b),m.minX=Math.min(m.minX,U),m.maxX=Math.max(m.maxX,U),m.maxY=Math.max(m.maxY,b),m),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});o=g+t.x,s=v+t.y,l=c+t.x,d=h+t.y}else{let g=Vr.generateElementShape(t,null),v=Sb(g[0]),[c,h,m,U]=M4(v);o=c+t.x,s=h+t.y,l=m+t.x,d=U+t.y}let u=(o+l)/2,f=(s+d)/2;if(a=[o,s,l,d,u,f],!r)return a;let p=on(t,n);return p&&(a=Mt.getMinMaxXYWithBoundText(t,n,[o,s,l,d],p)),a}),Mt),fPe=e=>{let t=[...new Set(e.filter(n=>n!==null&&n!==-1))];return t=t.sort((n,r)=>n-r),t.length?t:null};N();var Qm={},Y8=(e,t)=>{let n=Qm[e]||(Qm[e]={height:t});return n.height=t,n},rJ=e=>{Qm[e]&&delete Qm[e]},hPe=e=>{var t;return((t=Qm[e])==null?void 0:t.height)??null},Hm=e=>MZ(e).replace(/\t/g,"        "),uT=e=>Hm(e).split(`
`),co=(e,t,n,r=!0)=>{let a,o={x:e.x,y:e.y,text:e.text,width:e.width,height:e.height,angle:(t==null?void 0:t.angle)??e.angle};o.text=e.text,(t||!e.autoResize)&&(a=t?Id(t,e):e.width,o.text=ap(e.originalText,Xn(e),a));let s=Ha(o.text,Xn(e),e.lineHeight);if(e.autoResize&&(o.width=s.width),o.height=s.height,t){let l=Db(t,e),d=Id(t,e);if(!ln(t)&&s.height>l){let g=Y0(s.height,t.type);Qe(t,{height:g},r),Y8(t.id,g)}if(s.width>d){let g=Y0(s.width,t.type);Qe(t,{width:g},r)}let u={...e,...o},{x:f,y:p}=N4(t,u,n);o.x=f,o.y=p}Qe(e,o,r)},iJ=(e,t,n)=>{let r=Vt(e);t.forEach(a=>{let o=n.get(a.id),s=tf(a);if(s){let l=n.get(s);if(l){let d=r.get(o);d&&Qe(d,{boundElements:(a.boundElements||[]).filter(f=>f.id!==l&&f.id!==s).concat({type:"text",id:l})});let u=r.get(l);u&&pt(u)&&Qe(u,{containerId:d?o:null})}}})},Tb=(e,t,n,r=!1)=>{if(!tf(e))return;rJ(e.id);let a=on(e,t);if(a&&a.text){if(!e)return;let o=a.text,s=a.height,l=a.width,d=Id(e,a),u=Db(e,a),f=e.height;if(r||n!=="n"&&n!=="s"){o&&(o=ap(a.originalText,Xn(a),d));let p=Ha(o,Xn(a),a.lineHeight);s=p.height,l=p.width}if(s>u){f=Y0(s,e.type);let p=f-e.height,g=!ln(e)&&(n==="ne"||n==="nw"||n==="n")?e.y-p:e.y;Qe(e,{height:f,y:g})}Qe(a,{text:o,width:l,height:s}),ln(e)||Qe(a,N4(e,a,t))}},N4=(e,t,n)=>{if(ln(e))return xt.getBoundTextElementPosition(e,t,n);let r=lJ(e),a=Db(e,t),o=Id(e,t),s,l;return t.verticalAlign===ws.TOP?l=r.y:t.verticalAlign===ws.BOTTOM?l=r.y+(a-t.height):l=r.y+(a/2-t.height/2),t.textAlign===My.LEFT?s=r.x:t.textAlign===My.RIGHT?s=r.x+(o-t.width):s=r.x+(o/2-t.width/2),{x:s,y:l}},Ha=(e,t,n,r)=>{let a=e.split(`
`).map(l=>l||" ").join(`
`),o=parseFloat(t),s=gPe(a,o,n);return{width:fT(a,t,r),height:s}},pPe=e=>{let t=uT(e.text).length;return e.height/t/e.fontSize},Bb=(e,t)=>e*t,aJ=(e,t)=>Bb(e,t)+Ri*2,zx,V0=(e,t,n)=>{zx||(zx=document.createElement("canvas"));let r=zx.getContext("2d");r.font=t;let a=r.measureText(e),o=a.width;if(!n&&window.TextMetrics&&"actualBoundingBoxLeft"in window.TextMetrics.prototype&&"actualBoundingBoxRight"in window.TextMetrics.prototype){let s=Math.abs(a.actualBoundingBoxLeft)+Math.abs(a.actualBoundingBoxRight);return Math.max(s,o)}return zh()?o*10:o},fT=(e,t,n)=>{let r=uT(e),a=0;return r.forEach(o=>{a=Math.max(a,V0(o,t,n))}),a},gPe=(e,t,n)=>{let r=uT(e).length;return Bb(t,n)*r},Rb=(()=>{let e={};return{calculate:(t,n)=>{let r=t.charCodeAt(0);if(e[n]||(e[n]=[]),!e[n][r]){let a=V0(t,n,!0);e[n][r]=a}return e[n][r]},getCache:t=>e[t],clearCache:t=>{e[t]=[]}}})(),oJ="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),sJ=(e,t)=>{let n=mPe(e);return n===0?Ha(oJ.split("").join(`
`),e,t).width+Ri*2:n+Ri*2},mPe=e=>{let t=Rb.getCache(e);if(!t)return 0;let n=t.filter(r=>r!==void 0);return Math.max(...n)},tf=e=>{var t,n,r;return((t=e==null?void 0:e.boundElements)==null?void 0:t.length)&&((r=(n=e==null?void 0:e.boundElements)==null?void 0:n.find(a=>a.type==="text"))==null?void 0:r.id)||null},on=(e,t)=>{if(!e)return null;let n=tf(e);return n&&t.get(n)||null},lo=(e,t)=>e&&e.containerId&&t.get(e.containerId)||null,Qx=(e,t,n)=>{if(!ln(e))return{x:e.x+e.width/2,y:e.y+e.height/2};let r=xt.getPointsGlobalCoordinates(e,n);if(r.length%2===1){let s=Math.floor(e.points.length/2),l=xt.getPointGlobalCoordinates(e,e.points[s],n);return{x:l[0],y:l[1]}}let a=e.points.length/2-1,o=xt.getEditorMidPoints(e,n,t)[a];return o||(o=xt.getSegmentMidPoint(e,r[a],r[a+1],a+1,n)),{x:o[0],y:o[1]}},lJ=e=>{let t=Ri,n=Ri;return e.type==="ellipse"&&(t+=e.width/2*(1-Math.sqrt(2)/2),n+=e.height/2*(1-Math.sqrt(2)/2)),e.type==="diamond"&&(t+=e.width/4,n+=e.height/4),{x:e.x+t,y:e.y+n}},UPe=(e,t)=>!t||ln(t)?e.angle:t.angle,vPe=(e,t)=>e.some(n=>{if(bi(n)){let r=lo(n,t);return!ln(r)}return!1}),yPe=(e,t)=>e.some(n=>{if(bi(n)){let r=lo(n,t);return!ln(r)}return pt(n)}),bPe=new Set(["rectangle","ellipse","diamond","arrow"]),APe=e=>bPe.has(e.type),Y0=(e,t)=>{e=Math.ceil(e);let n=Ri*2;return t==="ellipse"?Math.round((e+n)/Math.sqrt(2)*2):t==="arrow"?e+n*8:t==="diamond"?2*(e+n):e+n},Id=(e,t)=>{let{width:n}=e;if(ln(e)){let r=((t==null?void 0:t.fontSize)??hf)*H9e;return Math.max(Q9e*n,r)}return e.type==="ellipse"?Math.round(n/2*Math.sqrt(2))-Ri*2:e.type==="diamond"?Math.round(n/2)-Ri*2:n-Ri*2},Db=(e,t)=>{let{height:n}=e;return ln(e)?n-Ri*8*2<=0?t.height:n:e.type==="ellipse"?Math.round(n/2*Math.sqrt(2))-Ri*2:e.type==="diamond"?Math.round(n/2)-Ri*2:n-Ri*2},wPe=()=>fT(oJ,Xn({fontSize:hf,fontFamily:ip}))>0,hT=(e,t)=>Ha("",e,t).width+Ri*2,EPe=(e,t=`

`)=>e.reduce((n,r)=>(pt(r)&&n.push(r.text),n),[]).join(t);N();N();N();N();N();var xPe=te(c9e(),1),nA=e=>e.replace(/"/g,"&quot;"),Cs=e=>(e=e.trim(),e&&(0,xPe.sanitizeUrl)(nA(e))),cJ=e=>!!(e!=null&&e.includes(location.origin)||e!=null&&e.startsWith("/")),dJ=e=>{if(e=Cs(e),e.startsWith("/"))return`${location.origin}${e}`;try{new URL(e)}catch{return"about:blank"}return e};N();N();var dS=[],ut=e=>(dS=dS.concat(e),e);N();var uJ='<svg viewBox="0 0 24 24" stroke-width="1" width="28" height="28" xmlns="http://www.w3.org/2000/svg">',_Pe='<path d="M6.164 11.755a5.314 5.314 0 0 1-4.932-5.298 5.314 5.314 0 0 1 5.311-5.311 5.314 5.314 0 0 1 5.307 5.113l8.773 8.773a3.322 3.322 0 0 1 0 4.696l-.895.895a3.322 3.322 0 0 1-4.696 0l-8.868-8.868Z" style="fill:#fff"/>',fJ='<path stroke="#1b1b1f" fill="#fff" d="m7.868 11.113 7.773 7.774a2.359 2.359 0 0 0 1.667.691 2.368 2.368 0 0 0 2.357-2.358c0-.625-.248-1.225-.69-1.667L11.201 7.78 9.558 9.469l-1.69 1.643v.001Zm10.273 3.606-3.333 3.333m-3.25-6.583 2 2m-7-7 3 3M3.664 3.625l1 1M2.529 6.922l1.407-.144m5.735-2.932-1.118.866M4.285 9.823l.758-1.194m1.863-6.207-.13 1.408"/>',CPe=`data:${Ft.svg},${encodeURIComponent(`${uJ}${fJ}</svg>`)}`,SPe=`data:${Ft.svg},${encodeURIComponent(`${uJ}${_Pe}${fJ}</svg>`)}`,Hl=e=>{e&&(e.style.cursor="")},qn=(e,t)=>{e&&(e.style.cursor=t)},kc,Nj,hJ=(e,t)=>{let n=()=>{let r=t===Un.DARK;kc=document.createElement("canvas"),kc.theme=t,kc.height=20,kc.width=20;let a=kc.getContext("2d");a.lineWidth=1,a.beginPath(),a.arc(kc.width/2,kc.height/2,5,0,2*Math.PI),a.fillStyle=r?pa.black:pa.white,a.fill(),a.strokeStyle=r?pa.white:pa.black,a.stroke(),Nj=kc.toDataURL(Ft.svg)};(!kc||kc.theme!==t)&&n(),qn(e,`url(${Nj}) ${20/2} ${20/2}, auto`)},Wc=(e,t)=>{if(e)if(t.activeTool.type==="selection")Hl(e);else if(Rm(t))e.style.cursor=Vn.GRAB;else if(Kc(t))hJ(e,t.theme);else if(t.activeTool.type==="laser"){let n=t.theme===Un.LIGHT?CPe:SPe;e.style.cursor=`url(${n}), auto`}else["image","custom"].includes(t.activeTool.type)?t.activeTool.type!=="image"&&(e.style.cursor=Vn.AUTO):e.style.cursor=Vn.CROSSHAIR};N();N();var IPe=new PZ(Date.now()),kPe=0,kd=()=>Math.floor(IPe.next()*2**31),_l=()=>zh()?`id${kPe++}`:NM(),Rd=(e,{x:t,y:n,strokeColor:r=ei.strokeColor,backgroundColor:a=ei.backgroundColor,fillStyle:o=ei.fillStyle,strokeWidth:s=ei.strokeWidth,strokeStyle:l=ei.strokeStyle,roughness:d=ei.roughness,opacity:u=ei.opacity,width:f=0,height:p=0,angle:g=0,groupIds:v=[],frameId:c=null,index:h=null,roundness:m=null,boundElements:U=null,link:b=null,locked:w=ei.locked,...E})=>({id:E.id||_l(),type:e,x:t,y:n,width:f,height:p,angle:g,strokeColor:r,backgroundColor:a,fillStyle:o,strokeWidth:s,strokeStyle:l,roughness:d,opacity:u,groupIds:v,frameId:c,index:h,roundness:m,seed:E.seed??kd(),version:E.version||1,versionNonce:E.versionNonce??0,isDeleted:!1,boundElements:U,updated:u2(),link:b,locked:w,customData:E.customData}),Md=e=>Rd(e.type,e),$j=e=>Rd("embeddable",e),MPe=e=>({...Rd("iframe",e)}),pJ=e=>an({...Rd("frame",e),type:"frame",name:(e==null?void 0:e.name)||null},{}),uS=e=>an({...Rd("magicframe",e),type:"magicframe",name:(e==null?void 0:e.name)||null},{}),gJ=(e,t)=>({x:e.textAlign==="center"?t.width/2:e.textAlign==="right"?t.width:0,y:e.verticalAlign==="middle"?t.height/2:0}),Vo=e=>{let t=e.fontFamily||ip,n=e.fontSize||hf,r=e.lineHeight||H0(t),a=Hm(e.text),o=Ha(a,Xn({fontFamily:t,fontSize:n}),r),s=e.textAlign||wb,l=e.verticalAlign||x8,d=gJ({textAlign:s,verticalAlign:l},o),u={...Rd("text",e),text:a,fontSize:n,fontFamily:t,textAlign:s,verticalAlign:l,x:e.x-d.x,y:e.y-d.y,width:o.width,height:o.height,containerId:e.containerId||null,originalText:e.originalText??a,autoResize:e.autoResize??!0,lineHeight:r};return an(u,{})},TPe=(e,t,n)=>{let{width:r,height:a}=Ha(n,Xn(e),e.lineHeight);e.autoResize||(r=e.width);let{textAlign:o,verticalAlign:s}=e,l,d;if(o==="center"&&s===ws.MIDDLE&&!e.containerId&&e.autoResize){let u=Ha(e.text,Xn(e),e.lineHeight),f=gJ(e,{width:r-u.width,height:a-u.height});l=e.x-f.x,d=e.y-f.y}else{let[u,f,p,g]=Xt(e,t),[v,c,h,m]=Dh(e,r,a,!1),U=(u-v)/2,b=(f-c)/2,w=(p-h)/2,E=(g-m)/2;[l,d]=BPe({s:!0,e:o==="center"||o==="left",w:o==="center"||o==="right"},e.x,e.y,e.angle,U,b,w,E)}return{width:r,height:a,x:Number.isFinite(l)?l:e.x,y:Number.isFinite(d)?d:e.y}},BPe=(e,t,n,r,a,o,s,l)=>{let d=Math.cos(r),u=Math.sin(r);return e.e&&e.w?t+=a+s:e.e?(t+=a*(1+d),n+=a*u,t+=s*(1-d),n+=s*-u):e.w&&(t+=a*(1-d),n+=a*-u,t+=s*(1+d),n+=s*u),e.n&&e.s?n+=o+l:e.n?(t+=o*u,n+=o*(1-d),t+=l*-u,n+=l*(1+d)):(t+=o*-u,n+=o*(1+d),t+=l*u,n+=l*(1-d)),[t,n]},mJ=(e,t,n,r=e.text)=>{if(e.isDeleted)return;(t||!e.autoResize)&&(r=ap(r,Xn(e),t?Id(t,e):e.width));let a=TPe(e,n,r);return{text:r,...a}},RPe=e=>({...Rd(e.type,e),points:e.points||[],pressures:e.pressures||[],simulatePressure:e.simulatePressure,lastCommittedPoint:null}),k0=e=>({...Rd(e.type,e),points:e.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:null,endArrowhead:null}),pT=e=>({...Rd(e.type,e),points:e.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:e.startArrowhead||null,endArrowhead:e.endArrowhead||null,elbowed:e.elbowed||!1}),UJ=e=>({...Rd("image",e),strokeColor:"transparent",status:e.status??"pending",fileId:e.fileId??null,scale:e.scale??[1,1],crop:e.crop??null}),K8=(e,t=0)=>{if(e==null||typeof e!="object")return e;let n=Object.prototype.toString.call(e);if(n==="[object Object]"){let r=typeof e.constructor=="function"?Object.create(Object.getPrototypeOf(e)):{};for(let a in e)if(e.hasOwnProperty(a)){if(t===0&&(a==="shape"||a==="canvas"))continue;r[a]=K8(e[a],t+1)}return r}if(Array.isArray(e)){let r=e.length,a=new Array(r);for(;r--;)a[r]=K8(e[r],t+1);return a}return gt.DEV&&n!=="[object Object]"&&n!=="[object Array]"&&n.startsWith("[object ")&&console.warn(`_deepCloneElement: unexpected object type ${n}. This value will not be cloned!`),e},p2=e=>K8(e),X8=e=>{var t,n;if(zh()&&e){let r=`${e}_copy`;return(n=(t=window.h)==null?void 0:t.app)!=null&&n.getSceneElementsIncludingDeleted().find(a=>a.id===r)&&(r+="_copy"),r}return _l()},vJ=(e,t,n,r)=>{let a=p2(n);return a.id=X8(a.id),a.boundElements=null,a.updated=u2(),a.seed=kd(),a.groupIds=qDe(a.groupIds,e,o=>(t.has(o)||t.set(o,X8(o)),t.get(o))),r&&(a=Object.assign(a,r)),a},yJ=(e,t)=>{let n=[],r=Vt(e),a=new Map,o=l=>{if(a.has(l))return a.get(l);if(r.has(l)){let d=X8(l);return a.set(l,d),d}return null},s=new Map;for(let l of e){let d=K8(l);if(d.id=o(l.id),t!=null&&t.randomizeSeed&&(d.seed=kd(),Q4(d)),d.groupIds&&(d.groupIds=d.groupIds.map(u=>(s.has(u)||s.set(u,X8(u)),s.get(u)))),"containerId"in d&&d.containerId){let u=o(d.containerId);d.containerId=u}if("boundElements"in d&&d.boundElements&&(d.boundElements=d.boundElements.reduce((u,f)=>{let p=o(f.id);return p&&u.push({...f,id:p}),u},[])),"endBinding"in d&&d.endBinding){let u=o(d.endBinding.elementId);d.endBinding=u?{...d.endBinding,elementId:u}:null}if("startBinding"in d&&d.startBinding){let u=o(d.startBinding.elementId);d.startBinding=u?{...d.startBinding,elementId:u}:null}d.frameId&&(d.frameId=o(d.frameId)),n.push(d)}return n};N();N();N();N();var bJ="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function Ng(e,t,n){let r=n[0];if(t!=null&&e>=t)throw new Error(e+" >= "+t);if(e.slice(-1)===r||t&&t.slice(-1)===r)throw new Error("trailing zero");if(t){let s=0;for(;(e[s]||r)===t[s];)s++;if(s>0)return t.slice(0,s)+Ng(e.slice(s),t.slice(s),n)}let a=e?n.indexOf(e[0]):0,o=t!=null?n.indexOf(t[0]):n.length;if(o-a>1){let s=Math.round(.5*(a+o));return n[s]}else return t&&t.length>1?t.slice(0,1):n[a]+Ng(e.slice(1),null,n)}function AJ(e){if(e.length!==wJ(e[0]))throw new Error("invalid integer part of order key: "+e)}function wJ(e){if(e>="a"&&e<="z")return e.charCodeAt(0)-97+2;if(e>="A"&&e<="Z")return 90-e.charCodeAt(0)+2;throw new Error("invalid order key head: "+e)}function ev(e){let t=wJ(e[0]);if(t>e.length)throw new Error("invalid order key: "+e);return e.slice(0,t)}function Fj(e,t){if(e==="A"+t[0].repeat(26))throw new Error("invalid order key: "+e);let n=ev(e);if(e.slice(n.length).slice(-1)===t[0])throw new Error("invalid order key: "+e)}function jj(e,t){AJ(e);let[n,...r]=e.split(""),a=!0;for(let o=r.length-1;a&&o>=0;o--){let s=t.indexOf(r[o])+1;s===t.length?r[o]=t[0]:(r[o]=t[s],a=!1)}if(a){if(n==="Z")return"a"+t[0];if(n==="z")return null;let o=String.fromCharCode(n.charCodeAt(0)+1);return o>"a"?r.push(t[0]):r.pop(),o+r.join("")}else return n+r.join("")}function DPe(e,t){AJ(e);let[n,...r]=e.split(""),a=!0;for(let o=r.length-1;a&&o>=0;o--){let s=t.indexOf(r[o])-1;s===-1?r[o]=t.slice(-1):(r[o]=t[s],a=!1)}if(a){if(n==="a")return"Z"+t.slice(-1);if(n==="A")return null;let o=String.fromCharCode(n.charCodeAt(0)-1);return o<"Z"?r.push(t.slice(-1)):r.pop(),o+r.join("")}else return n+r.join("")}function B1(e,t,n=bJ){if(e!=null&&Fj(e,n),t!=null&&Fj(t,n),e!=null&&t!=null&&e>=t)throw new Error(e+" >= "+t);if(e==null){if(t==null)return"a"+n[0];let d=ev(t),u=t.slice(d.length);if(d==="A"+n[0].repeat(26))return d+Ng("",u,n);if(d<t)return d;let f=DPe(d,n);if(f==null)throw new Error("cannot decrement any more");return f}if(t==null){let d=ev(e),u=e.slice(d.length);return jj(d,n)??d+Ng(u,null,n)}let r=ev(e),a=e.slice(r.length),o=ev(t),s=t.slice(o.length);if(r===o)return r+Ng(a,s,n);let l=jj(r,n);if(l==null)throw new Error("cannot increment any more");return l<t?l:r+Ng(a,null,n)}function fS(e,t,n,r=bJ){if(n===0)return[];if(n===1)return[B1(e,t,r)];if(t==null){let s=B1(e,t,r),l=[s];for(let d=0;d<n-1;d++)s=B1(s,t,r),l.push(s);return l}if(e==null){let s=B1(e,t,r),l=[s];for(let d=0;d<n-1;d++)s=B1(e,s,r),l.push(s);return l.reverse(),l}let a=Math.floor(n/2),o=B1(e,t,r);return[...fS(e,o,a,r),o,...fS(o,t,n-a-1,r)]}var gT=(e,{shouldThrow:t=!1,includeBoundTextValidation:n=!1,ignoreLogs:r,reconciliationContext:a})=>{let o=[],s=d=>`${d==null?void 0:d.index}:${d==null?void 0:d.id}:${d==null?void 0:d.type}:${d==null?void 0:d.isDeleted}:${d==null?void 0:d.version}:${d==null?void 0:d.versionNonce}`,l=e.map(d=>d.index);for(let[d,u]of l.entries()){let f=l[d-1],p=l[d+1];if(hS(u,f,p)||o.push(`Fractional indices invariant has been compromised: "${s(e[d-1])}", "${s(e[d])}", "${s(e[d+1])}"`),n&&xl(e[d])){let g=e[d],v=on(g,Vt(e));v&&v.index<=g.index&&o.push(`Fractional indices invariant for bound elements has been compromised: "${s(v)}", "${s(g)}"`)}}if(o.length){let d=new fIe,u=[];if(a&&(u.push("Additional reconciliation context:"),u.push(a.localElements.map(f=>s(f))),u.push(a.remoteElements.map(f=>s(f)))),r||console.error(o.join(`

`),d.stack,e.map(f=>s(f)),...u),t)throw d}},PPe=e=>e.sort((t,n)=>Oj(t)&&Oj(n)?t.index<n.index?-1:t.index>n.index?1:t.id<n.id?-1:1:1),vc=(e,t)=>{try{let n=LPe(e,t),r=EJ(e,n),a=e.map(o=>r.has(o)?{...o,...r.get(o)}:o);gT(a,{includeBoundTextValidation:!1,shouldThrow:!0,ignoreLogs:!0});for(let[o,s]of r)Qe(o,s,!1)}catch{nf(e)}return e},nf=e=>{let t=NPe(e),n=EJ(e,t);for(let[r,a]of n)Qe(r,a,!1);return e},LPe=(e,t)=>{let n=[],r=0;for(;r<e.length;)if(t.has(e[r].id)){let a=[r-1,r];for(;++r<e.length&&t.has(e[r].id);)a.push(r);a.push(r),n.push(a)}else r++;return n},NPe=e=>{let t=[],n,r,a=-1,o=0,s=u=>{var g;let f=e[a]?e[a].index:void 0,p=(g=e[u-1])==null?void 0:g.index;return!f&&p||f&&p&&p>f?[p,u-1]:[f,a]},l=u=>{var g;let f=e[o]?e[o].index:void 0;if(f&&u<o)return[f,o];let p=o;for(;++p<e.length;){let v=(g=e[p])==null?void 0:g.index;if(!f&&v||f&&v&&v>f)return[v,p]}return[void 0,p]},d=0;for(;d<e.length;){let u=e[d].index;if([n,a]=s(d),[r,o]=l(d),hS(u,n,r))d++;else{let f=[a,d];for(;++d<e.length;){let p=e[d].index,[g,v]=s(d),[c,h]=l(d);if(hS(p,g,c))break;[n,a]=[g,v],[r,o]=[c,h],f.push(d)}f.push(o),t.push(f)}}return t},hS=(e,t,n)=>e?t&&n?t<e&&e<n:!t&&n?e<n:t&&!n?t<e:!!e:!1,EJ=(e,t)=>{var r,a;let n=new Map;for(let o of t){let s=o.shift(),l=o.pop(),d=fS((r=e[s])==null?void 0:r.index,(a=e[l])==null?void 0:a.index,o.length);for(let u=0;u<o.length;u++){let f=e[o[u]];n.set(f,{index:d[u]})}}return n},Oj=e=>!!e.index,xi=class zc{constructor(t,n){this.deleted=t,this.inserted=n}static create(t,n,r,a){let o=r&&a!=="inserted"?r(t):t,s=r&&a!=="deleted"?r(n):n;return new zc(o,s)}static calculate(t,n,r,a){if(t===n)return zc.empty();let o={},s={};for(let u of this.distinctKeysIterator("full",t,n))o[u]=t[u],s[u]=n[u];let[l,d]=a?a(o,s):[o,s];return zc.create(l,d,r)}static empty(){return new zc({},{})}static isEmpty(t){return!Object.keys(t.deleted).length&&!Object.keys(t.inserted).length}static mergeObjects(t,n,r){let a={...t};for(let o of Object.keys(r))delete a[o];return{...a,...n}}static mergeArrays(t,n,r,a){return Object.values(zc.mergeObjects(Zd(t??[],a),Zd(n??[],a),Zd(r??[],a)))}static diffObjects(t,n,r,a){if(!(!t[r]&&!n[r])&&(typeof t[r]=="object"||typeof n[r]=="object")){let o=t[r]??{},s=n[r]??{},l=zc.getLeftDifferences(o,s).reduce((u,f)=>(u[f]=a(o[f]),u),{}),d=zc.getRightDifferences(o,s).reduce((u,f)=>(u[f]=a(s[f]),u),{});Object.keys(l).length||Object.keys(d).length?(Reflect.set(t,r,l),Reflect.set(n,r,d)):(Reflect.deleteProperty(t,r),Reflect.deleteProperty(n,r))}}static diffArrays(t,n,r,a){if(!(!t[r]&&!n[r])&&(Array.isArray(t[r])||Array.isArray(n[r]))){let o=Array.isArray(t[r])?t[r]:[],s=Array.isArray(n[r])?n[r]:[],l=Zd(zc.getLeftDifferences(Zd(o,a),Zd(s,a))),d=Zd(zc.getRightDifferences(Zd(o,a),Zd(s,a)));if(Object.keys(l).length||Object.keys(d).length){let u=o.filter(p=>l[a?a(p):String(p)]),f=s.filter(p=>d[a?a(p):String(p)]);Reflect.set(t,r,u),Reflect.set(n,r,f)}else Reflect.deleteProperty(t,r),Reflect.deleteProperty(n,r)}}static isLeftDifferent(t,n,r=!1){return!!this.distinctKeysIterator("left",t,n,r).next().value}static isRightDifferent(t,n,r=!1){return!!this.distinctKeysIterator("right",t,n,r).next().value}static getLeftDifferences(t,n,r=!1){return Array.from(this.distinctKeysIterator("left",t,n,r))}static getRightDifferences(t,n,r=!1){return Array.from(this.distinctKeysIterator("right",t,n,r))}static*distinctKeysIterator(t,n,r,a=!1){if(n===r)return;let o=[];t==="left"?o=Object.keys(n):t==="right"?o=Object.keys(r):t==="full"?o=Array.from(new Set([...Object.keys(n),...Object.keys(r)])):O0(t,`Unknown distinctKeysIterator's join param "${t}"`,!0);for(let s of o){let l=n[s],d=r[s];if(l!==d){if(!a&&typeof l=="object"&&typeof d=="object"&&l!==null&&d!==null&&ga(l,d))continue;yield s}}}},zj=class _o{constructor(t){this.delta=t}static calculate(t,n){let r=xi.calculate(t,n,void 0,_o.postProcess);return new _o(r)}static empty(){return new _o(xi.create({},{}))}inverse(){let t=xi.create(this.delta.inserted,this.delta.deleted);return new _o(t)}applyTo(t,n){try{let{selectedElementIds:r={},selectedGroupIds:a={}}=this.delta.deleted,{selectedElementIds:o={},selectedGroupIds:s={},selectedLinearElementId:l,editingLinearElementId:d,...u}=this.delta.inserted,f=xi.mergeObjects(t.selectedElementIds,o,r),p=xi.mergeObjects(t.selectedGroupIds,s,a),g=l&&n.has(l)?new xt(n.get(l)):null,v=d&&n.has(d)?new xt(n.get(d)):null,c={...t,...u,selectedElementIds:f,selectedGroupIds:p,selectedLinearElement:typeof l<"u"?g:t.selectedLinearElement,editingLinearElement:typeof d<"u"?v:t.editingLinearElement},h=this.filterInvisibleChanges(t,c,n);return[c,h]}catch(r){if(console.error("Couldn't apply appstate change",r),gt.DEV||gt.MODE===$o.TEST)throw r;return[t,!1]}}isEmpty(){return xi.isEmpty(this.delta)}static postProcess(t,n){try{xi.diffObjects(t,n,"selectedElementIds",r=>!0),xi.diffObjects(t,n,"selectedGroupIds",r=>r??!1)}catch(r){if(console.error("Couldn't postprocess appstate change deltas."),gt.DEV||gt.MODE===$o.TEST)throw r}finally{return[t,n]}}filterInvisibleChanges(t,n,r){let a=Z8(t),o=Z8(n),s=xi.isRightDifferent(_o.stripElementsProps(a),_o.stripElementsProps(o)),l=xi.isRightDifferent(_o.stripStandaloneProps(a),_o.stripStandaloneProps(o));if(!s&&!l)return!1;let d={value:s};if(l){let u=xi.getRightDifferences(_o.stripStandaloneProps(a),_o.stripStandaloneProps(o)),f=new Set;(u.includes("editingGroupId")||u.includes("selectedGroupIds"))&&(f=tPe(r));for(let p of u)switch(p){case"selectedElementIds":n[p]=_o.filterSelectedElements(n[p],r,d);break;case"selectedGroupIds":n[p]=_o.filterSelectedGroups(n[p],f,d);break;case"croppingElementId":{let h=n[p],m=h&&r.get(h);m&&!m.isDeleted?d.value=!0:n[p]=null;break}case"editingGroupId":let g=n[p];g?f.has(g)?d.value=!0:n[p]=null:d.value=!0;break;case"selectedLinearElementId":case"editingLinearElementId":let v=_o.convertToAppStateKey(p),c=n[v];if(!c)d.value=!0;else{let h=r.get(c.elementId);h&&!h.isDeleted?d.value=!0:n[v]=null}break;default:O0(p,`Unknown ObservedElementsAppState's key "${p}"`,!0)}}return d.value}static convertToAppStateKey(t){switch(t){case"selectedLinearElementId":return"selectedLinearElement";case"editingLinearElementId":return"editingLinearElement"}}static filterSelectedElements(t,n,r){let a=Object.keys(t);if(!a.length)return r.value=!0,t;let o={...t};for(let s of a){let l=n.get(s);l&&!l.isDeleted?r.value=!0:delete o[s]}return o}static filterSelectedGroups(t,n,r){if(!Object.keys(t).length)return r.value=!0,t;let a={...t};for(let o of Object.keys(a))n.has(o)?r.value=!0:delete a[o];return a}static stripElementsProps(t){let{editingGroupId:n,selectedGroupIds:r,selectedElementIds:a,editingLinearElementId:o,selectedLinearElementId:s,croppingElementId:l,...d}=t;return d}static stripStandaloneProps(t){let{name:n,viewBackgroundColor:r,...a}=t;return a}},Bn,Qj=(Bn=class{constructor(t,n,r){this.added=t,this.removed=n,this.updated=r}static create(t,n,r,a={shouldRedistribute:!1}){let o;if(a.shouldRedistribute){let s=new Map,l=new Map,d=new Map,u=[...t,...n,...r];for(let[f,p]of u)this.satisfiesAddition(p)?s.set(f,p):this.satisfiesRemoval(p)?l.set(f,p):d.set(f,p);o=new Bn(s,l,d)}else o=new Bn(t,n,r);return(gt.DEV||gt.MODE===$o.TEST)&&(Bn.validate(o,"added",this.satisfiesAddition),Bn.validate(o,"removed",this.satisfiesRemoval),Bn.validate(o,"updated",this.satisfiesUpdate)),o}static validate(t,n,r){for(let[a,o]of t[n].entries())if(!r(o))throw console.error(`Broken invariant for "${n}" delta, element "${a}", delta:`,o),new Error(`ElementsChange invariant broken for element "${a}".`)}static calculate(t,n){if(t===n)return Bn.empty();let r=new Map,a=new Map,o=new Map;for(let s of t.values())if(!n.get(s.id)){let l={...s,isDeleted:!1},d={isDeleted:!0},u=xi.create(l,d,Bn.stripIrrelevantProps);a.set(s.id,u)}for(let s of n.values()){let l=t.get(s.id);if(!l){let d={isDeleted:!0},u={...s,isDeleted:!1},f=xi.create(d,u,Bn.stripIrrelevantProps);r.set(s.id,f);continue}if(l.versionNonce!==s.versionNonce){let d=xi.calculate(l,s,Bn.stripIrrelevantProps,Bn.postProcess);if(typeof l.isDeleted=="boolean"&&typeof s.isDeleted=="boolean"&&l.isDeleted!==s.isDeleted){l.isDeleted&&!s.isDeleted?r.set(s.id,d):a.set(s.id,d);continue}xi.isEmpty(d)||o.set(s.id,d)}}return Bn.create(r,a,o)}static empty(){return Bn.create(new Map,new Map,new Map)}inverse(){let t=o=>{let s=new Map;for(let[l,d]of o.entries())s.set(l,xi.create(d.inserted,d.deleted));return s},n=t(this.added),r=t(this.removed),a=t(this.updated);return Bn.create(r,n,a)}isEmpty(){return this.added.size===0&&this.removed.size===0&&this.updated.size===0}applyLatestChanges(t){let n=l=>d=>{let u={};for(let f of Object.keys(d))switch(f){case"boundElements":u[f]=d[f];break;default:u[f]=l[f]}return u},r=l=>{let d=new Map;for(let[u,f]of l.entries()){let p=t.get(u);if(p){let g=xi.create(f.deleted,f.inserted,n(p),"inserted");d.set(u,g)}else d.set(u,f)}return d},a=r(this.added),o=r(this.removed),s=r(this.updated);return Bn.create(a,o,s,{shouldRedistribute:!0})}applyTo(t,n){let r=Bs(new Map(t)),a,o={containsVisibleDifference:!1,containsZindexDifference:!1};try{let s=Bn.createApplier(r,n,o),l=s(this.added),d=s(this.removed),u=s(this.updated),f=this.resolveConflicts(t,r);a=new Map([...l,...d,...u,...f])}catch(s){if(console.error("Couldn't apply elements change",s),gt.DEV||gt.MODE===$o.TEST)throw s;return[t,!0]}try{Bn.redrawTextBoundingBoxes(r,a),r=Bn.reorderElements(r,a,o),Bn.redrawBoundArrows(r,a)}catch(s){if(console.error("Couldn't mutate elements after applying elements change",s),gt.DEV||gt.MODE===$o.TEST)throw s}finally{return[r,o.containsVisibleDifference]}}static applyDelta(t,n,r={containsVisibleDifference:!0,containsZindexDifference:!0}){var s,l;let{boundElements:a,...o}=n.inserted;if((s=n.deleted.boundElements)!=null&&s.length||(l=n.inserted.boundElements)!=null&&l.length){let d=xi.mergeArrays(t.boundElements,n.inserted.boundElements,n.deleted.boundElements,u=>u.id);Object.assign(o,{boundElements:d})}if(zn(t)){let d=n;(d.deleted.crop||d.inserted.crop)&&Object.assign(o,{crop:d.inserted.crop??null})}if(!r.containsVisibleDifference){let{index:d,...u}=o,f=Bn.checkForVisibleDifference(t,u);r.containsVisibleDifference=f}return r.containsZindexDifference||(r.containsZindexDifference=n.deleted.index!==n.inserted.index),an(t,o)}static checkForVisibleDifference(t,n){return t.isDeleted&&n.isDeleted!==!1?!1:t.isDeleted&&n.isDeleted===!1||t.isDeleted===!1&&n.isDeleted?!0:xi.isRightDifferent(t,n)}resolveConflicts(t,n){let r=new Map,a=(u,f)=>{let p=n.get(u.id);if(!p)return;let g;t.get(u.id)===p?g=an(p,f):g=Qe(p,f),r.set(g.id,g),n.set(g.id,g)};for(let[u]of this.removed)Bn.unbindAffected(t,n,u,a);for(let[u]of this.added)Bn.rebindAffected(t,n,u,a);for(let[u]of Array.from(this.updated).filter(([f,p])=>Object.keys({...p.deleted,...p.inserted}).find(g=>LDe.has(g)))){let f=n.get(u);!f||f.isDeleted||Bn.rebindAffected(t,n,u,a)}let o=new Map(Array.from(t).filter(([u])=>r.has(u))),{added:s,removed:l,updated:d}=Bn.calculate(o,r);for(let[u,f]of s)this.added.set(u,f);for(let[u,f]of l)this.removed.set(u,f);for(let[u,f]of d)this.updated.set(u,f);return r}static unbindAffected(t,n,r,a){let o=()=>t.get(r),s=()=>n.get(r);ZU.unbindAffected(n,o(),a),ZU.unbindAffected(n,s(),a),qU.unbindAffected(n,o(),a),qU.unbindAffected(n,s(),a)}static rebindAffected(t,n,r,a){let o=()=>t.get(r),s=()=>n.get(r);ZU.unbindAffected(n,o(),a),ZU.rebindAffected(n,s(),a),qU.unbindAffected(n,o(),(l,d)=>{pt(l)&&a(l,d)}),qU.rebindAffected(n,s(),a)}static redrawTextBoundingBoxes(t,n){let r=new Map;for(let a of n.values()){if(bi(a)){let{containerId:o}=a,s=o?t.get(o):void 0;s&&r.set(s.id,{container:s,boundText:a})}if(xl(a)){let o=tf(a),s=o?t.get(o):void 0;s&&r.set(a.id,{container:a,boundText:s})}}for(let{container:a,boundText:o}of r.values())a.isDeleted||o.isDeleted||co(o,a,t,!1)}static redrawBoundArrows(t,n){for(let r of n.values())!r.isDeleted&&Xu(r)&&_s(r,t,{changedElements:n})}static reorderElements(t,n,r){if(!r.containsZindexDifference)return t;let a=Array.from(t.values()),o=PPe([...a]),s=xi.getRightDifferences(a,o,!0).reduce((l,d)=>{let u=a[Number(d)];return u&&n.has(u.id)&&l.set(u.id,u),l},new Map);return!r.containsVisibleDifference&&s.size&&(r.containsVisibleDifference=!0),Vt(vc(o,s))}static postProcess(t,n){try{xi.diffArrays(t,n,"boundElements",r=>r.id)}catch(r){if(console.error("Couldn't postprocess elements change deltas."),gt.DEV||gt.MODE===$o.TEST)throw r}finally{return[t,n]}}static stripIrrelevantProps(t){let{id:n,updated:r,version:a,versionNonce:o,seed:s,...l}=t;return l}},ee(Bn,"satisfiesAddition",({deleted:t,inserted:n})=>t.isDeleted===!0&&!n.isDeleted),ee(Bn,"satisfiesRemoval",({deleted:t,inserted:n})=>!t.isDeleted&&n.isDeleted===!0),ee(Bn,"satisfiesUpdate",({deleted:t,inserted:n})=>!!t.isDeleted==!!n.isDeleted),ee(Bn,"createApplier",(t,n,r)=>{let a=Bn.createGetter(t,n,r);return o=>Array.from(o.entries()).reduce((s,[l,d])=>{let u=a(l,d.inserted);if(u){let f=Bn.applyDelta(u,d,r);t.set(f.id,f),s.set(f.id,f)}return s},new Map)}),ee(Bn,"createGetter",(t,n,r)=>(a,o)=>{let s=t.get(a);return s||(s=n.get(a),s&&(r.containsZindexDifference=!0,(o.isDeleted===!1||o.isDeleted!==!0&&s.isDeleted===!1)&&(r.containsVisibleDifference=!0))),s}),Bn);N();var Xc=class{constructor(){ee(this,"subscribers",[])}on(...t){let n=t.flat().filter(r=>typeof r=="function");return this.subscribers.push(...n),()=>this.off(n)}once(...t){let n=t.flat().filter(a=>typeof a=="function");n.push(()=>r());let r=this.on(...n);return r}off(...t){let n=t.flat();this.subscribers=this.subscribers.filter(r=>!n.includes(r))}trigger(...t){for(let n of this.subscribers)n(...t);return this}clear(){this.subscribers=[]}},xJ="__observedAppState",Z8=e=>{var n,r;let t={name:e.name,editingGroupId:e.editingGroupId,viewBackgroundColor:e.viewBackgroundColor,selectedElementIds:e.selectedElementIds,selectedGroupIds:e.selectedGroupIds,editingLinearElementId:((n=e.editingLinearElement)==null?void 0:n.elementId)||null,selectedLinearElementId:((r=e.selectedLinearElement)==null?void 0:r.elementId)||null,croppingElementId:e.croppingElementId};return Reflect.defineProperty(t,xJ,{value:!0,enumerable:!1}),t},$Pe=e=>!!Reflect.get(e,xJ),Me={CAPTURE:"capture",UPDATE:"update",NONE:"none"},FPe=class{constructor(t,n){this.elementsChange=t,this.appStateChange=n}},jPe=class{constructor(){ee(this,"onStoreIncrementEmitter",new Xc);ee(this,"scheduledActions",new Set);ee(this,"_snapshot",Hj.empty());ee(this,"shouldCaptureIncrement",()=>{this.scheduleAction(Me.CAPTURE)});ee(this,"shouldUpdateSnapshot",()=>{this.scheduleAction(Me.UPDATE)});ee(this,"scheduleAction",e=>{this.scheduledActions.add(e),this.satisfiesScheduledActionsInvariant()});ee(this,"commit",(e,t)=>{try{this.scheduledActions.has(Me.CAPTURE)?this.captureIncrement(e,t):this.scheduledActions.has(Me.UPDATE)&&this.updateSnapshot(e,t)}finally{this.satisfiesScheduledActionsInvariant(),this.scheduledActions=new Set}});ee(this,"captureIncrement",(e,t)=>{let n=this.snapshot,r=this.snapshot.maybeClone(e,t);if(n!==r){let a=r.meta.didElementsChange?Qj.calculate(n.elements,r.elements):Qj.empty(),o=r.meta.didAppStateChange?zj.calculate(n.appState,r.appState):zj.empty();(!a.isEmpty()||!o.isEmpty())&&this.onStoreIncrementEmitter.trigger(new FPe(a,o)),this.snapshot=r}});ee(this,"updateSnapshot",(e,t)=>{let n=this.snapshot.maybeClone(e,t);this.snapshot!==n&&(this.snapshot=n)});ee(this,"filterUncomittedElements",(e,t)=>{for(let[n,r]of e.entries()){if(!t.get(n))continue;let a=this.snapshot.elements.get(n);a?a.version<r.version&&t.set(n,a):t.delete(n)}return t});ee(this,"clear",()=>{this.snapshot=Hj.empty(),this.scheduledActions=new Set});ee(this,"satisfiesScheduledActionsInvariant",()=>{if(!(this.scheduledActions.size>=0&&this.scheduledActions.size<=3)){let e=`There can be at most three store actions scheduled at the same time, but there are "${this.scheduledActions.size}".`;if(console.error(e,this.scheduledActions.values()),gt.DEV||gt.MODE===$o.TEST)throw new Error(e)}})}get snapshot(){return this._snapshot}set snapshot(e){this._snapshot=e}},Hj=class pS{constructor(t,n,r={didElementsChange:!1,didAppStateChange:!1,isEmpty:!1}){this.elements=t,this.appState=n,this.meta=r}static empty(){return new pS(new Map,Z8(Cd()),{didElementsChange:!1,didAppStateChange:!1,isEmpty:!0})}isEmpty(){return this.meta.isEmpty}maybeClone(t,n){let r=this.maybeCreateElementsSnapshot(t),a=this.maybeCreateAppStateSnapshot(n),o=!1,s=!1;return this.elements!==r&&(o=!0),this.appState!==a&&(s=!0),!o&&!s?this:new pS(r,a,{didElementsChange:o,didAppStateChange:s})}maybeCreateAppStateSnapshot(t){if(!t)return this.appState;let n=$Pe(t)?t:Z8(t);return this.detectChangedAppState(n)?n:this.appState}detectChangedAppState(t){return!ga(this.appState,t,{selectedElementIds:ga,selectedGroupIds:ga})}maybeCreateElementsSnapshot(t){return t?this.detectChangedElements(t)?this.createElementsSnapshot(t):this.elements:this.elements}detectChangedElements(t){if(this.elements===t)return!1;if(this.elements.size!==t.size)return!0;let n=Array.from(t.keys());for(let r=n.length-1;r>=0;r--){let a=this.elements.get(n[r]),o=t.get(n[r]);if(!a||!o||a.id!==o.id||a.versionNonce!==o.versionNonce)return!0}return!1}createElementsSnapshot(t){let n=new Map;for(let[r,a]of this.elements.entries())t.get(r)?n.set(r,a):n.set(r,an(a,{isDeleted:!0}));for(let[r,a]of t.entries()){let o=n.get(r);(!o||o&&o.versionNonce!==a.versionNonce)&&n.set(r,p2(a))}return n}},Mc=new Map,OPe=/^(?:http(?:s)?:\/\/)?(?:www\.)?youtu(?:be\.com|\.be)\/(embed\/|watch\?v=|shorts\/|playlist\?list=|embed\/videoseries\?list=)?([a-zA-Z0-9_-]+)(?:\?t=|&t=|\?start=|&start=)?([a-zA-Z0-9_-]+)?[^\s]*$/,zPe=/^(?:http(?:s)?:\/\/)?(?:(?:w){3}\.)?(?:player\.)?vimeo\.com\/(?:video\/)?([^?\s]+)(?:\?.*)?$/,QPe=/^https:\/\/(?:www\.)?figma\.com/,Gj=/^https:\/\/gist\.github\.com\/([\w_-]+)\/([\w_-]+)/,HPe=/^<script[\s\S]*?\ssrc=["'](https:\/\/gist\.github\.com\/.*?)\.js["']/i,Wj=/(?:https?:\/\/)?(?:(?:w){3}\.)?(?:twitter|x)\.com\/[^/]+\/status\/(\d+)/,GPe=/^<blockquote[\s\S]*?\shref=["'](https?:\/\/(?:twitter|x)\.com\/[^"']*)/i,WPe=/^https:\/\/(?:www\.)?val\.town\/(v|embed)\/[a-zA-Z_$][0-9a-zA-Z_$]+\.[a-zA-Z_$][0-9a-zA-Z_$]+/,VPe=/^<(?:iframe|blockquote)[\s\S]*?\s(?:src|href)=["']([^"']*)["'][\s\S]*?>$/i,Vj=/giphy.com\/(?:clips|embed|gifs)\/[a-zA-Z0-9]*?-?([a-zA-Z0-9]+)(?:[^a-zA-Z0-9]|$)/,Yj=/^(?:http(?:s)?:\/\/)?(?:www\.)?reddit\.com\/r\/([a-zA-Z0-9_]+)\/comments\/([a-zA-Z0-9_]+)\/([a-zA-Z0-9_]+)\/?(?:\?[^#\s]*)?(?:#[^\s]*)?$/,YPe=/^<blockquote[\s\S]*?\shref=["'](https?:\/\/(?:www\.)?reddit\.com\/[^"']*)/i,gS=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","link.excalidraw.com","gist.github.com","twitter.com","x.com","*.simplepdf.eu","stackblitz.com","val.town","giphy.com","reddit.com"]),Kj=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","twitter.com","x.com","*.simplepdf.eu","stackblitz.com","reddit.com"]),jv=e=>`<html><body>${e}</body></html>`,$g=e=>{if(!e)return null;if(Mc.has(e))return Mc.get(e);let t=e,n=Kj.has(mS(e,Kj)||""),r="generic",a={w:560,h:840},o=e.match(OPe);if(o!=null&&o[2]){let d=o[3]?`&start=${o[3]}`:"",u=e.includes("shorts");switch(r="video",o[1]){case"embed/":case"watch?v=":case"shorts/":e=`https://www.youtube.com/embed/${o[2]}?enablejsapi=1${d}`;break;case"playlist?list=":case"embed/videoseries?list=":e=`https://www.youtube.com/embed/videoseries?list=${o[2]}&enablejsapi=1${d}`;break;default:e=`https://www.youtube.com/embed/${o[2]}?enablejsapi=1${d}`;break}return a=u?{w:315,h:560}:{w:560,h:315},Mc.set(t,{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}),{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}}let s=e.match(zPe);if(s!=null&&s[1]){let d=s==null?void 0:s[1],u=/^\d+$/.test(d)?void 0:new URIError("Invalid embed link format");return r="video",e=`https://player.vimeo.com/video/${d}?api=1`,a={w:560,h:315},Mc.set(t,{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}),{link:e,intrinsicSize:a,type:r,error:u,sandbox:{allowSameOrigin:n}}}if(e.match(QPe))return r="generic",e=`https://www.figma.com/embed?embed_host=share&url=${encodeURIComponent(e)}`,a={w:550,h:550},Mc.set(t,{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}),{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}};let l=e.match(WPe);if(l)return e=l[1]==="embed"?l[0]:l[0].replace("/v","/embed"),Mc.set(t,{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}),{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}};if(Wj.test(e)){let d=e.match(Wj)[1],u=nA(`https://twitter.com/x/status/${d}`),f={type:"document",srcdoc:p=>jv(`<blockquote class="twitter-tweet" data-dnt="true" data-theme="${p}"><a href="${u}"></a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"><\/script>`),intrinsicSize:{w:480,h:480},sandbox:{allowSameOrigin:n}};return Mc.set(t,f),f}if(Yj.test(e)){let[,d,u,f]=e.match(Yj),p=nA(`https://reddit.com/r/${d}/comments/${u}/${f}`),g={type:"document",srcdoc:v=>jv(`<blockquote class="reddit-embed-bq" data-embed-theme="${v}"><a href="${p}"></a><br></blockquote><script async="" src="https://embed.reddit.com/widgets.js" charset="UTF-8"><\/script>`),intrinsicSize:{w:480,h:480},sandbox:{allowSameOrigin:n}};return Mc.set(t,g),g}if(Gj.test(e)){let[,d,u]=e.match(Gj),f=nA(`https://gist.github.com/${d}/${u}`),p={type:"document",srcdoc:()=>jv(`
          <script src="${f}.js"><\/script>
          <style type="text/css">
            * { margin: 0px; }
            table, .gist { height: 100%; }
            .gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }
          </style>
        `),intrinsicSize:{w:550,h:720},sandbox:{allowSameOrigin:n}};return Mc.set(e,p),p}return Mc.set(e,{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}),{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}},_J=e=>{let t;rh(e)?t="IFrame element":t=!e.link||(e==null?void 0:e.link)===""?"Empty Web-Embed":e.link;let n=Math.max(Math.min(e.width/2,e.width/t.length),e.width/30),r=Nr.Helvetica,a=Xn({fontSize:n,fontFamily:r});return Vo({x:e.x+e.width/2,y:e.y+e.height/2,strokeColor:e.strokeColor!=="transparent"?e.strokeColor:"black",backgroundColor:"transparent",fontFamily:r,fontSize:n,text:ap(t,a,e.width-20),textAlign:"center",verticalAlign:ws.MIDDLE,angle:e.angle??0})};ut({name:"setEmbeddableAsActiveTool",trackEvent:{category:"toolbar"},target:"Tool",label:"toolBar.embeddable",perform:(e,t,n,r)=>{let a=_i(t,{type:"embeddable"});return Wc(r.canvas,{...t,activeTool:a}),{elements:e,appState:{...t,activeTool:_i(t,{type:"embeddable"})},storeAction:Me.NONE}}});var mS=(e,t)=>{try{let{hostname:n}=new URL(e),r=n.replace(/^www\./,"");if(t instanceof Set){if(gS.has(r))return r;let o=r.replace(/^([^.]+)/,"*");return gS.has(o)?o:null}let a=t.replace(/^www\./,"");if(r===a)return a}catch{}return null},KPe=e=>{let t=e.match(GPe);if(t&&t.length===2)return t[1];let n=e.match(YPe);if(n&&n.length===2)return n[1];let r=e.match(HPe);if(r&&r.length===2)return r[1];if(Vj.test(e))return`https://giphy.com/embed/${Vj.exec(e)[1]}`;let a=e.match(VPe);return a&&a.length===2?a[1]:e},rA=(e,t)=>{if(!e)return!1;if(t!=null)if(typeof t=="function"){let n=t(e);if(typeof n=="boolean")return n}else{if(typeof t=="boolean")return t;if(t instanceof RegExp)return t.test(e);if(Array.isArray(t)){for(let n of t)if(n instanceof RegExp){if(e.match(n))return!0}else if(mS(e,n))return!0;return!1}}return!!mS(e,gS)},aU=(e,t,n)=>{let r={sets:t.sets,shape:t.shape,options:{...t.options,fixedDecimalPlaceDigits:n}};return e.draw(r)},oU=(e,t,n,r,a)=>{if(!r.enabled||!r.clip)return null;let o=Ss(e,a);if(o){let s=t.ownerDocument.createElementNS(nr,"g");return s.setAttributeNS(nr,"clip-path",`url(#${o.id})`),n.forEach(l=>s.appendChild(l)),s}return null},iA=(e,t,n,r,a,o,s,l)=>{var w;let d={x:o,y:s},[u,f,p,g]=Xt(e,t),v=(p-u)/2-(e.x-u),c=(g-f)/2-(e.y-f);if(pt(e)){let E=lo(e,t);if(ln(E)){let[x,C,I,S]=Xt(E,t),M=xt.getBoundTextElementPosition(E,e,t);v=(I-x)/2-(M.x-x),c=(S-C)/2-(M.y-C),o=o+M.x-e.x,s=s+M.y-e.y}}let h=180*e.angle/Math.PI,m=r;if(e.link){let E=r.ownerDocument.createElementNS(nr,"a");E.setAttribute("href",Cs(e.link)),m.appendChild(E),m=E}let U=(E,x)=>{zh()&&E.setAttribute("data-id",x.id),m.appendChild(E)},b=(((w=Ss(e,t))==null?void 0:w.opacity)??100)*e.opacity/1e4;switch(e.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":{let E=Vr.generateElementShape(e,null),x=aU(n,E,Z2);b!==1&&(x.setAttribute("stroke-opacity",`${b}`),x.setAttribute("fill-opacity",`${b}`)),x.setAttribute("stroke-linecap","round"),x.setAttribute("transform",`translate(${o||0} ${s||0}) rotate(${h} ${v} ${c})`);let C=oU(e,m,[x],l.frameRendering,t);U(C||x,e);break}case"iframe":case"embeddable":{let E=Vr.generateElementShape(e,l),x=aU(n,E,Z2),C=e.opacity/100;C!==1&&(x.setAttribute("stroke-opacity",`${C}`),x.setAttribute("fill-opacity",`${C}`)),x.setAttribute("stroke-linecap","round"),x.setAttribute("transform",`translate(${o||0} ${s||0}) rotate(${h} ${v} ${c})`),U(x,e);let I=_J(e);iA(I,t,n,m,a,I.x+d.x-e.x,I.y+d.y-e.y,l);let S=aU(n,E,Z2);for(S.setAttribute("stroke-linecap","round"),S.setAttribute("transform",`translate(${o||0} ${s||0}) rotate(${h} ${v} ${c})`);S.firstChild;)S.removeChild(S.firstChild);let M=Rh(Math.min(e.width,e.height),e),R=$g(dJ(e.link||""));if(l.renderEmbeddables===!1||(R==null?void 0:R.type)==="document"){let D=r.ownerDocument.createElementNS(nr,"a");D.setAttribute("href",Cs(e.link||"")),D.setAttribute("target","_blank"),D.setAttribute("rel","noopener noreferrer"),D.style.borderRadius=`${M}px`,S.appendChild(D)}else{let D=r.ownerDocument.createElementNS(nr,"foreignObject");D.style.width=`${e.width}px`,D.style.height=`${e.height}px`,D.style.border="none";let L=D.ownerDocument.createElementNS(nr,"div");L.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),L.style.width="100%",L.style.height="100%";let j=L.ownerDocument.createElement("iframe");j.src=(R==null?void 0:R.link)??"",j.style.width="100%",j.style.height="100%",j.style.border="none",j.style.borderRadius=`${M}px`,j.style.top="0",j.style.left="0",j.allowFullscreen=!0,L.appendChild(j),D.appendChild(L),S.appendChild(D)}U(S,e);break}case"line":case"arrow":{let E=on(e,t),x=r.ownerDocument.createElementNS(nr,"mask");if(E){x.setAttribute("id",`mask-${e.id}`);let S=r.ownerDocument.createElementNS(nr,"rect");o=o||0,s=s||0,S.setAttribute("x","0"),S.setAttribute("y","0"),S.setAttribute("fill","#fff"),S.setAttribute("width",`${e.width+100+o}`),S.setAttribute("height",`${e.height+100+s}`),x.appendChild(S);let M=r.ownerDocument.createElementNS(nr,"rect"),R=xt.getBoundTextElementPosition(e,E,t),D=o+R.x-e.x,L=s+R.y-e.y;M.setAttribute("x",D.toString()),M.setAttribute("y",L.toString()),M.setAttribute("fill","#000"),M.setAttribute("width",`${E.width}`),M.setAttribute("height",`${E.height}`),M.setAttribute("opacity","1"),x.appendChild(M)}let C=r.ownerDocument.createElementNS(nr,"g");E&&C.setAttribute("mask",`url(#mask-${e.id})`),C.setAttribute("stroke-linecap","round"),Vr.generateElementShape(e,l).forEach(S=>{let M=aU(n,S,Z2);b!==1&&(M.setAttribute("stroke-opacity",`${b}`),M.setAttribute("fill-opacity",`${b}`)),M.setAttribute("transform",`translate(${o||0} ${s||0}) rotate(${h} ${v} ${c})`),e.type==="line"&&qu(e.points)&&e.backgroundColor!=="transparent"&&M.setAttribute("fill-rule","evenodd"),C.appendChild(M)});let I=oU(e,m,[C,x],l.frameRendering,t);I?(U(I,e),m.appendChild(I)):(U(C,e),m.append(x));break}case"freedraw":{let E=Vr.generateElementShape(e,l),x=E?aU(n,E,Z2):r.ownerDocument.createElementNS(nr,"g");b!==1&&(x.setAttribute("stroke-opacity",`${b}`),x.setAttribute("fill-opacity",`${b}`)),x.setAttribute("transform",`translate(${o||0} ${s||0}) rotate(${h} ${v} ${c})`),x.setAttribute("stroke","none");let C=r.ownerDocument.createElementNS(nr,"path");C.setAttribute("fill",e.strokeColor),C.setAttribute("d",Mq(e)),x.appendChild(C);let I=oU(e,m,[x],l.frameRendering,t);U(I||x,e);break}case"image":{let E=Math.round(e.width),x=Math.round(e.height),C=al(e)&&a[e.fileId];if(C){let{reuseImages:I=!0}=l,S=`image-${C.id}`,M=e.width,R=e.height;e.crop&&({width:M,height:R}=Ju(e),S=`image-crop-${C.id}-${pNe(`${M}x${R}`)}`),I||(S=`image-${e.id}`);let D=r.querySelector(`#${S}`);if(!D){D=r.ownerDocument.createElementNS(nr,"symbol"),D.id=S;let se=r.ownerDocument.createElementNS(nr,"image");se.setAttribute("href",C.dataURL),se.setAttribute("preserveAspectRatio","none"),e.crop||!I?(se.setAttribute("width",`${M}`),se.setAttribute("height",`${R}`)):(se.setAttribute("width","100%"),se.setAttribute("height","100%")),D.appendChild(se),m.prepend(D)}let L=r.ownerDocument.createElementNS(nr,"use");L.setAttribute("href",`#${S}`),l.exportWithDarkMode&&C.mimeType!==Ft.svg&&L.setAttribute("filter",wq);let j=0,re=0;if(e.crop){let{width:se,height:O}=Ju(e);j=e.crop.x/(e.crop.naturalWidth/se),re=e.crop.y/(e.crop.naturalHeight/O)}let J=v+j,H=c+re;L.setAttribute("width",`${E+j}`),L.setAttribute("height",`${x+re}`),L.setAttribute("opacity",`${b}`),(e.scale[0]!==1||e.scale[1]!==1)&&L.setAttribute("transform",`translate(${J} ${H}) scale(${e.scale[0]} ${e.scale[1]}) translate(${-J} ${-H})`);let ne=r.ownerDocument.createElementNS(nr,"g");if(e.crop){let se=r.ownerDocument.createElementNS(nr,"mask");se.setAttribute("id",`mask-image-crop-${e.id}`),se.setAttribute("fill","#fff");let O=r.ownerDocument.createElementNS(nr,"rect");O.setAttribute("x",`${j}`),O.setAttribute("y",`${re}`),O.setAttribute("width",`${E}`),O.setAttribute("height",`${x}`),se.appendChild(O),m.appendChild(se),ne.setAttribute("mask",`url(#${se.id})`)}if(ne.appendChild(L),ne.setAttribute("transform",`translate(${o-j} ${s-re}) rotate(${h} ${J} ${H})`),e.roundness){let se=r.ownerDocument.createElementNS(nr,"clipPath");se.id=`image-clipPath-${e.id}`;let O=r.ownerDocument.createElementNS(nr,"rect"),V=Rh(Math.min(e.width,e.height),e);O.setAttribute("width",`${e.width}`),O.setAttribute("height",`${e.height}`),O.setAttribute("rx",`${V}`),O.setAttribute("ry",`${V}`),se.appendChild(O),U(se,e),ne.setAttributeNS(nr,"clip-path",`url(#${se.id})`)}let Z=oU(e,m,[ne],l.frameRendering,t);U(Z||ne,e)}break}case"frame":case"magicframe":{if(l.frameRendering.enabled&&l.frameRendering.outline){let E=document.createElementNS(nr,"rect");E.setAttribute("transform",`translate(${o||0} ${s||0}) rotate(${h} ${v} ${c})`),E.setAttribute("width",`${e.width}px`),E.setAttribute("height",`${e.height}px`),E.setAttribute("rx",Qr.radius.toString()),E.setAttribute("ry",Qr.radius.toString()),E.setAttribute("fill","none"),E.setAttribute("stroke",Qr.strokeColor),E.setAttribute("stroke-width",Qr.strokeWidth.toString()),U(E,e)}break}default:if(pt(e)){let E=r.ownerDocument.createElementNS(nr,"g");b!==1&&(E.setAttribute("stroke-opacity",`${b}`),E.setAttribute("fill-opacity",`${b}`)),E.setAttribute("transform",`translate(${o||0} ${s||0}) rotate(${h} ${v} ${c})`);let x=e.text.replace(/\r\n?/g,`
`).split(`
`),C=Bb(e.fontSize,e.lineHeight),I=e.textAlign==="center"?e.width/2:e.textAlign==="right"?e.width:0,S=hq(e.fontFamily,e.fontSize,C),M=EZ(e.text)?"rtl":"ltr",R=e.textAlign==="center"?"middle":e.textAlign==="right"||M==="rtl"?"end":"start";for(let L=0;L<x.length;L++){let j=r.ownerDocument.createElementNS(nr,"text");j.textContent=x[L],j.setAttribute("x",`${I}`),j.setAttribute("y",`${L*C+S}`),j.setAttribute("font-family",Dm(e)),j.setAttribute("font-size",`${e.fontSize}px`),j.setAttribute("fill",e.strokeColor),j.setAttribute("text-anchor",R),j.setAttribute("style","white-space: pre;"),j.setAttribute("direction",M),j.setAttribute("dominant-baseline","alphabetic"),E.appendChild(j)}let D=oU(e,m,[E],l.frameRendering,t);U(D||E,e)}else throw new Error(`Unimplemented type ${e.type}`)}},XPe=(e,t,n,r,a,o)=>{r&&(e.filter(s=>!ol(s)).forEach(s=>{if(!s.isDeleted){if(pt(s)&&s.containerId&&t.has(s.containerId))return;try{iA(s,t,n,r,a,s.x+o.offsetX,s.y+o.offsetY,o);let l=on(s,t);l&&iA(l,t,n,r,a,l.x+o.offsetX,l.y+o.offsetY,o)}catch(l){console.error(l)}}}),e.filter(s=>ol(s)).forEach(s=>{if(!s.isDeleted)try{iA(s,t,n,r,a,s.x+o.offsetX,s.y+o.offsetY,o)}catch(l){console.error(l)}}))};N();N();N();var a1=(()=>{if(typeof self>"u")return!1;if(!("top"in self&&self!==top)){if("showOpenFilePicker"in self)return"showOpenFilePicker"}return!1})(),ZPe=a1?Ye(()=>import("./file-open-002ab408-MILJ6BM2-DZYmPLGz.js"),[],import.meta.url):Ye(()=>import("./file-open-7c801643-BHFKUUBS-Dab9IcfS.js"),[],import.meta.url);async function qPe(...e){return(await ZPe).default(...e)}a1?Ye(()=>import("./directory-open-4ed118d0-57WBH3LL-D7abIJtn.js"),[],import.meta.url):Ye(()=>import("./directory-open-01563666-OLGZGYEQ-45lnnA3l.js"),[],import.meta.url);var JPe=a1?Ye(()=>import("./file-save-745eba88-CGSHK46Y-BIGWyFBB.js"),[],import.meta.url):Ye(()=>import("./file-save-3189631c-IHOU4DOS-Bt5_LOOP.js"),[],import.meta.url);async function eLe(...e){return(await JPe).default(...e)}var Xj=500,mT=e=>{var r,a;let t=(r=e.extensions)==null?void 0:r.reduce((o,s)=>(o.push(Ft[s]),o),[]),n=(a=e.extensions)==null?void 0:a.reduce((o,s)=>s==="jpg"?o.concat(".jpg",".jpeg"):o.concat(`.${s}`),[]);return qPe({description:e.description,extensions:n,mimeTypes:t,multiple:e.multiple??!1,legacySetup:(o,s,l)=>{let d=Pm(s,Xj),u=()=>{f(),document.addEventListener("keyup",d),document.addEventListener("pointerup",d),d()},f=()=>{var g;if((g=l.files)!=null&&g.length){let v=e.multiple?[...l.files]:l.files[0];o(v)}};requestAnimationFrame(()=>{window.addEventListener("focus",u)});let p=window.setInterval(()=>{f()},Xj);return g=>{clearInterval(p),d.cancel(),window.removeEventListener("focus",u),document.removeEventListener("keyup",d),document.removeEventListener("pointerup",d),g&&(console.warn("Opening the file was canceled (legacy-fs)."),g(new I4))}}})},q8=(e,t)=>eLe(e,{fileName:`${t.name}.${t.extension}`,description:t.description,extensions:[`.${t.extension}`]},t.fileHandle),tLe=(e,t)=>{let n={};for(let r of e)!r.isDeleted&&"fileId"in r&&r.fileId&&t[r.fileId]&&(n[r.fileId]=t[r.fileId]);return n},UT=(e,t,n,r)=>{let a={type:gl.excalidraw,version:b4.excalidraw,source:BM,elements:hee(e),appState:bZ(t),files:tLe(e,n)};return JSON.stringify(a,null,2)},CJ=async(e,t,n,r=t.name||vZ)=>{let a=UT(e,t,n),o=new Blob([a],{type:Ft.excalidraw});return{fileHandle:await q8(o,{name:r,extension:"excalidraw",description:"Excalidraw file",fileHandle:LT(t.fileHandle)?null:t.fileHandle})}},nLe=async(e,t)=>{let n=await mT({description:"Excalidraw files"});return vee(await NT(n),e,t,n.handle)},rLe=e=>(e==null?void 0:e.type)===gl.excalidraw&&(!e.elements||Array.isArray(e.elements)&&(!e.appState||typeof e.appState=="object")),SJ=e=>typeof e=="object"&&e&&e.type===gl.excalidrawLibrary&&(e.version===1||e.version===2),IJ=e=>{let t={type:gl.excalidrawLibrary,version:b4.excalidrawLibrary,source:BM,libraryItems:e};return JSON.stringify(t,null,2)},iLe=async e=>{let t=IJ(e);await q8(new Blob([t],{type:Ft.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"})};N();var kJ=e=>new Promise((t,n)=>{let r=new Image;r.onload=()=>{t(r)},r.onerror=a=>{n(a)},r.src=e}),MJ=async({fileIds:e,files:t,imageCache:n})=>{let r=new Map,a=new Map;return await Promise.all(e.reduce((o,s)=>{let l=t[s];return l&&!r.has(s)?(r.set(s,!0),o.concat((async()=>{try{if(l.mimeType===Ft.binary)throw new Error("Only images can be added to ImageCache");let d=kJ(l.dataURL),u={image:d,mimeType:l.mimeType};n.set(s,u);let f=await d;n.set(s,{...u,image:f})}catch{a.set(s,!0)}})())):o},[])),{imageCache:n,updatedFiles:r,erroredFiles:a}},TJ=e=>e.filter(t=>al(t)),aLe=e=>(e==null?void 0:e.nodeName.toLowerCase())==="svg",Zj=e=>{let t=new DOMParser().parseFromString(e,Ft.svg),n=t.querySelector("svg");if(t.querySelector("parsererror")||!aLe(n))throw new Error("Invalid SVG");{n.hasAttribute("xmlns")||n.setAttribute("xmlns",nr);let r=n.getAttribute("width"),a=n.getAttribute("height");(r!=null&&r.includes("%")||r==="auto")&&(r=null),(a!=null&&a.includes("%")||a==="auto")&&(a=null);let o=n.getAttribute("viewBox");if(!r||!a){if(r=r||"50",a=a||"50",o){let s=o.match(/\d+ +\d+ +(\d+(?:\.\d+)?) +(\d+(?:\.\d+)?)/);s&&([,r,a]=s)}n.setAttribute("width",r),n.setAttribute("height",a)}return o||n.setAttribute("viewBox",`0 0 ${r} ${a}`),n.outerHTML}};N();N();var BJ=document.createElement("img");BJ.src=`data:${Ft.svg}, ${encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>')}`;var RJ=document.createElement("img");RJ.src=`data:${Ft.svg}, ${encodeURIComponent('<svg  xmlns="http://www.w3.org/2000/svg"  width="16"  height="16"  viewBox="0 0 24 24"  fill="none"  stroke="#1971c2"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-arrow-big-right-line"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 9v-3.586a1 1 0 0 1 1.707 -.707l6.586 6.586a1 1 0 0 1 0 1.414l-6.586 6.586a1 1 0 0 1 -1.707 -.707v-3.586h-6v-6h6z" /><path d="M3 9v6" /></svg>')}`;var vT=([e,t,n,r],a,o)=>{let s=mRe,l=s/o.zoom.value,d=s/o.zoom.value,u=s/o.zoom.value,f=(e+n)/2,p=(t+r)/2,g=(s-8)/(2*o.zoom.value),v=4/o.zoom.value,c=n+v-g,h=t-v-u+g,[m,U]=De($(c+l/2,h+d/2),$(f,p),a);return[m-l/2,U-d/2,l,d]},DJ=(e,t,n,[r,a])=>{let o=4/n.zoom.value,[s,l,d,u]=Xt(e,t),[f,p,g,v]=vT([s,l,d,u],e.angle,n);return r>f-o&&r<f+o+g&&a>p-o&&a<p+v+o},Hx=(e,t,n,[r,a],o)=>!e.link||n.selectedElementIds[e.id]?!1:!o&&n.viewModeEnabled&&JM(r,a,e,t)?!0:DJ(e,t,n,$(r,a));N();var $4=(e,t,n,r,a=!0)=>{e.beginPath(),e.arc(t,n,r,0,Math.PI*2),e.fill(),a&&e.stroke()},yT=(e,t)=>[e.width/t,e.height/t],bT=({canvas:e,scale:t,normalizedWidth:n,normalizedHeight:r,theme:a,isExporting:o,viewBackgroundColor:s})=>{let l=e.getContext("2d");return l.setTransform(1,0,0,1,0,0),l.scale(t,t),o&&a===Un.DARK&&(l.filter=PM),typeof s=="string"?((s==="transparent"||s.length===5||s.length===9||/(hsla|rgba)\(/.test(s))&&l.clearRect(0,0,n,r),l.save(),l.fillStyle=s,l.fillRect(0,0,n,r),l.restore()):l.clearRect(0,0,n,r),l};N();var PJ=(e,t)=>{let n=window.location.href;try{let r=new URL(n);return r.searchParams.set(I8,e),Cs(r.toString())}catch(r){console.error(r)}return Cs(n)},LJ=(e,t)=>{if(e.length>0&&J8(e)){if(e.length===1)return{id:e[0].id,type:"element"};if(e.length>1){let n=Object.keys(t.selectedGroupIds)[0];return n?{id:n,type:"group"}:{id:e[0].groupIds[0],type:"group"}}}return null},J8=e=>!!(e.length===1||e.length>1&&tJ(e)),Ov=e=>{try{let t=new URL(e);return t.searchParams.has(I8)&&t.host===window.location.host}catch{return!1}},oLe=e=>{try{let{searchParams:t}=new URL(e);if(t.has(I8))return t.get(I8)}catch{}return null},k5={Bold:"#dddddd",Regular:"#e5e5e5"},sLe=(e,t,n,r,a,o,s,l)=>{let d=r%t-t,u=a%t-t,f=t*o.value,p=1/o.value;e.save(),o.value===1&&e.translate(d%1?0:.5,u%1?0:.5);for(let g=d;g<d+s+t*2;g+=t){let v=n>1&&Math.round(g-r)%(n*t)===0;if(!v&&f<10)continue;let c=Math.min(1/o.value,v?4:1);e.lineWidth=c;let h=[c*3,p+(c+p)];e.beginPath(),e.setLineDash(v?[]:h),e.strokeStyle=v?k5.Bold:k5.Regular,e.moveTo(g,u-t),e.lineTo(g,Math.ceil(u+l+t*2)),e.stroke()}for(let g=u;g<u+l+t*2;g+=t){let v=n>1&&Math.round(g-a)%(n*t)===0;if(!v&&f<10)continue;let c=Math.min(1/o.value,v?4:1);e.lineWidth=c;let h=[c*3,p+(c+p)];e.beginPath(),e.setLineDash(v?[]:h),e.strokeStyle=v?k5.Bold:k5.Regular,e.moveTo(d-t,g),e.lineTo(Math.ceil(d+s+t*2),g),e.stroke()}e.restore()},qj=(e,t,n,r)=>{t.translate(e.x+r.scrollX,e.y+r.scrollY),t.beginPath(),t.roundRect?t.roundRect(0,0,e.width,e.height,Qr.radius/r.zoom.value):t.rect(0,0,e.width,e.height),t.clip(),t.translate(-(e.x+r.scrollX),-(e.y+r.scrollY))},Jj={regularLink:null,elementLink:null},eO=(e,t,n,r)=>{if(e.link&&!n.selectedElementIds[e.id]){let[a,o,s,l]=Xt(e,r),[d,u,f,p]=vT([a,o,s,l],e.angle,n),g=d+f/2,v=u+p/2;t.save(),t.translate(n.scrollX+g,n.scrollY+v),t.rotate(e.angle);let c=Ov(e.link)?"elementLink":"regularLink",h=Jj[c];if(!h||h.zoom!==n.zoom.value){h=Object.assign(document.createElement("canvas"),{zoom:n.zoom.value}),h.width=f*window.devicePixelRatio*n.zoom.value,h.height=p*window.devicePixelRatio*n.zoom.value,Jj[c]=h;let m=h.getContext("2d");m.scale(window.devicePixelRatio*n.zoom.value,window.devicePixelRatio*n.zoom.value),m.fillStyle="#fff",m.fillRect(0,0,f,p),c==="elementLink"?m.drawImage(RJ,0,0,f,p):m.drawImage(BJ,0,0,f,p),m.restore()}t.drawImage(h,d-g,u-v,f,p),t.restore()}},NJ=({canvas:e,rc:t,elementsMap:n,allElementsMap:r,visibleElements:a,scale:o,appState:s,renderConfig:l})=>{var c;if(e===null)return;let{renderGrid:d=!0,isExporting:u}=l,[f,p]=yT(e,o),g=bT({canvas:e,scale:o,normalizedWidth:f,normalizedHeight:p,theme:s.theme,isExporting:u,viewBackgroundColor:s.viewBackgroundColor});g.scale(s.zoom.value,s.zoom.value),d&&sLe(g,s.gridSize,s.gridStep,s.scrollX,s.scrollY,s.zoom,f/s.zoom.value,p/s.zoom.value);let v=new Set;a.forEach(h=>{h.groupIds.length>0&&s.frameToHighlight&&s.selectedElementIds[h.id]&&(Hh(h,s.frameToHighlight,n)||h.groupIds.find(m=>v.has(m)))&&h.groupIds.forEach(m=>v.add(m))}),a.filter(h=>!ol(h)).forEach(h=>{var m;try{let U=h.frameId||((m=s.frameToHighlight)==null?void 0:m.id);if(pt(h)&&h.containerId&&n.has(h.containerId))return;if(g.save(),U&&s.frameRendering.enabled&&s.frameRendering.clip){let w=US(h,n,s);w&&Qy(h,n,s)&&qj(w,g,l,s),Yp(h,n,r,t,g,l,s)}else Yp(h,n,r,t,g,l,s);let b=on(h,n);b&&Yp(b,n,r,t,g,l,s),g.restore(),u||eO(h,g,s,n)}catch(U){console.error(U)}}),a.filter(h=>ol(h)).forEach(h=>{var m;try{let U=()=>{if(Yp(h,n,r,t,g,l,s),ol(h)&&(u||Io(h)&&l.embedsValidationStatus.get(h.id)!==!0)&&h.width&&h.height){let b=_J(h);Yp(b,n,r,t,g,l,s)}u||eO(h,g,s,n)};if((h.frameId||(m=s.frameToHighlight)!=null&&m.id)&&s.frameRendering.enabled&&s.frameRendering.clip){g.save();let b=US(h,n,s);b&&Qy(h,n,s)&&qj(b,g,l,s),U(),g.restore()}else U()}catch(U){console.error(U)}}),(c=l.pendingFlowchartNodes)==null||c.forEach(h=>{try{Yp(h,n,r,t,g,l,s)}catch(m){console.error(m)}})},$J=A4(e=>{NJ(e)},{trailing:!0}),FJ=(e,t)=>{if(t){$J(e);return}NJ(e)},lLe="<!-- svg-source:excalidraw -->",cLe=(e,t)=>{if(e.width<=t)return e;let n=document.createElement("canvas").getContext("2d");n.font=Xn({fontFamily:e.fontFamily,fontSize:e.fontSize});let r=e.text;if(n.measureText(r).width>t)for(let a=r.length;a>0;a--){let o=`${r.slice(0,a)}...`;if(n.measureText(o).width<=t){r=o;break}}return an(e,{text:r,width:t})},dLe=(e,t)=>{let n=[];for(let r of e){if(en(r)){let a=Vo({x:r.x,y:r.y-Qr.nameOffsetY,fontFamily:Nr.Helvetica,fontSize:Qr.nameFontSize,lineHeight:Qr.nameLineHeight,strokeColor:t.exportWithDarkMode?Qr.nameColorDarkTheme:Qr.nameColorLightTheme,text:iee(r)});a.y-=a.height,a=cLe(a,r.width),n.push(a)}n.push(r)}return n},jJ=(e,t)=>(t=t||Cd().frameRendering,{enabled:e?!0:t.enabled,outline:e?!1:t.outline,name:e?!1:t.name,clip:e?!0:t.clip}),OJ=({elements:e,exportingFrame:t,frameRendering:n,exportWithDarkMode:r})=>{let a;return t?a=kT(e,t):n.enabled&&n.name?a=dLe(e,{exportWithDarkMode:r}):a=e,a},zJ=async(e,t,n,{exportBackground:r,exportPadding:a=d2,viewBackgroundColor:o,exportingFrame:s},l=(u,f)=>{let p=document.createElement("canvas");return p.width=u*t.exportScale,p.height=f*t.exportScale,{canvas:p,scale:t.exportScale}},d=async()=>{await fd.loadElementsFonts(e)})=>{await d();let u=jJ(s??null,t.frameRendering??null);s&&(u.clip=!1);let f=OJ({elements:e,exportingFrame:s,exportWithDarkMode:t.exportWithDarkMode,frameRendering:u});s&&(a=0);let[p,g,v,c]=wT(s?[s]:tee(f),a),{canvas:h,scale:m=1}=l(v,c),U=Cd(),{imageCache:b}=await MJ({imageCache:new Map,fileIds:TJ(f).map(w=>w.fileId),files:n});return FJ({canvas:h,rc:op.canvas(h),elementsMap:Bs(Vt(f)),allElementsMap:Bs(Vt(nf(e))),visibleElements:f,scale:m,appState:{...t,frameRendering:u,viewBackgroundColor:r?o:null,scrollX:-p+a,scrollY:-g+a,zoom:U.zoom,shouldCacheIgnoreZoom:!1,theme:t.exportWithDarkMode?Un.DARK:Un.LIGHT},renderConfig:{canvasBackgroundColor:o,imageCache:b,renderGrid:!1,isExporting:!0,embedsValidationStatus:new Map,elementsPendingErasure:new Set,pendingFlowchartNodes:null}}),h},AT=async(e,t,n,r)=>{let a=jJ((r==null?void 0:r.exportingFrame)??null,t.frameRendering??null),{exportPadding:o=d2,exportWithDarkMode:s=!1,viewBackgroundColor:l,exportScale:d=1,exportEmbedScene:u}=t,{exportingFrame:f=null}=r||{},p=OJ({elements:e,exportingFrame:f,exportWithDarkMode:s,frameRendering:a});f&&(o=0);let g="";if(u)try{g=(await Ye(async()=>{const{encodeSvgMetadata:D}=await Promise.resolve().then(()=>Aw);return{encodeSvgMetadata:D}},void 0,import.meta.url)).encodeSvgMetadata({text:UT(e,t,n||{},"local")})}catch(D){console.error(D)}let[v,c,h,m]=wT(f?[f]:tee(p),o),U=document.createElementNS(nr,"svg");U.setAttribute("version","1.1"),U.setAttribute("xmlns",nr),U.setAttribute("viewBox",`0 0 ${h} ${m}`),U.setAttribute("width",`${h*d}`),U.setAttribute("height",`${m*d}`),s&&U.setAttribute("filter",PM);let b=-v+o,w=-c+o,E=IT(e),x="",C=Vt(e);for(let D of E){let[L,j,re,J]=Xt(D,C),H=(re-L)/2-(D.x-L),ne=(J-j)/2-(D.y-j);x+=`<clipPath id=${D.id}>
            <rect transform="translate(${D.x+b} ${D.y+w}) rotate(${D.angle} ${H} ${ne})"
          width="${D.width}"
          height="${D.height}"
          ${f?"":`rx=${Qr.radius} ry=${Qr.radius}`}
          >
          </rect>
        </clipPath>`}let I=r!=null&&r.skipInliningFonts?[]:await fd.generateFontFaceDeclarations(e),S=`
      `;if(U.innerHTML=`
  ${lLe}
  ${g}
  <defs>
    <style class="style-fonts">${S}${I.join(S)}
    </style>
    ${x}
  </defs>
  `,t.exportBackground&&l){let D=U.ownerDocument.createElementNS(nr,"rect");D.setAttribute("x","0"),D.setAttribute("y","0"),D.setAttribute("width",`${h}`),D.setAttribute("height",`${m}`),D.setAttribute("fill",l),U.appendChild(D)}let M=op.svg(U),R=(r==null?void 0:r.renderEmbeddables)??!1;return XPe(p,Bs(Vt(p)),M,U,n||{},{offsetX:b,offsetY:w,isExporting:!0,exportWithDarkMode:s,renderEmbeddables:R,frameRendering:a,canvasBackgroundColor:l,embedsValidationStatus:R?new Map(p.filter(D=>en(D)).map(D=>[D.id,!0])):new Map,reuseImages:(r==null?void 0:r.reuseImages)??!0}),U},wT=(e,t)=>{let[n,r,a,o]=Yn(e),s=ja(n,a)+t*2,l=ja(r,o)+t*2;return[n,r,s,l]},uLe=(e,t,n)=>{let[,,r,a]=wT(e,t).map(o=>Math.trunc(o*n));return[r,a]};N();var fLe={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0,frame:!0,embeddable:!0,hand:!0,laser:!1,magicframe:!1},hLe=e=>Object.keys(Nr).includes(e)?Nr[e]:ip,M5=(e,t)=>t?{...t,focus:t.focus||0,...Wt(e)&&P8(t)?{fixedPoint:D4(t.fixedPoint??[0,0])}:{}}:null,Ap=(e,t)=>{let n={type:t.type||e.type,version:e.version||1,versionNonce:e.versionNonce??0,index:e.index??null,isDeleted:e.isDeleted??!1,id:e.id||_l(),fillStyle:e.fillStyle||ei.fillStyle,strokeWidth:e.strokeWidth||ei.strokeWidth,strokeStyle:e.strokeStyle??ei.strokeStyle,roughness:e.roughness??ei.roughness,opacity:e.opacity==null?ei.opacity:e.opacity,angle:e.angle||0,x:t.x??e.x??0,y:t.y??e.y??0,strokeColor:e.strokeColor||ei.strokeColor,backgroundColor:e.backgroundColor||ei.backgroundColor,width:e.width||0,height:e.height||0,seed:e.seed??1,groupIds:e.groupIds??[],frameId:e.frameId??null,roundness:e.roundness?e.roundness:e.strokeSharpness==="round"?{type:f2(e.type)?Di.LEGACY:Di.PROPORTIONAL_RADIUS}:null,boundElements:e.boundElementIds?e.boundElementIds.map(r=>({type:"arrow",id:r})):e.boundElements??[],updated:e.updated??u2(),link:e.link?Cs(e.link):null,locked:e.locked??!1};return("customData"in e||"customData"in t)&&(n.customData="customData"in t?t.customData:e.customData),{...e,...n,...see(n),...t}},pLe=e=>{switch(e.type){case"text":let t=e.fontSize,n=e.fontFamily;if("font"in e){let[f,p]=e.font.split(" ");t=parseFloat(f),n=hLe(p)}let r=typeof e.text=="string"&&e.text||"",a=e.lineHeight||(e.height?pPe(e):H0(e.fontFamily));return e=Ap(e,{fontSize:t,fontFamily:n,text:r,textAlign:e.textAlign||wb,verticalAlign:e.verticalAlign||x8,containerId:e.containerId??null,originalText:e.originalText||r,autoResize:e.autoResize??!0,lineHeight:a}),!r&&!e.isDeleted&&(e={...e,originalText:r,isDeleted:!0},e=Q4(e)),e;case"freedraw":return Ap(e,{points:e.points,lastCommittedPoint:null,simulatePressure:e.simulatePressure,pressures:e.pressures});case"image":return Ap(e,{status:e.status||"pending",fileId:e.fileId,scale:e.scale||[1,1],crop:e.crop??null});case"line":case"draw":let{startArrowhead:o=null,endArrowhead:s=null}=e,l=e.x,d=e.y,u=!Array.isArray(e.points)||e.points.length<2?[$(0,0),$(e.width,e.height)]:e.points;return(u[0][0]!==0||u[0][1]!==0)&&({points:u,x:l,y:d}=xt.getNormalizedPoints(e)),Ap(e,{type:e.type==="draw"?"line":e.type,startBinding:M5(e,e.startBinding),endBinding:M5(e,e.endBinding),lastCommittedPoint:null,startArrowhead:o,endArrowhead:s,points:u,x:l,y:d,...Ny(u)});case"arrow":{let{startArrowhead:f=null,endArrowhead:p="arrow"}=e,g=e.x,v=e.y,c=!Array.isArray(e.points)||e.points.length<2?[$(0,0),$(e.width,e.height)]:e.points;return(c[0][0]!==0||c[0][1]!==0)&&({points:c,x:g,y:v}=xt.getNormalizedPoints(e)),Ap(e,{type:e.type,startBinding:M5(e,e.startBinding),endBinding:M5(e,e.endBinding),lastCommittedPoint:null,startArrowhead:f,endArrowhead:p,points:c,x:g,y:v,elbowed:e.elbowed,...Ny(c)})}case"ellipse":case"rectangle":case"diamond":case"iframe":case"embeddable":return Ap(e,{});case"magicframe":case"frame":return Ap(e,{name:e.name??null})}return null},gLe=(e,t)=>{if(e.boundElements){let n=e.boundElements.slice(),r=new Set;e.boundElements=n.reduce((a,o)=>{let s=t.get(o.id);if(s&&!r.has(o.id)){if(r.add(o.id),s.isDeleted)return a;a.push(o),pt(s)&&!s.containerId&&(s.containerId=e.id)}return a},[])}},mLe=(e,t)=>{let n=e.containerId?t.get(e.containerId):null;if(!n){e.containerId=null;return}if(!e.isDeleted&&n.boundElements&&!n.boundElements.find(r=>r.id===e.id)){let r=(n.boundElements||(n.boundElements=[])).slice();r.push({type:"text",id:e.id}),n.boundElements=r}},ULe=(e,t)=>{e.frameId&&(t.get(e.frameId)||(e.frameId=null))},ET=(e,t,n)=>{let r=new Set,a=t?Vt(t):null,o=nf((e||[]).reduce((l,d)=>{if(d.type!=="selection"&&!Wm(d)){let u=pLe(d);if(u){let f=a==null?void 0:a.get(d.id);f&&f.version>u.version&&(u=Q4(u,f.version)),r.has(u.id)&&(u={...u,id:_l()}),r.add(u.id),l.push(u)}}return l},[]));if(!(n!=null&&n.repairBindings))return o;let s=Vt(o);for(let l of o)l.frameId&&ULe(l,s),pt(l)&&l.containerId?mLe(l,s):l.boundElements&&gLe(l,s),n.refreshDimensions&&pt(l)&&Object.assign(l,mJ(l,lo(l,s),s)),rn(l)&&(l.startBinding&&(!s.has(l.startBinding.elementId)||!ln(l))&&(l.startBinding=null),l.endBinding&&(!s.has(l.endBinding.elementId)||!ln(l))&&(l.endBinding=null));return o},vLe=(e,t,n)=>{let r=t[e];return r!==void 0?r:n[e]},tO={isSidebarDocked:(e,t)=>["defaultSidebarDockedPreference",e.isSidebarDocked??vLe("defaultSidebarDockedPreference",e,t)]},yLe=(e,t)=>{var a;e=e||{};let n=Cd(),r={};for(let o of Object.keys(tO))if(o in e){let[s,l]=tO[o](e,n);r[s]=l}for(let[o,s]of Object.entries(n)){let l=e[o],d=t?t[o]:void 0;r[o]=l!==void 0?l:d!==void 0?d:s}return{...r,cursorButton:(t==null?void 0:t.cursorButton)||"up",penDetected:(t==null?void 0:t.penDetected)??(e.penMode?e.penDetected??!1:!1),activeTool:{..._i(n,r.activeTool.type&&fLe[r.activeTool.type]?r.activeTool:{type:"selection"}),lastActiveTool:null,locked:r.activeTool.locked??!1},zoom:{value:Tu(Lv(e.zoom)?e.zoom:((a=e.zoom)==null?void 0:a.value)??n.zoom.value)},openSidebar:typeof e.openSidebar=="string"?{name:uc.name}:r.openSidebar,gridSize:aDe(Lv(e.gridSize)?e.gridSize:C8),gridStep:Fq(Lv(e.gridStep)?e.gridStep:gZ),editingFrame:null}},F4=(e,t,n,r)=>({elements:ET(e==null?void 0:e.elements,n,r),appState:yLe(e==null?void 0:e.appState,t||null),files:(e==null?void 0:e.files)||{}}),nO=e=>{let t=ET(hr(e.elements),null);return t.length?{...e,elements:t}:null},QJ=(e=[],t)=>{let n=[];for(let r of e)if(Array.isArray(r)){let a=nO({status:t,elements:r,id:_l(),created:Date.now()});a&&n.push(a)}else{let a=r,o=nO({...a,id:a.id||_l(),status:a.status||t,created:a.created||Date.now()});o&&n.push(o)}return n};N();N();var Jl=32,fr=12,Ph=256,HJ=50,n0="NOT_SPREADSHEET",zy="VALID_SPREADSHEET",tv=e=>{let t=/^([-+]?)[$]?([-+]?)([\d.,]+)[%]?$/.exec(e);return t?parseFloat(`${(t[1]||t[2])+t[3]}`.replace(/,/g,"")):null},Gx=(e,t)=>e.slice(1).every(n=>tv(n[t])!==null),rO=e=>{let t=e[0].length;if(t>2)return{type:n0,reason:"More than 2 columns"};if(t===1){if(!Gx(e,0))return{type:n0,reason:"Value is not numeric"};let d=tv(e[0][0])===null,u=(d?e.slice(1):e).map(f=>tv(f[0]));return u.length<2?{type:n0,reason:"Less than two rows"}:{type:zy,spreadsheet:{title:d?e[0][0]:null,labels:null,values:u}}}let n=Gx(e,0),r=Gx(e,1);if(!n&&!r)return{type:n0,reason:"Value is not numeric"};let[a,o]=r?[0,1]:[1,0],s=tv(e[0][o])===null,l=s?e.slice(1):e;return l.length<2?{type:n0,reason:"Less than 2 rows"}:{type:zy,spreadsheet:{title:s?e[0][o]:null,labels:l.map(d=>d[a]),values:l.map(d=>tv(d[o]))}}},bLe=e=>{let t=[];for(let n=0;n<e[0].length;n++){let r=[];for(let a=0;a<e.length;a++)r.push(e[a][n]);t.push(r)}return t},ALe=e=>{let t=e.trim().split(`
`).map(a=>a.trim().split("	"));if(t.length&&t[0].length!==2&&(t=e.trim().split(`
`).map(a=>a.trim().split(","))),t.length===0)return{type:n0,reason:"No values"};let n=t[0].length;if(!t.every(a=>a.length===n))return{type:n0,reason:"All rows don't have same number of columns"};let r=rO(t);if(r.type!==zy){let a=rO(bLe(t));if(a.type===zy)return a}return r},ew=U9e(p9e),Ul={fillStyle:"hachure",fontFamily:ip,fontSize:hf,opacity:100,roughness:1,strokeColor:fn.black,roundness:null,strokeStyle:"solid",strokeWidth:1,verticalAlign:ws.MIDDLE,locked:!1},GJ=e=>{let t=(Jl+fr)*e.values.length+fr,n=Ph+fr*2;return{chartWidth:t,chartHeight:n}},wLe=(e,t,n,r,a)=>{var o;return((o=e.labels)==null?void 0:o.map((s,l)=>Vo({groupIds:[r],backgroundColor:a,...Ul,text:s.length>8?`${s.slice(0,5)}...`:s,x:t+l*(Jl+fr)+fr*2,y:n+fr/2,width:Jl,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"})))||[]},ELe=(e,t,n,r,a)=>{let o=Vo({groupIds:[r],backgroundColor:a,...Ul,x:t-fr,y:n-fr,text:"0",textAlign:"right"}),s=Vo({groupIds:[r],backgroundColor:a,...Ul,x:t-fr,y:n-Ph-o.height/2,text:Math.max(...e.values).toLocaleString(),textAlign:"right"});return[o,s]},xLe=(e,t,n,r,a)=>{let{chartWidth:o,chartHeight:s}=GJ(e),l=k0({backgroundColor:a,groupIds:[r],...Ul,type:"line",x:t,y:n,width:o,points:[$(0,0),$(o,0)]}),d=k0({backgroundColor:a,groupIds:[r],...Ul,type:"line",x:t,y:n,height:s,points:[$(0,0),$(0,-s)]}),u=k0({backgroundColor:a,groupIds:[r],...Ul,type:"line",x:t,y:n-Ph-fr,strokeStyle:"dotted",width:o,opacity:HJ,points:[$(0,0),$(o,0)]});return[l,d,u]},WJ=(e,t,n,r,a,o)=>{let{chartWidth:s,chartHeight:l}=GJ(e),d=e.title?Vo({backgroundColor:a,groupIds:[r],...Ul,text:e.title,x:t+s/2,y:n-Ph-fr*2-hf,roundness:null,textAlign:"center"}):null,u=o?Md({backgroundColor:a,groupIds:[r],...Ul,type:"rectangle",x:t,y:n-l,width:s,height:l,strokeColor:fn.black,fillStyle:"solid",opacity:6}):null;return[...u?[u]:[],...d?[d]:[],...wLe(e,t,n,r,a),...ELe(e,t,n,r,a),...xLe(e,t,n,r,a)]},_Le=(e,t,n)=>{let r=Math.max(...e.values),a=_l(),o=ew[Math.floor(Math.random()*ew.length)];return[...e.values.map((s,l)=>{let d=s/r*Ph;return Md({backgroundColor:o,groupIds:[a],...Ul,type:"rectangle",x:t+l*(Jl+fr)+fr,y:n-d-fr,width:Jl,height:d})}),...WJ(e,t,n,a,o,gt.DEV)]},CLe=(e,t,n)=>{let r=Math.max(...e.values),a=_l(),o=ew[Math.floor(Math.random()*ew.length)],s=0,l=[];for(let h of e.values){let m=s*(Jl+fr),U=-(h/r)*Ph;l.push([m,U]),s++}let d=Math.max(...l.map(h=>h[0])),u=Math.max(...l.map(h=>h[1])),f=Math.min(...l.map(h=>h[0])),p=Math.min(...l.map(h=>h[1])),g=k0({backgroundColor:o,groupIds:[a],...Ul,type:"line",x:t+fr+Jl/2,y:n-fr,height:u-p,width:d-f,strokeWidth:2,points:l}),v=e.values.map((h,m)=>{let U=m*(Jl+fr)+fr/2,b=-(h/r)*Ph+fr/2;return Md({backgroundColor:o,groupIds:[a],...Ul,fillStyle:"solid",strokeWidth:2,type:"ellipse",x:t+U+Jl/2,y:n+b-fr*2,width:fr,height:fr})}),c=e.values.map((h,m)=>{let U=m*(Jl+fr)+fr/2,b=h/r*Ph+fr/2+fr;return k0({backgroundColor:o,groupIds:[a],...Ul,type:"line",x:t+U+Jl/2+fr/2,y:n-b,height:b,strokeStyle:"dotted",opacity:HJ,points:[$(0,0),$(0,b)]})});return[...WJ(e,t,n,a,o,gt.DEV),g,...c,...v]},SLe=(e,t,n,r)=>e==="line"?CLe(t,n,r):_Le(t,n,r),xT="clipboard"in navigator&&"writeText"in navigator.clipboard,_T="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,ILe=e=>!!([gl.excalidraw,gl.excalidrawClipboard,gl.excalidrawClipboardWithAPI].includes(e==null?void 0:e.type)&&Array.isArray(e.elements)),kLe=({types:e,files:t})=>{var r,a,o,s;!e&&!t&&console.warn("createPasteEvent: no types or files provided");let n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});if(e)for(let[l,d]of Object.entries(e)){if(typeof d!="string"){t=t||[],t.push(d);continue}try{if((r=n.clipboardData)==null||r.setData(l,d),((a=n.clipboardData)==null?void 0:a.getData(l))!==d)throw new Error(`Failed to set "${l}" as clipboardData item`)}catch(u){throw new Error(u.message)}}if(t){let l=-1;for(let d of t){l++;try{if((o=n.clipboardData)==null||o.items.add(d),((s=n.clipboardData)==null?void 0:s.files[l])!==d)throw new Error(`Failed to set file "${d.name}" as clipboardData item`)}catch(u){throw new Error(u.message)}}}return n},MLe=({elements:e,files:t})=>{let n=Vt(e),r=new Set(e.filter(l=>en(l))),a=!1,o=e.reduce((l,d)=>(al(d)&&(a=!0,t&&t[d.fileId]&&(l[d.fileId]=t[d.fileId])),l),{});a&&!t&&console.warn("copyToClipboard: attempting to file element(s) without providing associated `files` object.");let s={type:gl.excalidrawClipboard,elements:e.map(l=>{if(Ss(l,n)&&!r.has(Ss(l,n))){let d=p2(l);return Qe(d,{frameId:null}),d}return l}),files:t?o:void 0};return JSON.stringify(s)},TLe=async(e,t,n)=>{await Pb(MLe({elements:e,files:t}),n)},BLe=e=>{let t=ALe(e);return t.type===zy?{spreadsheet:t.spreadsheet}:null};function VJ(e){var n;let t=[];for(let r of e.childNodes)if(r.nodeType===3){let a=(n=r.textContent)==null?void 0:n.trim();a&&t.push({type:"text",value:a})}else if(r instanceof HTMLImageElement){let a=r.getAttribute("src");a&&a.startsWith("http")&&t.push({type:"imageUrl",value:a})}else t=t.concat(VJ(r));return t}var RLe=e=>{var n;let t=(n=e.clipboardData)==null?void 0:n.getData(Ft.html);if(!t)return null;try{let r=new DOMParser().parseFromString(t,Ft.html),a=VJ(r.body);if(a.length)return{type:"mixedContent",value:a}}catch(r){console.error(`error in parseHTMLFromPaste: ${r.message}`)}return null},DLe=async()=>{var n,r,a,o;let e={},t;try{t=await((n=navigator.clipboard)==null?void 0:n.read())}catch(s){try{if((r=navigator.clipboard)!=null&&r.readText){console.warn(`navigator.clipboard.readText() failed (${s.message}). Failling back to navigator.clipboard.read()`);let l=await((a=navigator.clipboard)==null?void 0:a.readText());if(l)return{[Ft.text]:l}}}catch(l){if((o=navigator.clipboard)!=null&&o.read)console.warn(`navigator.clipboard.readText() failed (${l.message}). Failling back to navigator.clipboard.read()`);else{if(l.name==="DataError")return console.warn(`navigator.clipboard.read() error, clipboard is probably empty: ${l.message}`),e;throw l}}throw s}for(let s of t)for(let l of s.types)if(kZ(T9e,l))try{if(l===Ft.text||l===Ft.html)e[l]=await(await s.getType(l)).text();else if(mee(l)){let d=await s.getType(l),u=nv(d,l,void 0);e[l]=u}else throw new cj(`Unsupported clipboard type: ${l}`)}catch(d){console.warn(d instanceof cj?d.message:`Cannot retrieve ${l} from clipboardItem: ${d.message}`)}return Object.keys(e).length===0&&console.warn("No clipboard data found from clipboard.read()."),e},PLe=async(e,t=!1)=>{var n,r;try{let a=!t&&e&&RLe(e);return a?a.value.every(o=>o.type==="text")?{type:"text",value:((n=e.clipboardData)==null?void 0:n.getData(Ft.text))||a.value.map(o=>o.value).join(`
`).trim()}:a:{type:"text",value:(((r=e.clipboardData)==null?void 0:r.getData(Ft.text))||"").trim()}}catch{return{type:"text",value:""}}},YJ=async(e,t=!1)=>{let n=await PLe(e,t);if(n.type==="mixedContent")return{mixedContent:n.value};try{let r=!t&&BLe(n.value);if(r)return r}catch(r){console.error(r)}try{let r=JSON.parse(n.value),a=r.type===gl.excalidrawClipboardWithAPI;if(ILe(r))return{elements:r.elements,files:r.files,text:t?JSON.stringify(r.elements,null,2):void 0,programmaticAPI:a}}catch{}return{text:n.value}},LLe=async e=>{try{await navigator.clipboard.write([new window.ClipboardItem({[Ft.png]:e})])}catch(t){if(_b(e))await navigator.clipboard.write([new window.ClipboardItem({[Ft.png]:await e})]);else throw t}},Pb=async(e,t)=>{var n,r;if(xT)try{await navigator.clipboard.writeText(e||"");return}catch(a){console.error(a)}try{if(t){if((n=t.clipboardData)==null||n.setData(Ft.text,e||""),((r=t.clipboardData)==null?void 0:r.getData(Ft.text))!==e)throw new Error("Failed to setData on clipboardEvent");return}}catch(a){console.error(a)}if(!NLe(e))throw new Error("Error copying to clipboard.")},NLe=e=>{e||(e=" ");let t=document.documentElement.getAttribute("dir")==="rtl",n=document.createElement("textarea");n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";let r=window.pageYOffset||document.documentElement.scrollTop;n.style.top=`${r}px`,n.style.fontSize="12pt",n.setAttribute("readonly",""),n.value=e,document.body.appendChild(n);let a=!1;try{n.select(),n.setSelectionRange(0,n.value.length),a=document.execCommand("copy")}catch(o){console.error(o)}return n.remove(),a},CT=({elements:e,appState:t,files:n,maxWidthOrHeight:r,getDimensions:a,exportPadding:o,exportingFrame:s})=>{let{elements:l,appState:d}=F4({elements:e,appState:t},null,null),{exportBackground:u,viewBackgroundColor:f}=d;return zJ(l,{...d,offsetTop:0,offsetLeft:0,width:0,height:0},n||{},{exportBackground:u,exportPadding:o,viewBackgroundColor:f,exportingFrame:s},(p,g)=>{let v=document.createElement("canvas");if(r){typeof a=="function"&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");let h=Math.max(p,g),m=r<h?r/h:(t==null?void 0:t.exportScale)??1;return v.width=p*m,v.height=g*m,{canvas:v,scale:m}}let c=(a==null?void 0:a(p,g))||{width:p,height:g};return v.width=c.width,v.height=c.height,{canvas:v,scale:c.scale??1}})},KJ=async({elements:e,appState:t=Cd(),files:n={},exportPadding:r,renderEmbeddables:a,exportingFrame:o,skipInliningFonts:s,reuseImages:l})=>{let{elements:d,appState:u}=F4({elements:e,appState:t},null,null),f={...u,exportPadding:r};return AT(d,f,n,{exportingFrame:o,renderEmbeddables:a,skipInliningFonts:s,reuseImages:l})};N();var $Le=e=>e.type==="diamond"?[$(e.width/2,0),$(e.width,e.height/2),$(e.width/2,e.height),$(0,e.height/2)]:[$(0,0),$(0+e.width,0),$(0+e.width,e.height),$(0,e.height)],FLe=e=>rn(e)||El(e)?e.points:$Le(e),iO=e=>{let t=e.reduce((n,[r,a])=>(n.minY=Math.min(n.minY,a),n.minX=Math.min(n.minX,r),n.maxX=Math.max(n.maxX,r),n.maxY=Math.max(n.maxY,a),n),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,cx:0,cy:0});return t.cx=(t.maxX+t.minX)/2,t.cy=(t.maxY+t.minY)/2,t},XJ=e=>{let t=FLe(e),{cx:n,cy:r}=iO(t),a=$(n,r),o=t.map(f=>De(f,a,e.angle)),{minX:s,minY:l,maxX:d,maxY:u}=iO(o);return[s+e.x,l+e.y,d+e.x,u+e.y]},aO=(e,t,n=!1)=>{let r=XJ(e),a=t[0]<=r[0]&&t[2]>=r[2]&&t[1]<=r[1]&&t[3]>=r[3];return n?a?!0:r[0]<=t[0]&&r[2]>=t[2]&&r[1]<=t[1]&&r[3]>=t[3]:a},jLe=(e,t)=>{let n=XJ(e);return(w5(n[0],Na(t[0],t[2]))||w5(t[0],Na(n[0],n[2])))&&(w5(n[1],Na(t[1],t[3]))||w5(t[1],Na(n[1],n[3])))},OLe=({elements:e,bounds:t,type:n,errorMargin:r=0})=>{var s;RZ(t)&&(t=ef(t,Vt(e)));let a=[t[0]-r,t[1]-r,t[2]+r,t[3]+r],o=new Set;for(let l of e)if(!o.has(l.id)&&(n==="overlap"?jLe(l,a):n==="inside"?aO(l,a):aO(l,a,!0))){if(o.add(l.id),l.boundElements)for(let d of l.boundElements)o.add(d.id);pt(l)&&l.containerId&&o.add(l.containerId),ln(l)&&(l.startBinding&&o.add(l.startBinding.elementId),l.endBinding&&o.add((s=l.endBinding)==null?void 0:s.elementId))}return e.filter(l=>o.has(l.id))};N();function oO(e){return[Math.min(e[0][0],e[1][0]),Math.min(e[0][1],e[1][1]),Math.max(e[0][0],e[1][0]),Math.max(e[0][1],e[1][1])]}function zLe(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}var QLe=1e-6;function sO(e,t){let n=sr(e[1],e[0]),r=sr(t,e[0]),a=Mu(n,r);return Math.abs(a)<QLe}function Wx(e,t){let n=sr(e[1],e[0]),r=sr(t,e[0]);return Mu(n,r)<0}function lO(e,t){return sO(e,t[0])||sO(e,t[1])||(Wx(e,t[0])?!Wx(e,t[1]):Wx(e,t[1]))}function HLe(e,t){return zLe(oO(e),oO(t))&&lO(e,t)&&lO(t,e)}var ZJ=(e,t,n)=>{let r=Vt(e);for(let a of t)if(a.frameId){let o=n.get(a.id),s=n.get(a.frameId);if(o){let l=r.get(o);l&&Qe(l,{frameId:s??a.frameId},!1)}}};function qJ(e,t,n){let r=vj(t,n),a=vj(e,n);return r.some(o=>a.some(s=>HLe(o,s)))}var JJ=(e,t,n)=>O4(MT(e,t,n,!1)).filter(r=>!en(r)&&!r.frameId||r.frameId===t.id),eee=(e,t,n,r)=>MT(e,t,r).some(a=>a.id===n.id),ST=(e,t,n)=>{let[r,a,o,s]=Xt(t,n),[l,d,u,f]=Yn(e);return r<=l&&a<=d&&o>=u&&s>=f},Hh=(e,t,n)=>ST([e],t,n)||qJ(e,t,n)||eee([t],e,t,n),cO=(e,t,n)=>{let[r,a,o,s]=Xt(t,n);return AZ($(r,a),$(e.x,e.y),$(o,s))},GLe=e=>{let t=new Map;for(let n of e){let r=en(n)?n.id:n.frameId;r&&!t.has(r)&&t.set(r,rf(e,r))}return t},rf=(e,t)=>{let n=[];for(let r of e.values())r.frameId===t&&n.push(r);return n},IT=e=>e.filter(t=>en(t)),tee=e=>{let t=Vt(IT(e));return e.filter(n=>t.has(n.id)||!n.frameId||!t.has(n.frameId))},aA=(e,t,n,r)=>{let a=rf(e,t.id),o=new Set(a),s=new Set([...JJ(e,t,r),...a.filter(g=>eee(e,g,t,r))]),l=a.filter(g=>!s.has(g)),d=new Set(Array.from(s).flatMap(g=>g.groupIds));for(let g of l)if(!qJ(g,t,r))g.groupIds.length===0&&o.delete(g);else if(g.groupIds.length>0)for(let v of g.groupIds)d.add(v);for(let g of l)if(g.groupIds.length>0){let v=!0;for(let c of g.groupIds)d.has(c)&&(v=!1);v&&o.delete(g)}let u=Array.from(s).filter(g=>g.groupIds.length===0);for(let g of u)o.add(g);let f=Array.from(s).filter(g=>g.groupIds.length>0),p=eJ(f,n);for(let[g,v]of Object.entries(p))if(v){let c=mi(e,g);if(ST(c,t,r))for(let h of c)o.add(h)}return[...o].filter(g=>!(pt(g)&&g.containerId))},WLe=(e,t,n)=>O4(e,JJ(e,t,n)),Ss=(e,t)=>e.frameId&&t.get(e.frameId)||null,VLe=(e,t)=>{let n=new Set,r=Vt(e);e=O4(e);for(let s of e)en(s)&&s.id!==t.id&&n.add(s.id);let a=new Set,o=[];for(let s of e)if(!(en(s)||s.frameId&&n.has(s.frameId)))if(s.groupIds.length){let l=s.groupIds.at(-1);if(!a.has(l)){a.add(l);let d=mi(e,l);if(d.some(u=>Hh(u,t,r)))for(let u of d)o.push(u)}}else Hh(s,t,r)&&o.push(s);return o},oA=(e,t,n)=>{let r=Vt(e),a=new Map;for(let d of e.values())d.frameId===n.id&&a.set(d.id,!0);let o=new Set(t.map(d=>d.id)),s=[],l=new Set;for(let d of t)en(d)&&d.id!==n.id&&l.add(d.id);for(let d of O4(e,t)){if(en(d)||d.frameId&&l.has(d.frameId))continue;a.has(d.id)||s.push(d);let u=on(d,r);u&&!o.has(u.id)&&!a.has(u.id)&&s.push(u)}for(let d of s)Qe(d,{frameId:n.id},!1);return e},j4=(e,t)=>{let n=new Map,r=new Map;for(let a of e)if(a.frameId){n.set(a.id,a);let o=r.get(a.frameId)||[];o.push(a);let s=on(a,t);s&&(n.set(s.id,s),o.push(s)),r.set(a.frameId,o)}for(let[,a]of n)Qe(a,{frameId:null},!1)},nee=(e,t)=>{let n=rf(e,t.id);return j4(n,Vt(e)),e},ree=(e,t,n,r)=>oA(nee(e,n),t,n).slice(),Gm=(e,t,n)=>{let r=n.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,elements:e}),a=new Set(r);if(t.editingGroupId)for(let l of r)l.groupIds.length===0?a.add(l):l.groupIds.flatMap(d=>mi(e,d)).forEach(d=>a.add(d));let o=new Set,s=Vt(e);return a.forEach(l=>{l.frameId&&!en(l)&&!Qy(l,s,t)&&o.add(l)}),o.size>0&&j4(o,s),e},O4=(e,t)=>{let n=new Set,r=t||e;for(let s of r.values()){let l=s.groupIds[s.groupIds.length-1];l&&n.add(l)}let a=new Set;for(let s of n)mi(e,s).some(l=>en(l))&&a.add(s);let o=[];for(let s of r.values())a.has(s.groupIds[s.groupIds.length-1])||o.push(s);return o},US=(e,t,n)=>{let r=pt(e)&&lo(e,t)||e;return n.selectedElementIds[r.id]&&n.selectedElementsAreBeingDragged?n.frameToHighlight:Ss(r,t)},Qy=(e,t,n)=>{let r=US(e,t,n),a=pt(e)&&lo(e,t)||e;if(r){if(!n.selectedElementIds[e.id]||!n.selectedElementsAreBeingDragged)return!0;if(a.groupIds.length===0)return Hh(a,r,t);let o=new Set(a.groupIds.flatMap(s=>mi(t,s)));if(n.editingGroupId&&n.selectedElementsAreBeingDragged){let s=new Set(gn(t,n));if(n.frameToHighlight!==null)return!0;s.forEach(l=>{o.delete(l)})}for(let s of o)if(en(s))return!1;for(let s of o)if(Hh(s,r,t))return!0}return!1},iee=e=>e.name===null?TZ(e)?"Frame":"AI Frame":e.name,kT=(e,t)=>OLe({elements:e,bounds:t,type:"overlap"}).filter(n=>!n.frameId||n.frameId===t.id),z4=e=>{let t=new Set;return e.forEach(n=>{en(n)&&t.add(n.id)}),e.filter(n=>!(n.frameId&&t.has(n.frameId)))},MT=(e,t,n,r=!0)=>{let[a,o,s,l]=Xt(t,n),d=e.filter(u=>{let[f,p,g,v]=ef(u,n),c=Ss(u,n);if(c){let[h,m,U,b]=ef(c,n);f=Math.max(h,f),p=Math.max(m,p),g=Math.min(U,g),v=Math.min(b,v)}return u.locked===!1&&u.type!=="selection"&&!bi(u)&&a<=f&&o<=p&&s>=g&&l>=v});return d=r?z4(d):d,d=d.filter(u=>{let f=Ss(u,n);return f?Hh(u,f,n):!0}),d},aee=(e,t,n,r)=>{let a=new Set(t.map(o=>o.id));return e.filter(o=>{let s=tw(o,n.width,n.height,n,r);return!a.has(o.id)&&s})},Pi=function(){let e=null,t=null,n=null,r=(a,o)=>(n!=null&&a===e&&o.selectedElementIds===t||(n=a.some(s=>o.selectedElementIds[s.id]),e=a,t=o.selectedElementIds),n);return r.clearCache=()=>{e=null,t=null,n=null},r}(),YLe=(e,t,n)=>{let r=Array.from(new Set(gn(e,t).map(a=>n(a))));return r.length===1?r[0]:null},gn=(e,t,n)=>{let r=[];for(let a of e.values()){if(t.selectedElementIds[a.id]){r.push(a);continue}if(n!=null&&n.includeBoundTextElement&&bi(a)&&t.selectedElementIds[a==null?void 0:a.containerId]){r.push(a);continue}}if(n!=null&&n.includeElementsInFrames){let a=[];return r.forEach(o=>{en(o)&&rf(e,o.id).forEach(s=>a.push(s)),a.push(o)}),a}return r},oee=(e,t)=>t.editingTextElement?[t.editingTextElement]:t.newElement?[t.newElement]:gn(e,t,{includeBoundTextElement:!0}),On=(e,t)=>ga(t.selectedElementIds,e)?t.selectedElementIds:e,dO=e=>{let t=new Map,n=[];for(let r of e)r.isDeleted||(n.push(r),t.set(r.id,r));return{elementsMap:t,elements:n}},KLe=(0,X9e.default)(e=>{(gt.DEV||gt.MODE===$o.TEST||window!=null&&window.DEBUG_FRACTIONAL_INDICES)&&gT(e,{shouldThrow:gt.DEV||gt.MODE===$o.TEST,includeBoundTextValidation:!0})},1e3*60,{leading:!0,trailing:!1}),XLe=e=>{let t=["includeBoundTextElement","includeElementsInFrames"],n="";for(let r of t)n+=`${r}:${e[r]?"1":"0"}`;return n},uO=e=>typeof e=="string",ld,ZLe=(ld=class{constructor(){ee(this,"callbacks",new Set);ee(this,"nonDeletedElements",[]);ee(this,"nonDeletedElementsMap",Bs(new Map));ee(this,"elements",[]);ee(this,"nonDeletedFramesLikes",[]);ee(this,"frames",[]);ee(this,"elementsMap",Bs(new Map));ee(this,"selectedElementsCache",{selectedElementIds:null,elements:null,cache:new Map});ee(this,"sceneNonce");ee(this,"insertElement",t=>{let n=t.frameId?this.getElementIndex(t.frameId):this.elements.length;this.insertElementAtIndex(t,n)});ee(this,"insertElements",t=>{var r;if(!t.length)return;let n=(r=t[0])!=null&&r.frameId?this.getElementIndex(t[0].frameId):this.elements.length;this.insertElementsAtIndex(t,n)});ee(this,"getContainerElement",t=>t&&t.containerId&&this.getElement(t.containerId)||null);ee(this,"getElementsFromId",t=>{let n=this.getNonDeletedElementsMap(),r=n.get(t);return r?[r]:mi(n,t)})}static mapElementToScene(t,n){uO(t)?this.sceneMapById.set(t,n):(this.sceneMapByElement.set(t,n),this.sceneMapById.set(t.id,n))}static getScene(t){return uO(t)?this.sceneMapById.get(t)||null:this.sceneMapByElement.get(t)||null}getSceneNonce(){return this.sceneNonce}getNonDeletedElementsMap(){return this.nonDeletedElementsMap}getElementsIncludingDeleted(){return this.elements}getElementsMapIncludingDeleted(){return this.elementsMap}getNonDeletedElements(){return this.nonDeletedElements}getFramesIncludingDeleted(){return this.frames}getSelectedElements(t){let n=XLe(t),r=(t==null?void 0:t.elements)||this.nonDeletedElements;if(this.selectedElementsCache.elements===r&&this.selectedElementsCache.selectedElementIds===t.selectedElementIds){let o=this.selectedElementsCache.cache.get(n);if(o)return o}else(t==null?void 0:t.elements)==null&&this.selectedElementsCache.cache.clear();let a=gn(r,{selectedElementIds:t.selectedElementIds},t);return(t==null?void 0:t.elements)==null&&(this.selectedElementsCache.selectedElementIds=t.selectedElementIds,this.selectedElementsCache.elements=this.nonDeletedElements,this.selectedElementsCache.cache.set(n,a)),a}getNonDeletedFramesLikes(){return this.nonDeletedFramesLikes}getElement(t){return this.elementsMap.get(t)||null}getNonDeletedElement(t){let n=this.getElement(t);return n&&bS(n)?n:null}mapElements(t){let n=!1,r=this.elements.map(a=>{let o=t(a);return o!==a&&(n=!0),o});return n&&this.replaceAllElements(r),n}replaceAllElements(t){let n=t instanceof Array?t:Array.from(t.values()),r=[];KLe(n),this.elements=nf(n),this.elementsMap.clear(),this.elements.forEach(o=>{en(o)&&r.push(o),this.elementsMap.set(o.id,o),ld.mapElementToScene(o,this)});let a=dO(this.elements);this.nonDeletedElements=a.elements,this.nonDeletedElementsMap=a.elementsMap,this.frames=r,this.nonDeletedFramesLikes=dO(this.frames).elements,this.triggerUpdate()}triggerUpdate(){this.sceneNonce=kd();for(let t of Array.from(this.callbacks))t()}onUpdate(t){if(this.callbacks.has(t))throw new Error;return this.callbacks.add(t),()=>{if(!this.callbacks.has(t))throw new Error;this.callbacks.delete(t)}}destroy(){this.elements=[],this.nonDeletedElements=[],this.nonDeletedFramesLikes=[],this.frames=[],this.elementsMap.clear(),this.selectedElementsCache.selectedElementIds=null,this.selectedElementsCache.elements=null,this.selectedElementsCache.cache.clear(),ld.sceneMapById.forEach((t,n)=>{t===this&&ld.sceneMapById.delete(n)}),this.callbacks.clear()}insertElementAtIndex(t,n){if(!Number.isFinite(n)||n<0)throw new Error("insertElementAtIndex can only be called with index >= 0");let r=[...this.elements.slice(0,n),t,...this.elements.slice(n)];vc(r,Vt([t])),this.replaceAllElements(r)}insertElementsAtIndex(t,n){if(!t.length)return;if(!Number.isFinite(n)||n<0)throw new Error("insertElementAtIndex can only be called with index >= 0");let r=[...this.elements.slice(0,n),...t,...this.elements.slice(n)];vc(r,Vt(t)),this.replaceAllElements(r)}getElementIndex(t){return this.elements.findIndex(n=>n.id===t)}},ee(ld,"sceneMapByElement",new WeakMap),ee(ld,"sceneMapById",new Map),ld),Gh=ZLe,Qe=(e,t,n=!0)=>{var s;let r=!1,{points:a,fileId:o}=t;typeof a<"u"&&(t={...Ny(a),...t});for(let l in t){let d=t[l];if(typeof d<"u"){if(e[l]===d&&(typeof d!="object"||d===null||l==="groupIds"||l==="scale"))continue;if(l==="scale"){let u=e[l],f=d;if(u[0]===f[0]&&u[1]===f[1])continue}else if(l==="points"){let u=e[l],f=d;if(u.length===f.length){let p=!1,g=u.length;for(;--g;){let v=u[g],c=f[g];if(v[0]!==c[0]||v[1]!==c[1]){p=!0;break}}if(!p)continue}}e[l]=d,r=!0}}return r&&((typeof t.height<"u"||typeof t.width<"u"||typeof o<"u"||typeof a<"u")&&Vr.delete(e),e.version++,e.versionNonce=kd(),e.updated=u2(),n&&((s=Gh.getScene(e))==null||s.triggerUpdate())),e},an=(e,t,n=!1)=>{let r=!1;for(let a in t){let o=t[a];if(typeof o<"u"){if(e[a]===o&&(typeof o!="object"||o===null))continue;r=!0}}return!r&&!n?e:{...e,...t,updated:u2(),version:e.version+1,versionNonce:kd()}},Q4=(e,t)=>(e.version=(t??e.version)+1,e.versionNonce=kd(),e.updated=u2(),e),Wm=e=>rn(e)||El(e)?e.points.length<2:e.width===0&&e.height===0,tw=(e,t,n,r,a)=>{let[o,s,l,d]=ef(e,a),u=Ur({clientX:r.offsetLeft,clientY:r.offsetTop},r),f=Ur({clientX:r.offsetLeft+t,clientY:r.offsetTop+n},r);return u.x<=l&&u.y<=d&&f.x>=o&&f.y>=s},sA=(e,t,n,r,a,o)=>{let[s,l,d,u]=Yn(e,a),f=Ur({clientX:r.offsetLeft+((o==null?void 0:o.left)||0),clientY:r.offsetTop+((o==null?void 0:o.top)||0)},r),p=Ur({clientX:r.offsetLeft+t-((o==null?void 0:o.right)||0),clientY:r.offsetTop+n-((o==null?void 0:o.bottom)||0)},r);return s>=f.x&&l>=f.y&&d<=p.x&&u<=p.y},fO=(e,t,n)=>{let r=Math.abs(t),a=Math.abs(n);if(e==="line"||e==="arrow"||e==="freedraw"){let o=Math.round(Math.atan(a/r)/Oh)*Oh;o===0?n=0:o===Math.PI/2?t=0:n=r*Math.tan(o)*Math.sign(n)||n}else e!=="selection"&&(n=r*Math.sign(n));return{width:t,height:n}},vS=(e,t,n,r)=>{let a=n-e,o=r-t,s=Math.round(Math.atan(o/a)/Oh)*Oh;if(s===0)o=0;else if(s===Math.PI/2)a=0;else{let l=Math.tan(s),d=-1,u=t-l*e,f=-1/l,p=-1,g=r-f*n,v=(d*g-p*u)/(l*p-f*d),c=(u*f-g*l)/(l*p-f*d);a=v-e,o=c-t}return{width:a,height:o}},see=e=>{let t={width:e.width,height:e.height,x:e.x,y:e.y};if(e.width<0){let n=Math.abs(e.width);t.width=n,t.x=e.x-n}if(e.height<0){let n=Math.abs(e.height);t.height=n,t.y=e.y-n}return t};N();var hO={mouse:8,pen:16,touch:28},qLe=16,lee={e:!0,s:!0,n:!0,w:!0},pO={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},Vx={e:!0,s:!0,n:!0,w:!0},qd=(e,t,n,r,a,o,s)=>{let[l,d]=De($(e+n/2,t+r/2),$(a,o),s);return[l-n/2,d-r/2,n,r]},TT=e=>!(e.viewport.isMobile||e.isTouchScreen&&(y9e||hZ)),zv=e=>TT(e)?lee:{},BT=([e,t,n,r,a,o],s,l,d,u={},f=4,p=j0)=>{let g=hO[d],v=g/l.value,c=g/l.value,h=g/l.value,m=g/l.value,U=n-e,b=r-t,w=f/l.value,E=(g-p*2)/(2*l.value),x={nw:u.nw?void 0:qd(e-w-h+E,t-w-m+E,v,c,a,o,s),ne:u.ne?void 0:qd(n+w-E,t-w-m+E,v,c,a,o,s),sw:u.sw?void 0:qd(e-w-h+E,r+w-E,v,c,a,o,s),se:u.se?void 0:qd(n+w-E,r+w-E,v,c,a,o,s),rotation:u.rotation?void 0:qd(e+U/2-v/2,t-w-m+E-qLe/l.value,v,c,a,o,s)},C=5*hO.mouse/l.value;return Math.abs(U)>C&&(u.n||(x.n=qd(e+U/2-v/2,t-w-m+E,v,c,a,o,s)),u.s||(x.s=qd(e+U/2-v/2,r+w-E,v,c,a,o,s))),Math.abs(b)>C&&(u.w||(x.w=qd(e-w-h+E,t+b/2-c/2,v,c,a,o,s)),u.e||(x.e=qd(n+w-E,t+b/2-c/2,v,c,a,o,s))),x},cee=(e,t,n,r="mouse",a=lee)=>{if(e.locked||Wt(e))return{};if(e.type==="freedraw"||rn(e)){if(e.points.length===2){let[,s]=e.points;s[0]===0||s[1]===0?a=Vx:s[0]>0&&s[1]<0?a=pO:s[0]>0&&s[1]>0?a=Vx:s[0]<0&&s[1]>0?a=pO:s[0]<0&&s[1]<0&&(a=Vx)}}else en(e)&&(a={...a,rotation:!0});let o=rn(e)?j0+8:zn(e)?0:j0;return BT(Xt(e,n,!0),e.angle,t,r,a,o,zn(e)?0:void 0)},dee=(e,t)=>{if(t.editingLinearElement)return!1;if(e.length>1)return!0;let n=e[0];return Wt(n)?!1:rn(n)?n.points.length>2:!0};N();var yS=(e,t,n)=>t>=e[0]&&t<=e[0]+e[2]&&n>=e[1]&&n<=e[1]+e[3],JLe=(e,t,n,r,a,o,s,l)=>{if(!n.selectedElementIds[e.id])return!1;let{rotation:d,...u}=cee(e,o,t,s,zv(l));if(d&&yS(d,r,a))return"rotation";let f=Object.keys(u).filter(p=>{let g=u[p];return g?yS(g,r,a):!1});if(f.length>0)return f[0];if(TT(l)){let[p,g,v,c,h,m]=Xt(e,t);if(!(rn(e)&&e.points.length<=2)){let U=zn(e)?0:_8/o.value,b=_8/o.value,w=uee($(p-U,g-U),$(v+U,c+U),$(h,m),e.angle);for(let[E,x]of Object.entries(w))if(xb($(r,a),x,b))return E}}return!1},gO=(e,t,n,r,a,o,s,l)=>e.reduce((d,u)=>{if(d)return d;let f=JLe(u,s,t,n,r,a,o,l);return f?{element:u,transformHandleType:f}:null},null),mO=([e,t,n,r],a,o,s,l,d)=>{let u=BT([e,t,n,r,(e+n)/2,(t+r)/2],0,s,l,zv(d)),f=Object.keys(u).find(p=>{let g=u[p];return g&&yS(g,a,o)});if(f)return f;if(TT(d)){let p=(e+n)/2,g=(t+r)/2,v=_8/s.value,c=uee($(e-v,t-v),$(n+v,r+v),$(p,g),0);for(let[h,m]of Object.entries(c))if(xb($(a,o),m,v))return h}return!1},Yx=["ns","nesw","ew","nwse"],eNe=(e,t)=>{let n=Yx.indexOf(e);if(n>=0){let r=Math.round(t/(Math.PI/4));e=Yx[(n+r)%Yx.length]}return e},UO=e=>{let{element:t,transformHandleType:n}=e,r=t&&Math.sign(t.height)*Math.sign(t.width)===-1,a=null;switch(n){case"n":case"s":a="ns";break;case"w":case"e":a="ew";break;case"nw":case"se":r?a="nesw":a="nwse";break;case"ne":case"sw":r?a="nwse":a="nesw";break;case"rotation":return"grab"}return a&&t&&(a=eNe(a,t.angle)),a?`${a}-resize`:""},uee=([e,t],[n,r],a,o)=>{let s=De($(e,t),a,o),l=De($(n,t),a,o),d=De($(e,r),a,o),u=De($(n,r),a,o);return{n:[s,l],e:[l,u],s:[u,d],w:[d,s]}};N();var tNe=(e,t,n,r,a,o,s,l,d,u,f,p)=>{if(n.length===1){let[g]=n;if(t==="rotation")Wt(g)||(nNe(g,r,a,d,u,o),_s(g,r));else{if(pt(g)&&t)return rNe(e,g,r,t,s,d,u),_s(g,r),!0;if(t){let v=n[0].id,c=r.get(v),h=e.get(v);if(c&&h){let{nextWidth:m,nextHeight:U}=cNe(c,h,r,e,t,d,u,{shouldMaintainAspectRatio:l,shouldResizeFromCenter:s});Hy(m,U,c,h,r,e,t,{shouldMaintainAspectRatio:l,shouldResizeFromCenter:s})}}}return!0}else if(n.length>1){if(t==="rotation")return iNe(e,n,r,a,d,u,o,f,p),!0;if(t){let{nextWidth:g,nextHeight:v,flipByX:c,flipByY:h,originalBoundingBox:m}=dNe(n,e,r,t,d,u,{shouldMaintainAspectRatio:l,shouldResizeFromCenter:s});return fee(n,r,t,a,{shouldResizeFromCenter:s,shouldMaintainAspectRatio:l,originalElementsMap:e,flipByX:c,flipByY:h,nextWidth:g,nextHeight:v,originalBoundingBox:m}),!0}}return!1},nNe=(e,t,n,r,a,o)=>{let[s,l,d,u]=Xt(e,t),f=(s+d)/2,p=(l+u)/2,g;en(e)?g=0:(g=5*Math.PI/2+Math.atan2(a-p,r-f),o&&(g=g+Oh/2,g=g-g%Oh),g=k8(g));let v=tf(e);if(Qe(e,{angle:g}),v){let c=n.getElement(v);c&&!ln(e)&&Qe(c,{angle:g})}},RT=(e,t,n,r)=>rn(e)||El(e)?{points:z8(0,t,z8(1,n,e.points,r),r)}:{},DT=(e,t,n)=>{let r=e.width;if(bi(e)){let o=lo(e,t);o&&(r=Id(o,e))}let a=e.fontSize*(n/r);return a<TM?null:{size:a}},rNe=(e,t,n,r,a,o,s)=>{let[l,d,u,f,p,g]=Xt(t,n),[v,c]=De($(o,s),$(p,g),-t.angle),h=0,m=0;r!=="e"&&r!=="w"&&(r.includes("e")&&(h=(v-l)/(u-l)),r.includes("w")&&(h=(u-v)/(u-l)),r.includes("n")&&(m=(f-c)/(f-d)),r.includes("s")&&(m=(c-d)/(f-d)));let U=Math.max(h,m);if(U>0){let b=t.width*U,w=t.height*U,E=DT(t,n,b);if(E===null)return;let x=[l,d],C=[u,f],I=[p,g],S=$(l,d);if(["n","w","nw"].includes(r)&&(S=$(C[0]-Math.abs(b),C[1]-Math.abs(w))),r==="ne"){let J=[x[0],C[1]];S=$(J[0],J[1]-Math.abs(w))}if(r==="sw"){let J=[C[0],x[1]];S=$(J[0]-Math.abs(b),J[1])}["s","n"].includes(r)&&(S[0]=I[0]-b/2),["e","w"].includes(r)&&(S[1]=I[1]-w/2),a&&(S[0]=I[0]-Math.abs(b)/2,S[1]=I[1]-Math.abs(w)/2);let M=t.angle,R=De(S,$(p,g),M),D=$(S[0]+Math.abs(b)/2,S[1]+Math.abs(w)/2),L=De(D,$(p,g),M);S=De(R,L,-M);let[j,re]=S;Qe(t,{fontSize:E.size,width:b,height:w,x:j,y:re})}if(r==="e"||r==="w"){let b=e.get(t.id),[w,E,x,C]=Dh(b,b.width,b.height,!0),I=$(w,E),S=$(x,C),M=By(I,S),R=De($(o,s),M,-b.angle),[D,,L]=Dh(t,t.width,t.height,!0),j=L-D,re=S[0]-I[0],J=hT(Xn({fontSize:t.fontSize,fontFamily:t.fontFamily}),t.lineHeight),H=re/j;r.includes("e")&&(H=(R[0]-I[0])/j),r.includes("w")&&(H=(S[0]-R[0])/j);let ne=t.width*H<J?J:t.width*H,Z=ap(t.originalText,Xn(t),Math.abs(ne)),se=Ha(Z,Xn(t),t.lineHeight),O=se.height,[V,de,oe,me]=Dh(b,ne,O,!0),ve=oe-V,xe=me-de,le=[...I];["n","w","nw"].includes(r)&&(le=[S[0]-Math.abs(ve),I[1]]);let he=b.angle,ge=De(le,M,he),Ee=$(le[0]+Math.abs(ve)/2,le[1]+Math.abs(xe)/2),ze=De(Ee,M,he);le=De(ge,ze,-he);let at={width:Math.abs(ne),height:Math.abs(se.height),x:le[0],y:le[1],text:Z,autoResize:!1};Qe(t,at)}},iNe=(e,t,n,r,a,o,s,l,d)=>{var f;let u=5*Math.PI/2+Math.atan2(o-d,a-l);s&&(u+=Oh/2,u-=u%Oh);for(let p of t)if(!en(p)){let[g,v,c,h]=Xt(p,n),m=(g+c)/2,U=(v+h)/2,b=((f=e.get(p.id))==null?void 0:f.angle)??p.angle,[w,E]=De($(m,U),$(l,d),u+b-p.angle);if(Wt(p)){let C=$De(p,n);W0(p,n,C)}else Qe(p,{x:p.x+(w-m),y:p.y+(E-U),angle:k8(u+b)},!1);_s(p,n,{simultaneouslyUpdated:t});let x=on(p,n);x&&!ln(p)&&Qe(x,{x:x.x+(w-m),y:x.y+(E-U),angle:k8(u+b)},!1)}r.triggerUpdate()},aNe=(e,t,n,r,a)=>{let[o,s,l,d]=t.length===1?Xt(t[0],n):Yn(t),u=(o+l)/2,f=(s+d)/2,p=t.length===1?t[0].angle:0;switch([r,a]=De($(r,a),$(u,f),-p),e){case"n":return De($(r-(o+l)/2,a-s),$(0,0),p);case"s":return De($(r-(o+l)/2,a-d),$(0,0),p);case"w":return De($(r-o,a-(s+d)/2),$(0,0),p);case"e":return De($(r-l,a-(s+d)/2),$(0,0),p);case"nw":return De($(r-o,a-s),$(0,0),p);case"ne":return De($(r-l,a-s),$(0,0),p);case"sw":return De($(r-o,a-d),$(0,0),p);case"se":return De($(r-l,a-d),$(0,0),p);default:return[0,0]}},oNe=(e,t)=>{let[,[n,r]]=t.points;return e==="nw"&&(n<0||r<0)||e==="ne"&&n>=0||e==="sw"&&n<=0||e==="se"&&(n>0||r>0)?"end":"origin"},sNe=(e,t,n)=>{if(n)return"center";if(t)switch(e){case"n":return"south-side";case"e":return"west-side";case"s":return"north-side";case"w":return"east-side";case"ne":return"bottom-left";case"nw":return"bottom-right";case"se":return"top-left";case"sw":return"top-right"}return["e","se","s"].includes(e)?"top-left":["n","nw","w"].includes(e)?"bottom-right":e==="ne"?"bottom-left":"top-right"},lNe=(e,t,n,r,a,o,s,l,d)=>{let u=sNe(s,l,d),[f,p]=e;switch(u){case"top-left":return{x:f+(t-r)/2+(r-t)/2*Math.cos(o)+(n-a)/2*Math.sin(o),y:p+(n-a)/2+(r-t)/2*Math.sin(o)+(a-n)/2*Math.cos(o)};case"top-right":return{x:f+(t-r)/2*(Math.cos(o)+1)+(n-a)/2*Math.sin(o),y:p+(n-a)/2+(t-r)/2*Math.sin(o)+(a-n)/2*Math.cos(o)};case"bottom-left":return{x:f+(t-r)/2*(1-Math.cos(o))+(a-n)/2*Math.sin(o),y:p+(n-a)/2*(Math.cos(o)+1)+(r-t)/2*Math.sin(o)};case"bottom-right":return{x:f+(t-r)/2*(Math.cos(o)+1)+(a-n)/2*Math.sin(o),y:p+(n-a)/2*(Math.cos(o)+1)+(t-r)/2*Math.sin(o)};case"center":return{x:f-(r-t)/2,y:p-(a-n)/2};case"east-side":return{x:f+(t-r)/2*(Math.cos(o)+1),y:p+(a-n)/2+(t-r)/2*Math.sin(o)};case"west-side":return{x:f+(t-r)/2*(1-Math.cos(o)),y:p+(r-t)/2*Math.sin(o)+(n-a)/2};case"north-side":return{x:f+(t-r)/2+(n-a)/2*Math.sin(o),y:p+(a-n)/2*(Math.cos(o)-1)};case"south-side":return{x:f+(t-r)/2+(a-n)/2*Math.sin(o),y:p+(n-a)/2*(Math.cos(o)+1)}}},Hy=(e,t,n,r,a,o,s,{shouldInformMutation:l=!0,shouldMaintainAspectRatio:d=!1,shouldResizeFromCenter:u=!1}={})=>{let f={},p=on(n,a);if(p){let h=o.get(p.id);if(h&&(f={fontSize:h.fontSize}),d){let m={...n,width:e,height:t},U=DT(p,a,Id(m,p));if(U===null)return;f={fontSize:U.size}}else{let m=sJ(Xn(p),p.lineHeight),U=aJ(p.fontSize,p.lineHeight);e=Math.max(e,m),t=Math.max(t,U)}}let g=RT(r,e,t,!0),v=$(r.x,r.y);if(rn(r)){let[h,m]=ef(r,o);v=$(h,m)}let c=lNe(v,r.width,r.height,e,t,r.angle,s,d,u);if(rn(r)&&g.points){let h=r.x-v[0],m=r.y-v[1];c.x+=h,c.y+=m;let U=g.points[0][0],b=g.points[0][1];c.x+=U,c.y+=b,g.points=g.points.map(w=>$(w[0]-U,w[1]-b))}if(e<0&&(c.x=c.x+e),t<0&&(c.y=c.y+t),"scale"in n&&"scale"in r&&Qe(n,{scale:[(Math.sign(e)||r.scale[0])*r.scale[0],(Math.sign(t)||r.scale[1])*r.scale[1]]}),ln(n)&&p&&d){let h=e/n.width*p.fontSize;if(h<TM)return;f.fontSize=h}if(e!==0&&t!==0&&Number.isFinite(c.x)&&Number.isFinite(c.y)){let h={...c,width:Math.abs(e),height:Math.abs(t),...g};Qe(n,h,l),_s(n,a,{newSize:{width:e,height:t}}),p&&f!=null&&Qe(p,{fontSize:f.fontSize}),Tb(n,a,s,d)}},cNe=(e,t,n,r,a,o,s,{shouldMaintainAspectRatio:l=!1,shouldResizeFromCenter:d=!1}={})=>{let[u,f,p,g]=Dh(t,t.width,t.height,!0),v=$(u,f),c=$(p,g),h=By(v,c),m=De($(o,s),h,-t.angle),[U,b,w,E]=Dh(e,e.width,e.height,!0),x=w-U,C=E-b,I=c[0]-v[0],S=c[1]-v[1],M=I/x,R=S/C;a.includes("e")&&(M=(m[0]-v[0])/x),a.includes("s")&&(R=(m[1]-v[1])/C),a.includes("w")&&(M=(c[0]-m[0])/x),a.includes("n")&&(R=(c[1]-m[1])/C);let D=e.width*M,L=e.height*R;if(d&&(D=2*D-t.width,L=2*L-t.height),l){let j=Math.abs(D)/t.width,re=Math.abs(L)/t.height;if(a.length===1&&(L*=j,D*=re),a.length===2){let J=Math.max(j,re);D=t.width*J*Math.sign(D),L=t.height*J*Math.sign(L)}}return{nextWidth:D,nextHeight:L}},dNe=(e,t,n,r,a,o,{shouldMaintainAspectRatio:s=!1,shouldResizeFromCenter:l=!1}={})=>{let d=e.map(j=>t.get(j.id)),u=d.reduce((j,re)=>{if(!rn(re))return j;let J=tf(re);if(!J)return j;let H=t.get(J)??null;return bi(H)?[...j,{...H,...xt.getBoundTextElementPosition(re,H,n)}]:j},[]),f=fc(d.map(j=>j).concat(u)),{minX:p,minY:g,maxX:v,maxY:c,midX:h,midY:m}=f,U=v-p,b=c-g,w={ne:[p,c],se:[p,g],sw:[v,g],nw:[v,c],e:[p,g+b/2],w:[v,g+b/2],n:[p+U/2,c],s:[p+U/2,g]},[E,x]=l?[h,m]:w[r],C=l?2:1,I=Math.max(Math.abs(a-E)/U||0,Math.abs(o-x)/b||0)*C,S=r.includes("e")||r.includes("w")?Math.abs(a-E)*C:U,M=r.includes("n")||r.includes("s")?Math.abs(o-x)*C:b;s&&(S=U*I*Math.sign(a-E),M=b*I*Math.sign(o-x));let R={ne:[a<E,o>x],se:[a<E,o<x],sw:[a>E,o<x],nw:[a>E,o>x],e:[a<E,!1],w:[a>E,!1],n:[!1,o>x],s:[!1,o<x]},[D,L]=R[r].map(j=>j);return{originalBoundingBox:f,nextWidth:S,nextHeight:M,flipByX:D,flipByY:L}},fee=(e,t,n,r,{shouldMaintainAspectRatio:a=!1,shouldResizeFromCenter:o=!1,flipByX:s=!1,flipByY:l=!1,nextHeight:d,nextWidth:u,originalElementsMap:f,originalBoundingBox:p}={})=>{if(u===void 0&&d===void 0&&s===void 0&&l===void 0||d===0||u===0)return;f||(f=t);let g=e.reduce((C,I)=>{let S=f.get(I.id);return S&&C.push({orig:S,latest:I}),C},[]),v;if(p)v=p;else{let C=g.reduce((I,{orig:S})=>{if(!rn(S))return I;let M=tf(S);if(!M)return I;let R=f.get(M)??null;return bi(R)?[...I,{...R,...xt.getBoundTextElementPosition(S,R,t)}]:I},[]);v=fc(g.map(({orig:I})=>I).concat(C))}let{minX:c,minY:h,maxX:m,maxY:U,midX:b,midY:w}=v,E=m-c,x=U-h;if(u===void 0&&d===void 0&&(u=E,d=x),a&&(u===void 0?u=d*(E/x):d===void 0?d=u*(x/E):Math.abs(u/d-E/x)>.001&&(u=d*(E/x))),u&&d){let C=n.includes("e")||n.includes("w")?Math.abs(u)/E:1,I=n.includes("n")||n.includes("s")?Math.abs(d)/x:1,S;n.length===1?S=n.includes("e")||n.includes("w")?C:I:S=Math.max(Math.abs(u)/E||0,Math.abs(d)/x||0);let M={ne:[c,U],se:[c,h],sw:[m,h],nw:[m,U],e:[c,h+x/2],w:[m,h+x/2],n:[c+E/2,U],s:[c+E/2,h]},[R,D]=o?[b,w]:M[n],L=a||g.some(ne=>ne.latest.angle!==0||pt(ne.latest)||Om(ne.latest));L&&(C=S,I=S);let[j,re]=[s?-1:1,l?-1:1],J=[];for(let{orig:ne,latest:Z}of g){if(pt(ne)&&bi(ne))continue;let se=ne.width*C,O=ne.height*I,V=k8(ne.angle*j*re),de=rn(ne)||El(ne),oe=ne.x-R,me=ne.y-D,ve=s&&!de?se:0,xe=l&&!de?O:0,le=R+j*(oe*C+ve),he=D+re*(me*I+xe),ge=RT(ne,se*j,O*re,!1),Ee={x:le,y:he,width:se,height:O,angle:V,...ge};if(zn(ne)&&(Ee.scale=[ne.scale[0]*j,ne.scale[1]*re]),pt(ne)){let at=DT(ne,t,se);if(!at)return;Ee.fontSize=at.size}let ze=f.get(tf(ne)??"");if(ze)if(L){let at=ze.fontSize*S;if(at<TM)return;Ee.boundTextFontSize=at}else Ee.boundTextFontSize=ze.fontSize;J.push({element:Z,update:Ee})}let H=J.map(({element:ne})=>ne);for(let{element:ne,update:{boundTextFontSize:Z,...se}}of J){let{width:O,height:V,angle:de}=se;Qe(ne,se,!1),_s(ne,t,{simultaneouslyUpdated:H,newSize:{width:O,height:V}});let oe=on(ne,t);oe&&Z&&(Qe(oe,{fontSize:Z,angle:rn(ne)?void 0:de},!1),Tb(ne,t,n,!0))}r.triggerUpdate()}};N();var uNe=(e,t,n,r,a,o)=>{if(t.length===1&&Wt(t[0])&&(t[0].startBinding||t[0].endBinding))return;let s=t.filter(p=>!(Wt(p)&&p.startBinding&&p.endBinding)),l=new Set(s),d=s.filter(p=>en(p)).map(p=>p.id);if(d.length>0)for(let p of r.getNonDeletedElements())p.frameId!==null&&d.includes(p.frameId)&&l.add(p);let u=Yn(Array.from(l).map(p=>e.originalElements.get(p.id)??p)),f=fNe(u,n,a,o);l.forEach(p=>{if(vO(e,p,f),!ln(p)){let g=on(p,r.getNonDeletedElementsMap());g&&vO(e,g,f)}_s(p,r.getElementsMapIncludingDeleted(),{simultaneouslyUpdated:Array.from(l)})})},fNe=(e,t,n,r)=>{let[a,o]=e,s=a+t.x+n.x,l=o+t.y+n.y;if(n.x===0||n.y===0){let[d,u]=Oi(a+t.x,o+t.y,r);n.x===0&&(s=d),n.y===0&&(l=u)}return{x:s-a,y:l-o}},vO=(e,t,n)=>{let r=e.originalElements.get(t.id)??t,a=r.x+n.x,o=r.y+n.y;Qe(t,{x:a,y:o})},hNe=(e,t,n)=>{let[r,a]=Yn(e);return[t-r,n-a]},yO=({newElement:e,elementType:t,originX:n,originY:r,x:a,y:o,width:s,height:l,shouldMaintainAspectRatio:d,shouldResizeFromCenter:u,zoom:f,widthAspectRatio:p=null,originOffset:g=null,informMutation:v=!0})=>{d&&e.type!=="selection"&&(p?l=s/p:(Math.abs(o-r)>Math.abs(a-n)?{width:s,height:l}=fO(t,l,a<n?-s:s):{width:s,height:l}=fO(t,s,o<r?-l:l),l<0&&(l=-l)));let c=a<n?n-s:n,h=o<r?r-l:r;u&&(s+=s,l+=l,c=n-s/2,h=r-l/2);let m=null;if(pt(e)){l=e.height;let U=hT(Xn({fontSize:e.fontSize,fontFamily:e.fontFamily}),e.lineHeight);s=Math.max(s,U),Math.abs(a-n)>E9e/f&&(m={autoResize:!1}),h=r,u&&(c=n-s/2)}if(s!==0&&l!==0){let U=null;zn(e)&&(U={initialWidth:s,initialHeight:l}),Qe(e,{x:c+((g==null?void 0:g.x)??0),y:h+((g==null?void 0:g.y)??0),width:s,height:l,...m,...U},v)}};N();var PT=(e,t)=>{var n;return!!(!e.viewModeEnabled&&((n=e.openDialog)==null?void 0:n.name)!=="elementLinkSelector"&&(e.activeTool.type!=="custom"&&(e.editingTextElement||e.activeTool.type!=="selection"&&e.activeTool.type!=="eraser"&&e.activeTool.type!=="hand"&&e.activeTool.type!=="laser")||gn(t,e).length))},pNe=e=>{let t=5381;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);t=(t<<5)+t+r}return t>>>0},gNe=e=>e.filter(t=>!t.isDeleted&&!Wm(t)),hr=e=>e.filter(t=>!t.isDeleted),bS=e=>!e.isDeleted,mNe=e=>hr(e).map(t=>FM(t.type)?{...t,lastCommittedPoint:null}:t),hee=e=>mNe(e),pee=async e=>{let t;if(e.type===Ft.png)try{return await(await Ye(async()=>{const{decodePngMetadata:n}=await Promise.resolve().then(()=>Aw);return{decodePngMetadata:n}},void 0,import.meta.url)).decodePngMetadata(e)}catch(n){throw n.message==="INVALID"?new d0("Image doesn't contain scene","IMAGE_NOT_CONTAINS_SCENE_DATA"):new d0("Error: cannot restore image")}else if("text"in Blob?t=await e.text():t=await new Promise(n=>{let r=new FileReader;r.readAsText(e,"utf8"),r.onloadend=()=>{r.readyState===FileReader.DONE&&n(r.result)}}),e.type===Ft.svg)try{return(await Ye(async()=>{const{decodeSvgMetadata:n}=await Promise.resolve().then(()=>Aw);return{decodeSvgMetadata:n}},void 0,import.meta.url)).decodeSvgMetadata({svg:t})}catch(n){throw n.message==="INVALID"?new d0("Image doesn't contain scene","IMAGE_NOT_CONTAINS_SCENE_DATA"):new d0("Error: cannot restore image")}return t},gee=e=>{var t;return e&&((t=e.name.match(/\.(json|excalidraw|png|svg)$/))==null?void 0:t[1])||null},UNe=e=>e==="png"||e==="svg",LT=e=>{let t=gee(e);return t==="png"||t==="svg"},mee=e=>!!e&&Object.values(v4).includes(e),M0=e=>{let{type:t}=e||{};return mee(t)},Uee=async(e,t,n,r)=>{let a=await pee(e),o;try{try{o=JSON.parse(a)}catch(s){throw M0(e)?new d0("Image doesn't contain scene","IMAGE_NOT_CONTAINS_SCENE_DATA"):s}if(rLe(o))return{type:Ft.excalidraw,data:F4({elements:hee(o.elements||[]),appState:{theme:t==null?void 0:t.theme,fileHandle:r||e.handle||null,...bZ(o.appState||{}),...t?$y(o.elements||[],t):{}},files:o.files},t,n,{repairBindings:!0,refreshDimensions:!1})};if(SJ(o))return{type:Ft.excalidrawlib,data:o};throw new Error("Error: invalid file")}catch(s){throw s instanceof d0?s:new Error("Error: invalid file")}},vee=async(e,t,n,r)=>{let a=await Uee(e,t,n,r);if(a.type!==Ft.excalidraw)throw new Error("Error: invalid file");return a.data},yee=(e,t="unpublished")=>{let n=JSON.parse(e);if(!SJ(n))throw new Error("Invalid library");let r=n.libraryItems||n.library;return QJ(r,t)},vNe=async(e,t="unpublished")=>yee(await pee(e),t),Gy=async e=>new Promise(async(t,n)=>{try{_b(e)&&(e=await e),e.toBlob(r=>{if(!r)return n(new uIe("Error: Canvas too big","CANVAS_POSSIBLY_TOO_BIG"));t(r)})}catch(r){n(r)}}),yNe=async e=>{try{let t=await window.crypto.subtle.digest("SHA-1",await f0(e));return U_e(new Uint8Array(t))}catch(t){return console.error(t),NM(40)}},bO=async e=>new Promise((t,n)=>{let r=new FileReader;r.onload=()=>{let a=r.result;t(a)},r.onerror=a=>n(a),r.readAsDataURL(e)}),bNe=(e,t)=>`data:${t};base64,${wee(nw(e),!0)}`,ANe=(e,t="")=>{let n=e.indexOf(","),r=atob(e.slice(n+1)),a=e.slice(0,n).split(":")[1].split(";")[0],o=new ArrayBuffer(r.length),s=new Uint8Array(o);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return new File([o],t,{type:a})},wNe=e=>Eee(e.slice(e.indexOf(",")+1)),AS=async(e,t)=>{if(e.type===Ft.svg)return e;let[n,r]=await Promise.all([Ye(()=>import("./pica-GFNRRI3K-DtiyTqxy.js"),[],import.meta.url).then(o=>o.default),Ye(()=>import("./image-blob-reduce.esm-2RRQLBYF-BE9wncqc.js"),[],import.meta.url).then(o=>o.default)]),a=r({pica:n({features:["js","wasm"]})});if(t.outputType){let{outputType:o}=t;a._create_blob=function(s){return this.pica.toBlob(s.out_canvas,o,.8).then(l=>(s.out_blob=l,s))}}if(!M0(e))throw new Error("Error: unsupported file type",{cause:"UNSUPPORTED"});return new File([await a.toBlob(e,{max:t.maxWidthOrHeight,alpha:!0})],e.name,{type:t.outputType||e.type})},AO=(e,t="")=>new File([new TextEncoder().encode(e)],t,{type:Ft.svg}),ENe=async(e,t="")=>{let n;try{n=await fetch(e)}catch{throw new Error("Error: failed to fetch image",{cause:"FETCH_ERROR"})}if(!n.ok)throw new Error("Error: failed to fetch image",{cause:"FETCH_ERROR"});let r=await n.blob();if(r.type&&M0(r)){let a=t||r.name||"";return new File([r],a,{type:r.type})}throw new Error("Error: unsupported file type",{cause:"UNSUPPORTED"})},xNe=async e=>{let t=e.dataTransfer.files.item(0),n=await _Ne(e);return{file:t?await NT(t):null,fileHandle:n}},_Ne=async e=>{if(a1)try{return await e.dataTransfer.items[0].getAsFileSystemHandle()||null}catch(t){return console.warn(t.name,t.message),null}return null},wO=e=>{let t=null,n=`${[...new Uint8Array(e).slice(0,8)].join(" ")} `,r={png:"137 80 78 71 13 10 26 10 ",jpg:"255 216 255 ",gif:"71 73 70 56 57 97 "};return n===r.png?t=Ft.png:n.startsWith(r.jpg)?t=Ft.jpg:n.startsWith(r.gif)&&(t=Ft.gif),t},nv=(e,t,n)=>new File([e],n||"",{type:t}),NT=async e=>{var t,n;if(e.type){if(M0(e)){let r=await f0(e),a=wO(r);a&&a!==e.type&&(e=nv(r,a,e.name))}}else if((t=e==null?void 0:e.name)!=null&&t.endsWith(".excalidrawlib"))e=nv(await f0(e),Ft.excalidrawlib,e.name);else if((n=e==null?void 0:e.name)!=null&&n.endsWith(".excalidraw"))e=nv(await f0(e),Ft.excalidraw,e.name);else{let r=await f0(e),a=wO(r);a&&(e=nv(r,a,e.name))}return e},f0=e=>"arrayBuffer"in e?e.arrayBuffer():new Promise((t,n)=>{let r=new FileReader;r.onload=a=>{var o;if(!((o=a.target)!=null&&o.result))return n(new Error("Couldn't convert blob to ArrayBuffer"));t(a.target.result)},r.readAsArrayBuffer(e)}),nw=e=>{let t=typeof e=="string"?new TextEncoder().encode(e):e instanceof Uint8Array?e:new Uint8Array(e),n="";for(let r of t)n+=String.fromCharCode(r);return n},bee=e=>{let t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0,a=e.length;r<a;r++)n[r]=e.charCodeAt(r);return t},Aee=e=>new TextDecoder("utf-8").decode(bee(e)),wee=(e,t=!1)=>t?window.btoa(e):window.btoa(nw(e)),Eee=(e,t=!1)=>t?window.atob(e):Aee(window.atob(e)),xee=({text:e,compress:t})=>{let n;if(t!==!1)try{n=nw((0,sZ.deflate)(e))}catch(r){console.error("encode: cannot deflate",r)}return{version:"1",encoding:"bstring",compressed:!!n,encoded:n||nw(e)}},_ee=e=>{let t;switch(e.encoding){case"bstring":t=e.compressed?e.encoded:Aee(e.encoded);break;default:throw new Error(`decode: unknown encoding "${e.encoding}"`)}return e.compressed?(0,sZ.inflate)(new Uint8Array(bee(t)),{to:"string"}):t},Cee=async e=>{let t=(0,aZ.default)(new Uint8Array(await f0(e))).find(n=>n.name==="tEXt");return t?oZ.default.decode(t.data):null},CNe=async({blob:e,metadata:t})=>{let n=(0,aZ.default)(new Uint8Array(await f0(e))),r=oZ.default.encode(Ft.excalidraw,JSON.stringify(xee({text:t,compress:!0})));return n.splice(-1,0,r),new Blob([(0,d9e.default)(n)],{type:Ft.png})},SNe=async e=>{let t=await Cee(e);if((t==null?void 0:t.keyword)===Ft.excalidraw)try{let n=JSON.parse(t.text);if(!("encoded"in n)){if("type"in n&&n.type===gl.excalidraw)return t.text;throw new Error("FAILED")}return _ee(n)}catch(n){throw console.error(n),new Error("FAILED")}throw new Error("INVALID")},INe=({text:e})=>{let t=wee(JSON.stringify(xee({text:e})),!0),n="";return n+=`<!-- payload-type:${Ft.excalidraw} -->`,n+="<!-- payload-version:2 -->",n+="<!-- payload-start -->",n+=t,n+="<!-- payload-end -->",n},kNe=({svg:e})=>{var t;if(e.includes(`payload-type:${Ft.excalidraw}`)){let n=e.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/);if(!n)throw new Error("INVALID");let r=(((t=e.match(/<!-- payload-version:(\d+) -->/))==null?void 0:t[1])||"1")!=="1";try{let a=Eee(n[1],r),o=JSON.parse(a);if(!("encoded"in o)){if("type"in o&&o.type===gl.excalidraw)return a;throw new Error("FAILED")}return _ee(o)}catch(a){throw console.error(a),new Error("FAILED")}}throw new Error("INVALID")};/*! Bundled license information:

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/var See={paste:"Paste",pasteAsPlaintext:"Paste as plaintext",pasteCharts:"Paste charts",selectAll:"Select all",multiSelect:"Add element to selection",moveCanvas:"Move canvas",cut:"Cut",copy:"Copy",copyAsPng:"Copy to clipboard as PNG",copyAsSvg:"Copy to clipboard as SVG",copyText:"Copy to clipboard as text",copySource:"Copy source to clipboard",convertToCode:"Convert to code",bringForward:"Bring forward",sendToBack:"Send to back",bringToFront:"Bring to front",sendBackward:"Send backward",delete:"Delete",copyStyles:"Copy styles",pasteStyles:"Paste styles",stroke:"Stroke",changeStroke:"Change stroke color",background:"Background",changeBackground:"Change background color",fill:"Fill",strokeWidth:"Stroke width",strokeStyle:"Stroke style",strokeStyle_solid:"Solid",strokeStyle_dashed:"Dashed",strokeStyle_dotted:"Dotted",sloppiness:"Sloppiness",opacity:"Opacity",textAlign:"Text align",edges:"Edges",sharp:"Sharp",round:"Round",arrowheads:"Arrowheads",arrowhead_none:"None",arrowhead_arrow:"Arrow",arrowhead_bar:"Bar",arrowhead_circle:"Circle",arrowhead_circle_outline:"Circle (outline)",arrowhead_triangle:"Triangle",arrowhead_triangle_outline:"Triangle (outline)",arrowhead_diamond:"Diamond",arrowhead_diamond_outline:"Diamond (outline)",arrowtypes:"Arrow type",arrowtype_sharp:"Sharp arrow",arrowtype_round:"Curved arrow",arrowtype_elbowed:"Elbow arrow",fontSize:"Font size",fontFamily:"Font family",addWatermark:'Add "Made with Excalidraw"',handDrawn:"Hand-drawn",normal:"Normal",code:"Code",small:"Small",medium:"Medium",large:"Large",veryLarge:"Very large",solid:"Solid",hachure:"Hachure",zigzag:"Zigzag",crossHatch:"Cross-hatch",thin:"Thin",bold:"Bold",left:"Left",center:"Center",right:"Right",extraBold:"Extra bold",architect:"Architect",artist:"Artist",cartoonist:"Cartoonist",fileTitle:"File name",colorPicker:"Color picker",canvasColors:"Used on canvas",canvasBackground:"Canvas background",drawingCanvas:"Drawing canvas",clearCanvas:"Clear canvas",layers:"Layers",actions:"Actions",language:"Language",liveCollaboration:"Live collaboration...",duplicateSelection:"Duplicate",untitled:"Untitled",name:"Name",yourName:"Your name",madeWithExcalidraw:"Made with Excalidraw",group:"Group selection",ungroup:"Ungroup selection",collaborators:"Collaborators",toggleGrid:"Toggle grid",addToLibrary:"Add to library",removeFromLibrary:"Remove from library",libraryLoadingMessage:"Loading library",libraries:"Browse libraries",loadingScene:"Loading scene",loadScene:"Load scene from file",align:"Align",alignTop:"Align top",alignBottom:"Align bottom",alignLeft:"Align left",alignRight:"Align right",centerVertically:"Center vertically",centerHorizontally:"Center horizontally",distributeHorizontally:"Distribute horizontally",distributeVertically:"Distribute vertically",flipHorizontal:"Flip horizontal",flipVertical:"Flip vertical",viewMode:"View mode",share:"Share",showStroke:"Show stroke color picker",showBackground:"Show background color picker",showFonts:"Show font picker",toggleTheme:"Toggle light/dark theme",theme:"Theme",personalLib:"Personal Library",excalidrawLib:"Excalidraw Library",decreaseFontSize:"Decrease font size",increaseFontSize:"Increase font size",unbindText:"Unbind text",bindText:"Bind text to the container",createContainerFromText:"Wrap text in a container",link:{edit:"Edit link",editEmbed:"Edit embeddable link",create:"Add link",label:"Link",labelEmbed:"Link & embed",empty:"No link is set",hint:"Type or paste your link here",goToElement:"Go to target element"},lineEditor:{edit:"Edit line",editArrow:"Edit arrow"},elementLock:{lock:"Lock",unlock:"Unlock",lockAll:"Lock all",unlockAll:"Unlock all"},statusPublished:"Published",sidebarLock:"Keep sidebar open",selectAllElementsInFrame:"Select all elements in frame",removeAllElementsFromFrame:"Remove all elements from frame",eyeDropper:"Pick color from canvas",textToDiagram:"Text to diagram",prompt:"Prompt",followUs:"Follow us",discordChat:"Discord chat",zoomToFitViewport:"Zoom to fit in viewport",zoomToFitSelection:"Zoom to fit selection",zoomToFit:"Zoom to fit all elements",installPWA:"Install Excalidraw locally (PWA)",autoResize:"Enable text auto-resizing",imageCropping:"Image cropping",unCroppedDimension:"Uncropped dimension",copyElementLink:"Copy link to object",linkToElement:"Link to object"},Iee={title:"Link to object",desc:"Click on a shape on canvas or paste a link.",notFound:"Linked object wasn't found on canvas."},kee={noItems:"No items added yet...",hint_emptyLibrary:"Select an item on canvas to add it here, or install a library from the public repository, below.",hint_emptyPrivateLibrary:"Select an item on canvas to add it here."},Mee={title:"Find on canvas",noMatch:"No matches found...",singleResult:"result",multipleResults:"results",placeholder:"Find text on canvas..."},Tee={clearReset:"Reset the canvas",exportJSON:"Export to file",exportImage:"Export image...",export:"Save to...",copyToClipboard:"Copy to clipboard",copyLink:"Copy link",save:"Save to current file",saveAs:"Save as",load:"Open",getShareableLink:"Get shareable link",close:"Close",selectLanguage:"Select language",scrollBackToContent:"Scroll back to content",zoomIn:"Zoom in",zoomOut:"Zoom out",resetZoom:"Reset zoom",menu:"Menu",done:"Done",edit:"Edit",undo:"Undo",redo:"Redo",resetLibrary:"Reset library",createNewRoom:"Create new room",fullScreen:"Full screen",darkMode:"Dark mode",lightMode:"Light mode",systemMode:"System mode",zenMode:"Zen mode",objectsSnapMode:"Snap to objects",exitZenMode:"Exit zen mode",cancel:"Cancel",clear:"Clear",remove:"Remove",embed:"Toggle embedding",publishLibrary:"Publish",submit:"Submit",confirm:"Confirm",embeddableInteractionButton:"Click to interact"},Bee={clearReset:"This will clear the whole canvas. Are you sure?",couldNotCreateShareableLink:"Couldn't create shareable link.",couldNotCreateShareableLinkTooBig:"Couldn't create shareable link: the scene is too big",couldNotLoadInvalidFile:"Couldn't load invalid file",importBackendFailed:"Importing from backend failed.",cannotExportEmptyCanvas:"Cannot export empty canvas.",couldNotCopyToClipboard:"Couldn't copy to clipboard.",decryptFailed:"Couldn't decrypt data.",uploadedSecurly:"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.",loadSceneOverridePrompt:"Loading external drawing will replace your existing content. Do you wish to continue?",collabStopOverridePrompt:`Stopping the session will overwrite your previous, locally stored drawing. Are you sure?

(If you want to keep your local drawing, simply close the browser tab instead.)`,errorAddingToLibrary:"Couldn't add item to the library",errorRemovingFromLibrary:"Couldn't remove item from the library",confirmAddLibrary:"This will add {{numShapes}} shape(s) to your library. Are you sure?",imageDoesNotContainScene:"This image does not seem to contain any scene data. Have you enabled scene embedding during export?",cannotRestoreFromImage:"Scene couldn't be restored from this image file",invalidSceneUrl:"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.",resetLibrary:"This will clear your library. Are you sure?",removeItemsFromsLibrary:"Delete {{count}} item(s) from library?",invalidEncryptionKey:"Encryption key must be of 22 characters. Live collaboration is disabled.",collabOfflineWarning:`No internet connection available.
Your changes will not be saved!`},Ree={unsupportedFileType:"Unsupported file type.",imageInsertError:"Couldn't insert image. Try again later...",fileTooBig:"File is too big. Maximum allowed size is {{maxSize}}.",svgImageInsertError:"Couldn't insert SVG image. The SVG markup looks invalid.",failedToFetchImage:"Failed to fetch image.",cannotResolveCollabServer:"Couldn't connect to the collab server. Please reload the page and try again.",importLibraryError:"Couldn't load library",saveLibraryError:"Couldn't save library to storage. Please save your library to a file locally to make sure you don't lose changes.",collabSaveFailed:"Couldn't save to the backend database. If problems persist, you should save your file locally to ensure you don't lose your work.",collabSaveFailed_sizeExceeded:"Couldn't save to the backend database, the canvas seems to be too big. You should save the file locally to ensure you don't lose your work.",imageToolNotSupported:"Images are disabled.",brave_measure_text_error:{line1:"Looks like you are using Brave browser with the <bold>Aggressively Block Fingerprinting</bold> setting enabled.",line2:"This could result in breaking the <bold>Text Elements</bold> in your drawings.",line3:"We strongly recommend disabling this setting. You can follow <link>these steps</link> on how to do so.",line4:"If disabling this setting doesn't fix the display of text elements, please open an <issueLink>issue</issueLink> on our GitHub, or write us on <discordLink>Discord</discordLink>"},libraryElementTypeError:{embeddable:"Embeddable elements cannot be added to the library.",iframe:"IFrame elements cannot be added to the library.",image:"Support for adding images to the library coming soon!"},asyncPasteFailedOnRead:"Couldn't paste (couldn't read from system clipboard).",asyncPasteFailedOnParse:"Couldn't paste.",copyToSystemClipboardFailed:"Couldn't copy to clipboard."},Dee={selection:"Selection",image:"Insert image",rectangle:"Rectangle",diamond:"Diamond",ellipse:"Ellipse",arrow:"Arrow",line:"Line",freedraw:"Draw",text:"Text",library:"Library",lock:"Keep selected tool active after drawing",penMode:"Pen mode - prevent touch",link:"Add / Update link for a selected shape",eraser:"Eraser",frame:"Frame tool",magicframe:"Wireframe to code",embeddable:"Web Embed",laser:"Laser pointer",hand:"Hand (panning tool)",extraTools:"More tools",mermaidToExcalidraw:"Mermaid to Excalidraw"},Pee={rectangle:"Rectangle",diamond:"Diamond",ellipse:"Ellipse",arrow:"Arrow",line:"Line",freedraw:"Freedraw",text:"Text",image:"Image",group:"Group",frame:"Frame",magicframe:"Wireframe to code",embeddable:"Web Embed",selection:"Selection",iframe:"IFrame"},Lee={canvasActions:"Canvas actions",selectedShapeActions:"Selected shape actions",shapes:"Shapes"},Nee={dismissSearch:"Escape to dismiss search",canvasPanning:"To move canvas, hold mouse wheel or spacebar while dragging, or use the hand tool",linearElement:"Click to start multiple points, drag for single line",arrowTool:"Click to start multiple points, drag for single line. Press {{arrowShortcut}} again to change arrow type.",freeDraw:"Click and drag, release when you're finished",text:"Tip: you can also add text by double-clicking anywhere with the selection tool",embeddable:"Click-drag to create a website embed",text_selected:"Double-click or press ENTER to edit text",text_editing:"Press Escape or CtrlOrCmd+ENTER to finish editing",linearElementMulti:"Click on last point or press Escape or Enter to finish",lockAngle:"You can constrain angle by holding SHIFT",resize:`You can constrain proportions by holding SHIFT while resizing,
hold ALT to resize from the center`,resizeImage:`You can resize freely by holding SHIFT,
hold ALT to resize from the center`,rotate:"You can constrain angles by holding SHIFT while rotating",lineEditor_info:"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points",lineEditor_pointSelected:`Press Delete to remove point(s),
CtrlOrCmd+D to duplicate, or drag to move`,lineEditor_nothingSelected:`Select a point to edit (hold SHIFT to select multiple),
or hold Alt and click to add new points`,placeImage:"Click to place the image, or click and drag to set its size manually",publishLibrary:"Publish your own library",bindTextToElement:"Press enter to add text",createFlowchart:"Hold CtrlOrCmd and Arrow key to create a flowchart",deepBoxSelect:"Hold CtrlOrCmd to deep select, and to prevent dragging",eraserRevert:"Hold Alt to revert the elements marked for deletion",firefox_clipboard_write:'This feature can likely be enabled by setting the "dom.events.asyncClipboard.clipboardItem" flag to "true". To change the browser flags in Firefox, visit the "about:config" page.',disableSnapping:"Hold CtrlOrCmd to disable snapping",enterCropEditor:"Double click the image or press ENTER to crop the image",leaveCropEditor:"Click outside the image or press ENTER or ESCAPE to finish cropping"},$ee={cannotShowPreview:"Cannot show preview",canvasTooBig:"The canvas may be too big.",canvasTooBigTip:"Tip: try moving the farthest elements a bit closer together."},Fee={headingMain:"Encountered an error. Try <button>reloading the page</button>.",clearCanvasMessage:"If reloading doesn't work, try <button>clearing the canvas</button>.",clearCanvasCaveat:" This will result in loss of work ",trackedToSentry:"The error with identifier {{eventId}} was tracked on our system.",openIssueMessage:"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our <button>bug tracker</button>. Please include information below by copying and pasting into the GitHub issue.",sceneContent:"Scene content:"},jee={or:"Or"},Oee={desc_intro:"Invite people to collaborate on your drawing.",desc_privacy:"Don't worry, the session is end-to-end encrypted, and fully private. Not even our server can see what you draw.",button_startSession:"Start session",button_stopSession:"Stop session",desc_inProgressIntro:"Live-collaboration session is now in progress.",desc_shareLink:"Share this link with anyone you want to collaborate with:",desc_exitSession:"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.",shareTitle:"Join a live collaboration session on Excalidraw"},zee={title:"Error"},Qee={disk_title:"Save to disk",disk_details:"Export the scene data to a file from which you can import later.",disk_button:"Save to file",link_title:"Shareable link",link_details:"Export as a read-only link.",link_button:"Export to Link",excalidrawplus_description:"Save the scene to your Excalidraw+ workspace.",excalidrawplus_button:"Export",excalidrawplus_exportError:"Couldn't export to Excalidraw+ at this moment..."},Hee={blog:"Read our blog",click:"click",deepSelect:"Deep select",deepBoxSelect:"Deep select within box, and prevent dragging",createFlowchart:"Create a flowchart from a generic element",navigateFlowchart:"Navigate a flowchart",curvedArrow:"Curved arrow",curvedLine:"Curved line",documentation:"Documentation",doubleClick:"double-click",drag:"drag",editor:"Editor",editLineArrowPoints:"Edit line/arrow points",editText:"Edit text / add label",github:"Found an issue? Submit",howto:"Follow our guides",or:"or",preventBinding:"Prevent arrow binding",tools:"Tools",shortcuts:"Keyboard shortcuts",textFinish:"Finish editing (text editor)",textNewLine:"Add new line (text editor)",title:"Help",view:"View",zoomToFit:"Zoom to fit all elements",zoomToSelection:"Zoom to selection",toggleElementLock:"Lock/unlock selection",movePageUpDown:"Move page up/down",movePageLeftRight:"Move page left/right",cropStart:"Crop image",cropFinish:"Finish image cropping"},Gee={title:"Clear canvas"},Wee={title:"Publish library",itemName:"Item name",authorName:"Author name",githubUsername:"GitHub username",twitterUsername:"Twitter username",libraryName:"Library name",libraryDesc:"Library description",website:"Website",placeholder:{authorName:"Your name or username",libraryName:"Name of your library",libraryDesc:"Description of your library to help people understand its usage",githubHandle:"GitHub handle (optional), so you can edit the library once submitted for review",twitterHandle:"Twitter username (optional), so we know who to credit when promoting over Twitter",website:"Link to your personal website or elsewhere (optional)"},errors:{required:"Required",website:"Enter a valid URL"},noteDescription:"Submit your library to be included in the <link>public library repository</link> for other people to use in their drawings.",noteGuidelines:"The library needs to be manually approved first. Please read the <link>guidelines</link> before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required.",noteLicense:"By submitting, you agree the library will be published under the <link>MIT License</link>, which in short means anyone can use them without restrictions.",noteItems:"Each library item must have its own name so it's filterable. The following library items will be included:",atleastOneLibItem:"Please select at least one library item to get started",republishWarning:"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},Vee={title:"Library submitted",content:"Thank you {{authorName}}. Your library has been submitted for review. You can track the status <link>here</link>"},Yee={resetLibrary:"Reset library",removeItemsFromLib:"Remove selected items from library"},Kee={header:"Export image",label:{withBackground:"Background",onlySelected:"Only selected",darkMode:"Dark mode",embedScene:"Embed scene",scale:"Scale",padding:"Padding"},tooltip:{embedScene:`Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.
Will increase exported file size.`},title:{exportToPng:"Export to PNG",exportToSvg:"Export to SVG",copyPngToClipboard:"Copy PNG to clipboard"},button:{exportToPng:"PNG",exportToSvg:"SVG",copyPngToClipboard:"Copy to clipboard"}},Xee={tooltip:"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.",link:"Blog post on end-to-end encryption in Excalidraw"},Zee={angle:"Angle",shapes:"Shapes",height:"Height",scene:"Scene",selected:"Selected",storage:"Storage",fullTitle:"Canvas & Shape properties",title:"Properties",generalStats:"General",elementProperties:"Shape properties",total:"Total",version:"Version",versionCopy:"Click to copy",versionNotAvailable:"Version not available",width:"Width"},qee={addedToLibrary:"Added to library",copyStyles:"Copied styles.",copyToClipboard:"Copied to clipboard.",copyToClipboardAsPng:`Copied {{exportSelection}} to clipboard as PNG
({{exportColorScheme}})`,copyToClipboardAsSvg:`Copied {{exportSelection}} to clipboard as SVG
({{exportColorScheme}})`,fileSaved:"File saved.",fileSavedToFilename:"Saved to {filename}",canvas:"canvas",selection:"selection",pasteAsSingleElement:`Use {{shortcut}} to paste as a single element,
or paste into an existing text editor`,unableToEmbed:"Embedding this url is currently not allowed. Raise an issue on GitHub to request the url whitelisted",unrecognizedLinkFormat:"The link you embedded does not match the expected format. Please try to paste the 'embed' string provided by the source site",elementLinkCopied:"Link copied to clipboard"},Jee={transparent:"Transparent",black:"Black",white:"White",red:"Red",pink:"Pink",grape:"Grape",violet:"Violet",gray:"Gray",blue:"Blue",cyan:"Cyan",teal:"Teal",green:"Green",yellow:"Yellow",orange:"Orange",bronze:"Bronze"},ete={app:{center_heading:"All your data is saved locally in your browser.",center_heading_plus:"Did you want to go to the Excalidraw+ instead?",menuHint:"Export, preferences, languages, ..."},defaults:{menuHint:"Export, preferences, and more...",center_heading:"Diagrams. Made. Simple.",toolbarHint:"Pick a tool & Start drawing!",helpHint:"Shortcuts & help"}},tte={mostUsedCustomColors:"Most used custom colors",colors:"Colors",shades:"Shades",hexCode:"Hex code",noShades:"No shades available for this color"},nte={action:{exportToImage:{title:"Export as image",button:"Export as image",description:"Export the scene data as an image from which you can import later."},saveToDisk:{title:"Save to disk",button:"Save to disk",description:"Export the scene data to a file from which you can import later."},excalidrawPlus:{title:"Excalidraw+",button:"Export to Excalidraw+",description:"Save the scene to your Excalidraw+ workspace."}},modal:{loadFromFile:{title:"Load from file",button:"Load from file",description:"Loading from a file will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first using one of the options below."},shareableLink:{title:"Load from link",button:"Replace my content",description:"Loading external drawing will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first by using one of the options below."}}},rte={title:"Mermaid to Excalidraw",button:"Insert",description:"Currently only <flowchartLink>Flowchart</flowchartLink>,<sequenceLink> Sequence, </sequenceLink> and <classLink>Class </classLink>Diagrams are supported. The other types will be rendered as image in Excalidraw.",syntax:"Mermaid Syntax",preview:"Preview"},ite={placeholder:"Quick search"},ate={badge:{old:"old"},sceneFonts:"In this scene",availableFonts:"Available fonts",empty:"No fonts found"},ote={empty:"No users found",hint:{text:"Click on user to follow",followStatus:"You're currently following this user",inCall:"User is in a voice call",micMuted:"User's microphone is muted",isSpeaking:"User is speaking"}},ste={title:"Command palette",shortcuts:{select:"Select",confirm:"Confirm",close:"Close"},recents:"Recently used",search:{placeholder:"Search menus, commands, and discover hidden gems",noMatch:"No matching commands..."},itemNotAvailable:"Command is not available...",shortcutHint:"For Command palette, use {{shortcut}}"},$T={labels:See,elementLink:Iee,library:kee,search:Mee,buttons:Tee,alerts:Bee,errors:Ree,toolBar:Dee,element:Pee,headings:Lee,hints:Nee,canvasError:$ee,errorSplash:Fee,shareDialog:jee,roomDialog:Oee,errorDialog:zee,exportDialog:Qee,helpDialog:Hee,clearCanvasDialog:Gee,publishDialog:Wee,publishSuccessDialog:Vee,confirmDialog:Yee,imageExportDialog:Kee,encrypted:Xee,stats:Zee,toast:qee,colors:Jee,welcomeScreen:ete,colorPicker:tte,overwriteConfirm:nte,mermaid:rte,quickSearch:ite,fontList:ate,userList:ote,commandPalette:ste},lte=94,cte=17,dte=71,ute=52,fte=83,hte=86,pte=61,gte=100,mte=80,Ute=100,vte=96,yte=97,bte=84,Ate=76,wte=99,Ete=86,xte=77,_te=76,Cte=76,Ste=91,Ite=98,kte=90,Mte=36,Tte=76,Bte=18,Rte=83,Dte=100,Pte=87,Lte=48,Nte=77,$te=98,Fte=35,jte=93,Ote=75,zte=67,Qte=92,Hte=78,Gte=99,Wte=91,Vte=83,Yte=99,Kte=92,Xte=7,Zte=100,qte=100,Jte=100,ene=81,tne=44,nne=87,rne=93,ine=49,ane=100,one=22,sne=100,lne={"ar-SA":lte,"az-AZ":cte,"bg-BG":dte,"bn-BD":ute,"ca-ES":fte,"cs-CZ":hte,"da-DK":pte,"de-DE":gte,"el-GR":mte,en:Ute,"es-ES":vte,"eu-ES":yte,"fa-IR":bte,"fi-FI":Ate,"fr-FR":wte,"gl-ES":Ete,"he-IL":xte,"hi-IN":_te,"hu-HU":Cte,"id-ID":Ste,"it-IT":Ite,"ja-JP":kte,kaa:Mte,"kab-KAB":Tte,"kk-KZ":Bte,"km-KH":Rte,"ko-KR":Dte,"ku-TR":Pte,"lt-LT":Lte,"lv-LV":Nte,"mr-IN":$te,"my-MM":Fte,"nb-NO":jte,"nl-NL":Ote,"nn-NO":zte,"oc-FR":Qte,"pa-IN":Hte,"pl-PL":Gte,"pt-BR":Wte,"pt-PT":Vte,"ro-RO":Yte,"ru-RU":Kte,"si-LK":Xte,"sk-SK":Zte,"sl-SI":qte,"sv-SE":Jte,"ta-IN":ene,"th-TH":tne,"tr-TR":nne,"uk-UA":rne,"vi-VN":ine,"zh-CN":ane,"zh-HK":one,"zh-TW":sne},Dd=Mn((e,t)=>{N(),t.exports=ReactDOM}),MNe=Mn((e,t)=>{N(),function(){var n=this,r={};typeof e<"u"?t.exports=r:n.fuzzy=r,r.simpleFilter=function(a,o){return o.filter(function(s){return r.test(a,s)})},r.test=function(a,o){return r.match(a,o)!==null},r.match=function(a,o,s){s=s||{};var l=0,d=[],u=o.length,f=0,p=0,g=s.pre||"",v=s.post||"",c=s.caseSensitive&&o||o.toLowerCase(),h;a=s.caseSensitive&&a||a.toLowerCase();for(var m=0;m<u;m++)h=o[m],c[m]===a[l]?(h=g+h+v,l+=1,p+=1+p):p=0,f+=p,d[d.length]=h;return l===a.length?(f=c===a?1/0:f,{rendered:d.join(""),score:f}):null},r.filter=function(a,o,s){return!o||o.length===0?[]:typeof a!="string"?o:(s=s||{},o.reduce(function(l,d,u,f){var p=d;s.extract&&(p=s.extract(d));var g=r.match(a,p,s);return g!=null&&(l[l.length]={string:g.rendered,score:g.score,index:u,original:d}),l},[]).sort(function(l,d){var u=d.score-l.score;return u||l.index-d.index}))}}()}),TNe=Mn(e=>{N();var t=Fe();function n(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:n,a=t.useState,o=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function d(g,v){var c=v(),h=a({inst:{value:c,getSnapshot:v}}),m=h[0].inst,U=h[1];return s(function(){m.value=c,m.getSnapshot=v,u(m)&&U({inst:m})},[g,c,v]),o(function(){return u(m)&&U({inst:m}),g(function(){u(m)&&U({inst:m})})},[g]),l(c),c}function u(g){var v=g.getSnapshot;g=g.value;try{var c=v();return!r(g,c)}catch{return!0}}function f(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;e.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p}),BNe=Mn((e,t)=>{N(),t.exports=TNe()}),RNe=Mn(e=>{N();var t=Fe(),n=BNe();function r(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var a=typeof Object.is=="function"?Object.is:r,o=n.useSyncExternalStore,s=t.useRef,l=t.useEffect,d=t.useMemo,u=t.useDebugValue;e.useSyncExternalStoreWithSelector=function(f,p,g,v,c){var h=s(null);if(h.current===null){var m={hasValue:!1,value:null};h.current=m}else m=h.current;h=d(function(){function b(I){if(!w){if(w=!0,E=I,I=v(I),c!==void 0&&m.hasValue){var S=m.value;if(c(S,I))return x=S}return x=I}if(S=x,a(E,I))return S;var M=v(I);return c!==void 0&&c(S,M)?S:(E=I,x=M)}var w=!1,E,x,C=g===void 0?null:g;return[function(){return b(p())},C===null?void 0:function(){return b(C())}]},[p,g,v,c]);var U=o(f,h[0],h[1]);return l(function(){m.hasValue=!0,m.value=U},[U]),u(U),U}}),DNe=Mn((e,t)=>{N(),t.exports=RNe()}),cne=Mn((e,t)=>{N(),(function(){var n,r="4.17.21",a=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",l="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",u=500,f="__lodash_placeholder__",p=1,g=2,v=4,c=1,h=2,m=1,U=2,b=4,w=8,E=16,x=32,C=64,I=128,S=256,M=512,R=30,D="...",L=800,j=16,re=1,J=2,H=3,ne=1/0,Z=9007199254740991,se=17976931348623157e292,O=NaN,V=4294967295,de=V-1,oe=V>>>1,me=[["ary",I],["bind",m],["bindKey",U],["curry",w],["curryRight",E],["flip",M],["partial",x],["partialRight",C],["rearg",S]],ve="[object Arguments]",xe="[object Array]",le="[object AsyncFunction]",he="[object Boolean]",ge="[object Date]",Ee="[object DOMException]",ze="[object Error]",at="[object Function]",q="[object GeneratorFunction]",ae="[object Map]",Ae="[object Number]",$e="[object Null]",Ce="[object Object]",je="[object Promise]",Oe="[object Proxy]",Ke="[object RegExp]",qe="[object Set]",We="[object String]",vt="[object Symbol]",_e="[object Undefined]",it="[object WeakMap]",St="[object WeakSet]",Gt="[object ArrayBuffer]",nn="[object DataView]",Zt="[object Float32Array]",ur="[object Float64Array]",gr="[object Int8Array]",X="[object Int16Array]",Ve="[object Int32Array]",rt="[object Uint8Array]",At="[object Uint8ClampedArray]",pe="[object Uint16Array]",Pe="[object Uint32Array]",z=/\b__p \+= '';/g,nt=/\b(__p \+=) '' \+/g,Yt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,T=/&(?:amp|lt|gt|quot|#39);/g,Be=/[&<>"']/g,Le=RegExp(T.source),G=RegExp(Be.source),ue=/<%-([\s\S]+?)%>/g,ke=/<%([\s\S]+?)%>/g,Dt=/<%=([\s\S]+?)%>/g,wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,It=/^\w*$/,_n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jo=/[\\^$.*+?()[\]{}|]/g,jr=RegExp(Jo.source),wn=/^\s+/,Ai=/\s/,ia=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ia=/\{\n\/\* \[wrapped with (.+)\] \*/,s1=/,? & /,l1=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,li=/[()=,{}\[\]\/\s]/,go=/\\(\\)?/g,Ni=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ps=/\w*$/,Ls=/^[-+]0x[0-9a-f]+$/i,Gb=/^0b[01]+$/i,Gae=/^\[object .+?Constructor\]$/,Wae=/^0o[0-7]+$/i,Vae=/^(?:0|[1-9]\d*)$/,Yae=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Wb=/($^)/,Kae=/['\n\r\u2028\u2029\\]/g,Vb="\\ud800-\\udfff",Xae="\\u0300-\\u036f",Zae="\\ufe20-\\ufe2f",qae="\\u20d0-\\u20ff",LB=Xae+Zae+qae,NB="\\u2700-\\u27bf",$B="a-z\\xdf-\\xf6\\xf8-\\xff",Jae="\\xac\\xb1\\xd7\\xf7",eoe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",toe="\\u2000-\\u206f",noe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",FB="A-Z\\xc0-\\xd6\\xd8-\\xde",jB="\\ufe0e\\ufe0f",OB=Jae+eoe+toe+noe,d7="[']",roe="["+Vb+"]",zB="["+OB+"]",Yb="["+LB+"]",QB="\\d+",ioe="["+NB+"]",HB="["+$B+"]",GB="[^"+Vb+OB+QB+NB+$B+FB+"]",u7="\\ud83c[\\udffb-\\udfff]",aoe="(?:"+Yb+"|"+u7+")",WB="[^"+Vb+"]",f7="(?:\\ud83c[\\udde6-\\uddff]){2}",h7="[\\ud800-\\udbff][\\udc00-\\udfff]",c1="["+FB+"]",VB="\\u200d",YB="(?:"+HB+"|"+GB+")",ooe="(?:"+c1+"|"+GB+")",KB="(?:"+d7+"(?:d|ll|m|re|s|t|ve))?",XB="(?:"+d7+"(?:D|LL|M|RE|S|T|VE))?",ZB=aoe+"?",qB="["+jB+"]?",soe="(?:"+VB+"(?:"+[WB,f7,h7].join("|")+")"+qB+ZB+")*",loe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",coe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",JB=qB+ZB+soe,doe="(?:"+[ioe,f7,h7].join("|")+")"+JB,uoe="(?:"+[WB+Yb+"?",Yb,f7,h7,roe].join("|")+")",foe=RegExp(d7,"g"),hoe=RegExp(Yb,"g"),p7=RegExp(u7+"(?="+u7+")|"+uoe+JB,"g"),poe=RegExp([c1+"?"+HB+"+"+KB+"(?="+[zB,c1,"$"].join("|")+")",ooe+"+"+XB+"(?="+[zB,c1+YB,"$"].join("|")+")",c1+"?"+YB+"+"+KB,c1+"+"+XB,coe,loe,QB,doe].join("|"),"g"),goe=RegExp("["+VB+Vb+LB+jB+"]"),moe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Uoe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],voe=-1,Tr={};Tr[Zt]=Tr[ur]=Tr[gr]=Tr[X]=Tr[Ve]=Tr[rt]=Tr[At]=Tr[pe]=Tr[Pe]=!0,Tr[ve]=Tr[xe]=Tr[Gt]=Tr[he]=Tr[nn]=Tr[ge]=Tr[ze]=Tr[at]=Tr[ae]=Tr[Ae]=Tr[Ce]=Tr[Ke]=Tr[qe]=Tr[We]=Tr[it]=!1;var wr={};wr[ve]=wr[xe]=wr[Gt]=wr[nn]=wr[he]=wr[ge]=wr[Zt]=wr[ur]=wr[gr]=wr[X]=wr[Ve]=wr[ae]=wr[Ae]=wr[Ce]=wr[Ke]=wr[qe]=wr[We]=wr[vt]=wr[rt]=wr[At]=wr[pe]=wr[Pe]=!0,wr[ze]=wr[at]=wr[it]=!1;var yoe={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},boe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Aoe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},woe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Eoe=parseFloat,xoe=parseInt,eR=typeof global=="object"&&global&&global.Object===Object&&global,_oe=typeof self=="object"&&self&&self.Object===Object&&self,aa=eR||_oe||Function("return this")(),g7=typeof e=="object"&&e&&!e.nodeType&&e,sp=g7&&typeof t=="object"&&t&&!t.nodeType&&t,tR=sp&&sp.exports===g7,m7=tR&&eR.process,Ns=function(){try{var Ue=sp&&sp.require&&sp.require("util").types;return Ue||m7&&m7.binding&&m7.binding("util")}catch{}}(),nR=Ns&&Ns.isArrayBuffer,rR=Ns&&Ns.isDate,iR=Ns&&Ns.isMap,aR=Ns&&Ns.isRegExp,oR=Ns&&Ns.isSet,sR=Ns&&Ns.isTypedArray;function es(Ue,He,Re){switch(Re.length){case 0:return Ue.call(He);case 1:return Ue.call(He,Re[0]);case 2:return Ue.call(He,Re[0],Re[1]);case 3:return Ue.call(He,Re[0],Re[1],Re[2])}return Ue.apply(He,Re)}function Coe(Ue,He,Re,kt){for(var un=-1,Wn=Ue==null?0:Ue.length;++un<Wn;){var $i=Ue[un];He(kt,$i,Re($i),Ue)}return kt}function $s(Ue,He){for(var Re=-1,kt=Ue==null?0:Ue.length;++Re<kt&&He(Ue[Re],Re,Ue)!==!1;);return Ue}function Soe(Ue,He){for(var Re=Ue==null?0:Ue.length;Re--&&He(Ue[Re],Re,Ue)!==!1;);return Ue}function lR(Ue,He){for(var Re=-1,kt=Ue==null?0:Ue.length;++Re<kt;)if(!He(Ue[Re],Re,Ue))return!1;return!0}function Uf(Ue,He){for(var Re=-1,kt=Ue==null?0:Ue.length,un=0,Wn=[];++Re<kt;){var $i=Ue[Re];He($i,Re,Ue)&&(Wn[un++]=$i)}return Wn}function Kb(Ue,He){var Re=Ue==null?0:Ue.length;return!!Re&&d1(Ue,He,0)>-1}function U7(Ue,He,Re){for(var kt=-1,un=Ue==null?0:Ue.length;++kt<un;)if(Re(He,Ue[kt]))return!0;return!1}function Or(Ue,He){for(var Re=-1,kt=Ue==null?0:Ue.length,un=Array(kt);++Re<kt;)un[Re]=He(Ue[Re],Re,Ue);return un}function vf(Ue,He){for(var Re=-1,kt=He.length,un=Ue.length;++Re<kt;)Ue[un+Re]=He[Re];return Ue}function v7(Ue,He,Re,kt){var un=-1,Wn=Ue==null?0:Ue.length;for(kt&&Wn&&(Re=Ue[++un]);++un<Wn;)Re=He(Re,Ue[un],un,Ue);return Re}function Ioe(Ue,He,Re,kt){var un=Ue==null?0:Ue.length;for(kt&&un&&(Re=Ue[--un]);un--;)Re=He(Re,Ue[un],un,Ue);return Re}function y7(Ue,He){for(var Re=-1,kt=Ue==null?0:Ue.length;++Re<kt;)if(He(Ue[Re],Re,Ue))return!0;return!1}var koe=b7("length");function Moe(Ue){return Ue.split("")}function Toe(Ue){return Ue.match(l1)||[]}function cR(Ue,He,Re){var kt;return Re(Ue,function(un,Wn,$i){if(He(un,Wn,$i))return kt=Wn,!1}),kt}function Xb(Ue,He,Re,kt){for(var un=Ue.length,Wn=Re+(kt?1:-1);kt?Wn--:++Wn<un;)if(He(Ue[Wn],Wn,Ue))return Wn;return-1}function d1(Ue,He,Re){return He===He?Qoe(Ue,He,Re):Xb(Ue,dR,Re)}function Boe(Ue,He,Re,kt){for(var un=Re-1,Wn=Ue.length;++un<Wn;)if(kt(Ue[un],He))return un;return-1}function dR(Ue){return Ue!==Ue}function uR(Ue,He){var Re=Ue==null?0:Ue.length;return Re?w7(Ue,He)/Re:O}function b7(Ue){return function(He){return He==null?n:He[Ue]}}function A7(Ue){return function(He){return Ue==null?n:Ue[He]}}function fR(Ue,He,Re,kt,un){return un(Ue,function(Wn,$i,mr){Re=kt?(kt=!1,Wn):He(Re,Wn,$i,mr)}),Re}function Roe(Ue,He){var Re=Ue.length;for(Ue.sort(He);Re--;)Ue[Re]=Ue[Re].value;return Ue}function w7(Ue,He){for(var Re,kt=-1,un=Ue.length;++kt<un;){var Wn=He(Ue[kt]);Wn!==n&&(Re=Re===n?Wn:Re+Wn)}return Re}function E7(Ue,He){for(var Re=-1,kt=Array(Ue);++Re<Ue;)kt[Re]=He(Re);return kt}function Doe(Ue,He){return Or(He,function(Re){return[Re,Ue[Re]]})}function hR(Ue){return Ue&&Ue.slice(0,UR(Ue)+1).replace(wn,"")}function ts(Ue){return function(He){return Ue(He)}}function x7(Ue,He){return Or(He,function(Re){return Ue[Re]})}function A2(Ue,He){return Ue.has(He)}function pR(Ue,He){for(var Re=-1,kt=Ue.length;++Re<kt&&d1(He,Ue[Re],0)>-1;);return Re}function gR(Ue,He){for(var Re=Ue.length;Re--&&d1(He,Ue[Re],0)>-1;);return Re}function Poe(Ue,He){for(var Re=Ue.length,kt=0;Re--;)Ue[Re]===He&&++kt;return kt}var Loe=A7(yoe),Noe=A7(boe);function $oe(Ue){return"\\"+woe[Ue]}function Foe(Ue,He){return Ue==null?n:Ue[He]}function u1(Ue){return goe.test(Ue)}function joe(Ue){return moe.test(Ue)}function Ooe(Ue){for(var He,Re=[];!(He=Ue.next()).done;)Re.push(He.value);return Re}function _7(Ue){var He=-1,Re=Array(Ue.size);return Ue.forEach(function(kt,un){Re[++He]=[un,kt]}),Re}function mR(Ue,He){return function(Re){return Ue(He(Re))}}function yf(Ue,He){for(var Re=-1,kt=Ue.length,un=0,Wn=[];++Re<kt;){var $i=Ue[Re];($i===He||$i===f)&&(Ue[Re]=f,Wn[un++]=Re)}return Wn}function Zb(Ue){var He=-1,Re=Array(Ue.size);return Ue.forEach(function(kt){Re[++He]=kt}),Re}function zoe(Ue){var He=-1,Re=Array(Ue.size);return Ue.forEach(function(kt){Re[++He]=[kt,kt]}),Re}function Qoe(Ue,He,Re){for(var kt=Re-1,un=Ue.length;++kt<un;)if(Ue[kt]===He)return kt;return-1}function Hoe(Ue,He,Re){for(var kt=Re+1;kt--;)if(Ue[kt]===He)return kt;return kt}function f1(Ue){return u1(Ue)?Woe(Ue):koe(Ue)}function Il(Ue){return u1(Ue)?Voe(Ue):Moe(Ue)}function UR(Ue){for(var He=Ue.length;He--&&Ai.test(Ue.charAt(He)););return He}var Goe=A7(Aoe);function Woe(Ue){for(var He=p7.lastIndex=0;p7.test(Ue);)++He;return He}function Voe(Ue){return Ue.match(p7)||[]}function Yoe(Ue){return Ue.match(poe)||[]}var Koe=function Ue(He){He=He==null?aa:bf.defaults(aa.Object(),He,bf.pick(aa,Uoe));var Re=He.Array,kt=He.Date,un=He.Error,Wn=He.Function,$i=He.Math,mr=He.Object,C7=He.RegExp,Xoe=He.String,Fs=He.TypeError,qb=Re.prototype,Zoe=Wn.prototype,h1=mr.prototype,Jb=He["__core-js_shared__"],e6=Zoe.toString,tr=h1.hasOwnProperty,qoe=0,vR=function(){var y=/[^.]+$/.exec(Jb&&Jb.keys&&Jb.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),t6=h1.toString,Joe=e6.call(mr),ese=aa._,tse=C7("^"+e6.call(tr).replace(Jo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),n6=tR?He.Buffer:n,Af=He.Symbol,r6=He.Uint8Array,yR=n6?n6.allocUnsafe:n,i6=mR(mr.getPrototypeOf,mr),bR=mr.create,AR=h1.propertyIsEnumerable,a6=qb.splice,wR=Af?Af.isConcatSpreadable:n,w2=Af?Af.iterator:n,lp=Af?Af.toStringTag:n,o6=function(){try{var y=hp(mr,"defineProperty");return y({},"",{}),y}catch{}}(),nse=He.clearTimeout!==aa.clearTimeout&&He.clearTimeout,rse=kt&&kt.now!==aa.Date.now&&kt.now,ise=He.setTimeout!==aa.setTimeout&&He.setTimeout,s6=$i.ceil,l6=$i.floor,S7=mr.getOwnPropertySymbols,ase=n6?n6.isBuffer:n,ER=He.isFinite,ose=qb.join,sse=mR(mr.keys,mr),Fi=$i.max,ka=$i.min,lse=kt.now,cse=He.parseInt,xR=$i.random,dse=qb.reverse,I7=hp(He,"DataView"),E2=hp(He,"Map"),k7=hp(He,"Promise"),p1=hp(He,"Set"),x2=hp(He,"WeakMap"),_2=hp(mr,"create"),c6=x2&&new x2,g1={},use=pp(I7),fse=pp(E2),hse=pp(k7),pse=pp(p1),gse=pp(x2),d6=Af?Af.prototype:n,C2=d6?d6.valueOf:n,_R=d6?d6.toString:n;function W(y){if(ci(y)&&!hn(y)&&!(y instanceof Cn)){if(y instanceof js)return y;if(tr.call(y,"__wrapped__"))return CD(y)}return new js(y)}var m1=function(){function y(){}return function(A){if(!Yr(A))return{};if(bR)return bR(A);y.prototype=A;var _=new y;return y.prototype=n,_}}();function u6(){}function js(y,A){this.__wrapped__=y,this.__actions__=[],this.__chain__=!!A,this.__index__=0,this.__values__=n}W.templateSettings={escape:ue,evaluate:ke,interpolate:Dt,variable:"",imports:{_:W}},W.prototype=u6.prototype,W.prototype.constructor=W,js.prototype=m1(u6.prototype),js.prototype.constructor=js;function Cn(y){this.__wrapped__=y,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=V,this.__views__=[]}function mse(){var y=new Cn(this.__wrapped__);return y.__actions__=mo(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=mo(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=mo(this.__views__),y}function Use(){if(this.__filtered__){var y=new Cn(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}function vse(){var y=this.__wrapped__.value(),A=this.__dir__,_=hn(y),B=A<0,F=_?y.length:0,K=Mle(0,F,this.__views__),ce=K.start,fe=K.end,ye=fe-ce,Xe=B?fe:ce-1,Ze=this.__iteratees__,et=Ze.length,yt=0,Lt=ka(ye,this.__takeCount__);if(!_||!B&&F==ye&&Lt==ye)return KR(y,this.__actions__);var qt=[];e:for(;ye--&&yt<Lt;){Xe+=A;for(var vn=-1,Jt=y[Xe];++vn<et;){var En=Ze[vn],Tn=En.iteratee,is=En.type,Ja=Tn(Jt);if(is==J)Jt=Ja;else if(!Ja){if(is==re)continue e;break e}}qt[yt++]=Jt}return qt}Cn.prototype=m1(u6.prototype),Cn.prototype.constructor=Cn;function cp(y){var A=-1,_=y==null?0:y.length;for(this.clear();++A<_;){var B=y[A];this.set(B[0],B[1])}}function yse(){this.__data__=_2?_2(null):{},this.size=0}function bse(y){var A=this.has(y)&&delete this.__data__[y];return this.size-=A?1:0,A}function Ase(y){var A=this.__data__;if(_2){var _=A[y];return _===d?n:_}return tr.call(A,y)?A[y]:n}function wse(y){var A=this.__data__;return _2?A[y]!==n:tr.call(A,y)}function Ese(y,A){var _=this.__data__;return this.size+=this.has(y)?0:1,_[y]=_2&&A===n?d:A,this}cp.prototype.clear=yse,cp.prototype.delete=bse,cp.prototype.get=Ase,cp.prototype.has=wse,cp.prototype.set=Ese;function $d(y){var A=-1,_=y==null?0:y.length;for(this.clear();++A<_;){var B=y[A];this.set(B[0],B[1])}}function xse(){this.__data__=[],this.size=0}function _se(y){var A=this.__data__,_=f6(A,y);if(_<0)return!1;var B=A.length-1;return _==B?A.pop():a6.call(A,_,1),--this.size,!0}function Cse(y){var A=this.__data__,_=f6(A,y);return _<0?n:A[_][1]}function Sse(y){return f6(this.__data__,y)>-1}function Ise(y,A){var _=this.__data__,B=f6(_,y);return B<0?(++this.size,_.push([y,A])):_[B][1]=A,this}$d.prototype.clear=xse,$d.prototype.delete=_se,$d.prototype.get=Cse,$d.prototype.has=Sse,$d.prototype.set=Ise;function Fd(y){var A=-1,_=y==null?0:y.length;for(this.clear();++A<_;){var B=y[A];this.set(B[0],B[1])}}function kse(){this.size=0,this.__data__={hash:new cp,map:new(E2||$d),string:new cp}}function Mse(y){var A=x6(this,y).delete(y);return this.size-=A?1:0,A}function Tse(y){return x6(this,y).get(y)}function Bse(y){return x6(this,y).has(y)}function Rse(y,A){var _=x6(this,y),B=_.size;return _.set(y,A),this.size+=_.size==B?0:1,this}Fd.prototype.clear=kse,Fd.prototype.delete=Mse,Fd.prototype.get=Tse,Fd.prototype.has=Bse,Fd.prototype.set=Rse;function dp(y){var A=-1,_=y==null?0:y.length;for(this.__data__=new Fd;++A<_;)this.add(y[A])}function Dse(y){return this.__data__.set(y,d),this}function Pse(y){return this.__data__.has(y)}dp.prototype.add=dp.prototype.push=Dse,dp.prototype.has=Pse;function kl(y){var A=this.__data__=new $d(y);this.size=A.size}function Lse(){this.__data__=new $d,this.size=0}function Nse(y){var A=this.__data__,_=A.delete(y);return this.size=A.size,_}function $se(y){return this.__data__.get(y)}function Fse(y){return this.__data__.has(y)}function jse(y,A){var _=this.__data__;if(_ instanceof $d){var B=_.__data__;if(!E2||B.length<a-1)return B.push([y,A]),this.size=++_.size,this;_=this.__data__=new Fd(B)}return _.set(y,A),this.size=_.size,this}kl.prototype.clear=Lse,kl.prototype.delete=Nse,kl.prototype.get=$se,kl.prototype.has=Fse,kl.prototype.set=jse;function CR(y,A){var _=hn(y),B=!_&&gp(y),F=!_&&!B&&Cf(y),K=!_&&!B&&!F&&b1(y),ce=_||B||F||K,fe=ce?E7(y.length,Xoe):[],ye=fe.length;for(var Xe in y)(A||tr.call(y,Xe))&&!(ce&&(Xe=="length"||F&&(Xe=="offset"||Xe=="parent")||K&&(Xe=="buffer"||Xe=="byteLength"||Xe=="byteOffset")||Qd(Xe,ye)))&&fe.push(Xe);return fe}function SR(y){var A=y.length;return A?y[j7(0,A-1)]:n}function Ose(y,A){return _6(mo(y),up(A,0,y.length))}function zse(y){return _6(mo(y))}function M7(y,A,_){(_!==n&&!Ml(y[A],_)||_===n&&!(A in y))&&jd(y,A,_)}function S2(y,A,_){var B=y[A];(!(tr.call(y,A)&&Ml(B,_))||_===n&&!(A in y))&&jd(y,A,_)}function f6(y,A){for(var _=y.length;_--;)if(Ml(y[_][0],A))return _;return-1}function Qse(y,A,_,B){return wf(y,function(F,K,ce){A(B,F,_(F),ce)}),B}function IR(y,A){return y&&_c(A,oa(A),y)}function Hse(y,A){return y&&_c(A,vo(A),y)}function jd(y,A,_){A=="__proto__"&&o6?o6(y,A,{configurable:!0,enumerable:!0,value:_,writable:!0}):y[A]=_}function T7(y,A){for(var _=-1,B=A.length,F=Re(B),K=y==null;++_<B;)F[_]=K?n:uE(y,A[_]);return F}function up(y,A,_){return y===y&&(_!==n&&(y=y<=_?y:_),A!==n&&(y=y>=A?y:A)),y}function Os(y,A,_,B,F,K){var ce,fe=A&p,ye=A&g,Xe=A&v;if(_&&(ce=F?_(y,B,F,K):_(y)),ce!==n)return ce;if(!Yr(y))return y;var Ze=hn(y);if(Ze){if(ce=Ble(y),!fe)return mo(y,ce)}else{var et=Ma(y),yt=et==at||et==q;if(Cf(y))return qR(y,fe);if(et==Ce||et==ve||yt&&!F){if(ce=ye||yt?{}:UD(y),!fe)return ye?Ale(y,Hse(ce,y)):ble(y,IR(ce,y))}else{if(!wr[et])return F?y:{};ce=Rle(y,et,fe)}}K||(K=new kl);var Lt=K.get(y);if(Lt)return Lt;K.set(y,ce),WD(y)?y.forEach(function(Jt){ce.add(Os(Jt,A,_,Jt,y,K))}):HD(y)&&y.forEach(function(Jt,En){ce.set(En,Os(Jt,A,_,En,y,K))});var qt=Xe?ye?Z7:X7:ye?vo:oa,vn=Ze?n:qt(y);return $s(vn||y,function(Jt,En){vn&&(En=Jt,Jt=y[En]),S2(ce,En,Os(Jt,A,_,En,y,K))}),ce}function Gse(y){var A=oa(y);return function(_){return kR(_,y,A)}}function kR(y,A,_){var B=_.length;if(y==null)return!B;for(y=mr(y);B--;){var F=_[B],K=A[F],ce=y[F];if(ce===n&&!(F in y)||!K(ce))return!1}return!0}function MR(y,A,_){if(typeof y!="function")throw new Fs(s);return D2(function(){y.apply(n,_)},A)}function I2(y,A,_,B){var F=-1,K=Kb,ce=!0,fe=y.length,ye=[],Xe=A.length;if(!fe)return ye;_&&(A=Or(A,ts(_))),B?(K=U7,ce=!1):A.length>=a&&(K=A2,ce=!1,A=new dp(A));e:for(;++F<fe;){var Ze=y[F],et=_==null?Ze:_(Ze);if(Ze=B||Ze!==0?Ze:0,ce&&et===et){for(var yt=Xe;yt--;)if(A[yt]===et)continue e;ye.push(Ze)}else K(A,et,B)||ye.push(Ze)}return ye}var wf=rD(xc),TR=rD(R7,!0);function Wse(y,A){var _=!0;return wf(y,function(B,F,K){return _=!!A(B,F,K),_}),_}function h6(y,A,_){for(var B=-1,F=y.length;++B<F;){var K=y[B],ce=A(K);if(ce!=null&&(fe===n?ce===ce&&!rs(ce):_(ce,fe)))var fe=ce,ye=K}return ye}function Vse(y,A,_,B){var F=y.length;for(_=mn(_),_<0&&(_=-_>F?0:F+_),B=B===n||B>F?F:mn(B),B<0&&(B+=F),B=_>B?0:YD(B);_<B;)y[_++]=A;return y}function BR(y,A){var _=[];return wf(y,function(B,F,K){A(B,F,K)&&_.push(B)}),_}function ya(y,A,_,B,F){var K=-1,ce=y.length;for(_||(_=Ple),F||(F=[]);++K<ce;){var fe=y[K];A>0&&_(fe)?A>1?ya(fe,A-1,_,B,F):vf(F,fe):B||(F[F.length]=fe)}return F}var B7=iD(),RR=iD(!0);function xc(y,A){return y&&B7(y,A,oa)}function R7(y,A){return y&&RR(y,A,oa)}function p6(y,A){return Uf(A,function(_){return Hd(y[_])})}function fp(y,A){A=xf(A,y);for(var _=0,B=A.length;y!=null&&_<B;)y=y[Cc(A[_++])];return _&&_==B?y:n}function DR(y,A,_){var B=A(y);return hn(y)?B:vf(B,_(y))}function Za(y){return y==null?y===n?_e:$e:lp&&lp in mr(y)?kle(y):zle(y)}function D7(y,A){return y>A}function Yse(y,A){return y!=null&&tr.call(y,A)}function Kse(y,A){return y!=null&&A in mr(y)}function Xse(y,A,_){return y>=ka(A,_)&&y<Fi(A,_)}function P7(y,A,_){for(var B=_?U7:Kb,F=y[0].length,K=y.length,ce=K,fe=Re(K),ye=1/0,Xe=[];ce--;){var Ze=y[ce];ce&&A&&(Ze=Or(Ze,ts(A))),ye=ka(Ze.length,ye),fe[ce]=!_&&(A||F>=120&&Ze.length>=120)?new dp(ce&&Ze):n}Ze=y[0];var et=-1,yt=fe[0];e:for(;++et<F&&Xe.length<ye;){var Lt=Ze[et],qt=A?A(Lt):Lt;if(Lt=_||Lt!==0?Lt:0,!(yt?A2(yt,qt):B(Xe,qt,_))){for(ce=K;--ce;){var vn=fe[ce];if(!(vn?A2(vn,qt):B(y[ce],qt,_)))continue e}yt&&yt.push(qt),Xe.push(Lt)}}return Xe}function Zse(y,A,_,B){return xc(y,function(F,K,ce){A(B,_(F),K,ce)}),B}function k2(y,A,_){A=xf(A,y),y=AD(y,A);var B=y==null?y:y[Cc(Qs(A))];return B==null?n:es(B,y,_)}function PR(y){return ci(y)&&Za(y)==ve}function qse(y){return ci(y)&&Za(y)==Gt}function Jse(y){return ci(y)&&Za(y)==ge}function M2(y,A,_,B,F){return y===A?!0:y==null||A==null||!ci(y)&&!ci(A)?y!==y&&A!==A:ele(y,A,_,B,M2,F)}function ele(y,A,_,B,F,K){var ce=hn(y),fe=hn(A),ye=ce?xe:Ma(y),Xe=fe?xe:Ma(A);ye=ye==ve?Ce:ye,Xe=Xe==ve?Ce:Xe;var Ze=ye==Ce,et=Xe==Ce,yt=ye==Xe;if(yt&&Cf(y)){if(!Cf(A))return!1;ce=!0,Ze=!1}if(yt&&!Ze)return K||(K=new kl),ce||b1(y)?pD(y,A,_,B,F,K):Sle(y,A,ye,_,B,F,K);if(!(_&c)){var Lt=Ze&&tr.call(y,"__wrapped__"),qt=et&&tr.call(A,"__wrapped__");if(Lt||qt){var vn=Lt?y.value():y,Jt=qt?A.value():A;return K||(K=new kl),F(vn,Jt,_,B,K)}}return yt?(K||(K=new kl),Ile(y,A,_,B,F,K)):!1}function tle(y){return ci(y)&&Ma(y)==ae}function L7(y,A,_,B){var F=_.length,K=F,ce=!B;if(y==null)return!K;for(y=mr(y);F--;){var fe=_[F];if(ce&&fe[2]?fe[1]!==y[fe[0]]:!(fe[0]in y))return!1}for(;++F<K;){fe=_[F];var ye=fe[0],Xe=y[ye],Ze=fe[1];if(ce&&fe[2]){if(Xe===n&&!(ye in y))return!1}else{var et=new kl;if(B)var yt=B(Xe,Ze,ye,y,A,et);if(!(yt===n?M2(Ze,Xe,c|h,B,et):yt))return!1}}return!0}function LR(y){if(!Yr(y)||Nle(y))return!1;var A=Hd(y)?tse:Gae;return A.test(pp(y))}function nle(y){return ci(y)&&Za(y)==Ke}function rle(y){return ci(y)&&Ma(y)==qe}function ile(y){return ci(y)&&T6(y.length)&&!!Tr[Za(y)]}function NR(y){return typeof y=="function"?y:y==null?yo:typeof y=="object"?hn(y)?jR(y[0],y[1]):FR(y):aP(y)}function N7(y){if(!R2(y))return sse(y);var A=[];for(var _ in mr(y))tr.call(y,_)&&_!="constructor"&&A.push(_);return A}function ale(y){if(!Yr(y))return Ole(y);var A=R2(y),_=[];for(var B in y)B=="constructor"&&(A||!tr.call(y,B))||_.push(B);return _}function $7(y,A){return y<A}function $R(y,A){var _=-1,B=Uo(y)?Re(y.length):[];return wf(y,function(F,K,ce){B[++_]=A(F,K,ce)}),B}function FR(y){var A=J7(y);return A.length==1&&A[0][2]?yD(A[0][0],A[0][1]):function(_){return _===y||L7(_,y,A)}}function jR(y,A){return tE(y)&&vD(A)?yD(Cc(y),A):function(_){var B=uE(_,y);return B===n&&B===A?fE(_,y):M2(A,B,c|h)}}function g6(y,A,_,B,F){y!==A&&B7(A,function(K,ce){if(F||(F=new kl),Yr(K))ole(y,A,ce,_,g6,B,F);else{var fe=B?B(rE(y,ce),K,ce+"",y,A,F):n;fe===n&&(fe=K),M7(y,ce,fe)}},vo)}function ole(y,A,_,B,F,K,ce){var fe=rE(y,_),ye=rE(A,_),Xe=ce.get(ye);if(Xe){M7(y,_,Xe);return}var Ze=K?K(fe,ye,_+"",y,A,ce):n,et=Ze===n;if(et){var yt=hn(ye),Lt=!yt&&Cf(ye),qt=!yt&&!Lt&&b1(ye);Ze=ye,yt||Lt||qt?hn(fe)?Ze=fe:wi(fe)?Ze=mo(fe):Lt?(et=!1,Ze=qR(ye,!0)):qt?(et=!1,Ze=JR(ye,!0)):Ze=[]:P2(ye)||gp(ye)?(Ze=fe,gp(fe)?Ze=KD(fe):(!Yr(fe)||Hd(fe))&&(Ze=UD(ye))):et=!1}et&&(ce.set(ye,Ze),F(Ze,ye,B,K,ce),ce.delete(ye)),M7(y,_,Ze)}function OR(y,A){var _=y.length;if(_)return A+=A<0?_:0,Qd(A,_)?y[A]:n}function zR(y,A,_){A.length?A=Or(A,function(K){return hn(K)?function(ce){return fp(ce,K.length===1?K[0]:K)}:K}):A=[yo];var B=-1;A=Or(A,ts(Kt()));var F=$R(y,function(K,ce,fe){var ye=Or(A,function(Xe){return Xe(K)});return{criteria:ye,index:++B,value:K}});return Roe(F,function(K,ce){return yle(K,ce,_)})}function sle(y,A){return QR(y,A,function(_,B){return fE(y,B)})}function QR(y,A,_){for(var B=-1,F=A.length,K={};++B<F;){var ce=A[B],fe=fp(y,ce);_(fe,ce)&&T2(K,xf(ce,y),fe)}return K}function lle(y){return function(A){return fp(A,y)}}function F7(y,A,_,B){var F=B?Boe:d1,K=-1,ce=A.length,fe=y;for(y===A&&(A=mo(A)),_&&(fe=Or(y,ts(_)));++K<ce;)for(var ye=0,Xe=A[K],Ze=_?_(Xe):Xe;(ye=F(fe,Ze,ye,B))>-1;)fe!==y&&a6.call(fe,ye,1),a6.call(y,ye,1);return y}function HR(y,A){for(var _=y?A.length:0,B=_-1;_--;){var F=A[_];if(_==B||F!==K){var K=F;Qd(F)?a6.call(y,F,1):Q7(y,F)}}return y}function j7(y,A){return y+l6(xR()*(A-y+1))}function cle(y,A,_,B){for(var F=-1,K=Fi(s6((A-y)/(_||1)),0),ce=Re(K);K--;)ce[B?K:++F]=y,y+=_;return ce}function O7(y,A){var _="";if(!y||A<1||A>Z)return _;do A%2&&(_+=y),A=l6(A/2),A&&(y+=y);while(A);return _}function bn(y,A){return iE(bD(y,A,yo),y+"")}function dle(y){return SR(A1(y))}function ule(y,A){var _=A1(y);return _6(_,up(A,0,_.length))}function T2(y,A,_,B){if(!Yr(y))return y;A=xf(A,y);for(var F=-1,K=A.length,ce=K-1,fe=y;fe!=null&&++F<K;){var ye=Cc(A[F]),Xe=_;if(ye==="__proto__"||ye==="constructor"||ye==="prototype")return y;if(F!=ce){var Ze=fe[ye];Xe=B?B(Ze,ye,fe):n,Xe===n&&(Xe=Yr(Ze)?Ze:Qd(A[F+1])?[]:{})}S2(fe,ye,Xe),fe=fe[ye]}return y}var GR=c6?function(y,A){return c6.set(y,A),y}:yo,fle=o6?function(y,A){return o6(y,"toString",{configurable:!0,enumerable:!1,value:pE(A),writable:!0})}:yo;function hle(y){return _6(A1(y))}function zs(y,A,_){var B=-1,F=y.length;A<0&&(A=-A>F?0:F+A),_=_>F?F:_,_<0&&(_+=F),F=A>_?0:_-A>>>0,A>>>=0;for(var K=Re(F);++B<F;)K[B]=y[B+A];return K}function ple(y,A){var _;return wf(y,function(B,F,K){return _=A(B,F,K),!_}),!!_}function m6(y,A,_){var B=0,F=y==null?B:y.length;if(typeof A=="number"&&A===A&&F<=oe){for(;B<F;){var K=B+F>>>1,ce=y[K];ce!==null&&!rs(ce)&&(_?ce<=A:ce<A)?B=K+1:F=K}return F}return z7(y,A,yo,_)}function z7(y,A,_,B){var F=0,K=y==null?0:y.length;if(K===0)return 0;A=_(A);for(var ce=A!==A,fe=A===null,ye=rs(A),Xe=A===n;F<K;){var Ze=l6((F+K)/2),et=_(y[Ze]),yt=et!==n,Lt=et===null,qt=et===et,vn=rs(et);if(ce)var Jt=B||qt;else Xe?Jt=qt&&(B||yt):fe?Jt=qt&&yt&&(B||!Lt):ye?Jt=qt&&yt&&!Lt&&(B||!vn):Lt||vn?Jt=!1:Jt=B?et<=A:et<A;Jt?F=Ze+1:K=Ze}return ka(K,de)}function WR(y,A){for(var _=-1,B=y.length,F=0,K=[];++_<B;){var ce=y[_],fe=A?A(ce):ce;if(!_||!Ml(fe,ye)){var ye=fe;K[F++]=ce===0?0:ce}}return K}function VR(y){return typeof y=="number"?y:rs(y)?O:+y}function ns(y){if(typeof y=="string")return y;if(hn(y))return Or(y,ns)+"";if(rs(y))return _R?_R.call(y):"";var A=y+"";return A=="0"&&1/y==-ne?"-0":A}function Ef(y,A,_){var B=-1,F=Kb,K=y.length,ce=!0,fe=[],ye=fe;if(_)ce=!1,F=U7;else if(K>=a){var Xe=A?null:_le(y);if(Xe)return Zb(Xe);ce=!1,F=A2,ye=new dp}else ye=A?[]:fe;e:for(;++B<K;){var Ze=y[B],et=A?A(Ze):Ze;if(Ze=_||Ze!==0?Ze:0,ce&&et===et){for(var yt=ye.length;yt--;)if(ye[yt]===et)continue e;A&&ye.push(et),fe.push(Ze)}else F(ye,et,_)||(ye!==fe&&ye.push(et),fe.push(Ze))}return fe}function Q7(y,A){return A=xf(A,y),y=AD(y,A),y==null||delete y[Cc(Qs(A))]}function YR(y,A,_,B){return T2(y,A,_(fp(y,A)),B)}function U6(y,A,_,B){for(var F=y.length,K=B?F:-1;(B?K--:++K<F)&&A(y[K],K,y););return _?zs(y,B?0:K,B?K+1:F):zs(y,B?K+1:0,B?F:K)}function KR(y,A){var _=y;return _ instanceof Cn&&(_=_.value()),v7(A,function(B,F){return F.func.apply(F.thisArg,vf([B],F.args))},_)}function H7(y,A,_){var B=y.length;if(B<2)return B?Ef(y[0]):[];for(var F=-1,K=Re(B);++F<B;)for(var ce=y[F],fe=-1;++fe<B;)fe!=F&&(K[F]=I2(K[F]||ce,y[fe],A,_));return Ef(ya(K,1),A,_)}function XR(y,A,_){for(var B=-1,F=y.length,K=A.length,ce={};++B<F;){var fe=B<K?A[B]:n;_(ce,y[B],fe)}return ce}function G7(y){return wi(y)?y:[]}function W7(y){return typeof y=="function"?y:yo}function xf(y,A){return hn(y)?y:tE(y,A)?[y]:_D(Zn(y))}var gle=bn;function _f(y,A,_){var B=y.length;return _=_===n?B:_,!A&&_>=B?y:zs(y,A,_)}var ZR=nse||function(y){return aa.clearTimeout(y)};function qR(y,A){if(A)return y.slice();var _=y.length,B=yR?yR(_):new y.constructor(_);return y.copy(B),B}function V7(y){var A=new y.constructor(y.byteLength);return new r6(A).set(new r6(y)),A}function mle(y,A){var _=A?V7(y.buffer):y.buffer;return new y.constructor(_,y.byteOffset,y.byteLength)}function Ule(y){var A=new y.constructor(y.source,Ps.exec(y));return A.lastIndex=y.lastIndex,A}function vle(y){return C2?mr(C2.call(y)):{}}function JR(y,A){var _=A?V7(y.buffer):y.buffer;return new y.constructor(_,y.byteOffset,y.length)}function eD(y,A){if(y!==A){var _=y!==n,B=y===null,F=y===y,K=rs(y),ce=A!==n,fe=A===null,ye=A===A,Xe=rs(A);if(!fe&&!Xe&&!K&&y>A||K&&ce&&ye&&!fe&&!Xe||B&&ce&&ye||!_&&ye||!F)return 1;if(!B&&!K&&!Xe&&y<A||Xe&&_&&F&&!B&&!K||fe&&_&&F||!ce&&F||!ye)return-1}return 0}function yle(y,A,_){for(var B=-1,F=y.criteria,K=A.criteria,ce=F.length,fe=_.length;++B<ce;){var ye=eD(F[B],K[B]);if(ye){if(B>=fe)return ye;var Xe=_[B];return ye*(Xe=="desc"?-1:1)}}return y.index-A.index}function tD(y,A,_,B){for(var F=-1,K=y.length,ce=_.length,fe=-1,ye=A.length,Xe=Fi(K-ce,0),Ze=Re(ye+Xe),et=!B;++fe<ye;)Ze[fe]=A[fe];for(;++F<ce;)(et||F<K)&&(Ze[_[F]]=y[F]);for(;Xe--;)Ze[fe++]=y[F++];return Ze}function nD(y,A,_,B){for(var F=-1,K=y.length,ce=-1,fe=_.length,ye=-1,Xe=A.length,Ze=Fi(K-fe,0),et=Re(Ze+Xe),yt=!B;++F<Ze;)et[F]=y[F];for(var Lt=F;++ye<Xe;)et[Lt+ye]=A[ye];for(;++ce<fe;)(yt||F<K)&&(et[Lt+_[ce]]=y[F++]);return et}function mo(y,A){var _=-1,B=y.length;for(A||(A=Re(B));++_<B;)A[_]=y[_];return A}function _c(y,A,_,B){var F=!_;_||(_={});for(var K=-1,ce=A.length;++K<ce;){var fe=A[K],ye=B?B(_[fe],y[fe],fe,_,y):n;ye===n&&(ye=y[fe]),F?jd(_,fe,ye):S2(_,fe,ye)}return _}function ble(y,A){return _c(y,eE(y),A)}function Ale(y,A){return _c(y,gD(y),A)}function v6(y,A){return function(_,B){var F=hn(_)?Coe:Qse,K=A?A():{};return F(_,y,Kt(B,2),K)}}function U1(y){return bn(function(A,_){var B=-1,F=_.length,K=F>1?_[F-1]:n,ce=F>2?_[2]:n;for(K=y.length>3&&typeof K=="function"?(F--,K):n,ce&&qa(_[0],_[1],ce)&&(K=F<3?n:K,F=1),A=mr(A);++B<F;){var fe=_[B];fe&&y(A,fe,B,K)}return A})}function rD(y,A){return function(_,B){if(_==null)return _;if(!Uo(_))return y(_,B);for(var F=_.length,K=A?F:-1,ce=mr(_);(A?K--:++K<F)&&B(ce[K],K,ce)!==!1;);return _}}function iD(y){return function(A,_,B){for(var F=-1,K=mr(A),ce=B(A),fe=ce.length;fe--;){var ye=ce[y?fe:++F];if(_(K[ye],ye,K)===!1)break}return A}}function wle(y,A,_){var B=A&m,F=B2(y);function K(){var ce=this&&this!==aa&&this instanceof K?F:y;return ce.apply(B?_:this,arguments)}return K}function aD(y){return function(A){A=Zn(A);var _=u1(A)?Il(A):n,B=_?_[0]:A.charAt(0),F=_?_f(_,1).join(""):A.slice(1);return B[y]()+F}}function v1(y){return function(A){return v7(rP(nP(A).replace(foe,"")),y,"")}}function B2(y){return function(){var A=arguments;switch(A.length){case 0:return new y;case 1:return new y(A[0]);case 2:return new y(A[0],A[1]);case 3:return new y(A[0],A[1],A[2]);case 4:return new y(A[0],A[1],A[2],A[3]);case 5:return new y(A[0],A[1],A[2],A[3],A[4]);case 6:return new y(A[0],A[1],A[2],A[3],A[4],A[5]);case 7:return new y(A[0],A[1],A[2],A[3],A[4],A[5],A[6])}var _=m1(y.prototype),B=y.apply(_,A);return Yr(B)?B:_}}function Ele(y,A,_){var B=B2(y);function F(){for(var K=arguments.length,ce=Re(K),fe=K,ye=y1(F);fe--;)ce[fe]=arguments[fe];var Xe=K<3&&ce[0]!==ye&&ce[K-1]!==ye?[]:yf(ce,ye);if(K-=Xe.length,K<_)return dD(y,A,y6,F.placeholder,n,ce,Xe,n,n,_-K);var Ze=this&&this!==aa&&this instanceof F?B:y;return es(Ze,this,ce)}return F}function oD(y){return function(A,_,B){var F=mr(A);if(!Uo(A)){var K=Kt(_,3);A=oa(A),_=function(fe){return K(F[fe],fe,F)}}var ce=y(A,_,B);return ce>-1?F[K?A[ce]:ce]:n}}function sD(y){return zd(function(A){var _=A.length,B=_,F=js.prototype.thru;for(y&&A.reverse();B--;){var K=A[B];if(typeof K!="function")throw new Fs(s);if(F&&!ce&&E6(K)=="wrapper")var ce=new js([],!0)}for(B=ce?B:_;++B<_;){K=A[B];var fe=E6(K),ye=fe=="wrapper"?q7(K):n;ye&&nE(ye[0])&&ye[1]==(I|w|x|S)&&!ye[4].length&&ye[9]==1?ce=ce[E6(ye[0])].apply(ce,ye[3]):ce=K.length==1&&nE(K)?ce[fe]():ce.thru(K)}return function(){var Xe=arguments,Ze=Xe[0];if(ce&&Xe.length==1&&hn(Ze))return ce.plant(Ze).value();for(var et=0,yt=_?A[et].apply(this,Xe):Ze;++et<_;)yt=A[et].call(this,yt);return yt}})}function y6(y,A,_,B,F,K,ce,fe,ye,Xe){var Ze=A&I,et=A&m,yt=A&U,Lt=A&(w|E),qt=A&M,vn=yt?n:B2(y);function Jt(){for(var En=arguments.length,Tn=Re(En),is=En;is--;)Tn[is]=arguments[is];if(Lt)var Ja=y1(Jt),as=Poe(Tn,Ja);if(B&&(Tn=tD(Tn,B,F,Lt)),K&&(Tn=nD(Tn,K,ce,Lt)),En-=as,Lt&&En<Xe){var Ei=yf(Tn,Ja);return dD(y,A,y6,Jt.placeholder,_,Tn,Ei,fe,ye,Xe-En)}var Tl=et?_:this,Wd=yt?Tl[y]:y;return En=Tn.length,fe?Tn=Qle(Tn,fe):qt&&En>1&&Tn.reverse(),Ze&&ye<En&&(Tn.length=ye),this&&this!==aa&&this instanceof Jt&&(Wd=vn||B2(Wd)),Wd.apply(Tl,Tn)}return Jt}function lD(y,A){return function(_,B){return Zse(_,y,A(B),{})}}function b6(y,A){return function(_,B){var F;if(_===n&&B===n)return A;if(_!==n&&(F=_),B!==n){if(F===n)return B;typeof _=="string"||typeof B=="string"?(_=ns(_),B=ns(B)):(_=VR(_),B=VR(B)),F=y(_,B)}return F}}function Y7(y){return zd(function(A){return A=Or(A,ts(Kt())),bn(function(_){var B=this;return y(A,function(F){return es(F,B,_)})})})}function A6(y,A){A=A===n?" ":ns(A);var _=A.length;if(_<2)return _?O7(A,y):A;var B=O7(A,s6(y/f1(A)));return u1(A)?_f(Il(B),0,y).join(""):B.slice(0,y)}function xle(y,A,_,B){var F=A&m,K=B2(y);function ce(){for(var fe=-1,ye=arguments.length,Xe=-1,Ze=B.length,et=Re(Ze+ye),yt=this&&this!==aa&&this instanceof ce?K:y;++Xe<Ze;)et[Xe]=B[Xe];for(;ye--;)et[Xe++]=arguments[++fe];return es(yt,F?_:this,et)}return ce}function cD(y){return function(A,_,B){return B&&typeof B!="number"&&qa(A,_,B)&&(_=B=n),A=Gd(A),_===n?(_=A,A=0):_=Gd(_),B=B===n?A<_?1:-1:Gd(B),cle(A,_,B,y)}}function w6(y){return function(A,_){return typeof A=="string"&&typeof _=="string"||(A=Hs(A),_=Hs(_)),y(A,_)}}function dD(y,A,_,B,F,K,ce,fe,ye,Xe){var Ze=A&w,et=Ze?ce:n,yt=Ze?n:ce,Lt=Ze?K:n,qt=Ze?n:K;A|=Ze?x:C,A&=~(Ze?C:x),A&b||(A&=~(m|U));var vn=[y,A,F,Lt,et,qt,yt,fe,ye,Xe],Jt=_.apply(n,vn);return nE(y)&&wD(Jt,vn),Jt.placeholder=B,ED(Jt,y,A)}function K7(y){var A=$i[y];return function(_,B){if(_=Hs(_),B=B==null?0:ka(mn(B),292),B&&ER(_)){var F=(Zn(_)+"e").split("e"),K=A(F[0]+"e"+(+F[1]+B));return F=(Zn(K)+"e").split("e"),+(F[0]+"e"+(+F[1]-B))}return A(_)}}var _le=p1&&1/Zb(new p1([,-0]))[1]==ne?function(y){return new p1(y)}:UE;function uD(y){return function(A){var _=Ma(A);return _==ae?_7(A):_==qe?zoe(A):Doe(A,y(A))}}function Od(y,A,_,B,F,K,ce,fe){var ye=A&U;if(!ye&&typeof y!="function")throw new Fs(s);var Xe=B?B.length:0;if(Xe||(A&=~(x|C),B=F=n),ce=ce===n?ce:Fi(mn(ce),0),fe=fe===n?fe:mn(fe),Xe-=F?F.length:0,A&C){var Ze=B,et=F;B=F=n}var yt=ye?n:q7(y),Lt=[y,A,_,B,F,Ze,et,K,ce,fe];if(yt&&jle(Lt,yt),y=Lt[0],A=Lt[1],_=Lt[2],B=Lt[3],F=Lt[4],fe=Lt[9]=Lt[9]===n?ye?0:y.length:Fi(Lt[9]-Xe,0),!fe&&A&(w|E)&&(A&=~(w|E)),!A||A==m)var qt=wle(y,A,_);else A==w||A==E?qt=Ele(y,A,fe):(A==x||A==(m|x))&&!F.length?qt=xle(y,A,_,B):qt=y6.apply(n,Lt);var vn=yt?GR:wD;return ED(vn(qt,Lt),y,A)}function fD(y,A,_,B){return y===n||Ml(y,h1[_])&&!tr.call(B,_)?A:y}function hD(y,A,_,B,F,K){return Yr(y)&&Yr(A)&&(K.set(A,y),g6(y,A,n,hD,K),K.delete(A)),y}function Cle(y){return P2(y)?n:y}function pD(y,A,_,B,F,K){var ce=_&c,fe=y.length,ye=A.length;if(fe!=ye&&!(ce&&ye>fe))return!1;var Xe=K.get(y),Ze=K.get(A);if(Xe&&Ze)return Xe==A&&Ze==y;var et=-1,yt=!0,Lt=_&h?new dp:n;for(K.set(y,A),K.set(A,y);++et<fe;){var qt=y[et],vn=A[et];if(B)var Jt=ce?B(vn,qt,et,A,y,K):B(qt,vn,et,y,A,K);if(Jt!==n){if(Jt)continue;yt=!1;break}if(Lt){if(!y7(A,function(En,Tn){if(!A2(Lt,Tn)&&(qt===En||F(qt,En,_,B,K)))return Lt.push(Tn)})){yt=!1;break}}else if(!(qt===vn||F(qt,vn,_,B,K))){yt=!1;break}}return K.delete(y),K.delete(A),yt}function Sle(y,A,_,B,F,K,ce){switch(_){case nn:if(y.byteLength!=A.byteLength||y.byteOffset!=A.byteOffset)return!1;y=y.buffer,A=A.buffer;case Gt:return!(y.byteLength!=A.byteLength||!K(new r6(y),new r6(A)));case he:case ge:case Ae:return Ml(+y,+A);case ze:return y.name==A.name&&y.message==A.message;case Ke:case We:return y==A+"";case ae:var fe=_7;case qe:var ye=B&c;if(fe||(fe=Zb),y.size!=A.size&&!ye)return!1;var Xe=ce.get(y);if(Xe)return Xe==A;B|=h,ce.set(y,A);var Ze=pD(fe(y),fe(A),B,F,K,ce);return ce.delete(y),Ze;case vt:if(C2)return C2.call(y)==C2.call(A)}return!1}function Ile(y,A,_,B,F,K){var ce=_&c,fe=X7(y),ye=fe.length,Xe=X7(A),Ze=Xe.length;if(ye!=Ze&&!ce)return!1;for(var et=ye;et--;){var yt=fe[et];if(!(ce?yt in A:tr.call(A,yt)))return!1}var Lt=K.get(y),qt=K.get(A);if(Lt&&qt)return Lt==A&&qt==y;var vn=!0;K.set(y,A),K.set(A,y);for(var Jt=ce;++et<ye;){yt=fe[et];var En=y[yt],Tn=A[yt];if(B)var is=ce?B(Tn,En,yt,A,y,K):B(En,Tn,yt,y,A,K);if(!(is===n?En===Tn||F(En,Tn,_,B,K):is)){vn=!1;break}Jt||(Jt=yt=="constructor")}if(vn&&!Jt){var Ja=y.constructor,as=A.constructor;Ja!=as&&"constructor"in y&&"constructor"in A&&!(typeof Ja=="function"&&Ja instanceof Ja&&typeof as=="function"&&as instanceof as)&&(vn=!1)}return K.delete(y),K.delete(A),vn}function zd(y){return iE(bD(y,n,kD),y+"")}function X7(y){return DR(y,oa,eE)}function Z7(y){return DR(y,vo,gD)}var q7=c6?function(y){return c6.get(y)}:UE;function E6(y){for(var A=y.name+"",_=g1[A],B=tr.call(g1,A)?_.length:0;B--;){var F=_[B],K=F.func;if(K==null||K==y)return F.name}return A}function y1(y){var A=tr.call(W,"placeholder")?W:y;return A.placeholder}function Kt(){var y=W.iteratee||gE;return y=y===gE?NR:y,arguments.length?y(arguments[0],arguments[1]):y}function x6(y,A){var _=y.__data__;return Lle(A)?_[typeof A=="string"?"string":"hash"]:_.map}function J7(y){for(var A=oa(y),_=A.length;_--;){var B=A[_],F=y[B];A[_]=[B,F,vD(F)]}return A}function hp(y,A){var _=Foe(y,A);return LR(_)?_:n}function kle(y){var A=tr.call(y,lp),_=y[lp];try{y[lp]=n;var B=!0}catch{}var F=t6.call(y);return B&&(A?y[lp]=_:delete y[lp]),F}var eE=S7?function(y){return y==null?[]:(y=mr(y),Uf(S7(y),function(A){return AR.call(y,A)}))}:vE,gD=S7?function(y){for(var A=[];y;)vf(A,eE(y)),y=i6(y);return A}:vE,Ma=Za;(I7&&Ma(new I7(new ArrayBuffer(1)))!=nn||E2&&Ma(new E2)!=ae||k7&&Ma(k7.resolve())!=je||p1&&Ma(new p1)!=qe||x2&&Ma(new x2)!=it)&&(Ma=function(y){var A=Za(y),_=A==Ce?y.constructor:n,B=_?pp(_):"";if(B)switch(B){case use:return nn;case fse:return ae;case hse:return je;case pse:return qe;case gse:return it}return A});function Mle(y,A,_){for(var B=-1,F=_.length;++B<F;){var K=_[B],ce=K.size;switch(K.type){case"drop":y+=ce;break;case"dropRight":A-=ce;break;case"take":A=ka(A,y+ce);break;case"takeRight":y=Fi(y,A-ce);break}}return{start:y,end:A}}function Tle(y){var A=y.match(Ia);return A?A[1].split(s1):[]}function mD(y,A,_){A=xf(A,y);for(var B=-1,F=A.length,K=!1;++B<F;){var ce=Cc(A[B]);if(!(K=y!=null&&_(y,ce)))break;y=y[ce]}return K||++B!=F?K:(F=y==null?0:y.length,!!F&&T6(F)&&Qd(ce,F)&&(hn(y)||gp(y)))}function Ble(y){var A=y.length,_=new y.constructor(A);return A&&typeof y[0]=="string"&&tr.call(y,"index")&&(_.index=y.index,_.input=y.input),_}function UD(y){return typeof y.constructor=="function"&&!R2(y)?m1(i6(y)):{}}function Rle(y,A,_){var B=y.constructor;switch(A){case Gt:return V7(y);case he:case ge:return new B(+y);case nn:return mle(y,_);case Zt:case ur:case gr:case X:case Ve:case rt:case At:case pe:case Pe:return JR(y,_);case ae:return new B;case Ae:case We:return new B(y);case Ke:return Ule(y);case qe:return new B;case vt:return vle(y)}}function Dle(y,A){var _=A.length;if(!_)return y;var B=_-1;return A[B]=(_>1?"& ":"")+A[B],A=A.join(_>2?", ":" "),y.replace(ia,`{
/* [wrapped with `+A+`] */
`)}function Ple(y){return hn(y)||gp(y)||!!(wR&&y&&y[wR])}function Qd(y,A){var _=typeof y;return A=A??Z,!!A&&(_=="number"||_!="symbol"&&Vae.test(y))&&y>-1&&y%1==0&&y<A}function qa(y,A,_){if(!Yr(_))return!1;var B=typeof A;return(B=="number"?Uo(_)&&Qd(A,_.length):B=="string"&&A in _)?Ml(_[A],y):!1}function tE(y,A){if(hn(y))return!1;var _=typeof y;return _=="number"||_=="symbol"||_=="boolean"||y==null||rs(y)?!0:It.test(y)||!wt.test(y)||A!=null&&y in mr(A)}function Lle(y){var A=typeof y;return A=="string"||A=="number"||A=="symbol"||A=="boolean"?y!=="__proto__":y===null}function nE(y){var A=E6(y),_=W[A];if(typeof _!="function"||!(A in Cn.prototype))return!1;if(y===_)return!0;var B=q7(_);return!!B&&y===B[0]}function Nle(y){return!!vR&&vR in y}var $le=Jb?Hd:yE;function R2(y){var A=y&&y.constructor,_=typeof A=="function"&&A.prototype||h1;return y===_}function vD(y){return y===y&&!Yr(y)}function yD(y,A){return function(_){return _==null?!1:_[y]===A&&(A!==n||y in mr(_))}}function Fle(y){var A=k6(y,function(B){return _.size===u&&_.clear(),B}),_=A.cache;return A}function jle(y,A){var _=y[1],B=A[1],F=_|B,K=F<(m|U|I),ce=B==I&&_==w||B==I&&_==S&&y[7].length<=A[8]||B==(I|S)&&A[7].length<=A[8]&&_==w;if(!(K||ce))return y;B&m&&(y[2]=A[2],F|=_&m?0:b);var fe=A[3];if(fe){var ye=y[3];y[3]=ye?tD(ye,fe,A[4]):fe,y[4]=ye?yf(y[3],f):A[4]}return fe=A[5],fe&&(ye=y[5],y[5]=ye?nD(ye,fe,A[6]):fe,y[6]=ye?yf(y[5],f):A[6]),fe=A[7],fe&&(y[7]=fe),B&I&&(y[8]=y[8]==null?A[8]:ka(y[8],A[8])),y[9]==null&&(y[9]=A[9]),y[0]=A[0],y[1]=F,y}function Ole(y){var A=[];if(y!=null)for(var _ in mr(y))A.push(_);return A}function zle(y){return t6.call(y)}function bD(y,A,_){return A=Fi(A===n?y.length-1:A,0),function(){for(var B=arguments,F=-1,K=Fi(B.length-A,0),ce=Re(K);++F<K;)ce[F]=B[A+F];F=-1;for(var fe=Re(A+1);++F<A;)fe[F]=B[F];return fe[A]=_(ce),es(y,this,fe)}}function AD(y,A){return A.length<2?y:fp(y,zs(A,0,-1))}function Qle(y,A){for(var _=y.length,B=ka(A.length,_),F=mo(y);B--;){var K=A[B];y[B]=Qd(K,_)?F[K]:n}return y}function rE(y,A){if(!(A==="constructor"&&typeof y[A]=="function")&&A!="__proto__")return y[A]}var wD=xD(GR),D2=ise||function(y,A){return aa.setTimeout(y,A)},iE=xD(fle);function ED(y,A,_){var B=A+"";return iE(y,Dle(B,Hle(Tle(B),_)))}function xD(y){var A=0,_=0;return function(){var B=lse(),F=j-(B-_);if(_=B,F>0){if(++A>=L)return arguments[0]}else A=0;return y.apply(n,arguments)}}function _6(y,A){var _=-1,B=y.length,F=B-1;for(A=A===n?B:A;++_<A;){var K=j7(_,F),ce=y[K];y[K]=y[_],y[_]=ce}return y.length=A,y}var _D=Fle(function(y){var A=[];return y.charCodeAt(0)===46&&A.push(""),y.replace(_n,function(_,B,F,K){A.push(F?K.replace(go,"$1"):B||_)}),A});function Cc(y){if(typeof y=="string"||rs(y))return y;var A=y+"";return A=="0"&&1/y==-ne?"-0":A}function pp(y){if(y!=null){try{return e6.call(y)}catch{}try{return y+""}catch{}}return""}function Hle(y,A){return $s(me,function(_){var B="_."+_[0];A&_[1]&&!Kb(y,B)&&y.push(B)}),y.sort()}function CD(y){if(y instanceof Cn)return y.clone();var A=new js(y.__wrapped__,y.__chain__);return A.__actions__=mo(y.__actions__),A.__index__=y.__index__,A.__values__=y.__values__,A}function Gle(y,A,_){(_?qa(y,A,_):A===n)?A=1:A=Fi(mn(A),0);var B=y==null?0:y.length;if(!B||A<1)return[];for(var F=0,K=0,ce=Re(s6(B/A));F<B;)ce[K++]=zs(y,F,F+=A);return ce}function Wle(y){for(var A=-1,_=y==null?0:y.length,B=0,F=[];++A<_;){var K=y[A];K&&(F[B++]=K)}return F}function Vle(){var y=arguments.length;if(!y)return[];for(var A=Re(y-1),_=arguments[0],B=y;B--;)A[B-1]=arguments[B];return vf(hn(_)?mo(_):[_],ya(A,1))}var Yle=bn(function(y,A){return wi(y)?I2(y,ya(A,1,wi,!0)):[]}),Kle=bn(function(y,A){var _=Qs(A);return wi(_)&&(_=n),wi(y)?I2(y,ya(A,1,wi,!0),Kt(_,2)):[]}),Xle=bn(function(y,A){var _=Qs(A);return wi(_)&&(_=n),wi(y)?I2(y,ya(A,1,wi,!0),n,_):[]});function Zle(y,A,_){var B=y==null?0:y.length;return B?(A=_||A===n?1:mn(A),zs(y,A<0?0:A,B)):[]}function qle(y,A,_){var B=y==null?0:y.length;return B?(A=_||A===n?1:mn(A),A=B-A,zs(y,0,A<0?0:A)):[]}function Jle(y,A){return y&&y.length?U6(y,Kt(A,3),!0,!0):[]}function ece(y,A){return y&&y.length?U6(y,Kt(A,3),!0):[]}function tce(y,A,_,B){var F=y==null?0:y.length;return F?(_&&typeof _!="number"&&qa(y,A,_)&&(_=0,B=F),Vse(y,A,_,B)):[]}function SD(y,A,_){var B=y==null?0:y.length;if(!B)return-1;var F=_==null?0:mn(_);return F<0&&(F=Fi(B+F,0)),Xb(y,Kt(A,3),F)}function ID(y,A,_){var B=y==null?0:y.length;if(!B)return-1;var F=B-1;return _!==n&&(F=mn(_),F=_<0?Fi(B+F,0):ka(F,B-1)),Xb(y,Kt(A,3),F,!0)}function kD(y){var A=y==null?0:y.length;return A?ya(y,1):[]}function nce(y){var A=y==null?0:y.length;return A?ya(y,ne):[]}function rce(y,A){var _=y==null?0:y.length;return _?(A=A===n?1:mn(A),ya(y,A)):[]}function ice(y){for(var A=-1,_=y==null?0:y.length,B={};++A<_;){var F=y[A];B[F[0]]=F[1]}return B}function MD(y){return y&&y.length?y[0]:n}function ace(y,A,_){var B=y==null?0:y.length;if(!B)return-1;var F=_==null?0:mn(_);return F<0&&(F=Fi(B+F,0)),d1(y,A,F)}function oce(y){var A=y==null?0:y.length;return A?zs(y,0,-1):[]}var sce=bn(function(y){var A=Or(y,G7);return A.length&&A[0]===y[0]?P7(A):[]}),lce=bn(function(y){var A=Qs(y),_=Or(y,G7);return A===Qs(_)?A=n:_.pop(),_.length&&_[0]===y[0]?P7(_,Kt(A,2)):[]}),cce=bn(function(y){var A=Qs(y),_=Or(y,G7);return A=typeof A=="function"?A:n,A&&_.pop(),_.length&&_[0]===y[0]?P7(_,n,A):[]});function dce(y,A){return y==null?"":ose.call(y,A)}function Qs(y){var A=y==null?0:y.length;return A?y[A-1]:n}function uce(y,A,_){var B=y==null?0:y.length;if(!B)return-1;var F=B;return _!==n&&(F=mn(_),F=F<0?Fi(B+F,0):ka(F,B-1)),A===A?Hoe(y,A,F):Xb(y,dR,F,!0)}function fce(y,A){return y&&y.length?OR(y,mn(A)):n}var hce=bn(TD);function TD(y,A){return y&&y.length&&A&&A.length?F7(y,A):y}function pce(y,A,_){return y&&y.length&&A&&A.length?F7(y,A,Kt(_,2)):y}function gce(y,A,_){return y&&y.length&&A&&A.length?F7(y,A,n,_):y}var mce=zd(function(y,A){var _=y==null?0:y.length,B=T7(y,A);return HR(y,Or(A,function(F){return Qd(F,_)?+F:F}).sort(eD)),B});function Uce(y,A){var _=[];if(!(y&&y.length))return _;var B=-1,F=[],K=y.length;for(A=Kt(A,3);++B<K;){var ce=y[B];A(ce,B,y)&&(_.push(ce),F.push(B))}return HR(y,F),_}function aE(y){return y==null?y:dse.call(y)}function vce(y,A,_){var B=y==null?0:y.length;return B?(_&&typeof _!="number"&&qa(y,A,_)?(A=0,_=B):(A=A==null?0:mn(A),_=_===n?B:mn(_)),zs(y,A,_)):[]}function yce(y,A){return m6(y,A)}function bce(y,A,_){return z7(y,A,Kt(_,2))}function Ace(y,A){var _=y==null?0:y.length;if(_){var B=m6(y,A);if(B<_&&Ml(y[B],A))return B}return-1}function wce(y,A){return m6(y,A,!0)}function Ece(y,A,_){return z7(y,A,Kt(_,2),!0)}function xce(y,A){var _=y==null?0:y.length;if(_){var B=m6(y,A,!0)-1;if(Ml(y[B],A))return B}return-1}function _ce(y){return y&&y.length?WR(y):[]}function Cce(y,A){return y&&y.length?WR(y,Kt(A,2)):[]}function Sce(y){var A=y==null?0:y.length;return A?zs(y,1,A):[]}function Ice(y,A,_){return y&&y.length?(A=_||A===n?1:mn(A),zs(y,0,A<0?0:A)):[]}function kce(y,A,_){var B=y==null?0:y.length;return B?(A=_||A===n?1:mn(A),A=B-A,zs(y,A<0?0:A,B)):[]}function Mce(y,A){return y&&y.length?U6(y,Kt(A,3),!1,!0):[]}function Tce(y,A){return y&&y.length?U6(y,Kt(A,3)):[]}var Bce=bn(function(y){return Ef(ya(y,1,wi,!0))}),Rce=bn(function(y){var A=Qs(y);return wi(A)&&(A=n),Ef(ya(y,1,wi,!0),Kt(A,2))}),Dce=bn(function(y){var A=Qs(y);return A=typeof A=="function"?A:n,Ef(ya(y,1,wi,!0),n,A)});function Pce(y){return y&&y.length?Ef(y):[]}function Lce(y,A){return y&&y.length?Ef(y,Kt(A,2)):[]}function Nce(y,A){return A=typeof A=="function"?A:n,y&&y.length?Ef(y,n,A):[]}function oE(y){if(!(y&&y.length))return[];var A=0;return y=Uf(y,function(_){if(wi(_))return A=Fi(_.length,A),!0}),E7(A,function(_){return Or(y,b7(_))})}function BD(y,A){if(!(y&&y.length))return[];var _=oE(y);return A==null?_:Or(_,function(B){return es(A,n,B)})}var $ce=bn(function(y,A){return wi(y)?I2(y,A):[]}),Fce=bn(function(y){return H7(Uf(y,wi))}),jce=bn(function(y){var A=Qs(y);return wi(A)&&(A=n),H7(Uf(y,wi),Kt(A,2))}),Oce=bn(function(y){var A=Qs(y);return A=typeof A=="function"?A:n,H7(Uf(y,wi),n,A)}),zce=bn(oE);function Qce(y,A){return XR(y||[],A||[],S2)}function Hce(y,A){return XR(y||[],A||[],T2)}var Gce=bn(function(y){var A=y.length,_=A>1?y[A-1]:n;return _=typeof _=="function"?(y.pop(),_):n,BD(y,_)});function RD(y){var A=W(y);return A.__chain__=!0,A}function Wce(y,A){return A(y),y}function C6(y,A){return A(y)}var Vce=zd(function(y){var A=y.length,_=A?y[0]:0,B=this.__wrapped__,F=function(K){return T7(K,y)};return A>1||this.__actions__.length||!(B instanceof Cn)||!Qd(_)?this.thru(F):(B=B.slice(_,+_+(A?1:0)),B.__actions__.push({func:C6,args:[F],thisArg:n}),new js(B,this.__chain__).thru(function(K){return A&&!K.length&&K.push(n),K}))});function Yce(){return RD(this)}function Kce(){return new js(this.value(),this.__chain__)}function Xce(){this.__values__===n&&(this.__values__=VD(this.value()));var y=this.__index__>=this.__values__.length,A=y?n:this.__values__[this.__index__++];return{done:y,value:A}}function Zce(){return this}function qce(y){for(var A,_=this;_ instanceof u6;){var B=CD(_);B.__index__=0,B.__values__=n,A?F.__wrapped__=B:A=B;var F=B;_=_.__wrapped__}return F.__wrapped__=y,A}function Jce(){var y=this.__wrapped__;if(y instanceof Cn){var A=y;return this.__actions__.length&&(A=new Cn(this)),A=A.reverse(),A.__actions__.push({func:C6,args:[aE],thisArg:n}),new js(A,this.__chain__)}return this.thru(aE)}function ede(){return KR(this.__wrapped__,this.__actions__)}var tde=v6(function(y,A,_){tr.call(y,_)?++y[_]:jd(y,_,1)});function nde(y,A,_){var B=hn(y)?lR:Wse;return _&&qa(y,A,_)&&(A=n),B(y,Kt(A,3))}function rde(y,A){var _=hn(y)?Uf:BR;return _(y,Kt(A,3))}var ide=oD(SD),ade=oD(ID);function ode(y,A){return ya(S6(y,A),1)}function sde(y,A){return ya(S6(y,A),ne)}function lde(y,A,_){return _=_===n?1:mn(_),ya(S6(y,A),_)}function DD(y,A){var _=hn(y)?$s:wf;return _(y,Kt(A,3))}function PD(y,A){var _=hn(y)?Soe:TR;return _(y,Kt(A,3))}var cde=v6(function(y,A,_){tr.call(y,_)?y[_].push(A):jd(y,_,[A])});function dde(y,A,_,B){y=Uo(y)?y:A1(y),_=_&&!B?mn(_):0;var F=y.length;return _<0&&(_=Fi(F+_,0)),B6(y)?_<=F&&y.indexOf(A,_)>-1:!!F&&d1(y,A,_)>-1}var ude=bn(function(y,A,_){var B=-1,F=typeof A=="function",K=Uo(y)?Re(y.length):[];return wf(y,function(ce){K[++B]=F?es(A,ce,_):k2(ce,A,_)}),K}),fde=v6(function(y,A,_){jd(y,_,A)});function S6(y,A){var _=hn(y)?Or:$R;return _(y,Kt(A,3))}function hde(y,A,_,B){return y==null?[]:(hn(A)||(A=A==null?[]:[A]),_=B?n:_,hn(_)||(_=_==null?[]:[_]),zR(y,A,_))}var pde=v6(function(y,A,_){y[_?0:1].push(A)},function(){return[[],[]]});function gde(y,A,_){var B=hn(y)?v7:fR,F=arguments.length<3;return B(y,Kt(A,4),_,F,wf)}function mde(y,A,_){var B=hn(y)?Ioe:fR,F=arguments.length<3;return B(y,Kt(A,4),_,F,TR)}function Ude(y,A){var _=hn(y)?Uf:BR;return _(y,M6(Kt(A,3)))}function vde(y){var A=hn(y)?SR:dle;return A(y)}function yde(y,A,_){(_?qa(y,A,_):A===n)?A=1:A=mn(A);var B=hn(y)?Ose:ule;return B(y,A)}function bde(y){var A=hn(y)?zse:hle;return A(y)}function Ade(y){if(y==null)return 0;if(Uo(y))return B6(y)?f1(y):y.length;var A=Ma(y);return A==ae||A==qe?y.size:N7(y).length}function wde(y,A,_){var B=hn(y)?y7:ple;return _&&qa(y,A,_)&&(A=n),B(y,Kt(A,3))}var Ede=bn(function(y,A){if(y==null)return[];var _=A.length;return _>1&&qa(y,A[0],A[1])?A=[]:_>2&&qa(A[0],A[1],A[2])&&(A=[A[0]]),zR(y,ya(A,1),[])}),I6=rse||function(){return aa.Date.now()};function xde(y,A){if(typeof A!="function")throw new Fs(s);return y=mn(y),function(){if(--y<1)return A.apply(this,arguments)}}function LD(y,A,_){return A=_?n:A,A=y&&A==null?y.length:A,Od(y,I,n,n,n,n,A)}function ND(y,A){var _;if(typeof A!="function")throw new Fs(s);return y=mn(y),function(){return--y>0&&(_=A.apply(this,arguments)),y<=1&&(A=n),_}}var sE=bn(function(y,A,_){var B=m;if(_.length){var F=yf(_,y1(sE));B|=x}return Od(y,B,A,_,F)}),$D=bn(function(y,A,_){var B=m|U;if(_.length){var F=yf(_,y1($D));B|=x}return Od(A,B,y,_,F)});function FD(y,A,_){A=_?n:A;var B=Od(y,w,n,n,n,n,n,A);return B.placeholder=FD.placeholder,B}function jD(y,A,_){A=_?n:A;var B=Od(y,E,n,n,n,n,n,A);return B.placeholder=jD.placeholder,B}function OD(y,A,_){var B,F,K,ce,fe,ye,Xe=0,Ze=!1,et=!1,yt=!0;if(typeof y!="function")throw new Fs(s);A=Hs(A)||0,Yr(_)&&(Ze=!!_.leading,et="maxWait"in _,K=et?Fi(Hs(_.maxWait)||0,A):K,yt="trailing"in _?!!_.trailing:yt);function Lt(Ei){var Tl=B,Wd=F;return B=F=n,Xe=Ei,ce=y.apply(Wd,Tl),ce}function qt(Ei){return Xe=Ei,fe=D2(En,A),Ze?Lt(Ei):ce}function vn(Ei){var Tl=Ei-ye,Wd=Ei-Xe,oP=A-Tl;return et?ka(oP,K-Wd):oP}function Jt(Ei){var Tl=Ei-ye,Wd=Ei-Xe;return ye===n||Tl>=A||Tl<0||et&&Wd>=K}function En(){var Ei=I6();if(Jt(Ei))return Tn(Ei);fe=D2(En,vn(Ei))}function Tn(Ei){return fe=n,yt&&B?Lt(Ei):(B=F=n,ce)}function is(){fe!==n&&ZR(fe),Xe=0,B=ye=F=fe=n}function Ja(){return fe===n?ce:Tn(I6())}function as(){var Ei=I6(),Tl=Jt(Ei);if(B=arguments,F=this,ye=Ei,Tl){if(fe===n)return qt(ye);if(et)return ZR(fe),fe=D2(En,A),Lt(ye)}return fe===n&&(fe=D2(En,A)),ce}return as.cancel=is,as.flush=Ja,as}var _de=bn(function(y,A){return MR(y,1,A)}),Cde=bn(function(y,A,_){return MR(y,Hs(A)||0,_)});function Sde(y){return Od(y,M)}function k6(y,A){if(typeof y!="function"||A!=null&&typeof A!="function")throw new Fs(s);var _=function(){var B=arguments,F=A?A.apply(this,B):B[0],K=_.cache;if(K.has(F))return K.get(F);var ce=y.apply(this,B);return _.cache=K.set(F,ce)||K,ce};return _.cache=new(k6.Cache||Fd),_}k6.Cache=Fd;function M6(y){if(typeof y!="function")throw new Fs(s);return function(){var A=arguments;switch(A.length){case 0:return!y.call(this);case 1:return!y.call(this,A[0]);case 2:return!y.call(this,A[0],A[1]);case 3:return!y.call(this,A[0],A[1],A[2])}return!y.apply(this,A)}}function Ide(y){return ND(2,y)}var kde=gle(function(y,A){A=A.length==1&&hn(A[0])?Or(A[0],ts(Kt())):Or(ya(A,1),ts(Kt()));var _=A.length;return bn(function(B){for(var F=-1,K=ka(B.length,_);++F<K;)B[F]=A[F].call(this,B[F]);return es(y,this,B)})}),lE=bn(function(y,A){var _=yf(A,y1(lE));return Od(y,x,n,A,_)}),zD=bn(function(y,A){var _=yf(A,y1(zD));return Od(y,C,n,A,_)}),Mde=zd(function(y,A){return Od(y,S,n,n,n,A)});function Tde(y,A){if(typeof y!="function")throw new Fs(s);return A=A===n?A:mn(A),bn(y,A)}function Bde(y,A){if(typeof y!="function")throw new Fs(s);return A=A==null?0:Fi(mn(A),0),bn(function(_){var B=_[A],F=_f(_,0,A);return B&&vf(F,B),es(y,this,F)})}function Rde(y,A,_){var B=!0,F=!0;if(typeof y!="function")throw new Fs(s);return Yr(_)&&(B="leading"in _?!!_.leading:B,F="trailing"in _?!!_.trailing:F),OD(y,A,{leading:B,maxWait:A,trailing:F})}function Dde(y){return LD(y,1)}function Pde(y,A){return lE(W7(A),y)}function Lde(){if(!arguments.length)return[];var y=arguments[0];return hn(y)?y:[y]}function Nde(y){return Os(y,v)}function $de(y,A){return A=typeof A=="function"?A:n,Os(y,v,A)}function Fde(y){return Os(y,p|v)}function jde(y,A){return A=typeof A=="function"?A:n,Os(y,p|v,A)}function Ode(y,A){return A==null||kR(y,A,oa(A))}function Ml(y,A){return y===A||y!==y&&A!==A}var zde=w6(D7),Qde=w6(function(y,A){return y>=A}),gp=PR(function(){return arguments}())?PR:function(y){return ci(y)&&tr.call(y,"callee")&&!AR.call(y,"callee")},hn=Re.isArray,Hde=nR?ts(nR):qse;function Uo(y){return y!=null&&T6(y.length)&&!Hd(y)}function wi(y){return ci(y)&&Uo(y)}function Gde(y){return y===!0||y===!1||ci(y)&&Za(y)==he}var Cf=ase||yE,Wde=rR?ts(rR):Jse;function Vde(y){return ci(y)&&y.nodeType===1&&!P2(y)}function Yde(y){if(y==null)return!0;if(Uo(y)&&(hn(y)||typeof y=="string"||typeof y.splice=="function"||Cf(y)||b1(y)||gp(y)))return!y.length;var A=Ma(y);if(A==ae||A==qe)return!y.size;if(R2(y))return!N7(y).length;for(var _ in y)if(tr.call(y,_))return!1;return!0}function Kde(y,A){return M2(y,A)}function Xde(y,A,_){_=typeof _=="function"?_:n;var B=_?_(y,A):n;return B===n?M2(y,A,n,_):!!B}function cE(y){if(!ci(y))return!1;var A=Za(y);return A==ze||A==Ee||typeof y.message=="string"&&typeof y.name=="string"&&!P2(y)}function Zde(y){return typeof y=="number"&&ER(y)}function Hd(y){if(!Yr(y))return!1;var A=Za(y);return A==at||A==q||A==le||A==Oe}function QD(y){return typeof y=="number"&&y==mn(y)}function T6(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=Z}function Yr(y){var A=typeof y;return y!=null&&(A=="object"||A=="function")}function ci(y){return y!=null&&typeof y=="object"}var HD=iR?ts(iR):tle;function qde(y,A){return y===A||L7(y,A,J7(A))}function Jde(y,A,_){return _=typeof _=="function"?_:n,L7(y,A,J7(A),_)}function eue(y){return GD(y)&&y!=+y}function tue(y){if($le(y))throw new un(o);return LR(y)}function nue(y){return y===null}function rue(y){return y==null}function GD(y){return typeof y=="number"||ci(y)&&Za(y)==Ae}function P2(y){if(!ci(y)||Za(y)!=Ce)return!1;var A=i6(y);if(A===null)return!0;var _=tr.call(A,"constructor")&&A.constructor;return typeof _=="function"&&_ instanceof _&&e6.call(_)==Joe}var dE=aR?ts(aR):nle;function iue(y){return QD(y)&&y>=-Z&&y<=Z}var WD=oR?ts(oR):rle;function B6(y){return typeof y=="string"||!hn(y)&&ci(y)&&Za(y)==We}function rs(y){return typeof y=="symbol"||ci(y)&&Za(y)==vt}var b1=sR?ts(sR):ile;function aue(y){return y===n}function oue(y){return ci(y)&&Ma(y)==it}function sue(y){return ci(y)&&Za(y)==St}var lue=w6($7),cue=w6(function(y,A){return y<=A});function VD(y){if(!y)return[];if(Uo(y))return B6(y)?Il(y):mo(y);if(w2&&y[w2])return Ooe(y[w2]());var A=Ma(y),_=A==ae?_7:A==qe?Zb:A1;return _(y)}function Gd(y){if(!y)return y===0?y:0;if(y=Hs(y),y===ne||y===-ne){var A=y<0?-1:1;return A*se}return y===y?y:0}function mn(y){var A=Gd(y),_=A%1;return A===A?_?A-_:A:0}function YD(y){return y?up(mn(y),0,V):0}function Hs(y){if(typeof y=="number")return y;if(rs(y))return O;if(Yr(y)){var A=typeof y.valueOf=="function"?y.valueOf():y;y=Yr(A)?A+"":A}if(typeof y!="string")return y===0?y:+y;y=hR(y);var _=Gb.test(y);return _||Wae.test(y)?xoe(y.slice(2),_?2:8):Ls.test(y)?O:+y}function KD(y){return _c(y,vo(y))}function due(y){return y?up(mn(y),-Z,Z):y===0?y:0}function Zn(y){return y==null?"":ns(y)}var uue=U1(function(y,A){if(R2(A)||Uo(A)){_c(A,oa(A),y);return}for(var _ in A)tr.call(A,_)&&S2(y,_,A[_])}),XD=U1(function(y,A){_c(A,vo(A),y)}),R6=U1(function(y,A,_,B){_c(A,vo(A),y,B)}),fue=U1(function(y,A,_,B){_c(A,oa(A),y,B)}),hue=zd(T7);function pue(y,A){var _=m1(y);return A==null?_:IR(_,A)}var gue=bn(function(y,A){y=mr(y);var _=-1,B=A.length,F=B>2?A[2]:n;for(F&&qa(A[0],A[1],F)&&(B=1);++_<B;)for(var K=A[_],ce=vo(K),fe=-1,ye=ce.length;++fe<ye;){var Xe=ce[fe],Ze=y[Xe];(Ze===n||Ml(Ze,h1[Xe])&&!tr.call(y,Xe))&&(y[Xe]=K[Xe])}return y}),mue=bn(function(y){return y.push(n,hD),es(ZD,n,y)});function Uue(y,A){return cR(y,Kt(A,3),xc)}function vue(y,A){return cR(y,Kt(A,3),R7)}function yue(y,A){return y==null?y:B7(y,Kt(A,3),vo)}function bue(y,A){return y==null?y:RR(y,Kt(A,3),vo)}function Aue(y,A){return y&&xc(y,Kt(A,3))}function wue(y,A){return y&&R7(y,Kt(A,3))}function Eue(y){return y==null?[]:p6(y,oa(y))}function xue(y){return y==null?[]:p6(y,vo(y))}function uE(y,A,_){var B=y==null?n:fp(y,A);return B===n?_:B}function _ue(y,A){return y!=null&&mD(y,A,Yse)}function fE(y,A){return y!=null&&mD(y,A,Kse)}var Cue=lD(function(y,A,_){A!=null&&typeof A.toString!="function"&&(A=t6.call(A)),y[A]=_},pE(yo)),Sue=lD(function(y,A,_){A!=null&&typeof A.toString!="function"&&(A=t6.call(A)),tr.call(y,A)?y[A].push(_):y[A]=[_]},Kt),Iue=bn(k2);function oa(y){return Uo(y)?CR(y):N7(y)}function vo(y){return Uo(y)?CR(y,!0):ale(y)}function kue(y,A){var _={};return A=Kt(A,3),xc(y,function(B,F,K){jd(_,A(B,F,K),B)}),_}function Mue(y,A){var _={};return A=Kt(A,3),xc(y,function(B,F,K){jd(_,F,A(B,F,K))}),_}var Tue=U1(function(y,A,_){g6(y,A,_)}),ZD=U1(function(y,A,_,B){g6(y,A,_,B)}),Bue=zd(function(y,A){var _={};if(y==null)return _;var B=!1;A=Or(A,function(K){return K=xf(K,y),B||(B=K.length>1),K}),_c(y,Z7(y),_),B&&(_=Os(_,p|g|v,Cle));for(var F=A.length;F--;)Q7(_,A[F]);return _});function Rue(y,A){return qD(y,M6(Kt(A)))}var Due=zd(function(y,A){return y==null?{}:sle(y,A)});function qD(y,A){if(y==null)return{};var _=Or(Z7(y),function(B){return[B]});return A=Kt(A),QR(y,_,function(B,F){return A(B,F[0])})}function Pue(y,A,_){A=xf(A,y);var B=-1,F=A.length;for(F||(F=1,y=n);++B<F;){var K=y==null?n:y[Cc(A[B])];K===n&&(B=F,K=_),y=Hd(K)?K.call(y):K}return y}function Lue(y,A,_){return y==null?y:T2(y,A,_)}function Nue(y,A,_,B){return B=typeof B=="function"?B:n,y==null?y:T2(y,A,_,B)}var JD=uD(oa),eP=uD(vo);function $ue(y,A,_){var B=hn(y),F=B||Cf(y)||b1(y);if(A=Kt(A,4),_==null){var K=y&&y.constructor;F?_=B?new K:[]:Yr(y)?_=Hd(K)?m1(i6(y)):{}:_={}}return(F?$s:xc)(y,function(ce,fe,ye){return A(_,ce,fe,ye)}),_}function Fue(y,A){return y==null?!0:Q7(y,A)}function jue(y,A,_){return y==null?y:YR(y,A,W7(_))}function Oue(y,A,_,B){return B=typeof B=="function"?B:n,y==null?y:YR(y,A,W7(_),B)}function A1(y){return y==null?[]:x7(y,oa(y))}function zue(y){return y==null?[]:x7(y,vo(y))}function Que(y,A,_){return _===n&&(_=A,A=n),_!==n&&(_=Hs(_),_=_===_?_:0),A!==n&&(A=Hs(A),A=A===A?A:0),up(Hs(y),A,_)}function Hue(y,A,_){return A=Gd(A),_===n?(_=A,A=0):_=Gd(_),y=Hs(y),Xse(y,A,_)}function Gue(y,A,_){if(_&&typeof _!="boolean"&&qa(y,A,_)&&(A=_=n),_===n&&(typeof A=="boolean"?(_=A,A=n):typeof y=="boolean"&&(_=y,y=n)),y===n&&A===n?(y=0,A=1):(y=Gd(y),A===n?(A=y,y=0):A=Gd(A)),y>A){var B=y;y=A,A=B}if(_||y%1||A%1){var F=xR();return ka(y+F*(A-y+Eoe("1e-"+((F+"").length-1))),A)}return j7(y,A)}var Wue=v1(function(y,A,_){return A=A.toLowerCase(),y+(_?tP(A):A)});function tP(y){return hE(Zn(y).toLowerCase())}function nP(y){return y=Zn(y),y&&y.replace(Yae,Loe).replace(hoe,"")}function Vue(y,A,_){y=Zn(y),A=ns(A);var B=y.length;_=_===n?B:up(mn(_),0,B);var F=_;return _-=A.length,_>=0&&y.slice(_,F)==A}function Yue(y){return y=Zn(y),y&&G.test(y)?y.replace(Be,Noe):y}function Kue(y){return y=Zn(y),y&&jr.test(y)?y.replace(Jo,"\\$&"):y}var Xue=v1(function(y,A,_){return y+(_?"-":"")+A.toLowerCase()}),Zue=v1(function(y,A,_){return y+(_?" ":"")+A.toLowerCase()}),que=aD("toLowerCase");function Jue(y,A,_){y=Zn(y),A=mn(A);var B=A?f1(y):0;if(!A||B>=A)return y;var F=(A-B)/2;return A6(l6(F),_)+y+A6(s6(F),_)}function efe(y,A,_){y=Zn(y),A=mn(A);var B=A?f1(y):0;return A&&B<A?y+A6(A-B,_):y}function tfe(y,A,_){y=Zn(y),A=mn(A);var B=A?f1(y):0;return A&&B<A?A6(A-B,_)+y:y}function nfe(y,A,_){return _||A==null?A=0:A&&(A=+A),cse(Zn(y).replace(wn,""),A||0)}function rfe(y,A,_){return(_?qa(y,A,_):A===n)?A=1:A=mn(A),O7(Zn(y),A)}function ife(){var y=arguments,A=Zn(y[0]);return y.length<3?A:A.replace(y[1],y[2])}var afe=v1(function(y,A,_){return y+(_?"_":"")+A.toLowerCase()});function ofe(y,A,_){return _&&typeof _!="number"&&qa(y,A,_)&&(A=_=n),_=_===n?V:_>>>0,_?(y=Zn(y),y&&(typeof A=="string"||A!=null&&!dE(A))&&(A=ns(A),!A&&u1(y))?_f(Il(y),0,_):y.split(A,_)):[]}var sfe=v1(function(y,A,_){return y+(_?" ":"")+hE(A)});function lfe(y,A,_){return y=Zn(y),_=_==null?0:up(mn(_),0,y.length),A=ns(A),y.slice(_,_+A.length)==A}function cfe(y,A,_){var B=W.templateSettings;_&&qa(y,A,_)&&(A=n),y=Zn(y),A=R6({},A,B,fD);var F=R6({},A.imports,B.imports,fD),K=oa(F),ce=x7(F,K),fe,ye,Xe=0,Ze=A.interpolate||Wb,et="__p += '",yt=C7((A.escape||Wb).source+"|"+Ze.source+"|"+(Ze===Dt?Ni:Wb).source+"|"+(A.evaluate||Wb).source+"|$","g"),Lt="//# sourceURL="+(tr.call(A,"sourceURL")?(A.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++voe+"]")+`
`;y.replace(yt,function(Jt,En,Tn,is,Ja,as){return Tn||(Tn=is),et+=y.slice(Xe,as).replace(Kae,$oe),En&&(fe=!0,et+=`' +
__e(`+En+`) +
'`),Ja&&(ye=!0,et+=`';
`+Ja+`;
__p += '`),Tn&&(et+=`' +
((__t = (`+Tn+`)) == null ? '' : __t) +
'`),Xe=as+Jt.length,Jt}),et+=`';
`;var qt=tr.call(A,"variable")&&A.variable;if(!qt)et=`with (obj) {
`+et+`
}
`;else if(li.test(qt))throw new un(l);et=(ye?et.replace(z,""):et).replace(nt,"$1").replace(Yt,"$1;"),et="function("+(qt||"obj")+`) {
`+(qt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(fe?", __e = _.escape":"")+(ye?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+et+`return __p
}`;var vn=iP(function(){return Wn(K,Lt+"return "+et).apply(n,ce)});if(vn.source=et,cE(vn))throw vn;return vn}function dfe(y){return Zn(y).toLowerCase()}function ufe(y){return Zn(y).toUpperCase()}function ffe(y,A,_){if(y=Zn(y),y&&(_||A===n))return hR(y);if(!y||!(A=ns(A)))return y;var B=Il(y),F=Il(A),K=pR(B,F),ce=gR(B,F)+1;return _f(B,K,ce).join("")}function hfe(y,A,_){if(y=Zn(y),y&&(_||A===n))return y.slice(0,UR(y)+1);if(!y||!(A=ns(A)))return y;var B=Il(y),F=gR(B,Il(A))+1;return _f(B,0,F).join("")}function pfe(y,A,_){if(y=Zn(y),y&&(_||A===n))return y.replace(wn,"");if(!y||!(A=ns(A)))return y;var B=Il(y),F=pR(B,Il(A));return _f(B,F).join("")}function gfe(y,A){var _=R,B=D;if(Yr(A)){var F="separator"in A?A.separator:F;_="length"in A?mn(A.length):_,B="omission"in A?ns(A.omission):B}y=Zn(y);var K=y.length;if(u1(y)){var ce=Il(y);K=ce.length}if(_>=K)return y;var fe=_-f1(B);if(fe<1)return B;var ye=ce?_f(ce,0,fe).join(""):y.slice(0,fe);if(F===n)return ye+B;if(ce&&(fe+=ye.length-fe),dE(F)){if(y.slice(fe).search(F)){var Xe,Ze=ye;for(F.global||(F=C7(F.source,Zn(Ps.exec(F))+"g")),F.lastIndex=0;Xe=F.exec(Ze);)var et=Xe.index;ye=ye.slice(0,et===n?fe:et)}}else if(y.indexOf(ns(F),fe)!=fe){var yt=ye.lastIndexOf(F);yt>-1&&(ye=ye.slice(0,yt))}return ye+B}function mfe(y){return y=Zn(y),y&&Le.test(y)?y.replace(T,Goe):y}var Ufe=v1(function(y,A,_){return y+(_?" ":"")+A.toUpperCase()}),hE=aD("toUpperCase");function rP(y,A,_){return y=Zn(y),A=_?n:A,A===n?joe(y)?Yoe(y):Toe(y):y.match(A)||[]}var iP=bn(function(y,A){try{return es(y,n,A)}catch(_){return cE(_)?_:new un(_)}}),vfe=zd(function(y,A){return $s(A,function(_){_=Cc(_),jd(y,_,sE(y[_],y))}),y});function yfe(y){var A=y==null?0:y.length,_=Kt();return y=A?Or(y,function(B){if(typeof B[1]!="function")throw new Fs(s);return[_(B[0]),B[1]]}):[],bn(function(B){for(var F=-1;++F<A;){var K=y[F];if(es(K[0],this,B))return es(K[1],this,B)}})}function bfe(y){return Gse(Os(y,p))}function pE(y){return function(){return y}}function Afe(y,A){return y==null||y!==y?A:y}var wfe=sD(),Efe=sD(!0);function yo(y){return y}function gE(y){return NR(typeof y=="function"?y:Os(y,p))}function xfe(y){return FR(Os(y,p))}function _fe(y,A){return jR(y,Os(A,p))}var Cfe=bn(function(y,A){return function(_){return k2(_,y,A)}}),Sfe=bn(function(y,A){return function(_){return k2(y,_,A)}});function mE(y,A,_){var B=oa(A),F=p6(A,B);_==null&&!(Yr(A)&&(F.length||!B.length))&&(_=A,A=y,y=this,F=p6(A,oa(A)));var K=!(Yr(_)&&"chain"in _)||!!_.chain,ce=Hd(y);return $s(F,function(fe){var ye=A[fe];y[fe]=ye,ce&&(y.prototype[fe]=function(){var Xe=this.__chain__;if(K||Xe){var Ze=y(this.__wrapped__),et=Ze.__actions__=mo(this.__actions__);return et.push({func:ye,args:arguments,thisArg:y}),Ze.__chain__=Xe,Ze}return ye.apply(y,vf([this.value()],arguments))})}),y}function Ife(){return aa._===this&&(aa._=ese),this}function UE(){}function kfe(y){return y=mn(y),bn(function(A){return OR(A,y)})}var Mfe=Y7(Or),Tfe=Y7(lR),Bfe=Y7(y7);function aP(y){return tE(y)?b7(Cc(y)):lle(y)}function Rfe(y){return function(A){return y==null?n:fp(y,A)}}var Dfe=cD(),Pfe=cD(!0);function vE(){return[]}function yE(){return!1}function Lfe(){return{}}function Nfe(){return""}function $fe(){return!0}function Ffe(y,A){if(y=mn(y),y<1||y>Z)return[];var _=V,B=ka(y,V);A=Kt(A),y-=V;for(var F=E7(B,A);++_<y;)A(_);return F}function jfe(y){return hn(y)?Or(y,Cc):rs(y)?[y]:mo(_D(Zn(y)))}function Ofe(y){var A=++qoe;return Zn(y)+A}var zfe=b6(function(y,A){return y+A},0),Qfe=K7("ceil"),Hfe=b6(function(y,A){return y/A},1),Gfe=K7("floor");function Wfe(y){return y&&y.length?h6(y,yo,D7):n}function Vfe(y,A){return y&&y.length?h6(y,Kt(A,2),D7):n}function Yfe(y){return uR(y,yo)}function Kfe(y,A){return uR(y,Kt(A,2))}function Xfe(y){return y&&y.length?h6(y,yo,$7):n}function Zfe(y,A){return y&&y.length?h6(y,Kt(A,2),$7):n}var qfe=b6(function(y,A){return y*A},1),Jfe=K7("round"),ehe=b6(function(y,A){return y-A},0);function the(y){return y&&y.length?w7(y,yo):0}function nhe(y,A){return y&&y.length?w7(y,Kt(A,2)):0}return W.after=xde,W.ary=LD,W.assign=uue,W.assignIn=XD,W.assignInWith=R6,W.assignWith=fue,W.at=hue,W.before=ND,W.bind=sE,W.bindAll=vfe,W.bindKey=$D,W.castArray=Lde,W.chain=RD,W.chunk=Gle,W.compact=Wle,W.concat=Vle,W.cond=yfe,W.conforms=bfe,W.constant=pE,W.countBy=tde,W.create=pue,W.curry=FD,W.curryRight=jD,W.debounce=OD,W.defaults=gue,W.defaultsDeep=mue,W.defer=_de,W.delay=Cde,W.difference=Yle,W.differenceBy=Kle,W.differenceWith=Xle,W.drop=Zle,W.dropRight=qle,W.dropRightWhile=Jle,W.dropWhile=ece,W.fill=tce,W.filter=rde,W.flatMap=ode,W.flatMapDeep=sde,W.flatMapDepth=lde,W.flatten=kD,W.flattenDeep=nce,W.flattenDepth=rce,W.flip=Sde,W.flow=wfe,W.flowRight=Efe,W.fromPairs=ice,W.functions=Eue,W.functionsIn=xue,W.groupBy=cde,W.initial=oce,W.intersection=sce,W.intersectionBy=lce,W.intersectionWith=cce,W.invert=Cue,W.invertBy=Sue,W.invokeMap=ude,W.iteratee=gE,W.keyBy=fde,W.keys=oa,W.keysIn=vo,W.map=S6,W.mapKeys=kue,W.mapValues=Mue,W.matches=xfe,W.matchesProperty=_fe,W.memoize=k6,W.merge=Tue,W.mergeWith=ZD,W.method=Cfe,W.methodOf=Sfe,W.mixin=mE,W.negate=M6,W.nthArg=kfe,W.omit=Bue,W.omitBy=Rue,W.once=Ide,W.orderBy=hde,W.over=Mfe,W.overArgs=kde,W.overEvery=Tfe,W.overSome=Bfe,W.partial=lE,W.partialRight=zD,W.partition=pde,W.pick=Due,W.pickBy=qD,W.property=aP,W.propertyOf=Rfe,W.pull=hce,W.pullAll=TD,W.pullAllBy=pce,W.pullAllWith=gce,W.pullAt=mce,W.range=Dfe,W.rangeRight=Pfe,W.rearg=Mde,W.reject=Ude,W.remove=Uce,W.rest=Tde,W.reverse=aE,W.sampleSize=yde,W.set=Lue,W.setWith=Nue,W.shuffle=bde,W.slice=vce,W.sortBy=Ede,W.sortedUniq=_ce,W.sortedUniqBy=Cce,W.split=ofe,W.spread=Bde,W.tail=Sce,W.take=Ice,W.takeRight=kce,W.takeRightWhile=Mce,W.takeWhile=Tce,W.tap=Wce,W.throttle=Rde,W.thru=C6,W.toArray=VD,W.toPairs=JD,W.toPairsIn=eP,W.toPath=jfe,W.toPlainObject=KD,W.transform=$ue,W.unary=Dde,W.union=Bce,W.unionBy=Rce,W.unionWith=Dce,W.uniq=Pce,W.uniqBy=Lce,W.uniqWith=Nce,W.unset=Fue,W.unzip=oE,W.unzipWith=BD,W.update=jue,W.updateWith=Oue,W.values=A1,W.valuesIn=zue,W.without=$ce,W.words=rP,W.wrap=Pde,W.xor=Fce,W.xorBy=jce,W.xorWith=Oce,W.zip=zce,W.zipObject=Qce,W.zipObjectDeep=Hce,W.zipWith=Gce,W.entries=JD,W.entriesIn=eP,W.extend=XD,W.extendWith=R6,mE(W,W),W.add=zfe,W.attempt=iP,W.camelCase=Wue,W.capitalize=tP,W.ceil=Qfe,W.clamp=Que,W.clone=Nde,W.cloneDeep=Fde,W.cloneDeepWith=jde,W.cloneWith=$de,W.conformsTo=Ode,W.deburr=nP,W.defaultTo=Afe,W.divide=Hfe,W.endsWith=Vue,W.eq=Ml,W.escape=Yue,W.escapeRegExp=Kue,W.every=nde,W.find=ide,W.findIndex=SD,W.findKey=Uue,W.findLast=ade,W.findLastIndex=ID,W.findLastKey=vue,W.floor=Gfe,W.forEach=DD,W.forEachRight=PD,W.forIn=yue,W.forInRight=bue,W.forOwn=Aue,W.forOwnRight=wue,W.get=uE,W.gt=zde,W.gte=Qde,W.has=_ue,W.hasIn=fE,W.head=MD,W.identity=yo,W.includes=dde,W.indexOf=ace,W.inRange=Hue,W.invoke=Iue,W.isArguments=gp,W.isArray=hn,W.isArrayBuffer=Hde,W.isArrayLike=Uo,W.isArrayLikeObject=wi,W.isBoolean=Gde,W.isBuffer=Cf,W.isDate=Wde,W.isElement=Vde,W.isEmpty=Yde,W.isEqual=Kde,W.isEqualWith=Xde,W.isError=cE,W.isFinite=Zde,W.isFunction=Hd,W.isInteger=QD,W.isLength=T6,W.isMap=HD,W.isMatch=qde,W.isMatchWith=Jde,W.isNaN=eue,W.isNative=tue,W.isNil=rue,W.isNull=nue,W.isNumber=GD,W.isObject=Yr,W.isObjectLike=ci,W.isPlainObject=P2,W.isRegExp=dE,W.isSafeInteger=iue,W.isSet=WD,W.isString=B6,W.isSymbol=rs,W.isTypedArray=b1,W.isUndefined=aue,W.isWeakMap=oue,W.isWeakSet=sue,W.join=dce,W.kebabCase=Xue,W.last=Qs,W.lastIndexOf=uce,W.lowerCase=Zue,W.lowerFirst=que,W.lt=lue,W.lte=cue,W.max=Wfe,W.maxBy=Vfe,W.mean=Yfe,W.meanBy=Kfe,W.min=Xfe,W.minBy=Zfe,W.stubArray=vE,W.stubFalse=yE,W.stubObject=Lfe,W.stubString=Nfe,W.stubTrue=$fe,W.multiply=qfe,W.nth=fce,W.noConflict=Ife,W.noop=UE,W.now=I6,W.pad=Jue,W.padEnd=efe,W.padStart=tfe,W.parseInt=nfe,W.random=Gue,W.reduce=gde,W.reduceRight=mde,W.repeat=rfe,W.replace=ife,W.result=Pue,W.round=Jfe,W.runInContext=Ue,W.sample=vde,W.size=Ade,W.snakeCase=afe,W.some=wde,W.sortedIndex=yce,W.sortedIndexBy=bce,W.sortedIndexOf=Ace,W.sortedLastIndex=wce,W.sortedLastIndexBy=Ece,W.sortedLastIndexOf=xce,W.startCase=sfe,W.startsWith=lfe,W.subtract=ehe,W.sum=the,W.sumBy=nhe,W.template=cfe,W.times=Ffe,W.toFinite=Gd,W.toInteger=mn,W.toLength=YD,W.toLower=dfe,W.toNumber=Hs,W.toSafeInteger=due,W.toString=Zn,W.toUpper=ufe,W.trim=ffe,W.trimEnd=hfe,W.trimStart=pfe,W.truncate=gfe,W.unescape=mfe,W.uniqueId=Ofe,W.upperCase=Ufe,W.upperFirst=hE,W.each=DD,W.eachRight=PD,W.first=MD,mE(W,function(){var y={};return xc(W,function(A,_){tr.call(W.prototype,_)||(y[_]=A)}),y}(),{chain:!1}),W.VERSION=r,$s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){W[y].placeholder=W}),$s(["drop","take"],function(y,A){Cn.prototype[y]=function(_){_=_===n?1:Fi(mn(_),0);var B=this.__filtered__&&!A?new Cn(this):this.clone();return B.__filtered__?B.__takeCount__=ka(_,B.__takeCount__):B.__views__.push({size:ka(_,V),type:y+(B.__dir__<0?"Right":"")}),B},Cn.prototype[y+"Right"]=function(_){return this.reverse()[y](_).reverse()}}),$s(["filter","map","takeWhile"],function(y,A){var _=A+1,B=_==re||_==H;Cn.prototype[y]=function(F){var K=this.clone();return K.__iteratees__.push({iteratee:Kt(F,3),type:_}),K.__filtered__=K.__filtered__||B,K}}),$s(["head","last"],function(y,A){var _="take"+(A?"Right":"");Cn.prototype[y]=function(){return this[_](1).value()[0]}}),$s(["initial","tail"],function(y,A){var _="drop"+(A?"":"Right");Cn.prototype[y]=function(){return this.__filtered__?new Cn(this):this[_](1)}}),Cn.prototype.compact=function(){return this.filter(yo)},Cn.prototype.find=function(y){return this.filter(y).head()},Cn.prototype.findLast=function(y){return this.reverse().find(y)},Cn.prototype.invokeMap=bn(function(y,A){return typeof y=="function"?new Cn(this):this.map(function(_){return k2(_,y,A)})}),Cn.prototype.reject=function(y){return this.filter(M6(Kt(y)))},Cn.prototype.slice=function(y,A){y=mn(y);var _=this;return _.__filtered__&&(y>0||A<0)?new Cn(_):(y<0?_=_.takeRight(-y):y&&(_=_.drop(y)),A!==n&&(A=mn(A),_=A<0?_.dropRight(-A):_.take(A-y)),_)},Cn.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()},Cn.prototype.toArray=function(){return this.take(V)},xc(Cn.prototype,function(y,A){var _=/^(?:filter|find|map|reject)|While$/.test(A),B=/^(?:head|last)$/.test(A),F=W[B?"take"+(A=="last"?"Right":""):A],K=B||/^find/.test(A);F&&(W.prototype[A]=function(){var ce=this.__wrapped__,fe=B?[1]:arguments,ye=ce instanceof Cn,Xe=fe[0],Ze=ye||hn(ce),et=function(En){var Tn=F.apply(W,vf([En],fe));return B&&yt?Tn[0]:Tn};Ze&&_&&typeof Xe=="function"&&Xe.length!=1&&(ye=Ze=!1);var yt=this.__chain__,Lt=!!this.__actions__.length,qt=K&&!yt,vn=ye&&!Lt;if(!K&&Ze){ce=vn?ce:new Cn(this);var Jt=y.apply(ce,fe);return Jt.__actions__.push({func:C6,args:[et],thisArg:n}),new js(Jt,yt)}return qt&&vn?y.apply(this,fe):(Jt=this.thru(et),qt?B?Jt.value()[0]:Jt.value():Jt)})}),$s(["pop","push","shift","sort","splice","unshift"],function(y){var A=qb[y],_=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",B=/^(?:pop|shift)$/.test(y);W.prototype[y]=function(){var F=arguments;if(B&&!this.__chain__){var K=this.value();return A.apply(hn(K)?K:[],F)}return this[_](function(ce){return A.apply(hn(ce)?ce:[],F)})}}),xc(Cn.prototype,function(y,A){var _=W[A];if(_){var B=_.name+"";tr.call(g1,B)||(g1[B]=[]),g1[B].push({name:A,func:_})}}),g1[y6(n,U).name]=[{name:"wrapper",func:n}],Cn.prototype.clone=mse,Cn.prototype.reverse=Use,Cn.prototype.value=vse,W.prototype.at=Vce,W.prototype.chain=Yce,W.prototype.commit=Kce,W.prototype.next=Xce,W.prototype.plant=qce,W.prototype.reverse=Jce,W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=ede,W.prototype.first=W.prototype.head,w2&&(W.prototype[w2]=Zce),W},bf=Koe();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(aa._=bf,define(function(){return bf})):sp?((sp.exports=bf)._=bf,g7._=bf):aa._=bf}).call(e)});N();var dne=te(Fe(),1);N();var EO=te(Fe(),1);N();N();N();N();var sl=te(Fe(),1);N();var PNe=0;function LNe(e,t){let n=`atom${++PNe}`,r={toString:()=>n};return typeof e=="function"?r.read=e:(r.init=e,r.read=a=>a(r),r.write=(a,o,s)=>o(r,typeof s=="function"?s(a(r)):s)),r}var Wh=Symbol(),wS=e=>!!e[Wh],T5=e=>!e[Wh].c,sU=e=>{var t;let{b:n,c:r}=e[Wh];r&&(r(),(t=$Ne.get(n))==null||t())},lA=(e,t)=>{let n=e[Wh].o,r=t[Wh].o;return n===r||e===r||wS(n)&&lA(n,t)},ES=(e,t)=>{let n={b:e,o:t,c:null},r=new Promise(a=>{n.c=()=>{n.c=null,a()},t.finally(n.c)});return r[Wh]=n,r},NNe=e=>ES(e[Wh].b,e[Wh].o),$Ne=new WeakMap,B5=e=>"init"in e,Wy="r",rw="w",Vy="c",iw="s",xO="h",FNe="n",jNe="l",ONe="a",zNe="m",une=e=>{let t=new WeakMap,n=new WeakMap,r=new Map,a,o;if((gt&&gt.MODE)!=="production"&&(a=new Set,o=new Set),e)for(let[O,V]of e){let de={v:V,r:0,y:!0,d:new Map};(gt&&gt.MODE)!=="production"&&(Object.freeze(de),B5(O)||console.warn("Found initial value for derived atom which can cause unexpected behavior",O)),t.set(O,de)}let s=new WeakMap,l=(O,V,de)=>{let oe=s.get(V);oe||(oe=new Map,s.set(V,oe)),de.then(()=>{oe.get(O)===de&&(oe.delete(O),oe.size||s.delete(V))}),oe.set(O,de)},d=O=>{let V=new Set,de=s.get(O);return de&&(s.delete(O),de.forEach((oe,me)=>{sU(oe),V.add(me)})),V},u=new WeakMap,f=O=>{let V=u.get(O);return V||(V=new Map,u.set(O,V)),V},p=(O,V)=>{if(O){let de=f(O),oe=de.get(V);return oe||(oe=p(O.p,V),oe&&"p"in oe&&T5(oe.p)&&(oe=void 0),oe&&de.set(V,oe)),oe}return t.get(V)},g=(O,V,de)=>{if((gt&&gt.MODE)!=="production"&&Object.freeze(de),O)f(O).set(V,de);else{let oe=t.get(V);t.set(V,de),r.has(V)||r.set(V,oe)}},v=(O,V=new Map,de)=>{if(!de)return V;let oe=new Map,me=!1;return de.forEach(ve=>{var xe;let le=((xe=p(O,ve))==null?void 0:xe.r)||0;oe.set(ve,le),V.get(ve)!==le&&(me=!0)}),V.size===oe.size&&!me?V:oe},c=(O,V,de,oe,me)=>{let ve=p(O,V);if(ve){if(me&&(!("p"in ve)||!lA(ve.p,me)))return ve;"p"in ve&&sU(ve.p)}let xe={v:de,r:(ve==null?void 0:ve.r)||0,y:!0,d:v(O,ve==null?void 0:ve.d,oe)},le=!(ve!=null&&ve.y);return!ve||!("v"in ve)||!Object.is(ve.v,de)?(le=!0,++xe.r,xe.d.has(V)&&(xe.d=new Map(xe.d).set(V,xe.r))):xe.d!==ve.d&&(xe.d.size!==ve.d.size||!Array.from(xe.d.keys()).every(he=>ve.d.has(he)))&&(le=!0,Promise.resolve().then(()=>{J(O)})),ve&&!le?ve:(g(O,V,xe),xe)},h=(O,V,de,oe,me)=>{let ve=p(O,V);if(ve){if(me&&(!("p"in ve)||!lA(ve.p,me)))return ve;"p"in ve&&sU(ve.p)}let xe={e:de,r:((ve==null?void 0:ve.r)||0)+1,y:!0,d:v(O,ve==null?void 0:ve.d,oe)};return g(O,V,xe),xe},m=(O,V,de,oe)=>{let me=p(O,V);if(me&&"p"in me){if(lA(me.p,de)&&!T5(me.p))return me.y?me:{...me,y:!0};sU(me.p)}l(O,V,de);let ve={p:de,r:((me==null?void 0:me.r)||0)+1,y:!0,d:v(O,me==null?void 0:me.d,oe)};return g(O,V,ve),ve},U=(O,V,de,oe)=>{if(de instanceof Promise){let me=ES(de,de.then(ve=>{c(O,V,ve,oe,me)}).catch(ve=>{if(ve instanceof Promise)return wS(ve)?ve.then(()=>{w(O,V,!0)}):ve;h(O,V,ve,oe,me)}));return m(O,V,me,oe)}return c(O,V,de,oe)},b=(O,V)=>{let de=p(O,V);if(de){let oe={...de,y:!1};g(O,V,oe)}else(gt&&gt.MODE)!=="production"&&console.warn("[Bug] could not invalidate non existing atom",V)},w=(O,V,de)=>{if(!de){let me=p(O,V);if(me){if(me.y&&"p"in me&&!T5(me.p))return me;if(me.d.forEach((ve,xe)=>{if(xe!==V)if(!n.has(xe))w(O,xe);else{let le=p(O,xe);le&&!le.y&&w(O,xe)}}),Array.from(me.d).every(([ve,xe])=>{let le=p(O,ve);return le&&!("p"in le)&&le.r===xe}))return me.y?me:{...me,y:!0}}}let oe=new Set;try{let me=V.read(ve=>{oe.add(ve);let xe=ve===V?p(O,ve):w(O,ve);if(xe){if("e"in xe)throw xe.e;if("p"in xe)throw xe.p;return xe.v}if(B5(ve))return ve.init;throw new Error("no atom init")});return U(O,V,me,oe)}catch(me){if(me instanceof Promise){let ve=wS(me)&&T5(me)?NNe(me):ES(me,me);return m(O,V,ve,oe)}return h(O,V,me,oe)}},E=(O,V)=>w(V,O),x=(O,V)=>{let de=n.get(V);return de||(de=L(O,V)),de},C=(O,V)=>!V.l.size&&(!V.t.size||V.t.size===1&&V.t.has(O)),I=(O,V)=>{let de=n.get(V);de&&C(V,de)&&j(O,V)},S=(O,V)=>{let de=n.get(V);de==null||de.t.forEach(oe=>{oe!==V&&(b(O,oe),S(O,oe))})},M=(O,V,de)=>{let oe=!0,me=(le,he)=>{let ge=w(O,le);if("e"in ge)throw ge.e;if("p"in ge){if(he!=null&&he.unstable_promise)return ge.p.then(()=>{let Ee=p(O,le);return Ee&&"p"in Ee&&Ee.p===ge.p?new Promise(ze=>setTimeout(ze)).then(()=>me(le,he)):me(le,he)});throw(gt&&gt.MODE)!=="production"&&console.info("Reading pending atom state in write operation. We throw a promise for now.",le),ge.p}if("v"in ge)return ge.v;throw(gt&&gt.MODE)!=="production"&&console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",le),new Error("no value found")},ve=(le,he)=>{let ge;if(le===V){if(!B5(le))throw new Error("atom not writable");d(le).forEach(at=>{at!==O&&U(at,le,he)});let Ee=p(O,le),ze=U(O,le,he);Ee!==ze&&S(O,le)}else ge=M(O,le,he);return oe||J(O),ge},xe=V.write(me,ve,de);return oe=!1,xe},R=(O,V,de)=>{let oe=M(de,O,V);return J(de),oe},D=O=>!!O.write,L=(O,V,de)=>{let oe={t:new Set(de&&[de]),l:new Set};if(n.set(V,oe),(gt&&gt.MODE)!=="production"&&o.add(V),w(void 0,V).d.forEach((me,ve)=>{let xe=n.get(ve);xe?xe.t.add(V):ve!==V&&L(O,ve,V)}),D(V)&&V.onMount){let me=xe=>R(V,xe,O),ve=V.onMount(me);O=void 0,ve&&(oe.u=ve)}return oe},j=(O,V)=>{var de;let oe=(de=n.get(V))==null?void 0:de.u;oe&&oe(),n.delete(V),(gt&&gt.MODE)!=="production"&&o.delete(V);let me=p(O,V);me?("p"in me&&sU(me.p),me.d.forEach((ve,xe)=>{if(xe!==V){let le=n.get(xe);le&&(le.t.delete(V),C(xe,le)&&j(O,xe))}})):(gt&&gt.MODE)!=="production"&&console.warn("[Bug] could not find atom state to unmount",V)},re=(O,V,de,oe)=>{let me=new Set(de.d.keys());oe==null||oe.forEach((ve,xe)=>{if(me.has(xe)){me.delete(xe);return}let le=n.get(xe);le&&(le.t.delete(V),C(xe,le)&&j(O,xe))}),me.forEach(ve=>{let xe=n.get(ve);xe?xe.t.add(V):n.has(V)&&L(O,ve,V)})},J=O=>{if(O){f(O).forEach((V,de)=>{let oe=t.get(de);if(V!==oe){let me=n.get(de);me==null||me.l.forEach(ve=>ve(O))}});return}for(;r.size;){let V=Array.from(r);r.clear(),V.forEach(([de,oe])=>{let me=p(void 0,de);if(me&&me.d!==(oe==null?void 0:oe.d)&&re(void 0,de,me,oe==null?void 0:oe.d),oe&&!oe.y&&(me==null?void 0:me.y))return;let ve=n.get(de);ve==null||ve.l.forEach(xe=>xe())})}(gt&&gt.MODE)!=="production"&&a.forEach(V=>V())},H=O=>{f(O).forEach((V,de)=>{let oe=t.get(de);(!oe||V.r>oe.r||V.y!==oe.y||V.r===oe.r&&V.d!==oe.d)&&(t.set(de,V),V.d!==(oe==null?void 0:oe.d)&&re(O,de,V,oe==null?void 0:oe.d))})},ne=(O,V)=>{V&&H(V),J(void 0)},Z=(O,V,de)=>{let oe=x(de,O).l;return oe.add(V),()=>{oe.delete(V),I(de,O)}},se=(O,V)=>{for(let[de,oe]of O)B5(de)&&(U(V,de,oe),S(V,de));J(V)};return(gt&&gt.MODE)!=="production"?{[Wy]:E,[rw]:R,[Vy]:ne,[iw]:Z,[xO]:se,[FNe]:O=>(a.add(O),()=>{a.delete(O)}),[jNe]:()=>o.values(),[ONe]:O=>t.get(O),[zNe]:O=>n.get(O)}:{[Wy]:E,[rw]:R,[Vy]:ne,[iw]:Z,[xO]:se}},QNe=e=>{let t=une(e),n=a=>{let o=t[Wy](a);if("e"in o)throw o.e;if(!("p"in o))return o.v},r=a=>new Promise((o,s)=>{let l=t[Wy](a);"e"in l?s(l.e):"p"in l?o(l.p.then(()=>r(a))):o(l.v)});return{get:n,asyncGet:r,set:(a,o)=>t[rw](a,o),sub:(a,o)=>t[iw](a,o),SECRET_INTERNAL_store:t}},fne=(e,t)=>({s:t?t(e).SECRET_INTERNAL_store:une(e)}),Kx=new Map,FT=e=>(Kx.has(e)||Kx.set(e,(0,sl.createContext)(fne())),Kx.get(e)),hne=({children:e,initialValues:t,scope:n,unstable_createStore:r,unstable_enableVersionedWrite:a})=>{let[o,s]=(0,sl.useState)({});(0,sl.useEffect)(()=>{let u=l.current;u.w&&(u.s[Vy](null,o),delete o.p,u.v=o)},[o]);let l=(0,sl.useRef)();if(!l.current){let u=fne(t,r);if(a){let f=0;u.w=p=>{s(g=>{let v=f?g:{p:g};return p(v),v})},u.v=o,u.r=p=>{++f,p(),--f}}l.current=u}let d=FT(n);return(0,sl.createElement)(d.Provider,{value:l.current},e)};function Ya(e,t){return LNe(e)}function jT(e,t){let n=FT(t),r=(0,sl.useContext)(n),{s:a,v:o}=r,s=g=>{let v=a[Wy](e,g);if((gt&&gt.MODE)!=="production"&&!v.y)throw new Error("should not be invalidated");if("e"in v)throw v.e;if("p"in v)throw v.p;if("v"in v)return v.v;throw new Error("no atom value")},[[l,d,u],f]=(0,sl.useReducer)((g,v)=>{let c=s(v);return Object.is(g[1],c)&&g[2]===e?g:[v,c,e]},o,g=>{let v=s(g);return[g,v,e]}),p=d;return u!==e&&(f(l),p=s(l)),(0,sl.useEffect)(()=>{let{v:g}=r;g&&a[Vy](e,g);let v=a[iw](e,f,g);return f(g),v},[a,e,r]),(0,sl.useEffect)(()=>{a[Vy](e,l)}),(0,sl.useDebugValue)(p),p}function Lb(e,t){let n=FT(t),{s:r,w:a}=(0,sl.useContext)(n);return(0,sl.useCallback)(o=>{if((gt&&gt.MODE)!=="production"&&!("write"in e))throw new Error("not writable atom");let s=l=>r[rw](e,o,l);return a?a(s):s()},[r,a,e])}function si(e,t){return"scope"in e&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),t=e.scope),[jT(e,t),Lb(e,t)]}te(Fe(),1);var ta=Symbol(),ac=QNe(),HNe=Qxe({"./locales/ar-SA.json":()=>Ye(()=>import("./ar-SA-MV5ZQ2W5-B-xvWgLi.js"),[],import.meta.url),"./locales/az-AZ.json":()=>Ye(()=>import("./az-AZ-BK6PNAXT-3u-bocYM.js"),[],import.meta.url),"./locales/bg-BG.json":()=>Ye(()=>import("./bg-BG-GCTBXIHZ-DwAuqzSU.js"),[],import.meta.url),"./locales/bn-BD.json":()=>Ye(()=>import("./bn-BD-QTMQMM2A-Ba5sNi3F.js"),[],import.meta.url),"./locales/ca-ES.json":()=>Ye(()=>import("./ca-ES-CJKR7U4D-HXEL_cuu.js"),[],import.meta.url),"./locales/cs-CZ.json":()=>Ye(()=>import("./cs-CZ-E6RD7VRF-ChR60SP6.js"),[],import.meta.url),"./locales/da-DK.json":()=>Ye(()=>import("./da-DK-GA7WAOB4-CimLdVv_.js"),[],import.meta.url),"./locales/de-DE.json":()=>Ye(()=>import("./de-DE-WQGVYODE-BtrICLBb.js"),[],import.meta.url),"./locales/el-GR.json":()=>Ye(()=>import("./el-GR-JRKZ7DCA-B0ob9v9e.js"),[],import.meta.url),"./locales/en.json":()=>Ye(()=>Promise.resolve().then(()=>iqe),void 0,import.meta.url),"./locales/es-ES.json":()=>Ye(()=>import("./es-ES-NNAEPTPN-BZm4gZAs.js"),[],import.meta.url),"./locales/eu-ES.json":()=>Ye(()=>import("./eu-ES-UXVZRSMJ-T5PNJ_1E.js"),[],import.meta.url),"./locales/fa-IR.json":()=>Ye(()=>import("./fa-IR-FFXQODN6-ddr_a6xG.js"),[],import.meta.url),"./locales/fi-FI.json":()=>Ye(()=>import("./fi-FI-FVRWY4PK-BwGxTq9f.js"),[],import.meta.url),"./locales/fr-FR.json":()=>Ye(()=>import("./fr-FR-YRAHLNH4-DeXqAT8b.js"),[],import.meta.url),"./locales/gl-ES.json":()=>Ye(()=>import("./gl-ES-O3MFXO2J-qQwWbQdM.js"),[],import.meta.url),"./locales/he-IL.json":()=>Ye(()=>import("./he-IL-UQHONTOV-D0v93Gnv.js"),[],import.meta.url),"./locales/hi-IN.json":()=>Ye(()=>import("./hi-IN-QGM3FMHS-7cUii0yG.js"),[],import.meta.url),"./locales/hu-HU.json":()=>Ye(()=>import("./hu-HU-FW4UHMDU-D6kuk9Ch.js"),[],import.meta.url),"./locales/id-ID.json":()=>Ye(()=>import("./id-ID-QOMISFYK-B6T38C5F.js"),[],import.meta.url),"./locales/it-IT.json":()=>Ye(()=>import("./it-IT-NXPSTWVC-B8TE7Vex.js"),[],import.meta.url),"./locales/ja-JP.json":()=>Ye(()=>import("./ja-JP-Z7I24KT4-8Tqyx6qV.js"),[],import.meta.url),"./locales/kaa.json":()=>Ye(()=>import("./kaa-TXMSCJDQ-DnuUtaAy.js"),[],import.meta.url),"./locales/kab-KAB.json":()=>Ye(()=>import("./kab-KAB-RJXRUTDO-CX2dhCXL.js"),[],import.meta.url),"./locales/kk-KZ.json":()=>Ye(()=>import("./kk-KZ-JXPULSST-D0g2sOib.js"),[],import.meta.url),"./locales/km-KH.json":()=>Ye(()=>import("./km-KH-WRGO6AYW-E_jxQ8iQ.js"),[],import.meta.url),"./locales/ko-KR.json":()=>Ye(()=>import("./ko-KR-GAYOVASS-DllBeRK-.js"),[],import.meta.url),"./locales/ku-TR.json":()=>Ye(()=>import("./ku-TR-DJF4NWRZ-BiUwOfIS.js"),[],import.meta.url),"./locales/lt-LT.json":()=>Ye(()=>import("./lt-LT-QQGY3S4X-BiP1sV9c.js"),[],import.meta.url),"./locales/lv-LV.json":()=>Ye(()=>import("./lv-LV-H55DY45V-BkQSk_RG.js"),[],import.meta.url),"./locales/mr-IN.json":()=>Ye(()=>import("./mr-IN-QYT2ELER-CVvV43-P.js"),[],import.meta.url),"./locales/my-MM.json":()=>Ye(()=>import("./my-MM-RRPBSH5R-q6bDSGRm.js"),[],import.meta.url),"./locales/nb-NO.json":()=>Ye(()=>import("./nb-NO-AMX3MAHH-CPZJkHmQ.js"),[],import.meta.url),"./locales/nl-NL.json":()=>Ye(()=>import("./nl-NL-LZSLKN37-D2n1elXX.js"),[],import.meta.url),"./locales/nn-NO.json":()=>Ye(()=>import("./nn-NO-WWXPMJY7-Dyoxygnl.js"),[],import.meta.url),"./locales/oc-FR.json":()=>Ye(()=>import("./oc-FR-GPZCMCGX-BoCU5jWf.js"),[],import.meta.url),"./locales/pa-IN.json":()=>Ye(()=>import("./pa-IN-L5H3H4OA-D-Cku6qx.js"),[],import.meta.url),"./locales/percentages.json":()=>Ye(()=>Promise.resolve().then(()=>aqe),void 0,import.meta.url),"./locales/pl-PL.json":()=>Ye(()=>import("./pl-PL-SYTLCLU7-Dx9Z3hIi.js"),[],import.meta.url),"./locales/pt-BR.json":()=>Ye(()=>import("./pt-BR-BJOSVXBP-BTj80ai6.js"),[],import.meta.url),"./locales/pt-PT.json":()=>Ye(()=>import("./pt-PT-QHWDKICL-DQ89MOiF.js"),[],import.meta.url),"./locales/ro-RO.json":()=>Ye(()=>import("./ro-RO-AVSXCJHH-CCjDXe6c.js"),[],import.meta.url),"./locales/ru-RU.json":()=>Ye(()=>import("./ru-RU-5Z6AY4FG-xLGL-5-x.js"),[],import.meta.url),"./locales/si-LK.json":()=>Ye(()=>import("./si-LK-OMROCHR3-BXhDJGJ0.js"),[],import.meta.url),"./locales/sk-SK.json":()=>Ye(()=>import("./sk-SK-TLXIBWPH-BL5FywfX.js"),[],import.meta.url),"./locales/sl-SI.json":()=>Ye(()=>import("./sl-SI-JELDMWCI-D44P-IbK.js"),[],import.meta.url),"./locales/sv-SE.json":()=>Ye(()=>import("./sv-SE-2FAONS47-CU-7jZkt.js"),[],import.meta.url),"./locales/ta-IN.json":()=>Ye(()=>import("./ta-IN-XN7DVSDK-0AHyoWbD.js"),[],import.meta.url),"./locales/th-TH.json":()=>Ye(()=>import("./th-TH-VCIYWJPR-BjDGO_iC.js"),[],import.meta.url),"./locales/tr-TR.json":()=>Ye(()=>import("./tr-TR-6QL6T7SM-CnBmu5VX.js"),[],import.meta.url),"./locales/uk-UA.json":()=>Ye(()=>import("./uk-UA-Y6YRBHAO-WYKcZ546.js"),[],import.meta.url),"./locales/vi-VN.json":()=>Ye(()=>import("./vi-VN-34I6LTAE-CACei5ac.js"),[],import.meta.url),"./locales/zh-CN.json":()=>Ye(()=>import("./zh-CN-TBLIBDU7-D-_pRj12.js"),[],import.meta.url),"./locales/zh-HK.json":()=>Ye(()=>import("./zh-HK-MDAU5TWB-DkQouVzy.js"),[],import.meta.url),"./locales/zh-TW.json":()=>Ye(()=>import("./zh-TW-DOGEFI3C-CgiPepZt.js"),[],import.meta.url)}),GNe=85,g2={code:"en",label:"English"},OT=[g2,...[{code:"ar-SA",label:"",rtl:!0},{code:"bg-BG",label:""},{code:"ca-ES",label:"Catal"},{code:"cs-CZ",label:"esky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:""},{code:"es-ES",label:"Espaol"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Franais"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"",rtl:!0},{code:"hi-IN",label:""},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:""},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:" "},{code:"ko-KR",label:""},{code:"ku-TR",label:"Kurd"},{code:"lt-LT",label:"Lietuvi"},{code:"lv-LV",label:"Latvieu"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokml"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:""},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugus Brasileiro"},{code:"pt-PT",label:"Portugus"},{code:"ro-RO",label:"Romn"},{code:"ru-RU",label:""},{code:"sk-SK",label:"Slovenina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Slovenina"},{code:"tr-TR",label:"Trke"},{code:"uk-UA",label:""},{code:"zh-CN",label:""},{code:"zh-TW",label:""},{code:"vi-VN",label:"Ting Vit"},{code:"mr-IN",label:""}].filter(e=>lne[e.code]>=GNe).sort((e,t)=>e.label>t.label?1:-1)],aw="__test__";gt.DEV&&OT.unshift({code:aw,label:"test language"},{code:`${aw}.rtl`,label:"test language (rtl)",rtl:!0});var Fg=g2,cA={},pne=async e=>{if(Fg=e,document.documentElement.dir=Fg.rtl?"rtl":"ltr",document.documentElement.lang=Fg.code,e.code.startsWith(aw))cA={};else try{cA=await HNe(`./locales/${Fg.code}.json`)}catch(t){console.error(`Failed to load language ${e.code}:`,t.message),cA=$T}ac.set(gne,e.code)},Vm=()=>Fg,_O=(e,t)=>{for(let n=0;n<t.length;++n){let r=t[n];if(e[r]===void 0)return;e=e[r]}if(typeof e=="string")return e},P=(e,t,n)=>{if(Fg.code.startsWith(aw))return`[[${t?`${e}(${JSON.stringify(t).slice(1,-1)})`:e}]]`;let r=e.split("."),a=_O(cA,r)||_O($T,r)||n;if(a===void 0){let o=`Can't find translation for ${e}`;if(gt.PROD)return console.warn(o),"";throw new Error(o)}if(t)for(let o in t)a=a.replace(`{{${o}}}`,String(t[o]));return a},gne=Ya(g2.code),Ka=()=>{let e=jT(gne,ta);return{t:P,langCode:e}},CO=te(Fe(),1);N();var WNe=te(Fe(),1),Xx=te(Se(),1),VNe=({size:e="1em",circleWidth:t=8,synchronized:n=!1,className:r=""})=>{let a=-(WNe.default.useRef(Date.now()).current%1600);return(0,Xx.jsx)("div",{className:`Spinner ${r}`,children:(0,Xx.jsx)("svg",{viewBox:"0 0 100 100",style:{width:e,height:e,"--spinner-delay":n?`${a}ms`:0},children:(0,Xx.jsx)("circle",{cx:"50",cy:"50",r:50-t/2,strokeWidth:t,fill:"none",strokeMiterlimit:"10"})})})},af=VNe,R5=te(Se(),1),mne=({delay:e,theme:t})=>{let[n,r]=(0,CO.useState)(!!e);return(0,CO.useEffect)(()=>{if(!e)return;let a=setTimeout(()=>{r(!1)},e);return()=>clearTimeout(a)},[e]),n?null:(0,R5.jsxs)("div",{className:bt("LoadingMessage",{"LoadingMessage--dark":t===Un.DARK}),children:[(0,R5.jsx)("div",{children:(0,R5.jsx)(af,{})}),(0,R5.jsx)("div",{className:"LoadingMessage-text",children:P("labels.loadingScene")})]})},YNe=te(Se(),1),KNe=e=>{let[t,n]=(0,EO.useState)(!0);return(0,EO.useEffect)(()=>{let r=async()=>{await pne(a),n(!1)},a=OT.find(o=>o.code===e.langCode)||g2;r()},[e.langCode]),t?(0,YNe.jsx)(mne,{theme:e.theme}):e.children};N();var Ua=te(Fe(),1),wp=te(Dd(),1);N();N();N();var Ep=te(Fe(),1),Tc=te(Se(),1),yn=Ep.default.forwardRef((e,t)=>{let{id:n}=Nd(),r=Ep.default.useRef(null);Ep.default.useImperativeHandle(t,()=>r.current);let a=`ToolIcon_size_${e.size}`,[o,s]=(0,Ep.useState)(!1),l=(0,Ep.useRef)(!0),d=async f=>{var g;let p="onClick"in e&&((g=e.onClick)==null?void 0:g.call(e,f));if(_b(p))try{s(!0),await p}catch(v){if(v instanceof I4)console.warn(v);else throw v}finally{l.current&&s(!1)}};(0,Ep.useEffect)(()=>(l.current=!0,()=>{l.current=!1}),[]);let u=(0,Ep.useRef)(null);if(e.type==="button"||e.type==="icon"||e.type==="submit"){let f=e.type==="icon"?"button":e.type;return(0,Tc.jsxs)("button",{className:bt("ToolIcon_type_button",a,e.className,e.visible&&!e.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!e.hidden,"ToolIcon--selected":e.selected,"ToolIcon--plain":e.type==="icon"}),style:e.style,"data-testid":e["data-testid"],hidden:e.hidden,title:e.title,"aria-label":e["aria-label"],type:f,onClick:d,ref:r,disabled:o||e.isLoading||!!e.disabled,children:[(e.icon||e.label)&&(0,Tc.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true","aria-disabled":!!e.disabled,children:[e.icon||e.label,e.keyBindingLabel&&(0,Tc.jsx)("span",{className:"ToolIcon__keybinding",children:e.keyBindingLabel}),e.isLoading&&(0,Tc.jsx)(af,{})]}),e.showAriaLabel&&(0,Tc.jsxs)("div",{className:"ToolIcon__label",children:[e["aria-label"]," ",o&&(0,Tc.jsx)(af,{})]}),e.children]})}return(0,Tc.jsxs)("label",{className:bt("ToolIcon",e.className),title:e.title,onPointerDown:f=>{var p;u.current=f.pointerType||null,(p=e.onPointerDown)==null||p.call(e,{pointerType:f.pointerType||null})},onPointerUp:()=>{requestAnimationFrame(()=>{u.current=null})},children:[(0,Tc.jsx)("input",{className:`ToolIcon_type_radio ${a}`,type:"radio",name:e.name,"aria-label":e["aria-label"],"aria-keyshortcuts":e["aria-keyshortcuts"],"data-testid":e["data-testid"],id:`${n}-${e.id}`,onChange:()=>{var f;(f=e.onChange)==null||f.call(e,{pointerType:u.current})},checked:e.checked,ref:r}),(0,Tc.jsxs)("div",{className:"ToolIcon__icon",children:[e.icon,e.keyBindingLabel&&(0,Tc.jsx)("span",{className:"ToolIcon__keybinding",children:e.keyBindingLabel})]})]})});yn.defaultProps={visible:!0,className:"",size:"medium"};yn.displayName="ToolButton";var XNe=te(Se(),1),ZNe=(e,t,n)=>{let r=n.scene.getNonDeletedElementsMap(),a=new Set(gn(e.filter(o=>en(o)),t).map(o=>o.id));return{elements:e.map(o=>t.selectedElementIds[o.id]?(o.boundElements&&o.boundElements.forEach(s=>{var d,u;let l=n.scene.getNonDeletedElementsMap().get(s.id);l&&Wt(l)&&(Qe(l,{startBinding:o.id===((d=l.startBinding)==null?void 0:d.elementId)?null:l.startBinding,endBinding:o.id===((u=l.endBinding)==null?void 0:u.elementId)?null:l.endBinding}),W0(l,r,l.points))}),an(o,{isDeleted:!0})):o.frameId&&a.has(o.frameId)?an(o,{isDeleted:!0}):bi(o)&&t.selectedElementIds[o.containerId]?an(o,{isDeleted:!0}):o),appState:{...t,selectedElementIds:{},selectedGroupIds:{}}}},SO=(e,t)=>{if(e.editingGroupId){let n=mi(hr(t),e.editingGroupId);if(n.length)return{...e,selectedElementIds:{[n[0].id]:!0}}}return e},Une=ut({name:"deleteSelectedElements",label:"labels.delete",icon:z0,trackEvent:{category:"element",action:"delete"},perform:(e,t,n,r)=>{if(t.editingLinearElement){let{elementId:s,selectedPointsIndices:l,startBindingElement:d,endBindingElement:u}=t.editingLinearElement,f=r.scene.getNonDeletedElementsMap(),p=xt.getElement(s,f);if(!p||l==null)return!1;if(p.points.length<2){let v=e.map(h=>h.id===p.id?an(h,{isDeleted:!0}):h),c=SO(t,v);return{elements:v,appState:{...c,editingLinearElement:null},storeAction:Me.CAPTURE}}let g={startBindingElement:l!=null&&l.includes(0)?null:d,endBindingElement:l!=null&&l.includes(p.points.length-1)?null:u};return xt.deletePoints(p,l,f,t.zoom),{elements:e,appState:{...t,editingLinearElement:{...t.editingLinearElement,...g,selectedPointsIndices:(l==null?void 0:l[0])>0?[l[0]-1]:[0]}},storeAction:Me.CAPTURE}}let{elements:a,appState:o}=ZNe(e,t,r);return Wq(a,e.filter(({id:s})=>t.selectedElementIds[s])),o=SO(o,a),{elements:a,appState:{...o,activeTool:_i(t,{type:"selection"}),multiElement:null,activeEmbeddable:null},storeAction:Pi(hr(e),t)?Me.CAPTURE:Me.NONE}},keyTest:(e,t,n)=>(e.key===ie.BACKSPACE||e.key===ie.DELETE)&&!e[ie.CTRL_OR_CMD],PanelComponent:({elements:e,appState:t,updateData:n})=>(0,XNe.jsx)(yn,{type:"button",icon:z0,title:P("labels.delete"),"aria-label":P("labels.delete"),onClick:()=>n(null),visible:Pi(hr(e),t)})});N();N();var xS=(e,t)=>e.frameId===t||e.id===t,vne=(e,t,n)=>{let r=[],a=[],o=null,s=-1,l=Vt(n||gn(e,t,{includeBoundTextElement:!0,includeElementsInFrames:!0}));for(;++s<e.length;){let d=e[s];l.get(d.id)?(a.length&&(r=r.concat(a),a=[]),r.push(s),o=s+1):d.isDeleted&&o===s?(o=s+1,a.push(s)):a=[]}return r},qNe=e=>{let t=0;return e.reduce((n,r,a)=>(a>0&&e[a-1]!==r-1&&(t=++t),(n[t]||(n[t]=[])).push(r),n),[])},IO=(e,t,n)=>{var r,a;if("containerId"in e&&e.containerId){let o=Gh.getScene(e).getElement(e.containerId);if(o)return n==="left"?Math.min(t.indexOf(o),t.indexOf(e)):Math.max(t.indexOf(o),t.indexOf(e))}else{let o=(a=(r=e.boundElements)==null?void 0:r.find(s=>s.type!=="arrow"))==null?void 0:a.id;if(o){let s=Gh.getScene(e).getElement(o);if(s)return n==="left"?Math.min(t.indexOf(s),t.indexOf(e)):Math.max(t.indexOf(s),t.indexOf(e))}}},JNe=(e,t)=>{let n=-1,r=-1;return e.forEach((a,o)=>{xS(a,t)&&(n===-1&&(n=o),r=o)}),n===-1?[]:e.slice(n,r+1)},e$e=(e,t,n,r,a)=>{let o=t[n],s=p=>p.isDeleted?!1:a?p.frameId===a:e.editingGroupId?p.groupIds.includes(e.editingGroupId):!0,l=r==="left"?CZ(t,p=>s(p),Math.max(0,n-1)):_Z(t,p=>s(p),n+1),d=t[l];if(!d)return-1;if(e.editingGroupId){if((o==null?void 0:o.groupIds.join(""))===(d==null?void 0:d.groupIds.join("")))return IO(d,t,r)??l;if(!(d!=null&&d.groupIds.includes(e.editingGroupId)))return-1}if(!a&&(d.frameId||en(d))){let p=JNe(t,d.frameId||d.id);return r==="left"?t.indexOf(p[0]):t.indexOf(p[p.length-1])}if(!d.groupIds.length)return IO(d,t,r)??l;let u=e.editingGroupId?d.groupIds[d.groupIds.indexOf(e.editingGroupId)-1]:d.groupIds[d.groupIds.length-1],f=mi(t,u);return f.length?r==="left"?t.indexOf(f[0]):t.indexOf(f[f.length-1]):l},yne=(e,t)=>t.reduce((n,r)=>{let a=e[r];return n.set(a.id,a),n},new Map),bne=(e,t,n)=>{let r=vne(e,t),a=yne(e,r),o=qNe(r);n==="right"&&(o=o.reverse());let s=new Set(r.filter(l=>en(e[l])).map(l=>e[l].id));return o.forEach((l,d)=>{var b;let u=l[0],f=l[l.length-1],p=n==="left"?u:f,g=l.some(w=>{let E=e[w];return E.frameId&&s.has(E.frameId)})?null:(b=e[p])==null?void 0:b.frameId,v=e$e(t,e,p,n,g);if(v===-1||p===v)return;let c=n==="left"?e.slice(0,v):e.slice(0,u),h=e.slice(u,f+1),m=n==="left"?e.slice(v,u):e.slice(f+1,v+1),U=n==="left"?e.slice(f+1):e.slice(v+1);e=n==="left"?[...c,...h,...m,...U]:[...c,...m,...h,...U]}),vc(e,a),e},Ane=(e,t,n,r,a)=>{let o=vne(e,t,a),s=yne(e,o),l=[],d,u;if(n==="left"){if(r)d=_Z(e,c=>xS(c,r));else if(t.editingGroupId){let c=mi(e,t.editingGroupId);if(!c.length)return e;d=e.indexOf(c[0])}else d=0;u=o[o.length-1]}else{if(r)u=CZ(e,c=>xS(c,r));else if(t.editingGroupId){let c=mi(e,t.editingGroupId);if(!c.length)return e;u=e.indexOf(c[c.length-1])}else u=e.length-1;d=o[0]}d===-1&&(d=0);for(let c=d;c<u+1;c++)o.includes(c)||l.push(e[c]);let f=Array.from(s.values()),p=e.slice(0,d),g=e.slice(u+1),v=n==="left"?[...p,...f,...l,...g]:[...p,...l,...f,...g];return vc(v,s),v};function wne(e,t,n,r){let a=Vt(gn(e,t,{includeBoundTextElement:!0,includeElementsInFrames:!0})),o={regularElements:[],frameChildren:new Map},s=new Set;for(let u of e)a.has(u.id)&&en(u)&&s.add(u.id);for(let u of e)if(a.has(u.id))if(en(u)||u.frameId&&s.has(u.frameId))o.regularElements.push(u);else if(!u.frameId)o.regularElements.push(u);else{let f=o.frameChildren.get(u.frameId)||[];f.push(u),o.frameChildren.set(u.frameId,f)}let l=e,d=Array.from(o.frameChildren.entries());for(let[u,f]of d)l=r(e,t,n,u,f);return r(l,t,n,null,o.regularElements)}var t$e=(e,t)=>bne(e,t,"left"),n$e=(e,t)=>bne(e,t,"right"),r$e=(e,t)=>wne(e,t,"left",Ane),i$e=(e,t)=>wne(e,t,"right",Ane),H4=te(Se(),1),a$e=ut({name:"sendBackward",label:"labels.sendBackward",keywords:["move down","zindex","layer"],icon:KF,trackEvent:{category:"element"},perform:(e,t)=>({elements:t$e(e,t),appState:t,storeAction:Me.CAPTURE}),keyPriority:40,keyTest:e=>e[ie.CTRL_OR_CMD]&&!e.shiftKey&&e.code===Pn.BRACKET_LEFT,PanelComponent:({updateData:e,appState:t})=>(0,H4.jsx)("button",{type:"button",className:"zIndexButton",onClick:()=>e(null),title:`${P("labels.sendBackward")}  ${Ne("CtrlOrCmd+[")}`,children:KF})}),o$e=ut({name:"bringForward",label:"labels.bringForward",keywords:["move up","zindex","layer"],icon:YF,trackEvent:{category:"element"},perform:(e,t)=>({elements:n$e(e,t),appState:t,storeAction:Me.CAPTURE}),keyPriority:40,keyTest:e=>e[ie.CTRL_OR_CMD]&&!e.shiftKey&&e.code===Pn.BRACKET_RIGHT,PanelComponent:({updateData:e,appState:t})=>(0,H4.jsx)("button",{type:"button",className:"zIndexButton",onClick:()=>e(null),title:`${P("labels.bringForward")}  ${Ne("CtrlOrCmd+]")}`,children:YF})}),s$e=ut({name:"sendToBack",label:"labels.sendToBack",keywords:["move down","zindex","layer"],icon:ZF,trackEvent:{category:"element"},perform:(e,t)=>({elements:r$e(e,t),appState:t,storeAction:Me.CAPTURE}),keyTest:e=>_d?e[ie.CTRL_OR_CMD]&&e.altKey&&e.code===Pn.BRACKET_LEFT:e[ie.CTRL_OR_CMD]&&e.shiftKey&&e.code===Pn.BRACKET_LEFT,PanelComponent:({updateData:e,appState:t})=>(0,H4.jsx)("button",{type:"button",className:"zIndexButton",onClick:()=>e(null),title:`${P("labels.sendToBack")}  ${Ne(_d?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")}`,children:ZF})}),l$e=ut({name:"bringToFront",label:"labels.bringToFront",keywords:["move up","zindex","layer"],icon:XF,trackEvent:{category:"element"},perform:(e,t)=>({elements:i$e(e,t),appState:t,storeAction:Me.CAPTURE}),keyTest:e=>_d?e[ie.CTRL_OR_CMD]&&e.altKey&&e.code===Pn.BRACKET_RIGHT:e[ie.CTRL_OR_CMD]&&e.shiftKey&&e.code===Pn.BRACKET_RIGHT,PanelComponent:({updateData:e,appState:t})=>(0,H4.jsx)("button",{type:"button",className:"zIndexButton",onClick:n=>e(null),title:`${P("labels.bringToFront")}  ${Ne(_d?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")}`,children:XF})});N();var c$e=ut({name:"selectAll",label:"labels.selectAll",icon:YSe,trackEvent:{category:"canvas"},viewMode:!1,perform:(e,t,n,r)=>{if(t.editingLinearElement)return!1;let a=z4(e.filter(o=>!o.isDeleted&&!(pt(o)&&o.containerId)&&!o.locked)).reduce((o,s)=>(o[s.id]=!0,o),{});return{appState:{...t,...So({editingGroupId:null,selectedElementIds:a},hr(e),t,r),selectedLinearElement:Object.keys(a).length===1&&rn(e[0])?new xt(e[0]):null},storeAction:Me.CAPTURE}},keyTest:e=>e[ie.CTRL_OR_CMD]&&e.key===ie.A});N();N();var d$e=e=>{let t=e.slice(),n=new Set,r=o=>{var u,f,p;let s=(f=(u=o[0])==null?void 0:u.groupIds)==null?void 0:f.join(""),l=[o[0]],d=[];for(let g of o.slice(1))((p=g.groupIds)==null?void 0:p.join(""))===s?l.push(g):d.push(g);return d.length?[...l,...r(d)]:l},a=new Map;return t.forEach((o,s)=>{var l;if(!a.has(o.id))if((l=o.groupIds)!=null&&l.length){let d=o.groupIds[o.groupIds.length-1],u=t.slice(s).filter(f=>{var g;let p=(g=f==null?void 0:f.groupIds)==null?void 0:g.some(v=>v===d);return p&&a.set(f.id,!0),p});for(let f of r(u))n.add(f)}else n.add(o)}),n.size!==e.length?(console.error("normalizeGroupElementOrder: lost some elements... bailing!"),e):[...n]},u$e=e=>{let t=v_e(e),n=e.slice(),r=new Set;return n.forEach((a,o)=>{var s,l,d;a&&((s=a.boundElements)!=null&&s.length?(r.add(a),n[o]=null,a.boundElements.forEach(u=>{let f=t.get(u.id);f&&u.type==="text"&&(r.add(f[0]),n[f[1]]=null)})):a.type==="text"&&a.containerId&&((d=(l=t.get(a.containerId))==null?void 0:l[0].boundElements)!=null&&d.find(u=>u.id===a.id))||(r.add(a),n[o]=null))}),r.size!==e.length?(console.error("normalizeBoundElementsOrder: lost some elements... bailing!"),e):[...r]},f$e=e=>u$e(d$e(e)),h$e=te(Se(),1),p$e=ut({name:"duplicateSelection",label:"labels.duplicateSelection",icon:YC,trackEvent:{category:"element"},perform:(e,t,n,r)=>{if(t.editingLinearElement)try{let a=xt.duplicateSelectedPoints(t,r.scene.getNonDeletedElementsMap());return{elements:e,appState:a,storeAction:Me.CAPTURE}}catch{return!1}return{...g$e(e,t),storeAction:Me.CAPTURE}},keyTest:e=>e[ie.CTRL_OR_CMD]&&e.key===ie.D,PanelComponent:({elements:e,appState:t,updateData:n})=>(0,h$e.jsx)(yn,{type:"button",icon:YC,title:`${P("labels.duplicateSelection")}  ${Ne("CtrlOrCmd+D")}`,"aria-label":P("labels.duplicateSelection"),onClick:()=>n(null),visible:Pi(hr(e),t)})}),g$e=(e,t)=>{let n=f$e(e),r=new Map,a=[],o=[],s=new Map,l=new Map,d=b=>{let w=vJ(t.editingGroupId,r,b,{x:b.x+C8/2,y:b.y+C8/2});return l.set(w.id,w),s.set(b.id,w.id),o.push(b),a.push(w),w},u=Vt(gn(n,t,{includeBoundTextElement:!0,includeElementsInFrames:!0})),f=new Map,p=b=>{for(let w of b)f.set(w.id,!0);return b},g=[],v=-1;for(;++v<n.length;){let b=n[v];if(f.get(b.id))continue;let w=on(b,Vt(e)),E=en(b);if(u.get(b.id)){if(b.groupIds.length||w||E){let x=Jq(t,b);if(x){let C=mi(n,x).flatMap(I=>en(I)?[...rf(e,I.id),I]:[I]);g.push(...p([...C,...C.map(I=>d(I))]));continue}if(w){g.push(...p([b,w,d(b),d(w)]));continue}if(E){let C=rf(n,b.id);g.push(...p([...C,b,...C.map(I=>d(I)),d(b)]));continue}}(!b.frameId||!u.has(b.frameId))&&g.push(...p([b,d(b)]))}else g.push(...p([b]))}let c=[],h=new Map;for(v=g.length;--v>=0;){let b=g[v];h.get(b.id)||(h.set(b.id,!0),c.push(b))}let m=vc(c.reverse(),Vt(a));iJ(g,o,s),Gq(g,o,s),ZJ(m,o,s);let U=z4(a);return{elements:m,appState:{...t,...So({editingGroupId:t.editingGroupId,selectedElementIds:U.reduce((b,w)=>(bi(w)||(b[w.id]=!0),b),{})},hr(m),t,null)}}};N();var Df=te(Fe(),1);N();var m$e=new Set(["command_palette","export"]),yr=(e,t,n,r)=>{try{if(typeof window>"u"||gt.VITE_WORKER_ID||gt.VITE_APP_ENABLE_TRACKING!=="true"||!m$e.has(e)||gt.DEV)return;gt.PROD||console.info("trackEvent",{category:e,action:t,label:n,value:r}),window.sa_event&&window.sa_event(t,{category:e,label:n,value:r})}catch(a){console.error("error during analytics",a)}};N();N();var U$e=te(Fe(),1),v$e=te(Se(),1),Ene=(0,U$e.forwardRef)((e,t)=>{let{title:n,className:r,testId:a,active:o,standalone:s,icon:l,onClick:d}=e;return(0,v$e.jsx)("button",{type:"button",ref:t,title:n,"data-testid":a,className:bt(r,{standalone:s,active:o}),onClick:d,children:l},n)}),D5=te(Se(),1),Pd=e=>(0,D5.jsx)("div",{className:"buttonList",children:e.options.map(t=>e.type==="button"?(0,D5.jsx)(Ene,{icon:t.icon,title:t.text,testId:t.testId,active:t.active??e.value===t.value,onClick:n=>e.onClick(t.value,n)},t.text):(0,D5.jsxs)("label",{className:bt({active:e.value===t.value}),title:t.text,children:[(0,D5.jsx)("input",{type:"radio",name:e.group,onChange:()=>e.onChange(t.value),checked:e.value===t.value,"data-testid":t.testId}),t.icon]},t.text))});N();N();var Zx=te(Se(),1),y$e=({onChange:e,type:t,activeColor:n,topPicks:r})=>{let a;return t==="elementStroke"&&(a=cZ),t==="elementBackground"&&(a=dZ),t==="canvasBackground"&&(a=uZ),r&&(a=r),a?(0,Zx.jsx)("div",{className:"color-picker__top-picks",children:a.map(o=>(0,Zx.jsx)("button",{className:bt("color-picker__button",{active:o===n,"is-transparent":o==="transparent"||!o}),style:{"--swatch-color":o},type:"button",title:o,onClick:()=>e(o),"data-testid":`color-top-pick-${o}`,children:(0,Zx.jsx)("div",{className:"color-picker__button-outline"})},o))}):(console.error("Invalid type for TopPicks"),null)};N();var b$e=te(Se(),1),xne=()=>(0,b$e.jsx)("div",{style:{width:1,height:"1rem",backgroundColor:"var(--default-border-color)",margin:"0 auto"}});N();var lU=te(Fe(),1);N();var kO=te(Fe(),1);N();var G4=({palette:e,color:t})=>{for(let[n,r]of Object.entries(e))if(Array.isArray(r)){let a=r.indexOf(t);if(a>-1)return{colorName:n,shade:a}}else if(r===t)return{colorName:n,shade:null};return null},_S=[["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),_ne=({color:e,palette:t})=>!Object.values(t).flat().includes(e),A$e=(e,t,n)=>{let r={elementBackground:"backgroundColor",elementStroke:"strokeColor"},a=e.filter(s=>{if(s.isDeleted)return!1;let l=s[r[t]];return _ne({color:l,palette:n})}),o=new Map;return a.forEach(s=>{let l=s[r[t]];o.has(l)?o.set(l,o.get(l)+1):o.set(l,1)}),[...o.entries()].sort((s,l)=>l[1]-s[1]).map(s=>s[0]).slice(0,h9e)},m2=Ya(null),MO=(e,t,n)=>(e*299+t*587+n*114)/1e3>=160?"black":"white",w$e=(e,t)=>{if(t){let o=new Option().style;if(o.color=e,o.color){let s=o.color.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(","),l=parseInt(s[0]),d=parseInt(s[1]),u=parseInt(s[2]);return MO(l,d,u)}}if(e==="transparent")return"black";let n=parseInt(e.substring(1,3),16),r=parseInt(e.substring(3,5),16),a=parseInt(e.substring(5,7),16);return MO(n,r,a)};N();var E$e=te(Se(),1),x$e=({color:e,keyLabel:t,isCustomColor:n=!1,isShade:r=!1})=>(0,E$e.jsxs)("div",{className:"color-picker__button__hotkey-label",style:{color:w$e(e,n)},children:[r&&"",t]}),zT=x$e,xp=te(Se(),1),_$e=({hex:e,onChange:t,palette:n})=>{let r=G4({color:e||"transparent",palette:n}),[a,o]=si(m2),s=(0,kO.useRef)(null);if((0,kO.useEffect)(()=>{s.current&&a==="shades"&&s.current.focus()},[r,a]),r){let{colorName:l,shade:d}=r,u=n[l];if(Array.isArray(u))return(0,xp.jsx)("div",{className:"color-picker-content--default shades",children:u.map((f,p)=>(0,xp.jsxs)("button",{ref:p===d&&a==="shades"?s:void 0,tabIndex:-1,type:"button",className:bt("color-picker__button color-picker__button--large",{active:p===d}),"aria-label":"Shade",title:`${l} - ${p+1}`,style:f?{"--swatch-color":f}:void 0,onClick:()=>{t(f),o("shades")},children:[(0,xp.jsx)("div",{className:"color-picker__button-outline"}),(0,xp.jsx)(zT,{color:f,keyLabel:p+1,isShade:!0})]},p))})}return(0,xp.jsxs)("div",{className:"color-picker-content--default",style:{position:"relative"},tabIndex:-1,children:[(0,xp.jsx)("button",{type:"button",tabIndex:-1,className:"color-picker__button color-picker__button--large color-picker__button--no-focus-visible"}),(0,xp.jsx)("div",{tabIndex:-1,style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontSize:"0.75rem"},children:P("colorPicker.noShades")})]})};N();var TO=te(Fe(),1),P5=te(Se(),1),C$e=({palette:e,color:t,onChange:n,label:r,activeShade:a})=>{let o=G4({color:t||"transparent",palette:e}),[s,l]=si(m2),d=(0,TO.useRef)(null);return(0,TO.useEffect)(()=>{d.current&&s==="baseColors"&&d.current.focus()},[o==null?void 0:o.colorName,s]),(0,P5.jsx)("div",{className:"color-picker-content--default",children:Object.entries(e).map(([u,f],p)=>{let g=(Array.isArray(f)?f[a]:f)||"transparent",v=_S[p],c=P(`colors.${u.replace(/\d+/,"")}`,null,"");return(0,P5.jsxs)("button",{ref:(o==null?void 0:o.colorName)===u?d:void 0,tabIndex:-1,type:"button",className:bt("color-picker__button color-picker__button--large",{active:(o==null?void 0:o.colorName)===u,"is-transparent":g==="transparent"||!g}),onClick:()=>{n(g),l("baseColors")},title:`${c}${g.startsWith("#")?` ${g}`:""}  ${v}`,"aria-label":`${c}  ${v}`,style:g?{"--swatch-color":g}:void 0,"data-testid":`color-${u}`,children:[(0,P5.jsx)("div",{className:"color-picker__button-outline"}),(0,P5.jsx)(zT,{color:g,keyLabel:v})]},u)})})},S$e=C$e;N();var BO=te(Fe(),1),L5=te(Se(),1),I$e=({colors:e,color:t,onChange:n,label:r})=>{let[a,o]=si(m2),s=(0,BO.useRef)(null);return(0,BO.useEffect)(()=>{s.current&&s.current.focus()},[t,a]),(0,L5.jsx)("div",{className:"color-picker-content--default",children:e.map((l,d)=>(0,L5.jsxs)("button",{ref:t===l?s:void 0,tabIndex:-1,type:"button",className:bt("color-picker__button color-picker__button--large",{active:t===l,"is-transparent":l==="transparent"||!l}),onClick:()=>{n(l),o("custom")},title:l,"aria-label":r,style:{"--swatch-color":l},children:[(0,L5.jsx)("div",{className:"color-picker__button-outline"}),(0,L5.jsx)(zT,{color:l,keyLabel:d+1,isCustomColor:!0})]},d))})};N();var qx=(e,t,n)=>{let r=Math.ceil(n/dg);switch(t=t??-1,e){case"ArrowLeft":{let a=t-1;return a<0?n-1:a}case"ArrowRight":return(t+1)%n;case"ArrowDown":{let a=t+dg;return a>=n?t%dg:a}case"ArrowUp":{let a=t-dg,o=a<0?dg*r+a:a;return o>=n?void 0:o}}},k$e=({e,colorObj:t,onChange:n,palette:r,customColors:a,setActiveColorPickerSection:o,activeShade:s})=>{if((t==null?void 0:t.shade)!=null&&["Digit1","Digit2","Digit3","Digit4","Digit5"].includes(e.code)&&e.shiftKey){let l=Number(e.code.slice(-1))-1;return n(r[t.colorName][l]),o("shades"),!0}if(["1","2","3","4","5"].includes(e.key)&&a[Number(e.key)-1])return n(a[Number(e.key)-1]),o("custom"),!0;if(_S.includes(e.key)){let l=_S.indexOf(e.key),d=Object.keys(r)[l],u=r[d],f=Array.isArray(u)?u[s]:u;return n(f),o("baseColors"),!0}return!1},M$e=({event:e,activeColorPickerSection:t,palette:n,color:r,onChange:a,customColors:o,setActiveColorPickerSection:s,updateData:l,activeShade:d,onEyeDropperToggle:u,onEscape:f})=>{if(e[ie.CTRL_OR_CMD])return!1;if(e.key===ie.ESCAPE)return f(e),!0;if(e.key===ie.ALT)return u(!0),!0;if(e.key===ie.I)return u(),!0;let p=G4({color:r,palette:n});if(e.key===ie.TAB){let g={custom:!!o.length,baseColors:!0,shades:(p==null?void 0:p.shade)!=null,hex:!0},v=Object.entries(g).reduce((b,[w,E])=>(E&&b.push(w),b),[]),c=v.indexOf(t),h=e.shiftKey?-1:1,m=c+h>v.length-1?0:c+h<0?v.length-1:c+h,U=v[m];return U&&s(U),U==="custom"?a(o[0]):U==="baseColors"&&(Object.entries(n).find(([b,w])=>Array.isArray(w)?w.includes(r):w===r?b:null)||a(fn.black)),e.preventDefault(),e.stopPropagation(),!0}if(k$e({e,colorObj:p,onChange:a,palette:n,customColors:o,setActiveColorPickerSection:s,activeShade:d}))return!0;if(t==="shades"&&p){let{shade:g}=p,v=qx(e.key,g,dg);if(v!==void 0)return a(n[p.colorName][v]),!0}if(t==="baseColors"&&p){let{colorName:g}=p,v=Object.keys(n),c=v.indexOf(g),h=qx(e.key,c,v.length);if(h!==void 0){let m=v[h],U=n[m];return a(Array.isArray(U)?U[d]:U),!0}}if(t==="custom"){let g=o.indexOf(r),v=qx(e.key,g,o.length);if(v!==void 0){let c=o[v];return a(c),!0}}return!1};N();var T$e=te(Se(),1),B$e=({children:e})=>(0,T$e.jsx)("div",{className:"color-picker__heading",children:e}),dA=B$e,Ll=te(Se(),1),R$e=({color:e,onChange:t,label:n,type:r,elements:a,palette:o,updateData:s,children:l,onEyeDropperToggle:d,onEscape:u})=>{let[f]=lU.default.useState(()=>r==="canvasBackground"?[]:A$e(a,r,o)),[p,g]=si(m2),v=G4({color:e,palette:o});(0,lU.useEffect)(()=>{if(!p){let U=_ne({color:e,palette:o}),b=U&&!f.includes(e);g(b?"hex":U?"custom":(v==null?void 0:v.shade)!=null?"shades":"baseColors")}},[p,e,o,g,v,f]);let[c,h]=(0,lU.useState)((v==null?void 0:v.shade)??(r==="elementBackground"?KU:YU));(0,lU.useEffect)(()=>{(v==null?void 0:v.shade)!=null&&h(v.shade);let U=b=>{b.key===ie.ALT&&d(!1)};return document.addEventListener("keyup",U,{capture:!0}),()=>{document.removeEventListener("keyup",U,{capture:!0})}},[v,d]);let m=lU.default.useRef(null);return(0,Ll.jsx)("div",{role:"dialog","aria-modal":"true","aria-label":P("labels.colorPicker"),children:(0,Ll.jsxs)("div",{ref:m,onKeyDown:U=>{M$e({event:U,activeColorPickerSection:p,palette:o,color:e,onChange:t,onEyeDropperToggle:d,customColors:f,setActiveColorPickerSection:g,updateData:s,activeShade:c,onEscape:u})&&(U.preventDefault(),U.stopPropagation())},className:"color-picker-content properties-content",tabIndex:-1,children:[!!f.length&&(0,Ll.jsxs)("div",{children:[(0,Ll.jsx)(dA,{children:P("colorPicker.mostUsedCustomColors")}),(0,Ll.jsx)(I$e,{colors:f,color:e,label:P("colorPicker.mostUsedCustomColors"),onChange:t})]}),(0,Ll.jsxs)("div",{children:[(0,Ll.jsx)(dA,{children:P("colorPicker.colors")}),(0,Ll.jsx)(S$e,{color:e,label:n,palette:o,onChange:t,activeShade:c})]}),(0,Ll.jsxs)("div",{children:[(0,Ll.jsx)(dA,{children:P("colorPicker.shades")}),(0,Ll.jsx)(_$e,{hex:e,onChange:t,palette:o})]}),l]})})};N();N();function pr(){return pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pr.apply(null,arguments)}var Gn=te(Fe());N();function Ga(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}N();var D$e=te(Fe());function P$e(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Cne(...e){return t=>e.forEach(n=>P$e(n,t))}function Td(...e){return(0,D$e.useCallback)(Cne(...e),e)}N();var Kp=te(Fe());function Nb(e,t=[]){let n=[];function r(o,s){let l=(0,Kp.createContext)(s),d=n.length;n=[...n,s];function u(p){let{scope:g,children:v,...c}=p,h=(g==null?void 0:g[e][d])||l,m=(0,Kp.useMemo)(()=>c,Object.values(c));return(0,Kp.createElement)(h.Provider,{value:m},v)}function f(p,g){let v=(g==null?void 0:g[e][d])||l,c=(0,Kp.useContext)(v);if(c)return c;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}let a=()=>{let o=n.map(s=>(0,Kp.createContext)(s));return function(s){let l=(s==null?void 0:s[e])||o;return(0,Kp.useMemo)(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return a.scopeName=e,[r,L$e(a,...t)]}function L$e(...e){let t=e[0];if(e.length===1)return t;let n=()=>{let r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let o=r.reduce((s,{useScope:l,scopeName:d})=>{let u=l(a)[`__scope${d}`];return{...s,...u}},{});return(0,Kp.useMemo)(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}N();var ko=te(Fe());N();var Jx=te(Fe()),N$e=te(Dd());N();var wa=te(Fe()),Yy=(0,wa.forwardRef)((e,t)=>{let{children:n,...r}=e,a=wa.Children.toArray(n),o=a.find(F$e);if(o){let s=o.props.children,l=a.map(d=>d===o?wa.Children.count(s)>1?wa.Children.only(null):(0,wa.isValidElement)(s)?s.props.children:null:d);return(0,wa.createElement)(CS,pr({},r,{ref:t}),(0,wa.isValidElement)(s)?(0,wa.cloneElement)(s,void 0,l):null)}return(0,wa.createElement)(CS,pr({},r,{ref:t}),n)});Yy.displayName="Slot";var CS=(0,wa.forwardRef)((e,t)=>{let{children:n,...r}=e;return(0,wa.isValidElement)(n)?(0,wa.cloneElement)(n,{...j$e(r,n.props),ref:Cne(t,n.ref)}):wa.Children.count(n)>1?wa.Children.only(null):null});CS.displayName="SlotClone";var $$e=({children:e})=>(0,wa.createElement)(wa.Fragment,null,e);function F$e(e){return(0,wa.isValidElement)(e)&&e.type===$$e}function j$e(e,t){let n={...t};for(let r in t){let a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...s)=>{o(...s),a(...s)}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}var O$e=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"],Yo=O$e.reduce((e,t)=>{let n=(0,Jx.forwardRef)((r,a)=>{let{asChild:o,...s}=r,l=o?Yy:t;return(0,Jx.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,Jx.createElement)(l,pr({},s,{ref:a}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function z$e(e,t){e&&(0,N$e.flushSync)(()=>e.dispatchEvent(t))}N();var e9=te(Fe());function of(e){let t=(0,e9.useRef)(e);return(0,e9.useEffect)(()=>{t.current=e}),(0,e9.useMemo)(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}N();var Q$e=te(Fe());function H$e(e,t=globalThis==null?void 0:globalThis.document){let n=of(e);(0,Q$e.useEffect)(()=>{let r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}var SS="dismissableLayer.update",G$e="dismissableLayer.pointerDownOutside",W$e="dismissableLayer.focusOutside",RO,V$e=(0,ko.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Y$e=(0,ko.forwardRef)((e,t)=>{var n;let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:l,onDismiss:d,...u}=e,f=(0,ko.useContext)(V$e),[p,g]=(0,ko.useState)(null),v=(n=p==null?void 0:p.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,c]=(0,ko.useState)({}),h=Td(t,S=>g(S)),m=Array.from(f.layers),[U]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(U),w=p?m.indexOf(p):-1,E=f.layersWithOutsidePointerEventsDisabled.size>0,x=w>=b,C=K$e(S=>{let M=S.target,R=[...f.branches].some(D=>D.contains(M));!x||R||(o==null||o(S),l==null||l(S),S.defaultPrevented||(d==null||d()))},v),I=X$e(S=>{let M=S.target;[...f.branches].some(R=>R.contains(M))||(s==null||s(S),l==null||l(S),S.defaultPrevented||(d==null||d()))},v);return H$e(S=>{w===f.layers.size-1&&(a==null||a(S),!S.defaultPrevented&&d&&(S.preventDefault(),d()))},v),(0,ko.useEffect)(()=>{if(p)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(RO=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),DO(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=RO)}},[p,v,r,f]),(0,ko.useEffect)(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),DO())},[p,f]),(0,ko.useEffect)(()=>{let S=()=>c({});return document.addEventListener(SS,S),()=>document.removeEventListener(SS,S)},[]),(0,ko.createElement)(Yo.div,pr({},u,{ref:h,style:{pointerEvents:E?x?"auto":"none":void 0,...e.style},onFocusCapture:Ga(e.onFocusCapture,I.onFocusCapture),onBlurCapture:Ga(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Ga(e.onPointerDownCapture,C.onPointerDownCapture)}))});function K$e(e,t=globalThis==null?void 0:globalThis.document){let n=of(e),r=(0,ko.useRef)(!1),a=(0,ko.useRef)(()=>{});return(0,ko.useEffect)(()=>{let o=l=>{if(l.target&&!r.current){let d=function(){Sne(G$e,n,u,{discrete:!0})},u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function X$e(e,t=globalThis==null?void 0:globalThis.document){let n=of(e),r=(0,ko.useRef)(!1);return(0,ko.useEffect)(()=>{let a=o=>{o.target&&!r.current&&Sne(W$e,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function DO(){let e=new CustomEvent(SS);document.dispatchEvent(e)}function Sne(e,t,n,{discrete:r}){let a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?z$e(a,o):a.dispatchEvent(o)}N();var Z$e=te(Fe()),t9=0;function q$e(){(0,Z$e.useEffect)(()=>{var e,t;let n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:PO()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:PO()),t9++,()=>{t9===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),t9--}},[])}function PO(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}N();var Pf=te(Fe()),n9="focusScope.autoFocusOnMount",r9="focusScope.autoFocusOnUnmount",LO={bubbles:!1,cancelable:!0},J$e=(0,Pf.forwardRef)((e,t)=>{let{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...s}=e,[l,d]=(0,Pf.useState)(null),u=of(a),f=of(o),p=(0,Pf.useRef)(null),g=Td(t,h=>d(h)),v=(0,Pf.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,Pf.useEffect)(()=>{if(r){let h=function(U){if(v.paused||!l)return;let b=U.target;l.contains(b)?p.current=b:Xp(p.current,{select:!0})},m=function(U){v.paused||!l||l.contains(U.relatedTarget)||Xp(p.current,{select:!0})};return document.addEventListener("focusin",h),document.addEventListener("focusout",m),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",m)}}},[r,l,v.paused]),(0,Pf.useEffect)(()=>{if(l){$O.add(v);let h=document.activeElement;if(!l.contains(h)){let m=new CustomEvent(n9,LO);l.addEventListener(n9,u),l.dispatchEvent(m),m.defaultPrevented||(eFe(aFe(Ine(l)),{select:!0}),document.activeElement===h&&Xp(l))}return()=>{l.removeEventListener(n9,u),setTimeout(()=>{let m=new CustomEvent(r9,LO);l.addEventListener(r9,f),l.dispatchEvent(m),m.defaultPrevented||Xp(h??document.body,{select:!0}),l.removeEventListener(r9,f),$O.remove(v)},0)}}},[l,u,f,v]);let c=(0,Pf.useCallback)(h=>{if(!n&&!r||v.paused)return;let m=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,U=document.activeElement;if(m&&U){let b=h.currentTarget,[w,E]=tFe(b);w&&E?!h.shiftKey&&U===E?(h.preventDefault(),n&&Xp(w,{select:!0})):h.shiftKey&&U===w&&(h.preventDefault(),n&&Xp(E,{select:!0})):U===b&&h.preventDefault()}},[n,r,v.paused]);return(0,Pf.createElement)(Yo.div,pr({tabIndex:-1},s,{ref:g,onKeyDown:c}))});function eFe(e,{select:t=!1}={}){let n=document.activeElement;for(let r of e)if(Xp(r,{select:t}),document.activeElement!==n)return}function tFe(e){let t=Ine(e),n=NO(t,e),r=NO(t.reverse(),e);return[n,r]}function Ine(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{let a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function NO(e,t){for(let n of e)if(!nFe(n,{upTo:t}))return n}function nFe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rFe(e){return e instanceof HTMLInputElement&&"select"in e}function Xp(e,{select:t=!1}={}){if(e&&e.focus){let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&rFe(e)&&t&&e.select()}}var $O=iFe();function iFe(){let e=[];return{add(t){let n=e[0];t!==n&&(n==null||n.pause()),e=FO(e,t),e.unshift(t)},remove(t){var n;e=FO(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function FO(e,t){let n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function aFe(e){return e.filter(t=>t.tagName!=="A")}N();var kne=te(Fe());N();var oFe=te(Fe()),vh=globalThis!=null&&globalThis.document?oFe.useLayoutEffect:()=>{},sFe=kne.useId||(()=>{}),lFe=0;function QT(e){let[t,n]=kne.useState(sFe());return vh(()=>{n(r=>r??String(lFe++))},[e]),t?`radix-${t}`:""}N();var Hi=te(Fe());N();N();N();function o1(e){return e.split("-")[0]}function $b(e){return e.split("-")[1]}function U2(e){return["top","bottom"].includes(o1(e))?"x":"y"}function HT(e){return e==="y"?"height":"width"}function jO(e,t,n){let{reference:r,floating:a}=e,o=r.x+r.width/2-a.width/2,s=r.y+r.height/2-a.height/2,l=U2(t),d=HT(l),u=r[d]/2-a[d]/2,f=l==="x",p;switch(o1(t)){case"top":p={x:o,y:r.y-a.height};break;case"bottom":p={x:o,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:s};break;case"left":p={x:r.x-a.width,y:s};break;default:p={x:r.x,y:r.y}}switch($b(t)){case"start":p[l]-=u*(n&&f?-1:1);break;case"end":p[l]+=u*(n&&f?-1:1)}return p}var cFe=async(e,t,n)=>{let{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:s}=n,l=await(s.isRTL==null?void 0:s.isRTL(t)),d=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=jO(d,r,l),p=r,g={},v=0;for(let c=0;c<o.length;c++){let{name:h,fn:m}=o[c],{x:U,y:b,data:w,reset:E}=await m({x:u,y:f,initialPlacement:r,placement:p,strategy:a,middlewareData:g,rects:d,platform:s,elements:{reference:e,floating:t}});u=U??u,f=b??f,g={...g,[h]:{...g[h],...w}},E&&v<=50&&(v++,typeof E=="object"&&(E.placement&&(p=E.placement),E.rects&&(d=E.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):E.rects),{x:u,y:f}=jO(d,p,l)),c=-1)}return{x:u,y:f,placement:p,strategy:a,middlewareData:g}};function Mne(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function ow(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Ky(e,t){var n;t===void 0&&(t={});let{x:r,y:a,platform:o,rects:s,elements:l,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:v=0}=t,c=Mne(v),h=l[g?p==="floating"?"reference":"floating":p],m=ow(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(h)))==null||n?h:h.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:d})),U=ow(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:p==="floating"?{...s.floating,x:r,y:a}:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),strategy:d}):s[p]);return{top:m.top-U.top+c.top,bottom:U.bottom-m.bottom+c.bottom,left:m.left-U.left+c.left,right:U.right-m.right+c.right}}var dFe=Math.min,Zp=Math.max;function IS(e,t,n){return Zp(e,dFe(t,n))}var OO=e=>({name:"arrow",options:e,async fn(t){let{element:n,padding:r=0}=e??{},{x:a,y:o,placement:s,rects:l,platform:d}=t;if(n==null)return{};let u=Mne(r),f={x:a,y:o},p=U2(s),g=$b(s),v=HT(p),c=await d.getDimensions(n),h=p==="y"?"top":"left",m=p==="y"?"bottom":"right",U=l.reference[v]+l.reference[p]-f[p]-l.floating[v],b=f[p]-l.reference[p],w=await(d.getOffsetParent==null?void 0:d.getOffsetParent(n)),E=w?p==="y"?w.clientHeight||0:w.clientWidth||0:0;E===0&&(E=l.floating[v]);let x=U/2-b/2,C=u[h],I=E-c[v]-u[m],S=E/2-c[v]/2+x,M=IS(C,S,I),R=(g==="start"?u[h]:u[m])>0&&S!==M&&l.reference[v]<=l.floating[v];return{[p]:f[p]-(R?S<C?C-S:I-S:0),data:{[p]:M,centerOffset:S-M}}}}),uFe={left:"right",right:"left",bottom:"top",top:"bottom"};function sw(e){return e.replace(/left|right|bottom|top/g,t=>uFe[t])}function fFe(e,t,n){n===void 0&&(n=!1);let r=$b(e),a=U2(e),o=HT(a),s=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=sw(s)),{main:s,cross:sw(s)}}var hFe={start:"end",end:"start"};function zO(e){return e.replace(/start|end/g,t=>hFe[t])}var Tne=["top","right","bottom","left"];Tne.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);var pFe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;let{placement:r,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",flipAlignment:v=!0,...c}=e,h=o1(r),m=p||(h===s||!v?[sw(s)]:function(S){let M=sw(S);return[zO(S),M,zO(M)]}(s)),U=[s,...m],b=await Ky(t,c),w=[],E=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&w.push(b[h]),f){let{main:S,cross:M}=fFe(r,o,await(l.isRTL==null?void 0:l.isRTL(d.floating)));w.push(b[S],b[M])}if(E=[...E,{placement:r,overflows:w}],!w.every(S=>S<=0)){var x,C;let S=((x=(C=a.flip)==null?void 0:C.index)!=null?x:0)+1,M=U[S];if(M)return{data:{index:S,overflows:E},reset:{placement:M}};let R="bottom";switch(g){case"bestFit":{var I;let D=(I=E.map(L=>[L,L.overflows.filter(j=>j>0).reduce((j,re)=>j+re,0)]).sort((L,j)=>L[1]-j[1])[0])==null?void 0:I[0].placement;D&&(R=D);break}case"initialPlacement":R=s}if(r!==R)return{reset:{placement:R}}}return{}}}};function QO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function HO(e){return Tne.some(t=>e[t]>=0)}var gFe=function(e){let{strategy:t="referenceHidden",...n}=e===void 0?{}:e;return{name:"hide",async fn(r){let{rects:a}=r;switch(t){case"referenceHidden":{let o=QO(await Ky(r,{...n,elementContext:"reference"}),a.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:HO(o)}}}case"escaped":{let o=QO(await Ky(r,{...n,altBoundary:!0}),a.floating);return{data:{escapedOffsets:o,escaped:HO(o)}}}default:return{}}}}},mFe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){let{x:n,y:r}=t,a=await async function(o,s){let{placement:l,platform:d,elements:u}=o,f=await(d.isRTL==null?void 0:d.isRTL(u.floating)),p=o1(l),g=$b(l),v=U2(l)==="x",c=["left","top"].includes(p)?-1:1,h=f&&v?-1:1,m=typeof s=="function"?s(o):s,{mainAxis:U,crossAxis:b,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return g&&typeof w=="number"&&(b=g==="end"?-1*w:w),v?{x:b*h,y:U*c}:{x:U*c,y:b*h}}(t,e);return{x:n+a.x,y:r+a.y,data:a}}}};function Bne(e){return e==="x"?"y":"x"}var UFe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:l={fn:m=>{let{x:U,y:b}=m;return{x:U,y:b}}},...d}=e,u={x:n,y:r},f=await Ky(t,d),p=U2(o1(a)),g=Bne(p),v=u[p],c=u[g];if(o){let m=p==="y"?"bottom":"right";v=IS(v+f[p==="y"?"top":"left"],v,v-f[m])}if(s){let m=g==="y"?"bottom":"right";c=IS(c+f[g==="y"?"top":"left"],c,c-f[m])}let h=l.fn({...t,[p]:v,[g]:c});return{...h,data:{x:h.x-n,y:h.y-r}}}}},vFe=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:n,y:r,placement:a,rects:o,middlewareData:s}=t,{offset:l=0,mainAxis:d=!0,crossAxis:u=!0}=e,f={x:n,y:r},p=U2(a),g=Bne(p),v=f[p],c=f[g],h=typeof l=="function"?l({...o,placement:a}):l,m=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(d){let x=p==="y"?"height":"width",C=o.reference[p]-o.floating[x]+m.mainAxis,I=o.reference[p]+o.reference[x]-m.mainAxis;v<C?v=C:v>I&&(v=I)}if(u){var U,b,w,E;let x=p==="y"?"width":"height",C=["top","left"].includes(o1(a)),I=o.reference[g]-o.floating[x]+(C&&(U=(b=s.offset)==null?void 0:b[g])!=null?U:0)+(C?0:m.crossAxis),S=o.reference[g]+o.reference[x]+(C?0:(w=(E=s.offset)==null?void 0:E[g])!=null?w:0)-(C?m.crossAxis:0);c<I?c=I:c>S&&(c=S)}return{[p]:v,[g]:c}}}},yFe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){let{placement:n,rects:r,platform:a,elements:o}=t,{apply:s,...l}=e,d=await Ky(t,l),u=o1(n),f=$b(n),p,g;u==="top"||u==="bottom"?(p=u,g=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(g=u,p=f==="end"?"top":"bottom");let v=Zp(d.left,0),c=Zp(d.right,0),h=Zp(d.top,0),m=Zp(d.bottom,0),U={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(h!==0||m!==0?h+m:Zp(d.top,d.bottom)):d[p]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(v!==0||c!==0?v+c:Zp(d.left,d.right)):d[g])},b=await a.getDimensions(o.floating);s==null||s({...t,...U});let w=await a.getDimensions(o.floating);return b.width!==w.width||b.height!==w.height?{reset:{rects:!0}}:{}}}};function Rne(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function pf(e){if(e==null)return window;if(!Rne(e)){let t=e.ownerDocument;return t&&t.defaultView||window}return e}function Fb(e){return pf(e).getComputedStyle(e)}function Ou(e){return Rne(e)?"":e?(e.nodeName||"").toLowerCase():""}function Dne(){let e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function Bd(e){return e instanceof pf(e).HTMLElement}function Vh(e){return e instanceof pf(e).Element}function GT(e){return typeof ShadowRoot>"u"?!1:e instanceof pf(e).ShadowRoot||e instanceof ShadowRoot}function W4(e){let{overflow:t,overflowX:n,overflowY:r}=Fb(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function bFe(e){return["table","td","th"].includes(Ou(e))}function GO(e){let t=/firefox/i.test(Dne()),n=Fb(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"}function Pne(){return!/^((?!chrome|android).)*safari/i.test(Dne())}var WO=Math.min,Qv=Math.max,lw=Math.round;function zu(e,t,n){var r,a,o,s;t===void 0&&(t=!1),n===void 0&&(n=!1);let l=e.getBoundingClientRect(),d=1,u=1;t&&Bd(e)&&(d=e.offsetWidth>0&&lw(l.width)/e.offsetWidth||1,u=e.offsetHeight>0&&lw(l.height)/e.offsetHeight||1);let f=Vh(e)?pf(e):window,p=!Pne()&&n,g=(l.left+(p&&(r=(a=f.visualViewport)==null?void 0:a.offsetLeft)!=null?r:0))/d,v=(l.top+(p&&(o=(s=f.visualViewport)==null?void 0:s.offsetTop)!=null?o:0))/u,c=l.width/d,h=l.height/u;return{width:c,height:h,top:v,right:g+c,bottom:v+h,left:g,x:g,y:v}}function Lh(e){return(t=e,(t instanceof pf(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function V4(e){return Vh(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Lne(e){return zu(Lh(e)).left+V4(e).scrollLeft}function AFe(e,t,n){let r=Bd(t),a=Lh(t),o=zu(e,r&&function(d){let u=zu(d);return lw(u.width)!==d.offsetWidth||lw(u.height)!==d.offsetHeight}(t),n==="fixed"),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};if(r||!r&&n!=="fixed")if((Ou(t)!=="body"||W4(a))&&(s=V4(t)),Bd(t)){let d=zu(t,!0);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else a&&(l.x=Lne(a));return{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function Nne(e){return Ou(e)==="html"?e:e.assignedSlot||e.parentNode||(GT(e)?e.host:null)||Lh(e)}function VO(e){return Bd(e)&&getComputedStyle(e).position!=="fixed"?e.offsetParent:null}function kS(e){let t=pf(e),n=VO(e);for(;n&&bFe(n)&&getComputedStyle(n).position==="static";)n=VO(n);return n&&(Ou(n)==="html"||Ou(n)==="body"&&getComputedStyle(n).position==="static"&&!GO(n))?t:n||function(r){let a=Nne(r);for(GT(a)&&(a=a.host);Bd(a)&&!["html","body"].includes(Ou(a));){if(GO(a))return a;a=a.parentNode}return null}(e)||t}function YO(e){if(Bd(e))return{width:e.offsetWidth,height:e.offsetHeight};let t=zu(e);return{width:t.width,height:t.height}}function $ne(e){let t=Nne(e);return["html","body","#document"].includes(Ou(t))?e.ownerDocument.body:Bd(t)&&W4(t)?t:$ne(t)}function cw(e,t){var n;t===void 0&&(t=[]);let r=$ne(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),o=pf(r),s=a?[o].concat(o.visualViewport||[],W4(r)?r:[]):r,l=t.concat(s);return a?l:l.concat(cw(s))}function KO(e,t,n){return t==="viewport"?ow(function(r,a){let o=pf(r),s=Lh(r),l=o.visualViewport,d=s.clientWidth,u=s.clientHeight,f=0,p=0;if(l){d=l.width,u=l.height;let g=Pne();(g||!g&&a==="fixed")&&(f=l.offsetLeft,p=l.offsetTop)}return{width:d,height:u,x:f,y:p}}(e,n)):Vh(t)?function(r,a){let o=zu(r,!1,a==="fixed"),s=o.top+r.clientTop,l=o.left+r.clientLeft;return{top:s,left:l,x:l,y:s,right:l+r.clientWidth,bottom:s+r.clientHeight,width:r.clientWidth,height:r.clientHeight}}(t,n):ow(function(r){var a;let o=Lh(r),s=V4(r),l=(a=r.ownerDocument)==null?void 0:a.body,d=Qv(o.scrollWidth,o.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),u=Qv(o.scrollHeight,o.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),f=-s.scrollLeft+Lne(r),p=-s.scrollTop;return Fb(l||o).direction==="rtl"&&(f+=Qv(o.clientWidth,l?l.clientWidth:0)-d),{width:d,height:u,x:f,y:p}}(Lh(e)))}function wFe(e){let t=cw(e),n=["absolute","fixed"].includes(Fb(e).position)&&Bd(e)?kS(e):e;return Vh(n)?t.filter(r=>Vh(r)&&function(a,o){let s=o.getRootNode==null?void 0:o.getRootNode();if(a.contains(o))return!0;if(s&&GT(s)){let l=o;do{if(l&&a===l)return!0;l=l.parentNode||l.host}while(l)}return!1}(r,n)&&Ou(r)!=="body"):[]}var EFe={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e,o=[...n==="clippingAncestors"?wFe(t):[].concat(n),r],s=o[0],l=o.reduce((d,u)=>{let f=KO(t,u,a);return d.top=Qv(f.top,d.top),d.right=WO(f.right,d.right),d.bottom=WO(f.bottom,d.bottom),d.left=Qv(f.left,d.left),d},KO(t,s,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e,a=Bd(n),o=Lh(n);if(n===o)return t;let s={scrollLeft:0,scrollTop:0},l={x:0,y:0};if((a||!a&&r!=="fixed")&&((Ou(n)!=="body"||W4(o))&&(s=V4(n)),Bd(n))){let d=zu(n,!0);l.x=d.x+n.clientLeft,l.y=d.y+n.clientTop}return{...t,x:t.x-s.scrollLeft+l.x,y:t.y-s.scrollTop+l.y}},isElement:Vh,getDimensions:YO,getOffsetParent:kS,getDocumentElement:Lh,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:AFe(t,kS(n),r),floating:{...YO(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Fb(e).direction==="rtl"};function xFe(e,t,n,r){r===void 0&&(r={});let{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:s=!0,animationFrame:l=!1}=r,d=a&&!l,u=o&&!l,f=d||u?[...Vh(e)?cw(e):[],...cw(t)]:[];f.forEach(c=>{d&&c.addEventListener("scroll",n,{passive:!0}),u&&c.addEventListener("resize",n)});let p,g=null;if(s){let c=!0;g=new ResizeObserver(()=>{c||n(),c=!1}),Vh(e)&&!l&&g.observe(e),g.observe(t)}let v=l?zu(e):null;return l&&function c(){let h=zu(e);!v||h.x===v.x&&h.y===v.y&&h.width===v.width&&h.height===v.height||n(),v=h,p=requestAnimationFrame(c)}(),n(),()=>{var c;f.forEach(h=>{d&&h.removeEventListener("scroll",n),u&&h.removeEventListener("resize",n)}),(c=g)==null||c.disconnect(),g=null,l&&cancelAnimationFrame(p)}}var _Fe=(e,t,n)=>cFe(e,t,{platform:EFe,...n}),ps=te(Fe()),XO=te(Fe()),CFe=te(Dd()),MS=typeof document<"u"?XO.useLayoutEffect:XO.useEffect;function TS(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!TS(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){let o=a[r];if(!(o==="_owner"&&e.$$typeof)&&!TS(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function SFe(e){let t=ps.useRef(e);return MS(()=>{t.current=e}),t}function IFe(e){let{middleware:t,placement:n="bottom",strategy:r="absolute",whileElementsMounted:a}=e===void 0?{}:e,o=ps.useRef(null),s=ps.useRef(null),l=SFe(a),d=ps.useRef(null),[u,f]=ps.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[p,g]=ps.useState(t);TS(p==null?void 0:p.map(w=>{let{options:E}=w;return E}),t==null?void 0:t.map(w=>{let{options:E}=w;return E}))||g(t);let v=ps.useCallback(()=>{!o.current||!s.current||_Fe(o.current,s.current,{middleware:p,placement:n,strategy:r}).then(w=>{c.current&&CFe.flushSync(()=>{f(w)})})},[p,n,r]);MS(()=>{c.current&&v()},[v]);let c=ps.useRef(!1);MS(()=>(c.current=!0,()=>{c.current=!1}),[]);let h=ps.useCallback(()=>{if(typeof d.current=="function"&&(d.current(),d.current=null),o.current&&s.current)if(l.current){let w=l.current(o.current,s.current,v);d.current=w}else v()},[v,l]),m=ps.useCallback(w=>{o.current=w,h()},[h]),U=ps.useCallback(w=>{s.current=w,h()},[h]),b=ps.useMemo(()=>({reference:o,floating:s}),[]);return ps.useMemo(()=>({...u,update:v,refs:b,reference:m,floating:U}),[u,v,b,m,U])}var kFe=e=>{let{element:t,padding:n}=e;function r(a){return Object.prototype.hasOwnProperty.call(a,"current")}return{name:"arrow",options:e,fn(a){return r(t)?t.current!=null?OO({element:t.current,padding:n}).fn(a):{}:t?OO({element:t,padding:n}).fn(a):{}}}};N();var i9=te(Fe()),MFe=(0,i9.forwardRef)((e,t)=>{let{children:n,width:r=10,height:a=5,...o}=e;return(0,i9.createElement)(Yo.svg,pr({},o,{ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?n:(0,i9.createElement)("polygon",{points:"0,0 30,0 15,10"}))}),TFe=MFe;N();var BFe=te(Fe());function RFe(e){let[t,n]=(0,BFe.useState)(void 0);return vh(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;let o=a[0],s,l;if("borderBoxSize"in o){let d=o.borderBoxSize,u=Array.isArray(d)?d[0]:d;s=u.inlineSize,l=u.blockSize}else s=e.offsetWidth,l=e.offsetHeight;n({width:s,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Fne="Popper",[WT,jne]=Nb(Fne),[DFe,One]=WT(Fne),PFe=e=>{let{__scopePopper:t,children:n}=e,[r,a]=(0,Hi.useState)(null);return(0,Hi.createElement)(DFe,{scope:t,anchor:r,onAnchorChange:a},n)},LFe="PopperAnchor",NFe=(0,Hi.forwardRef)((e,t)=>{let{__scopePopper:n,virtualRef:r,...a}=e,o=One(LFe,n),s=(0,Hi.useRef)(null),l=Td(t,s);return(0,Hi.useEffect)(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:(0,Hi.createElement)(Yo.div,pr({},a,{ref:l}))}),dw="PopperContent",[$Fe,FFe]=WT(dw),[jFe,OFe]=WT(dw,{hasParent:!1,positionUpdateFns:new Set}),zFe=(0,Hi.forwardRef)((e,t)=>{var n,r,a,o,s,l,d,u;let{__scopePopper:f,side:p="bottom",sideOffset:g=0,align:v="center",alignOffset:c=0,arrowPadding:h=0,collisionBoundary:m=[],collisionPadding:U=0,sticky:b="partial",hideWhenDetached:w=!1,avoidCollisions:E=!0,onPlaced:x,...C}=e,I=One(dw,f),[S,M]=(0,Hi.useState)(null),R=Td(t,We=>M(We)),[D,L]=(0,Hi.useState)(null),j=RFe(D),re=(n=j==null?void 0:j.width)!==null&&n!==void 0?n:0,J=(r=j==null?void 0:j.height)!==null&&r!==void 0?r:0,H=p+(v!=="center"?"-"+v:""),ne=typeof U=="number"?U:{top:0,right:0,bottom:0,left:0,...U},Z=Array.isArray(m)?m:[m],se=Z.length>0,O={padding:ne,boundary:Z.filter(VFe),altBoundary:se},{reference:V,floating:de,strategy:oe,x:me,y:ve,placement:xe,middlewareData:le,update:he}=IFe({strategy:"fixed",placement:H,whileElementsMounted:xFe,middleware:[YFe(),mFe({mainAxis:g+J,alignmentAxis:c}),E?UFe({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?vFe():void 0,...O}):void 0,D?kFe({element:D,padding:h}):void 0,E?pFe({...O}):void 0,yFe({...O,apply:({elements:We,availableWidth:vt,availableHeight:_e})=>{We.floating.style.setProperty("--radix-popper-available-width",`${vt}px`),We.floating.style.setProperty("--radix-popper-available-height",`${_e}px`)}}),KFe({arrowWidth:re,arrowHeight:J}),w?gFe({strategy:"referenceHidden"}):void 0].filter(WFe)});vh(()=>{V(I.anchor)},[V,I.anchor]);let ge=me!==null&&ve!==null,[Ee,ze]=zne(xe),at=of(x);vh(()=>{ge&&(at==null||at())},[ge,at]);let q=(a=le.arrow)===null||a===void 0?void 0:a.x,ae=(o=le.arrow)===null||o===void 0?void 0:o.y,Ae=((s=le.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[$e,Ce]=(0,Hi.useState)();vh(()=>{S&&Ce(window.getComputedStyle(S).zIndex)},[S]);let{hasParent:je,positionUpdateFns:Oe}=OFe(dw,f),Ke=!je;(0,Hi.useLayoutEffect)(()=>{if(!Ke)return Oe.add(he),()=>{Oe.delete(he)}},[Ke,Oe,he]),vh(()=>{Ke&&ge&&Array.from(Oe).reverse().forEach(We=>requestAnimationFrame(We))},[Ke,ge,Oe]);let qe={"data-side":Ee,"data-align":ze,...C,ref:R,style:{...C.style,animation:ge?void 0:"none",opacity:(l=le.hide)!==null&&l!==void 0&&l.referenceHidden?0:void 0}};return(0,Hi.createElement)("div",{ref:de,"data-radix-popper-content-wrapper":"",style:{position:oe,left:0,top:0,transform:ge?`translate3d(${Math.round(me)}px, ${Math.round(ve)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:$e,"--radix-popper-transform-origin":[(d=le.transformOrigin)===null||d===void 0?void 0:d.x,(u=le.transformOrigin)===null||u===void 0?void 0:u.y].join(" ")},dir:e.dir},(0,Hi.createElement)($Fe,{scope:f,placedSide:Ee,onArrowChange:L,arrowX:q,arrowY:ae,shouldHideArrow:Ae},Ke?(0,Hi.createElement)(jFe,{scope:f,hasParent:!0,positionUpdateFns:Oe},(0,Hi.createElement)(Yo.div,qe)):(0,Hi.createElement)(Yo.div,qe)))}),QFe="PopperArrow",HFe={top:"bottom",right:"left",bottom:"top",left:"right"},GFe=(0,Hi.forwardRef)(function(e,t){let{__scopePopper:n,...r}=e,a=FFe(QFe,n),o=HFe[a.placedSide];return(0,Hi.createElement)("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0}},(0,Hi.createElement)(TFe,pr({},r,{ref:t,style:{...r.style,display:"block"}})))});function WFe(e){return e!==void 0}function VFe(e){return e!==null}var YFe=()=>({name:"anchorCssProperties",fn(e){let{rects:t,elements:n}=e,{width:r,height:a}=t.reference;return n.floating.style.setProperty("--radix-popper-anchor-width",`${r}px`),n.floating.style.setProperty("--radix-popper-anchor-height",`${a}px`),{}}}),KFe=e=>({name:"transformOrigin",options:e,fn(t){var n,r,a,o,s;let{placement:l,rects:d,middlewareData:u}=t,f=((n=u.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,p=f?0:e.arrowWidth,g=f?0:e.arrowHeight,[v,c]=zne(l),h={start:"0%",center:"50%",end:"100%"}[c],m=((r=(a=u.arrow)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0)+p/2,U=((o=(s=u.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+g/2,b="",w="";return v==="bottom"?(b=f?h:`${m}px`,w=`${-g}px`):v==="top"?(b=f?h:`${m}px`,w=`${d.floating.height+g}px`):v==="right"?(b=`${-g}px`,w=f?h:`${U}px`):v==="left"&&(b=`${d.floating.width+g}px`,w=f?h:`${U}px`),{data:{x:b,y:w}}}});function zne(e){let[t,n="center"]=e.split("-");return[t,n]}var XFe=PFe,ZFe=NFe,qFe=zFe,JFe=GFe;N();var ZO=te(Fe()),eje=te(Dd()),tje=(0,ZO.forwardRef)((e,t)=>{var n;let{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...a}=e;return r?eje.default.createPortal((0,ZO.createElement)(Yo.div,pr({},a,{ref:t})),r):null});N();var wu=te(Fe()),nje=te(Dd());function rje(e,t){return(0,wu.useReducer)((n,r)=>t[n][r]??n,e)}var Y4=e=>{let{present:t,children:n}=e,r=ije(t),a=typeof n=="function"?n({present:r.isPresent}):wu.Children.only(n),o=Td(r.ref,a.ref);return typeof n=="function"||r.isPresent?(0,wu.cloneElement)(a,{ref:o}):null};Y4.displayName="Presence";function ije(e){let[t,n]=(0,wu.useState)(),r=(0,wu.useRef)({}),a=(0,wu.useRef)(e),o=(0,wu.useRef)("none"),s=e?"mounted":"unmounted",[l,d]=rje(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,wu.useEffect)(()=>{let u=N5(r.current);o.current=l==="mounted"?u:"none"},[l]),vh(()=>{let u=r.current,f=a.current;if(f!==e){let p=o.current,g=N5(u);e?d("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(f&&p!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),vh(()=>{if(t){let u=p=>{let g=N5(r.current).includes(p.animationName);p.target===t&&g&&(0,nje.flushSync)(()=>d("ANIMATION_END"))},f=p=>{p.target===t&&(o.current=N5(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:(0,wu.useCallback)(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function N5(e){return(e==null?void 0:e.animationName)||"none"}N();var uA=te(Fe());function VT({prop:e,defaultProp:t,onChange:n=()=>{}}){let[r,a]=aje({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,l=of(n),d=(0,uA.useCallback)(u=>{if(o){let f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[o,e,a,l]);return[s,d]}function aje({defaultProp:e,onChange:t}){let n=(0,uA.useState)(e),[r]=n,a=(0,uA.useRef)(r),o=of(t);return(0,uA.useEffect)(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),n}N();var oje=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},R1=new WeakMap,$5=new WeakMap,F5={},a9=0,Qne=function(e){return e&&(e.host||Qne(e.parentNode))},sje=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Qne(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},lje=function(e,t,n,r){var a=sje(t,Array.isArray(e)?e:[e]);F5[n]||(F5[n]=new WeakMap);var o=F5[n],s=[],l=new Set,d=new Set(a),u=function(p){!p||l.has(p)||(l.add(p),u(p.parentNode))};a.forEach(u);var f=function(p){!p||d.has(p)||Array.prototype.forEach.call(p.children,function(g){if(l.has(g))f(g);else try{var v=g.getAttribute(r),c=v!==null&&v!=="false",h=(R1.get(g)||0)+1,m=(o.get(g)||0)+1;R1.set(g,h),o.set(g,m),s.push(g),h===1&&c&&$5.set(g,!0),m===1&&g.setAttribute(n,"true"),c||g.setAttribute(r,"true")}catch(U){console.error("aria-hidden: cannot operate on ",g,U)}})};return f(t),l.clear(),a9++,function(){s.forEach(function(p){var g=R1.get(p)-1,v=o.get(p)-1;R1.set(p,g),o.set(p,v),g||($5.has(p)||p.removeAttribute(r),$5.delete(p)),v||p.removeAttribute(n)}),a9--,a9||(R1=new WeakMap,R1=new WeakMap,$5=new WeakMap,F5={})}},cje=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=oje(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),lje(r,a,n,"aria-hidden")):function(){return null}};N();N();N();var od=function(){return od=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},od.apply(this,arguments)};function Hne(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function dje(e,t,n){for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var qO=te(Fe());N();var Jd=te(Fe());N();var fA="right-scroll-bar-position",hA="width-before-scroll-bar",uje="with-scroll-bars-hidden",fje="--removed-body-scroll-bar-size";N();N();function o9(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}N();var hje=te(Fe());function pje(e,t){var n=(0,hje.useState)(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}N();var JO=te(Fe()),gje=typeof window<"u"?JO.useLayoutEffect:JO.useEffect,ez=new WeakMap;function mje(e,t){var n=pje(null,function(r){return e.forEach(function(a){return o9(a,r)})});return gje(function(){var r=ez.get(n);if(r){var a=new Set(r),o=new Set(e),s=n.current;a.forEach(function(l){o.has(l)||o9(l,null)}),o.forEach(function(l){a.has(l)||o9(l,s)})}ez.set(n,e)},[e]),n}N();N();N();function Uje(e){return e}function vje(e,t){t===void 0&&(t=Uje);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(l){return l!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var l=n;n=[],l.forEach(o),s=n}var d=function(){var f=s;s=[],f.forEach(o)},u=function(){return Promise.resolve().then(d)};u(),n={push:function(f){s.push(f),u()},filter:function(f){return s=s.filter(f),n}}}};return a}function yje(e){e===void 0&&(e={});var t=vje(null);return t.options=od({async:!0,ssr:!1},e),t}N();var bje=te(Fe()),Gne=function(e){var t=e.sideCar,n=Hne(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return bje.createElement(r,od({},n))};Gne.isSideCarExport=!0;function Aje(e,t){return e.useMedium(t),Gne}var Wne=yje(),s9=function(){},K4=Jd.forwardRef(function(e,t){var n=Jd.useRef(null),r=Jd.useState({onScrollCapture:s9,onWheelCapture:s9,onTouchMoveCapture:s9}),a=r[0],o=r[1],s=e.forwardProps,l=e.children,d=e.className,u=e.removeScrollBar,f=e.enabled,p=e.shards,g=e.sideCar,v=e.noIsolation,c=e.inert,h=e.allowPinchZoom,m=e.as,U=m===void 0?"div":m,b=Hne(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=g,E=mje([n,t]),x=od(od({},b),a);return Jd.createElement(Jd.Fragment,null,f&&Jd.createElement(w,{sideCar:Wne,removeScrollBar:u,shards:p,noIsolation:v,inert:c,setCallbacks:o,allowPinchZoom:!!h,lockRef:n}),s?Jd.cloneElement(Jd.Children.only(l),od(od({},x),{ref:E})):Jd.createElement(U,od({},x,{className:d,ref:E}),l))});K4.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};K4.classNames={fullWidth:hA,zeroRight:fA};N();N();var ji=te(Fe());N();N();var BS=te(Fe());N();N();N();var wje=te(Fe());N();N();var Eje=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xje(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Eje();return t&&e.setAttribute("nonce",t),e}function _je(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Cje(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Sje=function(){var e=0,t=null;return{add:function(n){e==0&&(t=xje())&&(_je(t,n),Cje(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Ije=function(){var e=Sje();return function(t,n){wje.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Vne=function(){var e=Ije(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t};N();var kje={left:0,top:0,right:0,gap:0},l9=function(e){return parseInt(e||"",10)||0},Mje=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[l9(n),l9(r),l9(a)]},Tje=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return kje;var t=Mje(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Bje=Vne(),nm="data-scroll-locked",Rje=function(e,t,n,r){var a=e.left,o=e.top,s=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(uje,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(nm,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fA,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(hA,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(fA," .").concat(fA,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(hA," .").concat(hA,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(nm,`] {
    `).concat(fje,": ").concat(l,`px;
  }
`)},tz=function(){var e=parseInt(document.body.getAttribute(nm)||"0",10);return isFinite(e)?e:0},Dje=function(){BS.useEffect(function(){return document.body.setAttribute(nm,(tz()+1).toString()),function(){var e=tz()-1;e<=0?document.body.removeAttribute(nm):document.body.setAttribute(nm,e.toString())}},[])},Pje=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;Dje();var o=BS.useMemo(function(){return Tje(a)},[a]);return BS.createElement(Bje,{styles:Rje(o,!t,a,n?"":"!important")})};N();var RS=!1;if(typeof window<"u")try{cU=Object.defineProperty({},"passive",{get:function(){return RS=!0,!0}}),window.addEventListener("test",cU,cU),window.removeEventListener("test",cU,cU)}catch{RS=!1}var cU,D1=RS?{passive:!1}:!1;N();var Lje=function(e){return e.tagName==="TEXTAREA"},Yne=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Lje(e)&&n[t]==="visible")},Nje=function(e){return Yne(e,"overflowY")},$je=function(e){return Yne(e,"overflowX")},nz=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=Kne(e,n);if(r){var a=Xne(e,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Fje=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},jje=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Kne=function(e,t){return e==="v"?Nje(t):$je(t)},Xne=function(e,t){return e==="v"?Fje(t):jje(t)},Oje=function(e,t){return e==="h"&&t==="rtl"?-1:1},zje=function(e,t,n,r,a){var o=Oje(e,window.getComputedStyle(t).direction),s=o*r,l=n.target,d=t.contains(l),u=!1,f=s>0,p=0,g=0;do{var v=Xne(e,l),c=v[0],h=v[1],m=v[2],U=h-m-o*c;(c||U)&&Kne(e,l)&&(p+=U,g+=c),l=l.parentNode}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(f&&(p===0||!a)||!f&&(g===0||!a))&&(u=!0),u},j5=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rz=function(e){return[e.deltaX,e.deltaY]},iz=function(e){return e&&"current"in e?e.current:e},Qje=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Hje=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Gje=0,P1=[];function Wje(e){var t=ji.useRef([]),n=ji.useRef([0,0]),r=ji.useRef(),a=ji.useState(Gje++)[0],o=ji.useState(function(){return Vne()})[0],s=ji.useRef(e);ji.useEffect(function(){s.current=e},[e]),ji.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var h=dje([e.lockRef.current],(e.shards||[]).map(iz)).filter(Boolean);return h.forEach(function(m){return m.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),h.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=ji.useCallback(function(h,m){if("touches"in h&&h.touches.length===2)return!s.current.allowPinchZoom;var U=j5(h),b=n.current,w="deltaX"in h?h.deltaX:b[0]-U[0],E="deltaY"in h?h.deltaY:b[1]-U[1],x,C=h.target,I=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in h&&I==="h"&&C.type==="range")return!1;var S=nz(I,C);if(!S)return!0;if(S?x=I:(x=I==="v"?"h":"v",S=nz(I,C)),!S)return!1;if(!r.current&&"changedTouches"in h&&(w||E)&&(r.current=x),!x)return!0;var M=r.current||x;return zje(M,m,h,M==="h"?w:E,!0)},[]),d=ji.useCallback(function(h){var m=h;if(!(!P1.length||P1[P1.length-1]!==o)){var U="deltaY"in m?rz(m):j5(m),b=t.current.filter(function(x){return x.name===m.type&&x.target===m.target&&Qje(x.delta,U)})[0];if(b&&b.should){m.cancelable&&m.preventDefault();return}if(!b){var w=(s.current.shards||[]).map(iz).filter(Boolean).filter(function(x){return x.contains(m.target)}),E=w.length>0?l(m,w[0]):!s.current.noIsolation;E&&m.cancelable&&m.preventDefault()}}},[]),u=ji.useCallback(function(h,m,U,b){var w={name:h,delta:m,target:U,should:b};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(E){return E!==w})},1)},[]),f=ji.useCallback(function(h){n.current=j5(h),r.current=void 0},[]),p=ji.useCallback(function(h){u(h.type,rz(h),h.target,l(h,e.lockRef.current))},[]),g=ji.useCallback(function(h){u(h.type,j5(h),h.target,l(h,e.lockRef.current))},[]);ji.useEffect(function(){return P1.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",d,D1),document.addEventListener("touchmove",d,D1),document.addEventListener("touchstart",f,D1),function(){P1=P1.filter(function(h){return h!==o}),document.removeEventListener("wheel",d,D1),document.removeEventListener("touchmove",d,D1),document.removeEventListener("touchstart",f,D1)}},[]);var v=e.removeScrollBar,c=e.inert;return ji.createElement(ji.Fragment,null,c?ji.createElement(o,{styles:Hje(a)}):null,v?ji.createElement(Pje,{gapMode:"margin"}):null)}var Vje=Aje(Wne,Wje),Zne=qO.forwardRef(function(e,t){return qO.createElement(K4,od({},e,{ref:t,sideCar:Vje}))});Zne.classNames=K4.classNames;var Yje=Zne,qne="Popover",[Jne,oJe]=Nb(qne,[jne]),X4=jne(),[Kje,v2]=Jne(qne),Xje=e=>{let{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:s=!1}=e,l=X4(t),d=(0,Gn.useRef)(null),[u,f]=(0,Gn.useState)(!1),[p=!1,g]=VT({prop:r,defaultProp:a,onChange:o});return(0,Gn.createElement)(XFe,l,(0,Gn.createElement)(Kje,{scope:t,contentId:QT(),triggerRef:d,open:p,onOpenChange:g,onOpenToggle:(0,Gn.useCallback)(()=>g(v=>!v),[g]),hasCustomAnchor:u,onCustomAnchorAdd:(0,Gn.useCallback)(()=>f(!0),[]),onCustomAnchorRemove:(0,Gn.useCallback)(()=>f(!1),[]),modal:s},n))},Zje="PopoverTrigger",qje=(0,Gn.forwardRef)((e,t)=>{let{__scopePopover:n,...r}=e,a=v2(Zje,n),o=X4(n),s=Td(t,a.triggerRef),l=(0,Gn.createElement)(Yo.button,pr({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":nre(a.open)},r,{ref:s,onClick:Ga(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?l:(0,Gn.createElement)(ZFe,pr({asChild:!0},o),l)}),ere="PopoverPortal",[Jje,eOe]=Jne(ere,{forceMount:void 0}),tOe=e=>{let{__scopePopover:t,forceMount:n,children:r,container:a}=e,o=v2(ere,t);return(0,Gn.createElement)(Jje,{scope:t,forceMount:n},(0,Gn.createElement)(Y4,{present:n||o.open},(0,Gn.createElement)(tje,{asChild:!0,container:a},r)))},Xy="PopoverContent",nOe=(0,Gn.forwardRef)((e,t)=>{let n=eOe(Xy,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,o=v2(Xy,e.__scopePopover);return(0,Gn.createElement)(Y4,{present:r||o.open},o.modal?(0,Gn.createElement)(rOe,pr({},a,{ref:t})):(0,Gn.createElement)(iOe,pr({},a,{ref:t})))}),rOe=(0,Gn.forwardRef)((e,t)=>{let n=v2(Xy,e.__scopePopover),r=(0,Gn.useRef)(null),a=Td(t,r),o=(0,Gn.useRef)(!1);return(0,Gn.useEffect)(()=>{let s=r.current;if(s)return cje(s)},[]),(0,Gn.createElement)(Yje,{as:Yy,allowPinchZoom:!0},(0,Gn.createElement)(tre,pr({},e,{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ga(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),o.current||(l=n.triggerRef.current)===null||l===void 0||l.focus()}),onPointerDownOutside:Ga(e.onPointerDownOutside,s=>{let l=s.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,u=l.button===2||d;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ga(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})))}),iOe=(0,Gn.forwardRef)((e,t)=>{let n=v2(Xy,e.__scopePopover),r=(0,Gn.useRef)(!1);return(0,Gn.createElement)(tre,pr({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o;if((o=e.onCloseAutoFocus)===null||o===void 0||o.call(e,a),!a.defaultPrevented){var s;r.current||(s=n.triggerRef.current)===null||s===void 0||s.focus(),a.preventDefault()}r.current=!1},onInteractOutside:a=>{var o,s;(o=e.onInteractOutside)===null||o===void 0||o.call(e,a),a.defaultPrevented||(r.current=!0);let l=a.target;!((s=n.triggerRef.current)===null||s===void 0)&&s.contains(l)&&a.preventDefault()}}))}),tre=(0,Gn.forwardRef)((e,t)=>{let{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:f,...p}=e,g=v2(Xy,n),v=X4(n);return q$e(),(0,Gn.createElement)(J$e,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o},(0,Gn.createElement)(Y$e,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1)},(0,Gn.createElement)(qFe,pr({"data-state":nre(g.open),role:"dialog",id:g.contentId},v,p,{ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)"}}))))}),aOe=(0,Gn.forwardRef)((e,t)=>{let{__scopePopover:n,...r}=e,a=X4(n);return(0,Gn.createElement)(JFe,pr({},a,r,{ref:t}))});function nre(e){return e?"open":"closed"}var YT=Xje,KT=qje,oOe=tOe,rre=nOe,ire=aOe,sOe=te(Fe(),1);N();var _p=te(Fe(),1);N();var az=te(Fe(),1),lOe=te(Dd(),1);N();var are=te(Fe(),1),ore=are.default.createContext(null),Xa=()=>are.default.useContext(ore);N();var c9=te(Fe(),1),sre=e=>{let[t,n]=(0,c9.useState)(null),r=va(),{theme:a}=Xa(),{container:o}=Nd();return(0,c9.useLayoutEffect)(()=>{var s;t&&(t.className="",t.classList.add("excalidraw",...((s=e==null?void 0:e.className)==null?void 0:s.split(/\s+/))||[]),t.classList.toggle("excalidraw--mobile",r.editor.isMobile),t.classList.toggle("theme--dark",a===Un.DARK))},[t,a,r.editor.isMobile,e==null?void 0:e.className]),(0,c9.useLayoutEffect)(()=>{let s=e!=null&&e.parentSelector?o==null?void 0:o.querySelector(e.parentSelector):document.body;if(!s)return;let l=document.createElement("div");return s.appendChild(l),n(l),()=>{s.removeChild(l)}},[o,e==null?void 0:e.parentSelector]),t};N();var cOe=te(Fe(),1);function XT(e,t,n){(0,cOe.useEffect)(()=>{function r(a){let o=a;if(!e.current)return;let s=n==null?void 0:n(o,e.current);if(s!==!0){if(s===!1)return t(o);e.current.contains(o.target)||!document.documentElement.contains(o.target)||o.target.closest("[data-radix-portal]")||o.target===document.documentElement&&document.body.style.pointerEvents==="none"||o.target.closest("[data-prevent-outside-click]")||t(o)}}return document.addEventListener("pointerdown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("pointerdown",r),document.removeEventListener("touchstart",r)}},[e,t,n])}N();var dOe=te(Fe(),1),Z4=e=>{let t=(0,dOe.useRef)(e);return Object.assign(t.current,e),t.current},uOe=te(Se(),1),q4=Ya(null),fOe=({onCancel:e,onChange:t,onSelect:n,colorPickerType:r})=>{let a=sre({className:"excalidraw-eye-dropper-backdrop",parentSelector:".excalidraw-eye-dropper-container"}),o=Xa(),s=a7(),l=Ld(),d=gn(s,o),u=Z4({app:l,onCancel:e,onChange:t,onSelect:n,selectedElements:d}),{container:f}=Nd();(0,az.useEffect)(()=>{let g=p.current;if(!g||!l.canvas||!a)return;let v=!1,c=l.canvas.getContext("2d"),h=({clientX:C,clientY:I})=>{let S=c.getImageData((C-o.offsetLeft)*window.devicePixelRatio,(I-o.offsetTop)*window.devicePixelRatio,1,1).data;return v9e(S[0],S[1],S[2])},m=({clientX:C,clientY:I,altKey:S})=>{g.style.top=`${I+20}px`,g.style.left=`${C+20}px`;let M=h({clientX:C,clientY:I});v&&u.onChange(r,M,u.selectedElements,{altKey:S}),g.style.background=M},U=()=>{u.onCancel()},b=(C,I)=>{u.onSelect(C,I)},w=C=>{v=!0,C.stopImmediatePropagation()},E=C=>{v=!1,f==null||f.focus(),C.stopImmediatePropagation(),C.preventDefault(),b(h(C),C)},x=C=>{C.key===ie.ESCAPE&&(C.preventDefault(),C.stopImmediatePropagation(),U())};return a.tabIndex=-1,a.focus(),m({clientX:u.app.lastViewportPosition.x,clientY:u.app.lastViewportPosition.y,altKey:!1}),a.addEventListener("keydown",x),a.addEventListener("pointerdown",w),a.addEventListener("pointerup",E),window.addEventListener("pointermove",m,{passive:!0}),window.addEventListener("blur",U),()=>{v=!1,a.removeEventListener("keydown",x),a.removeEventListener("pointerdown",w),a.removeEventListener("pointerup",E),window.removeEventListener("pointermove",m),window.removeEventListener("blur",U)}},[u,l.canvas,a,r,f,o.offsetLeft,o.offsetTop]);let p=(0,az.useRef)(null);return XT(p,()=>{e()},g=>!!g.target.closest(".excalidraw-eye-dropper-trigger, .excalidraw-eye-dropper-backdrop")),a?(0,lOe.createPortal)((0,uOe.jsx)("div",{ref:p,className:"excalidraw-eye-dropper-preview"}),a):null},Cp=te(Se(),1),hOe=({color:e,onChange:t,label:n,colorPickerType:r})=>{let a=va(),[o,s]=(0,_p.useState)(e),[l,d]=si(m2);(0,_p.useEffect)(()=>{s(e)},[e]);let u=(0,_p.useCallback)(c=>{let h=c.toLowerCase(),m=UOe(h);m&&t(m),s(h)},[t]),f=(0,_p.useRef)(null),p=(0,_p.useRef)(null);(0,_p.useEffect)(()=>{f.current&&f.current.focus()},[l]);let[g,v]=si(q4,ta);return(0,_p.useEffect)(()=>()=>{v(null)},[v]),(0,Cp.jsxs)("div",{className:"color-picker__input-label",children:[(0,Cp.jsx)("div",{className:"color-picker__input-hash",children:"#"}),(0,Cp.jsx)("input",{ref:l==="hex"?f:void 0,style:{border:0,padding:0},spellCheck:!1,className:"color-picker-input","aria-label":n,onChange:c=>{u(c.target.value)},value:(o||"").replace(/^#/,""),onBlur:()=>{s(e)},tabIndex:-1,onFocus:()=>d("hex"),onKeyDown:c=>{var h;c.key!==ie.TAB&&(c.key===ie.ESCAPE&&((h=p.current)==null||h.focus()),c.stopPropagation())}}),!a.editor.isMobile&&(0,Cp.jsxs)(Cp.Fragment,{children:[(0,Cp.jsx)("div",{style:{width:"1px",height:"1.25rem",backgroundColor:"var(--default-border-color)"}}),(0,Cp.jsx)("div",{ref:p,className:bt("excalidraw-eye-dropper-trigger",{selected:g}),onClick:()=>v(c=>c?null:{keepOpenOnAlt:!1,onSelect:h=>t(h),colorPickerType:r}),title:`${P("labels.eyeDropper")}  ${ie.I.toLocaleUpperCase()} or ${Ne("Alt")} `,children:jSe})]})]})};N();var pOe=te(Fe(),1);N();var gOe=te(Fe(),1),mOe=te(Se(),1),hc=gOe.default.forwardRef(({children:e,padding:t,className:n,style:r},a)=>(0,mOe.jsx)("div",{className:bt("Island",n),style:{"--padding":t,...r},ref:a,children:e})),O5=te(Se(),1),lre=pOe.default.forwardRef(({className:e,container:t,children:n,style:r,onClose:a,onKeyDown:o,onFocusOutside:s,onPointerLeave:l,onPointerDownOutside:d},u)=>{let f=va();return(0,O5.jsx)(oOe,{container:t,children:(0,O5.jsxs)(rre,{ref:u,className:bt("focus-visible-none",e),"data-prevent-outside-click":!0,side:f.editor.isMobile&&!f.viewport.isLandscape?"bottom":"right",align:f.editor.isMobile&&!f.viewport.isLandscape?"center":"start",alignOffset:-16,sideOffset:20,style:{zIndex:"var(--zIndex-popup)"},onPointerLeave:l,onKeyDown:o,onFocusOutside:s,onPointerDownOutside:d,onCloseAutoFocus:p=>{p.stopPropagation(),p.preventDefault(),t&&!c_e(document.activeElement)&&t.focus(),a()},children:[(0,O5.jsx)(hc,{padding:3,style:r,children:n}),(0,O5.jsx)(ire,{width:20,height:10,style:{fill:"var(--popup-bg-color)",filter:"drop-shadow(rgba(0, 0, 0, 0.05) 0px 3px 2px)"}})]})})}),Mo=te(Se(),1),oz=e=>{let t=new Option().style;return t.color=e,!!t.color},UOe=e=>ud(e)?e:oz(`#${e}`)?`#${e}`:oz(e)?e:null,vOe=({type:e,color:t,onChange:n,label:r,elements:a,palette:o=fn,updateData:s})=>{let{container:l}=Nd(),[,d]=si(m2),[u,f]=si(q4,ta),p=(0,Mo.jsxs)("div",{children:[(0,Mo.jsx)(dA,{children:P("colorPicker.hexCode")}),(0,Mo.jsx)(hOe,{color:t,label:r,onChange:c=>{n(c)},colorPickerType:e})]}),g=(0,sOe.useRef)(null),v=()=>{var c,h;(h=(c=g.current)==null?void 0:c.querySelector(".color-picker-content"))==null||h.focus()};return(0,Mo.jsx)(lre,{container:l,style:{maxWidth:"13rem"},onFocusOutside:c=>{v(),c.preventDefault()},onPointerDownOutside:c=>{u&&c.preventDefault()},onClose:()=>{s({openPopup:null}),d(null)},children:o?(0,Mo.jsx)(R$e,{palette:o,color:t,onChange:c=>{n(c)},onEyeDropperToggle:c=>{f(h=>c?(h=h||{keepOpenOnAlt:!0,onSelect:n,colorPickerType:e},h.keepOpenOnAlt=!0,h):c===!1||h?null:{keepOpenOnAlt:!1,onSelect:n,colorPickerType:e})},onEscape:c=>{u?f(null):s({openPopup:null})},label:r,type:e,elements:a,updateData:s,children:p}):p})},yOe=({label:e,color:t,type:n})=>(0,Mo.jsx)(KT,{type:"button",className:bt("color-picker__button active-color properties-trigger",{"is-transparent":t==="transparent"||!t}),"aria-label":e,style:t?{"--swatch-color":t}:void 0,title:P(n==="elementStroke"?"labels.showStroke":"labels.showBackground"),children:(0,Mo.jsx)("div",{className:"color-picker__button-outline"})}),ZT=({type:e,color:t,onChange:n,label:r,elements:a,palette:o=fn,topPicks:s,updateData:l,appState:d})=>(0,Mo.jsx)("div",{children:(0,Mo.jsxs)("div",{role:"dialog","aria-modal":"true",className:"color-picker-container",children:[(0,Mo.jsx)(y$e,{activeColor:t,onChange:n,type:e,topPicks:s}),(0,Mo.jsx)(xne,{}),(0,Mo.jsxs)(YT,{open:d.openPopup===e,onOpenChange:u=>{l({openPopup:u?e:null})},children:[(0,Mo.jsx)(yOe,{color:t,label:r,type:e}),d.openPopup===e&&(0,Mo.jsx)(vOe,{type:e,color:t,onChange:n,label:r,elements:a,palette:o,updateData:l})]})]})});N();var h0=te(Fe(),1);N();var dU=te(Fe(),1),bOe=te(Dd(),1),AOe=te(Se(),1),cre=({children:e,left:t,top:n,onCloseRequest:r,fitInViewport:a=!1,offsetLeft:o=0,offsetTop:s=0,viewportWidth:l=window.innerWidth,viewportHeight:d=window.innerHeight})=>{let u=(0,dU.useRef)(null);(0,dU.useEffect)(()=>{let p=u.current;if(!p)return;p.contains(document.activeElement)||p.focus();let g=v=>{var c,h,m;if(v.key===ie.TAB){let U=QC(p),{activeElement:b}=document,w=U.findIndex(E=>E===b);b===p?(v.shiftKey?(c=U[U.length-1])==null||c.focus():U[0].focus(),v.preventDefault(),v.stopImmediatePropagation()):w===0&&v.shiftKey?((h=U[U.length-1])==null||h.focus(),v.preventDefault(),v.stopImmediatePropagation()):w===U.length-1&&!v.shiftKey&&((m=U[0])==null||m.focus(),v.preventDefault(),v.stopImmediatePropagation())}};return p.addEventListener("keydown",g),()=>p.removeEventListener("keydown",g)},[]);let f=(0,dU.useRef)(null);return(0,dU.useLayoutEffect)(()=>{var p,g;if(a&&u.current&&n!=null&&t!=null){let v=u.current,{width:c,height:h}=v.getBoundingClientRect();if(((p=f.current)==null?void 0:p.top)===n&&((g=f.current)==null?void 0:g.left)===t)return;f.current={top:n,left:t},c>=l?(v.style.width=`${l}px`,v.style.left="0px",v.style.overflowX="scroll"):t+c-o>l?v.style.left=`${l-c-10}px`:v.style.left=`${t}px`,h>=d?(v.style.height=`${d-20}px`,v.style.top="10px",v.style.overflowY="scroll"):n+h-s>d?v.style.top=`${d-h}px`:v.style.top=`${n}px`}},[n,t,a,l,d,o,s]),(0,dU.useEffect)(()=>{if(r){let p=g=>{var v;(v=u.current)!=null&&v.contains(g.target)||(0,bOe.unstable_batchedUpdates)(()=>r(g))};return document.addEventListener("pointerdown",p,!1),()=>document.removeEventListener("pointerdown",p,!1)}},[r]),(0,AOe.jsx)("div",{className:"popover",ref:u,tabIndex:-1,children:e})},nl=te(Se(),1);function wOe({options:e,value:t,label:n,onChange:r,onClose:a}){let o=h0.default.useRef(),s=h0.default.useRef(),l=h0.default.useRef(null);return h0.default.useEffect(()=>{s.current?s.current.focus():l.current&&l.current.focus()},[]),(0,nl.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":n,onKeyDown:d=>{let u=e.find(f=>f.keyBinding===d.key.toLowerCase());if(!(d.metaKey||d.altKey||d.ctrlKey)&&u){let f=e.indexOf(u);l.current.children[f].focus(),d.preventDefault()}else if(d.key===ie.TAB)setTimeout(()=>{let f=s.current,p=document.activeElement;f!==p&&a()},0);else if(XU(d.key)){let{activeElement:f}=document,p=Vm().rtl,g=Array.prototype.indexOf.call(l.current.children,f);if(g!==-1){let v=e.length,c=g;switch(d.key){case(p?ie.ARROW_LEFT:ie.ARROW_RIGHT):case ie.ARROW_DOWN:{c=(g+1)%v;break}case(p?ie.ARROW_RIGHT:ie.ARROW_LEFT):case ie.ARROW_UP:{c=(v+g-1)%v;break}}l.current.children[c].focus()}d.preventDefault()}else(d.key===ie.ESCAPE||d.key===ie.ENTER)&&(d.preventDefault(),a());d.nativeEvent.stopImmediatePropagation(),d.stopPropagation()},children:(0,nl.jsx)("div",{className:"picker-content",ref:l,children:e.map((d,u)=>(0,nl.jsxs)("button",{type:"button",className:bt("picker-option",{active:t===d.value}),onClick:f=>{f.currentTarget.focus(),r(d.value)},title:`${d.text} ${d.keyBinding&&` ${d.keyBinding.toUpperCase()}`}`,"aria-label":d.text||"none","aria-keyshortcuts":d.keyBinding||void 0,ref:f=>{f&&u===0&&(o.current=f),f&&d.value===t&&(s.current=f)},onFocus:()=>{r(d.value)},children:[d.icon,d.keyBinding&&(0,nl.jsx)("span",{className:"picker-keybinding",children:d.keyBinding})]},d.text))})})}function sz({value:e,label:t,options:n,onChange:r,group:a=""}){var u;let[o,s]=h0.default.useState(!1),l=h0.default.useRef(null),d=Vm().rtl;return(0,nl.jsxs)("div",{children:[(0,nl.jsx)("button",{name:a,type:"button",className:o?"active":"","aria-label":t,onClick:()=>s(!o),ref:l,children:(u=n.find(f=>f.value===e))==null?void 0:u.icon}),(0,nl.jsx)(h0.default.Suspense,{fallback:"",children:o?(0,nl.jsxs)(nl.Fragment,{children:[(0,nl.jsx)(cre,{onCloseRequest:f=>f.target!==l.current&&s(!1),...d?{right:5.5}:{left:-5.5},children:(0,nl.jsx)(wOe,{options:n.filter(f=>f.showInPicker!==!1),value:e,label:t,onChange:r,onClose:()=>{var f;s(!1),(f=l.current)==null||f.focus()}})}),(0,nl.jsx)("div",{className:"picker-triangle"})]}):null})]})}N();var d9=te(Fe(),1);N();var ss=te(Fe(),1);N();var EOe=te(Fe(),1),lz=te(Se(),1),dre=EOe.default.forwardRef(({className:e,placeholder:t,onChange:n},r)=>(0,lz.jsxs)("div",{className:bt("QuickSearch__wrapper",e),children:[Q0,(0,lz.jsx)("input",{ref:r,className:"QuickSearch__input",type:"text",placeholder:t,onChange:a=>n(a.target.value.trim().toLowerCase())})]}));N();var xOe=te(Fe(),1),cz=te(Se(),1),ure=({className:e,placeholder:t,children:n})=>{let r=!xOe.Children.count(n);return(0,cz.jsx)("div",{className:bt("ScrollableList__wrapper",e),role:"menu",children:r?(0,cz.jsx)("div",{className:"empty",children:t}):n})};N();var dz=te(Se(),1),fre=({children:e,className:t="",style:n,title:r})=>(0,dz.jsxs)("div",{className:`dropdown-menu-group ${t}`,style:n,children:[r&&(0,dz.jsx)("p",{className:"dropdown-menu-group-title",children:r}),e]}),DS=fre;fre.displayName="DropdownMenuGroup";N();var uz=te(Fe(),1);N();var hre=te(Fe(),1),pre=hre.default.createContext({}),gre=(e="",t=!1,n=!1)=>`dropdown-menu-item dropdown-menu-item-base ${e}
  ${t?"dropdown-menu-item--selected":""} ${n?"dropdown-menu-item--hovered":""}`.trim(),mre=(e,t)=>{let n=(0,hre.useContext)(pre);return w4(e,r=>{var o;let a=new CustomEvent("menu.itemSelect",{bubbles:!0,cancelable:!0});t==null||t(a),a.defaultPrevented||((o=n.onSelect)==null||o.call(n,a))})};N();var uU=te(Se(),1),_Oe=({textStyle:e,icon:t,shortcut:n,children:r})=>{let a=va();return(0,uU.jsxs)(uU.Fragment,{children:[t&&(0,uU.jsx)("div",{className:"dropdown-menu-item__icon",children:t}),(0,uU.jsx)("div",{style:e,className:"dropdown-menu-item__text",children:r}),n&&!a.editor.isMobile&&(0,uU.jsx)("div",{className:"dropdown-menu-item__shortcut",children:n})]})},Ure=_Oe,PS=te(Se(),1),qT=({icon:e,value:t,order:n,children:r,shortcut:a,className:o,hovered:s,selected:l,textStyle:d,onSelect:u,onClick:f,...p})=>{let g=mre(f,u),v=(0,uz.useRef)(null);return(0,uz.useEffect)(()=>{var c,h;s&&(n===0?(c=v.current)==null||c.scrollIntoView({block:"end"}):(h=v.current)==null||h.scrollIntoView({block:"nearest"}))},[s,n]),(0,PS.jsx)("button",{...p,ref:v,value:t,onClick:g,className:gre(o,l,s),title:p.title??p["aria-label"],children:(0,PS.jsx)(Ure,{textStyle:d,icon:e,shortcut:a,children:r})})};qT.displayName="DropdownMenuItem";var rv={GREEN:"green",RED:"red",BLUE:"blue"},JT=({type:e=rv.BLUE,children:t})=>{let{theme:n}=Qb(),r={display:"inline-flex",marginLeft:"auto",padding:"2px 4px",borderRadius:6,fontSize:9,fontFamily:"Cascadia, monospace",border:n===Un.LIGHT?"1.5px solid white":"none"};switch(e){case rv.GREEN:Object.assign(r,{backgroundColor:"var(--background-color-badge)",color:"var(--color-badge)"});break;case rv.RED:Object.assign(r,{backgroundColor:"pink",color:"darkred"});break;case rv.BLUE:default:Object.assign(r,{background:"var(--color-promo)",color:"var(--color-surface-lowest)"})}return(0,PS.jsx)("div",{className:"DropDownMenuItemBadge",style:r,children:t})};JT.displayName="DropdownMenuItemBadge";qT.Badge=JT;var Sl=qT;N();var COe=({event:e,inputRef:t,hoveredFont:n,filteredFonts:r,onClose:a,onSelect:o,onHover:s})=>{var l,d,u;if(!e[ie.CTRL_OR_CMD]&&e.shiftKey&&e.key.toLowerCase()===ie.F)return(l=t.current)==null||l.focus(),!0;if(e.key===ie.ESCAPE)return a(),!0;if(e.key===ie.ENTER)return n!=null&&n.value&&o(n.value),!0;if(e.key===ie.ARROW_DOWN)return n!=null&&n.next?s(n.next.value):(d=r[0])!=null&&d.value&&s(r[0].value),!0;if(e.key===ie.ARROW_UP)return n!=null&&n.prev?s(n.prev.value):(u=r[r.length-1])!=null&&u.value&&s(r[r.length-1].value),!0},Sp=te(Se(),1),SOe=ss.default.memo(({selectedFontFamily:e,hoveredFontFamily:t,onSelect:n,onHover:r,onLeave:a,onOpen:o,onClose:s})=>{let{container:l}=Nd(),{fonts:d}=Ld(),{showDeprecatedFonts:u}=zb(),[f,p]=(0,ss.useState)(""),g=(0,ss.useRef)(null),v=(0,ss.useMemo)(()=>Array.from(fd.registered.entries()).filter(([S,{metadata:M}])=>!M.serverSide&&!M.fallback).map(([S,{metadata:M,fontFaces:R}])=>{var L,j;let D={value:S,icon:M.icon??F8,text:((j=(L=R[0])==null?void 0:L.fontFace)==null?void 0:j.family)??"Unknown"};return M.deprecated&&Object.assign(D,{deprecated:M.deprecated,badge:{type:rv.RED,placeholder:P("fontList.badge.old")}}),D}).sort((S,M)=>S.text.toLowerCase()>M.text.toLowerCase()?1:-1),[]),c=(0,ss.useMemo)(()=>new Set(d.getSceneFamilies()),[e]),h=(0,ss.useMemo)(()=>v.filter(S=>c.has(S.value)),[v,c]),m=(0,ss.useMemo)(()=>v.filter(S=>!c.has(S.value)&&(u||!S.deprecated)),[v,c,u]),U=(0,ss.useMemo)(()=>y_e([...h,...m].filter(S=>{var M;return(M=S.text)==null?void 0:M.toLowerCase().includes(f)})),[h,m,f]),b=(0,ss.useMemo)(()=>{var M;let S;return t?S=U.find(R=>R.value===t):e&&(S=U.find(R=>R.value===e)),!S&&f&&((M=U[0])!=null&&M.value?r(U[0].value):a()),S},[t,e,f,U,r,a]),w=(0,ss.useCallback)(S=>{COe({event:S,inputRef:g,hoveredFont:b,filteredFonts:U,onSelect:n,onHover:r,onClose:s})&&(S.preventDefault(),S.stopPropagation())},[b,U,n,r,s]);(0,ss.useEffect)(()=>(o(),()=>{s()}),[]);let E=(0,ss.useMemo)(()=>U.filter(S=>c.has(S.value)),[U,c]),x=(0,ss.useMemo)(()=>U.filter(S=>!c.has(S.value)),[U,c]),C=(S,M)=>(0,Sp.jsxs)(Sl,{icon:S.icon,value:S.value,order:M,textStyle:{fontFamily:Dm({fontFamily:S.value})},hovered:S.value===(b==null?void 0:b.value),selected:S.value===e,tabIndex:S.value===e?0:-1,onClick:R=>{n(Number(R.currentTarget.value)||R.currentTarget.value)},onMouseMove:()=>{(b==null?void 0:b.value)!==S.value&&r(S.value)},children:[S.text,S.badge&&(0,Sp.jsx)(JT,{type:S.badge.type,children:S.badge.placeholder})]},S.value),I=[];return E.length&&I.push((0,Sp.jsx)(DS,{title:P("fontList.sceneFonts"),children:E.map(C)},"group_1")),x.length&&I.push((0,Sp.jsx)(DS,{title:P("fontList.availableFonts"),children:x.map((S,M)=>C(S,M+E.length))},"group_2")),(0,Sp.jsxs)(lre,{className:"properties-content",container:l,style:{width:"15rem"},onClose:s,onPointerLeave:a,onKeyDown:w,children:[(0,Sp.jsx)(dre,{ref:g,placeholder:P("quickSearch.placeholder"),onChange:Pm(p,20)}),(0,Sp.jsx)(ure,{className:"dropdown-menu fonts manual-hover",placeholder:P("fontList.empty"),children:I.length?I:null})]})},(e,t)=>e.selectedFontFamily===t.selectedFontFamily&&e.hoveredFontFamily===t.hoveredFontFamily);N();var IOe=te(Fe(),1),u9=te(Se(),1),kOe=({selectedFontFamily:e})=>{let t=(0,IOe.useMemo)(()=>!!(e&&!TOe(e)),[e]);return(0,u9.jsx)(KT,{asChild:!0,children:(0,u9.jsx)("div",{children:(0,u9.jsx)(Ene,{standalone:!0,icon:GZ,title:P("labels.showFonts"),className:"properties-trigger",testId:"font-family-show-fonts",active:t,onClick:()=>{}})})})},L1=te(Se(),1),vre=[{value:Nr.Excalifont,icon:Py,text:P("labels.handDrawn"),testId:"font-family-hand-drawn"},{value:Nr.Nunito,icon:F8,text:P("labels.normal"),testId:"font-family-normal"},{value:Nr["Comic Shanns"],icon:qC,text:P("labels.code"),testId:"font-family-code"}],MOe=new Set(vre.map(e=>e.value)),TOe=e=>e?MOe.has(e):!1,BOe=d9.default.memo(({isOpened:e,selectedFontFamily:t,hoveredFontFamily:n,onSelect:r,onHover:a,onLeave:o,onPopupChange:s})=>{let l=(0,d9.useMemo)(()=>vre,[]),d=(0,d9.useCallback)(u=>{u&&r(u)},[r]);return(0,L1.jsxs)("div",{role:"dialog","aria-modal":"true",className:"FontPicker__container",children:[(0,L1.jsx)(Pd,{type:"button",options:l,value:t,onClick:d}),(0,L1.jsx)(xne,{}),(0,L1.jsxs)(YT,{open:e,onOpenChange:s,children:[(0,L1.jsx)(kOe,{selectedFontFamily:t}),e&&(0,L1.jsx)(SOe,{selectedFontFamily:t,hoveredFontFamily:n,onSelect:d,onHover:a,onLeave:o,onOpen:()=>s(!0),onClose:()=>s(!1)})]})]})},(e,t)=>e.isOpened===t.isOpened&&e.selectedFontFamily===t.selectedFontFamily&&e.hoveredFontFamily===t.hoveredFontFamily),zt=te(Se(),1),yre=.1,uo=(e,t,n,r=!1)=>{let a=Vt(gn(e,t,{includeBoundTextElement:r}));return e.map(o=>{var s;return a.get(o.id)||o.id===((s=t.editingTextElement)==null?void 0:s.id)?n(o):o})},fo=function(e,t,n,r,a){let o=t.editingTextElement,s=hr(e),l=null;return o&&(l=n(o)),l||(Pi(s,t)?l=YLe(r===!0?s:s.filter(d=>r(d)),t,n)??(typeof a=="function"?a(!0):a):l=typeof a=="function"?a(!1):a),l},ROe=(e,t)=>bi(t)||!t.autoResize?t:Qe(t,{x:e.textAlign==="left"?e.x:e.x+(e.width-t.width)/(e.textAlign==="center"?2:1),y:e.y+(e.height-t.height)/2},!1),eB=(e,t,n,r,a)=>{let o=new Set;return{elements:uo(e,t,s=>{if(pt(s)){let l=r(s);o.add(l);let d=an(s,{fontSize:l});return co(d,n.scene.getContainerElement(s),n.scene.getNonDeletedElementsMap()),d=ROe(s,d),d}return s},!0),appState:{...t,currentItemFontSize:o.size===1?[...o][0]:a??t.currentItemFontSize},storeAction:Me.CAPTURE}};ut({name:"changeStrokeColor",label:"labels.stroke",trackEvent:!1,perform:(e,t,n)=>({...n.currentItemStrokeColor&&{elements:uo(e,t,r=>iS(r.type)?an(r,{strokeColor:n.currentItemStrokeColor}):r,!0)},appState:{...t,...n},storeAction:n.currentItemStrokeColor?Me.CAPTURE:Me.NONE}),PanelComponent:({elements:e,appState:t,updateData:n,appProps:r})=>(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)("h3",{"aria-hidden":"true",children:P("labels.stroke")}),(0,zt.jsx)(ZT,{topPicks:cZ,palette:g9e,type:"elementStroke",label:P("labels.stroke"),color:fo(e,t,a=>a.strokeColor,!0,t.currentItemStrokeColor),onChange:a=>n({currentItemStrokeColor:a}),elements:e,appState:t,updateData:n})]})});ut({name:"changeBackgroundColor",label:"labels.changeBackground",trackEvent:!1,perform:(e,t,n)=>({...n.currentItemBackgroundColor&&{elements:uo(e,t,r=>an(r,{backgroundColor:n.currentItemBackgroundColor}))},appState:{...t,...n},storeAction:n.currentItemBackgroundColor?Me.CAPTURE:Me.NONE}),PanelComponent:({elements:e,appState:t,updateData:n,appProps:r})=>(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)("h3",{"aria-hidden":"true",children:P("labels.background")}),(0,zt.jsx)(ZT,{topPicks:dZ,palette:m9e,type:"elementBackground",label:P("labels.background"),color:fo(e,t,a=>a.backgroundColor,!0,t.currentItemBackgroundColor),onChange:a=>n({currentItemBackgroundColor:a}),elements:e,appState:t,updateData:n})]})});ut({name:"changeFillStyle",label:"labels.fill",trackEvent:!1,perform:(e,t,n,r)=>(yr("element","changeFillStyle",`${n} (${r.device.editor.isMobile?"mobile":"desktop"})`),{elements:uo(e,t,a=>an(a,{fillStyle:n})),appState:{...t,currentItemFillStyle:n},storeAction:Me.CAPTURE}),PanelComponent:({elements:e,appState:t,updateData:n})=>{let r=gn(e,t),a=r.length>0&&r.every(o=>o.fillStyle==="zigzag");return(0,zt.jsxs)("fieldset",{children:[(0,zt.jsx)("legend",{children:P("labels.fill")}),(0,zt.jsx)(Pd,{type:"button",options:[{value:"hachure",text:`${P(a?"labels.zigzag":"labels.hachure")} (${Ne("Alt-Click")})`,icon:a?rSe:iSe,active:a?!0:void 0,testId:"fill-hachure"},{value:"cross-hatch",text:P("labels.crossHatch"),icon:aSe,testId:"fill-cross-hatch"},{value:"solid",text:P("labels.solid"),icon:oSe,testId:"fill-solid"}],value:fo(e,t,o=>o.fillStyle,o=>o.hasOwnProperty("fillStyle"),o=>o?null:t.currentItemFillStyle),onClick:(o,s)=>{let l=s.altKey&&o==="hachure"&&r.every(d=>d.fillStyle==="hachure")?"zigzag":o;n(l)}})]})}});ut({name:"changeStrokeWidth",label:"labels.strokeWidth",trackEvent:!1,perform:(e,t,n)=>({elements:uo(e,t,r=>an(r,{strokeWidth:n})),appState:{...t,currentItemStrokeWidth:n},storeAction:Me.CAPTURE}),PanelComponent:({elements:e,appState:t,updateData:n})=>(0,zt.jsxs)("fieldset",{children:[(0,zt.jsx)("legend",{children:P("labels.strokeWidth")}),(0,zt.jsx)(Pd,{group:"stroke-width",options:[{value:Ix.thin,text:P("labels.thin"),icon:qZ,testId:"strokeWidth-thin"},{value:Ix.bold,text:P("labels.bold"),icon:sSe,testId:"strokeWidth-bold"},{value:Ix.extraBold,text:P("labels.extraBold"),icon:lSe,testId:"strokeWidth-extraBold"}],value:fo(e,t,r=>r.strokeWidth,r=>r.hasOwnProperty("strokeWidth"),r=>r?null:t.currentItemStrokeWidth),onChange:r=>n(r)})]})});ut({name:"changeSloppiness",label:"labels.sloppiness",trackEvent:!1,perform:(e,t,n)=>({elements:uo(e,t,r=>an(r,{seed:kd(),roughness:n})),appState:{...t,currentItemRoughness:n},storeAction:Me.CAPTURE}),PanelComponent:({elements:e,appState:t,updateData:n})=>(0,zt.jsxs)("fieldset",{children:[(0,zt.jsx)("legend",{children:P("labels.sloppiness")}),(0,zt.jsx)(Pd,{group:"sloppiness",options:[{value:0,text:P("labels.architect"),icon:uSe},{value:1,text:P("labels.artist"),icon:fSe},{value:2,text:P("labels.cartoonist"),icon:hSe}],value:fo(e,t,r=>r.roughness,r=>r.hasOwnProperty("roughness"),r=>r?null:t.currentItemRoughness),onChange:r=>n(r)})]})});ut({name:"changeStrokeStyle",label:"labels.strokeStyle",trackEvent:!1,perform:(e,t,n)=>({elements:uo(e,t,r=>an(r,{strokeStyle:n})),appState:{...t,currentItemStrokeStyle:n},storeAction:Me.CAPTURE}),PanelComponent:({elements:e,appState:t,updateData:n})=>(0,zt.jsxs)("fieldset",{children:[(0,zt.jsx)("legend",{children:P("labels.strokeStyle")}),(0,zt.jsx)(Pd,{group:"strokeStyle",options:[{value:"solid",text:P("labels.strokeStyle_solid"),icon:qZ},{value:"dashed",text:P("labels.strokeStyle_dashed"),icon:cSe},{value:"dotted",text:P("labels.strokeStyle_dotted"),icon:dSe}],value:fo(e,t,r=>r.strokeStyle,r=>r.hasOwnProperty("strokeStyle"),r=>r?null:t.currentItemStrokeStyle),onChange:r=>n(r)})]})});ut({name:"changeOpacity",label:"labels.opacity",trackEvent:!1,perform:(e,t,n)=>({elements:uo(e,t,r=>an(r,{opacity:n}),!0),appState:{...t,currentItemOpacity:n},storeAction:Me.CAPTURE}),PanelComponent:({elements:e,appState:t,updateData:n})=>(0,zt.jsxs)("label",{className:"control-label",children:[P("labels.opacity"),(0,zt.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:r=>n(+r.target.value),value:fo(e,t,r=>r.opacity,!0,t.currentItemOpacity)??void 0})]})});ut({name:"changeFontSize",label:"labels.fontSize",trackEvent:!1,perform:(e,t,n,r)=>eB(e,t,r,()=>n,n),PanelComponent:({elements:e,appState:t,updateData:n,app:r})=>(0,zt.jsxs)("fieldset",{children:[(0,zt.jsx)("legend",{children:P("labels.fontSize")}),(0,zt.jsx)(Pd,{group:"font-size",options:[{value:16,text:P("labels.small"),icon:xSe,testId:"fontSize-small"},{value:20,text:P("labels.medium"),icon:_Se,testId:"fontSize-medium"},{value:28,text:P("labels.large"),icon:CSe,testId:"fontSize-large"},{value:36,text:P("labels.veryLarge"),icon:SSe,testId:"fontSize-veryLarge"}],value:fo(e,t,a=>{if(pt(a))return a.fontSize;let o=on(a,r.scene.getNonDeletedElementsMap());return o?o.fontSize:null},a=>pt(a)||on(a,r.scene.getNonDeletedElementsMap())!==null,a=>a?null:t.currentItemFontSize||hf),onChange:a=>n(a)})]})});var fz=ut({name:"decreaseFontSize",label:"labels.decreaseFontSize",icon:S4,trackEvent:!1,perform:(e,t,n,r)=>eB(e,t,r,a=>Math.round(1/(1+yre)*a.fontSize)),keyTest:e=>e[ie.CTRL_OR_CMD]&&e.shiftKey&&(e.key===ie.CHEVRON_LEFT||e.key===ie.COMMA)}),hz=ut({name:"increaseFontSize",label:"labels.increaseFontSize",icon:S4,trackEvent:!1,perform:(e,t,n,r)=>eB(e,t,r,a=>Math.round(a.fontSize*(1+yre))),keyTest:e=>e[ie.CTRL_OR_CMD]&&e.shiftKey&&(e.key===ie.CHEVRON_RIGHT||e.key===ie.PERIOD)});ut({name:"changeFontFamily",label:"labels.fontFamily",trackEvent:!1,perform:(e,t,n,r)=>{var c;let{cachedElements:a,resetAll:o,resetContainers:s,...l}=n;if(o)return{elements:uo(e,t,h=>{let m=a==null?void 0:a.get(h.id);return m?an(h,{...m}):h},!0),appState:{...t,...l},storeAction:Me.UPDATE};let{currentItemFontFamily:d,currentHoveredFontFamily:u}=n,f=Me.NONE,p,g=!1;if(d)p=d,f=Me.CAPTURE;else if(u){p=u,f=Me.NONE;let h=gn(e,t,{includeBoundTextElement:!0}).filter(m=>pt(m));if(h.length>200)g=!0;else{let m=0,U=0;for(;m<h.length&&U<5e3;){let b=h[m];U+=(b==null?void 0:b.originalText.length)||0,m++}U>5e3&&(g=!0)}}let v={appState:{...t,...l},storeAction:f};if(p&&!g){let h=new Map,m=new Set,U=!1,b=Array.from(fd.loadedFontsCache.values()),w=(c=Object.entries(Nr).find(([C,I])=>I===p))==null?void 0:c[0];u&&w&&b.some(C=>C.startsWith(w))&&(U=!0),Object.assign(v,{elements:uo(e,t,C=>{if(pt(C)&&(C.fontFamily!==p||d)){let I=an(C,{fontFamily:p,lineHeight:H0(p)}),S=(a==null?void 0:a.get(C.containerId||""))||{},M=r.scene.getContainerElement(C);return s&&M&&S&&Qe(M,{...S},!1),U||(m=new Set([...m,...Array.from(I.originalText)])),h.set(I,M),I}return C},!0)});let E=`10px ${Dm({fontFamily:p})}`,x=Array.from(m.values()).join();if(U||window.document.fonts.check(E,x))for(let[C,I]of h)co(C,I,r.scene.getNonDeletedElementsMap(),!1);else window.document.fonts.load(E,x).then(C=>{for(let[I,S]of h){let M=r.scene.getElement(I.id),R=S?r.scene.getElement(S.id):null;M&&co(M,R,r.scene.getNonDeletedElementsMap(),!1)}r.fonts.onLoaded(C)})}return v},PanelComponent:({elements:e,appState:t,app:n,updateData:r})=>{let a=(0,Df.useRef)(new Map),o=(0,Df.useRef)(null),[s,l]=(0,Df.useState)({}),d=(0,Df.useRef)(!0),u=(0,Df.useMemo)(()=>{var p;let f=(g,v)=>fo(g,t,c=>{if(pt(c))return c.fontFamily;let h=on(c,v);return h?h.fontFamily:null},c=>pt(c)||on(c,v)!==null,c=>c?null:t.currentItemFontFamily||ip);return s.openPopup==="fontFamily"&&t.openPopup==="fontFamily"?f(Array.from(((p=a.current)==null?void 0:p.values())??[]),a.current):!s.openPopup&&t.openPopup!=="fontFamily"?f(e,n.scene.getNonDeletedElementsMap()):o.current},[s.openPopup,t,e,n.scene]);return(0,Df.useEffect)(()=>{o.current=u},[u]),(0,Df.useEffect)(()=>{Object.keys(s).length&&(r(s),l({}))},[s]),(0,Df.useEffect)(()=>(d.current=!1,()=>{d.current=!0}),[]),(0,zt.jsxs)("fieldset",{children:[(0,zt.jsx)("legend",{children:P("labels.fontFamily")}),(0,zt.jsx)(BOe,{isOpened:t.openPopup==="fontFamily",selectedFontFamily:u,hoveredFontFamily:t.currentHoveredFontFamily,onSelect:f=>{l({openPopup:null,currentHoveredFontFamily:null,currentItemFontFamily:f}),a.current.clear()},onHover:f=>{l({currentHoveredFontFamily:f,cachedElements:new Map(a.current),resetContainers:!0})},onLeave:()=>{l({currentHoveredFontFamily:null,cachedElements:new Map(a.current),resetAll:!0})},onPopupChange:f=>{if(f){a.current.clear();let{editingTextElement:p}=t;if((p==null?void 0:p.type)==="text"){let g=n.scene.getElement(p.id);a.current.set(p.id,an(g||p,{},!0))}else{let g=gn(e,t,{includeBoundTextElement:!0});for(let v of g)a.current.set(v.id,an(v,{},!0))}l({openPopup:"fontFamily"})}else{let p={openPopup:null,currentHoveredFontFamily:null,cachedElements:new Map(a.current),resetAll:!0};d.current?r({...s,...p}):l(p),a.current.clear()}}})]})}});ut({name:"changeTextAlign",label:"Change text alignment",trackEvent:!1,perform:(e,t,n,r)=>({elements:uo(e,t,a=>{if(pt(a)){let o=an(a,{textAlign:n});return co(o,r.scene.getContainerElement(a),r.scene.getNonDeletedElementsMap()),o}return a},!0),appState:{...t,currentItemTextAlign:n},storeAction:Me.CAPTURE}),PanelComponent:({elements:e,appState:t,updateData:n,app:r})=>{let a=r.scene.getNonDeletedElementsMap();return(0,zt.jsxs)("fieldset",{children:[(0,zt.jsx)("legend",{children:P("labels.textAlign")}),(0,zt.jsx)(Pd,{group:"text-align",options:[{value:"left",text:P("labels.left"),icon:kSe,testId:"align-left"},{value:"center",text:P("labels.center"),icon:MSe,testId:"align-horizontal-center"},{value:"right",text:P("labels.right"),icon:TSe,testId:"align-right"}],value:fo(e,t,o=>{if(pt(o))return o.textAlign;let s=on(o,a);return s?s.textAlign:null},o=>pt(o)||on(o,a)!==null,o=>o?null:t.currentItemTextAlign),onChange:o=>n(o)})]})}});ut({name:"changeVerticalAlign",label:"Change vertical alignment",trackEvent:{category:"element"},perform:(e,t,n,r)=>({elements:uo(e,t,a=>{if(pt(a)){let o=an(a,{verticalAlign:n});return co(o,r.scene.getContainerElement(a),r.scene.getNonDeletedElementsMap()),o}return a},!0),appState:{...t},storeAction:Me.CAPTURE}),PanelComponent:({elements:e,appState:t,updateData:n,app:r})=>(0,zt.jsx)("fieldset",{children:(0,zt.jsx)(Pd,{group:"text-align",options:[{value:ws.TOP,text:P("labels.alignTop"),icon:(0,zt.jsx)(BSe,{theme:t.theme}),testId:"align-top"},{value:ws.MIDDLE,text:P("labels.centerVertically"),icon:(0,zt.jsx)(DSe,{theme:t.theme}),testId:"align-middle"},{value:ws.BOTTOM,text:P("labels.alignBottom"),icon:(0,zt.jsx)(RSe,{theme:t.theme}),testId:"align-bottom"}],value:fo(e,t,a=>{if(pt(a)&&a.containerId)return a.verticalAlign;let o=on(a,r.scene.getNonDeletedElementsMap());return o?o.verticalAlign:null},a=>pt(a)||on(a,r.scene.getNonDeletedElementsMap())!==null,a=>a?null:ws.MIDDLE),onChange:a=>n(a)})})});ut({name:"changeRoundness",label:"Change edge roundness",trackEvent:!1,perform:(e,t,n)=>({elements:uo(e,t,r=>Wt(r)?r:an(r,{roundness:n==="round"?{type:f2(r.type)?Di.ADAPTIVE_RADIUS:Di.PROPORTIONAL_RADIUS}:null})),appState:{...t,currentItemRoundness:n},storeAction:Me.CAPTURE}),PanelComponent:({elements:e,appState:t,updateData:n})=>{let r=oee(hr(e),t).some(a=>{var o;return((o=a.roundness)==null?void 0:o.type)===Di.LEGACY});return(0,zt.jsxs)("fieldset",{children:[(0,zt.jsx)("legend",{children:P("labels.edges")}),(0,zt.jsx)(Pd,{group:"edges",options:[{value:"sharp",text:P("labels.sharp"),icon:pSe},{value:"round",text:P("labels.round"),icon:gSe}],value:fo(e,t,a=>r?null:a.roundness?"round":"sharp",a=>!ln(a)&&a.hasOwnProperty("roundness"),a=>a?null:t.currentItemRoundness),onChange:a=>n(a)})]})}});var pz=e=>[{value:null,text:P("labels.arrowhead_none"),keyBinding:"q",icon:mSe},{value:"arrow",text:P("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,zt.jsx)(USe,{flip:e})},{value:"bar",text:P("labels.arrowhead_bar"),keyBinding:"e",icon:(0,zt.jsx)(ySe,{flip:e})},{value:"dot",text:P("labels.arrowhead_circle"),keyBinding:null,icon:(0,zt.jsx)(oj,{flip:e}),showInPicker:!1},{value:"circle",text:P("labels.arrowhead_circle"),keyBinding:"r",icon:(0,zt.jsx)(oj,{flip:e}),showInPicker:!1},{value:"circle_outline",text:P("labels.arrowhead_circle_outline"),keyBinding:null,icon:(0,zt.jsx)(vSe,{flip:e}),showInPicker:!1},{value:"triangle",text:P("labels.arrowhead_triangle"),icon:(0,zt.jsx)(bSe,{flip:e}),keyBinding:"t"},{value:"triangle_outline",text:P("labels.arrowhead_triangle_outline"),icon:(0,zt.jsx)(ASe,{flip:e}),keyBinding:null,showInPicker:!1},{value:"diamond",text:P("labels.arrowhead_diamond"),icon:(0,zt.jsx)(wSe,{flip:e}),keyBinding:null,showInPicker:!1},{value:"diamond_outline",text:P("labels.arrowhead_diamond_outline"),icon:(0,zt.jsx)(ESe,{flip:e}),keyBinding:null,showInPicker:!1}];ut({name:"changeArrowhead",label:"Change arrowheads",trackEvent:!1,perform:(e,t,n)=>({elements:uo(e,t,r=>{if(rn(r)){let{position:a,type:o}=n;if(a==="start")return an(r,{startArrowhead:o});if(a==="end")return an(r,{endArrowhead:o})}return r}),appState:{...t,[n.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead"]:n.type},storeAction:Me.CAPTURE}),PanelComponent:({elements:e,appState:t,updateData:n})=>{let r=Vm().rtl;return(0,zt.jsxs)("fieldset",{children:[(0,zt.jsx)("legend",{children:P("labels.arrowheads")}),(0,zt.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,zt.jsx)(sz,{label:"arrowhead_start",options:pz(!r),value:fo(e,t,a=>rn(a)&&O8(a.type)?a.startArrowhead:t.currentItemStartArrowhead,!0,t.currentItemStartArrowhead),onChange:a=>n({position:"start",type:a})}),(0,zt.jsx)(sz,{label:"arrowhead_end",group:"arrowheads",options:pz(!!r),value:fo(e,t,a=>rn(a)&&O8(a.type)?a.endArrowhead:t.currentItemEndArrowhead,!0,t.currentItemEndArrowhead),onChange:a=>n({position:"end",type:a})})]})]})}});ut({name:"changeArrowType",label:"Change arrow types",trackEvent:!1,perform:(e,t,n,r)=>({elements:uo(e,t,a=>{if(!ln(a))return a;let o=an(a,{roundness:n===Aa.round?{type:Di.PROPORTIONAL_RADIUS}:null,elbowed:n===Aa.elbow,points:n===Aa.elbow||a.elbowed?[a.points[0],a.points[a.points.length-1]]:a.points});if(Wt(o)){let s=r.scene.getNonDeletedElementsMap();r.dismissLinearEditor();let l=xt.getPointAtIndexGlobalCoordinates(o,0,s),d=xt.getPointAtIndexGlobalCoordinates(o,-1,s),u=!o.startBinding&&dl(cl(l),e,s,t.zoom,!0),f=!o.endBinding&&dl(cl(d),e,s,t.zoom,!0),p=u||o.startBinding&&s.get(o.startBinding.elementId),g=f||o.endBinding&&s.get(o.endBinding.elementId),v=u?H8(l,d,u,s):l,c=f?H8(d,l,f,s):d;u&&Sd(o,u,"start",s),f&&Sd(o,f,"end",s),W0(o,s,[v,c].map(h=>$(h[0]-o.x,h[1]-o.y)),Vi(0,0),{...p&&o.startBinding?{startBinding:{...o.startBinding,...G8(o,p,"start",s)}}:{},...g&&o.endBinding?{endBinding:{...o.endBinding,...G8(o,g,"end",s)}}:{}})}return o}),appState:{...t,currentItemArrowType:n},storeAction:Me.CAPTURE}),PanelComponent:({elements:e,appState:t,updateData:n})=>(0,zt.jsxs)("fieldset",{children:[(0,zt.jsx)("legend",{children:P("labels.arrowtypes")}),(0,zt.jsx)(Pd,{group:"arrowtypes",options:[{value:Aa.sharp,text:P("labels.arrowtype_sharp"),icon:oIe,testId:"sharp-arrow"},{value:Aa.round,text:P("labels.arrowtype_round"),icon:lIe,testId:"round-arrow"},{value:Aa.elbow,text:P("labels.arrowtype_elbowed"),icon:sIe,testId:"elbow-arrow"}],value:fo(e,t,r=>ln(r)?r.elbowed?Aa.elbow:r.roundness?Aa.round:Aa.sharp:null,r=>ln(r),r=>r?null:t.currentItemArrowType),onChange:r=>n(r)})]})});N();N();var p0=({viewportX:e,viewportY:t,nextZoom:n},r)=>{let a=e-r.offsetLeft,o=t-r.offsetTop,s=r.zoom.value,l=r.scrollX+(a-a/s),d=r.scrollY+(o-o/s),u=-(a-a/n),f=-(o-o/n);return{scrollX:l+u,scrollY:d+f,zoom:{value:n}}};N();var DOe=te(Fe(),1),POe=te(Se(),1),Hv=()=>{let e=document.querySelector(".excalidraw-tooltip");if(e)return e;let t=document.createElement("div");return document.body.appendChild(t),t.classList.add("excalidraw-tooltip"),t},bre=(e,t,n="bottom")=>{let r=e.getBoundingClientRect(),a=window.innerWidth,o=window.innerHeight,s=5,l=t.left+t.width/2-r.width/2;l<0?l=s:l+r.width>=a&&(l=a-r.width-s);let d;n==="bottom"?(d=t.top+t.height+s,d+r.height>=o&&(d=t.top-r.height-s)):(d=t.top-r.height-s,d<0&&(d=t.top+t.height+s)),Object.assign(e.style,{top:`${d}px`,left:`${l}px`})},LOe=(e,t,n,r)=>{t.classList.add("excalidraw-tooltip--visible"),t.style.minWidth=r?"50ch":"10ch",t.style.maxWidth=r?"50ch":"15ch",t.textContent=n;let a=e.getBoundingClientRect();bre(t,a)},K0=({children:e,label:t,long:n=!1,style:r,disabled:a})=>((0,DOe.useEffect)(()=>()=>Hv().classList.remove("excalidraw-tooltip--visible"),[]),a?null:(0,POe.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:o=>LOe(o.currentTarget,Hv(),t,n),onPointerLeave:()=>Hv().classList.remove("excalidraw-tooltip--visible"),style:r,children:e})),Zy=te(Se(),1);ut({name:"changeViewBackgroundColor",label:"labels.canvasBackground",paletteName:"Change canvas background color",trackEvent:!1,predicate:(e,t,n,r)=>!!r.props.UIOptions.canvasActions.changeViewBackgroundColor&&!t.viewModeEnabled,perform:(e,t,n)=>({appState:{...t,...n},storeAction:n.viewBackgroundColor?Me.CAPTURE:Me.NONE}),PanelComponent:({elements:e,appState:t,updateData:n,appProps:r})=>(0,Zy.jsx)(ZT,{palette:null,topPicks:uZ,label:P("labels.canvasBackground"),type:"canvasBackground",color:t.viewBackgroundColor,onChange:a=>n({viewBackgroundColor:a}),"data-testid":"canvas-background-picker",elements:e,appState:t,updateData:n})});var Gv=ut({name:"clearCanvas",label:"labels.clearCanvas",paletteName:"Clear canvas",icon:z0,trackEvent:{category:"canvas"},predicate:(e,t,n,r)=>{var a;return!!r.props.UIOptions.canvasActions.clearCanvas&&!t.viewModeEnabled&&((a=t.openDialog)==null?void 0:a.name)!=="elementLinkSelector"},perform:(e,t,n,r)=>(r.imageCache.clear(),{elements:e.map(a=>an(a,{isDeleted:!0})),appState:{...Cd(),files:{},theme:t.theme,penMode:t.penMode,penDetected:t.penDetected,exportBackground:t.exportBackground,exportEmbedScene:t.exportEmbedScene,gridSize:t.gridSize,gridStep:t.gridStep,gridModeEnabled:t.gridModeEnabled,stats:t.stats,pasteDialog:t.pasteDialog,activeTool:t.activeTool.type==="image"?{...t.activeTool,type:"selection"}:t.activeTool},storeAction:Me.CAPTURE})}),gz=ut({name:"zoomIn",label:"buttons.zoomIn",viewMode:!0,icon:QF,trackEvent:{category:"canvas"},perform:(e,t,n,r)=>({appState:{...t,...p0({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:Tu(t.zoom.value+y4)},t),userToFollow:null},storeAction:Me.NONE}),PanelComponent:({updateData:e,appState:t})=>(0,Zy.jsx)(yn,{type:"button",className:"zoom-in-button zoom-button",icon:QF,title:`${P("buttons.zoomIn")}  ${Ne("CtrlOrCmd++")}`,"aria-label":P("buttons.zoomIn"),disabled:t.zoom.value>=DM,onClick:()=>{e(null)}}),keyTest:e=>(e.code===Pn.EQUAL||e.code===Pn.NUM_ADD)&&(e[ie.CTRL_OR_CMD]||e.shiftKey)}),mz=ut({name:"zoomOut",label:"buttons.zoomOut",icon:HF,viewMode:!0,trackEvent:{category:"canvas"},perform:(e,t,n,r)=>({appState:{...t,...p0({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:Tu(t.zoom.value-y4)},t),userToFollow:null},storeAction:Me.NONE}),PanelComponent:({updateData:e,appState:t})=>(0,Zy.jsx)(yn,{type:"button",className:"zoom-out-button zoom-button",icon:HF,title:`${P("buttons.zoomOut")}  ${Ne("CtrlOrCmd+-")}`,"aria-label":P("buttons.zoomOut"),disabled:t.zoom.value<=RM,onClick:()=>{e(null)}}),keyTest:e=>(e.code===Pn.MINUS||e.code===Pn.NUM_SUBTRACT)&&(e[ie.CTRL_OR_CMD]||e.shiftKey)}),Uz=ut({name:"resetZoom",label:"buttons.resetZoom",icon:QCe,viewMode:!0,trackEvent:{category:"canvas"},perform:(e,t,n,r)=>({appState:{...t,...p0({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:Tu(1)},t),userToFollow:null},storeAction:Me.NONE}),PanelComponent:({updateData:e,appState:t})=>(0,Zy.jsx)(K0,{label:P("buttons.resetZoom"),style:{height:"100%"},children:(0,Zy.jsxs)(yn,{type:"button",className:"reset-zoom-button zoom-button",title:P("buttons.resetZoom"),"aria-label":P("buttons.resetZoom"),onClick:()=>{e(null)},children:[(t.zoom.value*100).toFixed(0),"%"]})}),keyTest:e=>(e.code===Pn.ZERO||e.code===Pn.NUM_ZERO)&&(e[ie.CTRL_OR_CMD]||e.shiftKey)}),NOe=(e,t,n=1)=>{let[r,a,o,s]=e,l=o-r,d=t.width/l,u=s-a,f=t.height/u,p=Math.min(d,f)*Rn(n,.1,1);return Math.min(p,1)},$Oe=({bounds:e,appState:t,canvasOffsets:n,fitToViewport:r=!1,viewportZoomFactor:a=1,minZoom:o=-1/0,maxZoom:s=1/0})=>{a=Rn(a,RM,DM);let[l,d,u,f]=e,p=(l+u)/2,g=(d+f)/2,v=(n==null?void 0:n.left)??0,c=(n==null?void 0:n.top)??0,h=(n==null?void 0:n.right)??0,m=(n==null?void 0:n.bottom)??0,U=t.width-v-h,b=t.height-c-m,w;if(r){let C=u-l,I=f-d;w=Math.min(U/C,b/I)*a}else w=NOe(e,{width:U,height:b},a);let E=Tu(Rn(q9e(w,y4,"floor"),o,s)),x=$q({scenePoint:{x:p,y:g},viewportDimensions:{width:t.width,height:t.height},offsets:n,zoom:{value:E}});return{appState:{...t,scrollX:x.scrollX,scrollY:x.scrollY,zoom:{value:E}},storeAction:Me.NONE}},J4=({canvasOffsets:e,targetElements:t,appState:n,fitToViewport:r,viewportZoomFactor:a,minZoom:o,maxZoom:s})=>{let l=Yn(hr(t));return $Oe({canvasOffsets:e,bounds:l,appState:n,fitToViewport:r,viewportZoomFactor:a,minZoom:o,maxZoom:s})};ut({name:"zoomToFitSelectionInViewport",label:"labels.zoomToFitViewport",icon:XM,trackEvent:{category:"canvas"},perform:(e,t,n,r)=>{let a=r.scene.getSelectedElements(t);return J4({targetElements:a.length?a:e,appState:{...t,userToFollow:null},fitToViewport:!1,canvasOffsets:r.getEditorUIOffsets()})},keyTest:e=>e.code===Pn.TWO&&e.shiftKey&&!e.altKey&&!e[ie.CTRL_OR_CMD]});ut({name:"zoomToFitSelection",label:"helpDialog.zoomToSelection",icon:XM,trackEvent:{category:"canvas"},perform:(e,t,n,r)=>{let a=r.scene.getSelectedElements(t);return J4({targetElements:a.length?a:e,appState:{...t,userToFollow:null},fitToViewport:!0,canvasOffsets:r.getEditorUIOffsets()})},keyTest:e=>e.code===Pn.THREE&&e.shiftKey&&!e.altKey&&!e[ie.CTRL_OR_CMD]});ut({name:"zoomToFit",label:"helpDialog.zoomToFit",icon:XM,viewMode:!0,trackEvent:{category:"canvas"},perform:(e,t,n,r)=>J4({targetElements:e,appState:{...t,userToFollow:null},fitToViewport:!1,canvasOffsets:r.getEditorUIOffsets()}),keyTest:e=>e.code===Pn.ONE&&e.shiftKey&&!e.altKey&&!e[ie.CTRL_OR_CMD]});var uw=ut({name:"toggleTheme",label:(e,t)=>t.theme===Un.DARK?"buttons.lightMode":"buttons.darkMode",keywords:["toggle","dark","light","mode","theme"],icon:e=>e.theme===Un.LIGHT?KC:XC,viewMode:!0,trackEvent:{category:"canvas"},perform:(e,t,n)=>({appState:{...t,theme:n||(t.theme===Un.LIGHT?Un.DARK:Un.LIGHT)},storeAction:Me.NONE}),keyTest:e=>e.altKey&&e.shiftKey&&e.code===Pn.D,predicate:(e,t,n,r)=>!!r.props.UIOptions.canvasActions.toggleTheme});ut({name:"toggleEraserTool",label:"toolBar.eraser",trackEvent:{category:"toolbar"},perform:(e,t)=>{let n;return Kc(t)?n=_i(t,{...t.activeTool.lastActiveTool||{type:"selection"},lastActiveToolBeforeEraser:null}):n=_i(t,{type:"eraser",lastActiveToolBeforeEraser:t.activeTool}),{appState:{...t,selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:n},storeAction:Me.CAPTURE}},keyTest:e=>e.key===ie.E});var FOe=ut({name:"toggleHandTool",label:"toolBar.hand",paletteName:"Toggle hand tool",trackEvent:{category:"toolbar"},icon:eq,viewMode:!1,perform:(e,t,n,r)=>{let a;return Rm(t)?a=_i(t,{...t.activeTool.lastActiveTool||{type:"selection"},lastActiveToolBeforeEraser:null}):(a=_i(t,{type:"hand",lastActiveToolBeforeEraser:t.activeTool}),qn(r.interactiveCanvas,Vn.GRAB)),{appState:{...t,selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:a},storeAction:Me.CAPTURE}},keyTest:e=>!e.altKey&&!e[ie.CTRL_OR_CMD]&&e.key===ie.H});N();var jOe=te(Se(),1),Nl=ut({name:"finalize",label:"",trackEvent:!1,perform:(e,t,n,r)=>{var g;let{interactiveCanvas:a,focusContainer:o,scene:s}=r,l=s.getNonDeletedElementsMap();if(t.editingLinearElement){let{elementId:v,startBindingElement:c,endBindingElement:h}=t.editingLinearElement,m=xt.getElement(v,l);if(m)return ad(m)&&R4(m,c,h,l,s),{elements:m.points.length<2||Wm(m)?e.filter(U=>U.id!==m.id):void 0,appState:{...t,cursorButton:"up",editingLinearElement:null},storeAction:Me.CAPTURE}}let d=e,u=t.pendingImageElementId&&s.getElement(t.pendingImageElementId);u&&Qe(u,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&o();let f=t.multiElement?t.multiElement:((g=t.newElement)==null?void 0:g.type)==="freedraw"?t.newElement:null;if(f){if(f.type!=="freedraw"&&t.lastPointerDownWith!=="touch"){let{points:c,lastCommittedPoint:h}=f;(!h||c[c.length-1]!==h)&&Qe(f,{points:f.points.slice(0,-1)})}Wm(f)&&(d=d.filter(c=>c.id!==f.id));let v=qu(f.points,t.zoom.value);if((f.type==="line"||f.type==="freedraw")&&v){let c=f.points,h=c[0];Qe(f,{points:c.map((m,U)=>U===c.length-1?$(h[0],h[1]):m)})}if(ad(f)&&!v&&f.points.length>1){let[c,h]=xt.getPointAtIndexGlobalCoordinates(f,-1,Vt(e));sS(f,t,{x:c,y:h},l,e)}}(!t.activeTool.locked&&t.activeTool.type!=="freedraw"||!f)&&Hl(a);let p;return t.activeTool.type==="eraser"?p=_i(t,{...t.activeTool.lastActiveTool||{type:"selection"},lastActiveToolBeforeEraser:null}):p=_i(t,{type:"selection"}),{elements:d,appState:{...t,cursorButton:"up",activeTool:(t.activeTool.locked||t.activeTool.type==="freedraw")&&f?t.activeTool:p,activeEmbeddable:null,newElement:null,selectionElement:null,multiElement:null,editingTextElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:f&&!t.activeTool.locked&&t.activeTool.type!=="freedraw"?{...t.selectedElementIds,[f.id]:!0}:t.selectedElementIds,selectedLinearElement:f&&rn(f)?new xt(f):t.selectedLinearElement,pendingImageElementId:null},storeAction:Me.CAPTURE}},keyTest:(e,t)=>e.key===ie.ESCAPE&&(t.editingLinearElement!==null||!t.newElement&&t.multiElement===null)||(e.key===ie.ESCAPE||e.key===ie.ENTER)&&t.multiElement!==null,PanelComponent:({appState:e,updateData:t,data:n})=>(0,jOe.jsx)(yn,{type:"button",icon:JCe,title:P("buttons.done"),"aria-label":P("buttons.done"),onClick:t,visible:e.multiElement!=null,size:(n==null?void 0:n.size)||"medium",style:{pointerEvents:"all"}})});N();N();var OOe=te(Fe(),1),f9=te(Se(),1),zOe=e=>{let{id:t}=Nd(),[n,r]=(0,OOe.useState)(e.value),a=s=>{e.ignoreFocus||m_e(s.target);let l=s.target.value;l!==e.value&&e.onChange(l)},o=s=>{if(s.key===ie.ENTER){if(s.preventDefault(),s.nativeEvent.isComposing||s.keyCode===229)return;s.currentTarget.blur()}};return(0,f9.jsxs)("div",{className:"ProjectName",children:[(0,f9.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:`${e.label}:`}),(0,f9.jsx)("input",{type:"text",className:"TextInput",onBlur:a,onKeyDown:o,id:`${t}-filename`,value:n,onChange:s=>r(s.target.value)})]})};N();var iv=te(Se(),1),QOe=e=>{let t=e.title||(e.value===Un.DARK?P("buttons.lightMode"):P("buttons.darkMode"));return(0,iv.jsx)(yn,{type:"icon",icon:e.value===Un.LIGHT?vz.MOON:vz.SUN,title:t,"aria-label":t,onClick:()=>e.onChange(e.value===Un.DARK?Un.LIGHT:Un.DARK),"data-testid":"toggle-dark-mode"})},vz={SUN:(0,iv.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,iv.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,iv.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,iv.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})};N();var e7=(e,{selectedElementIds:t},n)=>{e=hr(e);let r=n&&Pi(e,{selectedElementIds:t}),a=null,o=r?gn(e,{selectedElementIds:t},{includeBoundTextElement:!0}):e;return r&&(o.length===1&&en(o[0])?(a=o[0],o=kT(e,a)):o.length>1&&(o=gn(e,{selectedElementIds:t},{includeBoundTextElement:!0,includeElementsInFrames:!0}))),{exportingFrame:a,exportedElements:ju(o)}},t7=async(e,t,n,r,{exportBackground:a,exportPadding:o=d2,viewBackgroundColor:s,name:l=n.name||vZ,fileHandle:d=null,exportingFrame:u=null})=>{if(t.length===0)throw new Error(P("alerts.cannotExportEmptyCanvas"));if(e==="svg"||e==="clipboard-svg"){let p=AT(t,{exportBackground:a,exportWithDarkMode:n.exportWithDarkMode,viewBackgroundColor:s,exportPadding:o,exportScale:n.exportScale,exportEmbedScene:n.exportEmbedScene&&e==="svg"},r,{exportingFrame:u});if(e==="svg")return q8(p.then(g=>new Blob([g.outerHTML],{type:Ft.svg})),{description:"Export to SVG",name:l,extension:n.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:d});if(e==="clipboard-svg"){let g=await p.then(v=>v.outerHTML);try{await Pb(g)}catch{throw new Error(P("errors.copyToSystemClipboardFailed"))}return}}let f=zJ(t,n,r,{exportBackground:a,viewBackgroundColor:s,exportPadding:o,exportingFrame:u});if(e==="png"){let p=Gy(f);return n.exportEmbedScene&&(p=p.then(g=>Ye(async()=>{const{encodePngMetadata:v}=await Promise.resolve().then(()=>Aw);return{encodePngMetadata:v}},void 0,import.meta.url).then(({encodePngMetadata:v})=>v({blob:g,metadata:UT(t,n,r)})))),q8(p,{description:"Export to PNG",name:l,extension:"png",fileHandle:d})}else if(e==="clipboard")try{let p=Gy(f);await LLe(p)}catch(p){throw console.warn(p),p.name==="CANVAS_POSSIBLY_TOO_BIG"?new Error(P("canvasError.canvasTooBig")):ky&&p.name==="TypeError"?new Error(`${P("alerts.couldNotCopyToClipboard")}

${P("hints.firefox_clipboard_write")}`):new Error(P("alerts.couldNotCopyToClipboard"))}else throw new Error("Unsupported export type")};N();var HOe=async(e,t,n,r)=>{let{exportBackground:a,viewBackgroundColor:o,fileHandle:s}=t,l=gee(s);if(!s||!UNe(l))throw new Error("fileHandle should exist and should be of type svg or png when resaving");t={...t,exportEmbedScene:!0};let{exportedElements:d,exportingFrame:u}=e7(e,t,!1);return await t7(l,d,t,n,{exportBackground:a,viewBackgroundColor:o,name:r,fileHandle:s,exportingFrame:u}),{fileHandle:s}};N();var h9=te(Se(),1),tB=({children:e,checked:t,onChange:n,className:r})=>(0,h9.jsxs)("div",{className:bt("Checkbox",r,{"is-checked":t}),onClick:a=>{n(!t,a),a.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,h9.jsx)("button",{type:"button",className:"Checkbox-box",role:"checkbox","aria-checked":t,children:YCe}),(0,h9.jsx)("div",{className:"Checkbox-label",children:e})]}),pc=te(Se(),1),GOe=ut({name:"changeProjectName",label:"labels.fileTitle",trackEvent:!1,perform:(e,t,n)=>({appState:{...t,name:n},storeAction:Me.NONE}),PanelComponent:({appState:e,updateData:t,appProps:n,data:r,app:a})=>(0,pc.jsx)(zOe,{label:P("labels.fileTitle"),value:a.getName(),onChange:o=>t(o),ignoreFocus:(r==null?void 0:r.ignoreFocus)??!1})}),WOe=ut({name:"changeExportScale",label:"imageExportDialog.scale",trackEvent:{category:"export",action:"scale"},perform:(e,t,n)=>({appState:{...t,exportScale:n},storeAction:Me.NONE}),PanelComponent:({elements:e,appState:t,updateData:n})=>{let r=hr(e),a=Pi(r,t)?gn(r,t):r;return(0,pc.jsx)(pc.Fragment,{children:LM.map(o=>{let[s,l]=uLe(a,d2,o),d=`${P("imageExportDialog.label.scale")} ${o}x (${s}x${l})`;return(0,pc.jsx)(yn,{size:"small",type:"radio",icon:`${o}x`,name:"export-canvas-scale",title:d,"aria-label":d,id:"export-canvas-scale",checked:o===t.exportScale,onChange:()=>n(o)},o)})})}}),VOe=ut({name:"changeExportBackground",label:"imageExportDialog.label.withBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:(e,t,n)=>({appState:{...t,exportBackground:n},storeAction:Me.NONE}),PanelComponent:({appState:e,updateData:t})=>(0,pc.jsx)(tB,{checked:e.exportBackground,onChange:n=>t(n),children:P("imageExportDialog.label.withBackground")})}),Are=ut({name:"changeExportEmbedScene",label:"imageExportDialog.tooltip.embedScene",trackEvent:{category:"export",action:"embedScene"},perform:(e,t,n)=>({appState:{...t,exportEmbedScene:n},storeAction:Me.NONE}),PanelComponent:({appState:e,updateData:t})=>(0,pc.jsxs)(tB,{checked:e.exportEmbedScene,onChange:n=>t(n),children:[P("imageExportDialog.label.embedScene"),(0,pc.jsx)(K0,{label:P("imageExportDialog.tooltip.embedScene"),long:!0,children:(0,pc.jsx)("div",{className:"excalidraw-tooltip-icon",children:eSe})})]})}),yz=ut({name:"saveToActiveFile",label:"buttons.save",icon:C4,trackEvent:{category:"export"},predicate:(e,t,n,r)=>!!r.props.UIOptions.canvasActions.saveToActiveFile&&!!t.fileHandle&&!t.viewModeEnabled,perform:async(e,t,n,r)=>{let a=!!t.fileHandle;try{let{fileHandle:o}=LT(t.fileHandle)?await HOe(e,t,r.files,r.getName()):await CJ(e,t,r.files,r.getName());return{storeAction:Me.NONE,appState:{...t,fileHandle:o,toast:a?{message:o!=null&&o.name?P("toast.fileSavedToFilename").replace("{filename}",`"${o.name}"`):P("toast.fileSaved")}:null}}}catch(o){return(o==null?void 0:o.name)!=="AbortError"?console.error(o):console.warn(o),{storeAction:Me.NONE}}},keyTest:e=>e.key===ie.S&&e[ie.CTRL_OR_CMD]&&!e.shiftKey}),wre=ut({name:"saveFileToDisk",label:"exportDialog.disk_title",icon:C4,viewMode:!0,trackEvent:{category:"export"},perform:async(e,t,n,r)=>{try{let{fileHandle:a}=await CJ(e,{...t,fileHandle:null},r.files,r.getName());return{storeAction:Me.NONE,appState:{...t,openDialog:null,fileHandle:a,toast:{message:P("toast.fileSaved")}}}}catch(a){return(a==null?void 0:a.name)!=="AbortError"?console.error(a):console.warn(a),{storeAction:Me.NONE}}},keyTest:e=>e.key===ie.S&&e.shiftKey&&e[ie.CTRL_OR_CMD],PanelComponent:({updateData:e})=>(0,pc.jsx)(yn,{type:"button",icon:XCe,title:P("buttons.saveAs"),"aria-label":P("buttons.saveAs"),showAriaLabel:va().editor.isMobile,hidden:!a1,onClick:()=>e(null),"data-testid":"save-as-button"})}),LS=ut({name:"loadScene",label:"buttons.load",trackEvent:{category:"export"},predicate:(e,t,n,r)=>!!r.props.UIOptions.canvasActions.loadScene&&!t.viewModeEnabled,perform:async(e,t,n,r)=>{try{let{elements:a,appState:o,files:s}=await nLe(t,e);return{elements:a,appState:o,files:s,storeAction:Me.CAPTURE}}catch(a){return(a==null?void 0:a.name)==="AbortError"?(console.warn(a),!1):{elements:e,appState:{...t,errorMessage:a.message},files:r.files,storeAction:Me.NONE}}},keyTest:e=>e[ie.CTRL_OR_CMD]&&e.key===ie.O}),YOe=ut({name:"exportWithDarkMode",label:"imageExportDialog.label.darkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:(e,t,n)=>({appState:{...t,exportWithDarkMode:n},storeAction:Me.NONE}),PanelComponent:({appState:e,updateData:t})=>(0,pc.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,pc.jsx)(QOe,{value:e.exportWithDarkMode?Un.DARK:Un.LIGHT,onChange:n=>{t(n===Un.DARK)},title:P("imageExportDialog.label.darkMode")})})});N();var Ere="{}",KOe=ut({name:"copyStyles",label:"labels.copyStyles",icon:oq,trackEvent:{category:"element"},perform:(e,t,n,r)=>{let a=[],o=e.find(s=>t.selectedElementIds[s.id]);if(a.push(o),o&&xl(o)){let s=on(o,r.scene.getNonDeletedElementsMap());a.push(s)}return o&&(Ere=JSON.stringify(a)),{appState:{...t,toast:{message:P("toast.copyStyles")}},storeAction:Me.NONE}},keyTest:e=>e[ie.CTRL_OR_CMD]&&e.altKey&&e.code===Pn.C}),XOe=ut({name:"pasteStyles",label:"labels.pasteStyles",icon:oq,trackEvent:{category:"element"},perform:(e,t,n,r)=>{let a=JSON.parse(Ere),o=a[0],s=a[1];if(!RZ(o))return{elements:e,storeAction:Me.NONE};let l=gn(e,t,{includeBoundTextElement:!0}),d=l.map(u=>u.id);return{elements:e.map(u=>{if(d.includes(u.id)){let f=o;if(pt(u)&&u.containerId&&(f=s),!f)return u;let p=an(u,{backgroundColor:f==null?void 0:f.backgroundColor,strokeWidth:f==null?void 0:f.strokeWidth,strokeColor:f==null?void 0:f.strokeColor,strokeStyle:f==null?void 0:f.strokeStyle,fillStyle:f==null?void 0:f.fillStyle,opacity:f==null?void 0:f.opacity,roughness:f==null?void 0:f.roughness,roundness:f.roundness?I_e(f.roundness.type,u)?f.roundness:k_e(u):null});if(pt(p)){let g=f.fontSize||hf,v=f.fontFamily||ip;p=an(p,{fontSize:g,fontFamily:v,textAlign:f.textAlign||wb,lineHeight:f.lineHeight||H0(v)});let c=null;p.containerId&&(c=l.find(h=>pt(p)&&h.id===p.containerId)||null),co(p,c,r.scene.getNonDeletedElementsMap())}return p.type==="arrow"&&ln(f)&&(p=an(p,{startArrowhead:f.startArrowhead,endArrowhead:f.endArrowhead})),en(u)&&(p=an(p,{roundness:null,backgroundColor:"transparent"})),p}return u}),storeAction:Me.CAPTURE}},keyTest:e=>e[ie.CTRL_OR_CMD]&&e.altKey&&e.code===Pn.V});N();var xre=te(Se(),1);ut({name:"toggleCanvasMenu",label:"buttons.menu",trackEvent:{category:"menu"},perform:(e,t)=>({appState:{...t,openMenu:t.openMenu==="canvas"?null:"canvas"},storeAction:Me.NONE}),PanelComponent:({appState:e,updateData:t})=>(0,xre.jsx)(yn,{type:"button",icon:WZ,"aria-label":P("buttons.menu"),onClick:t,selected:e.openMenu==="canvas"})});ut({name:"toggleEditMenu",label:"buttons.edit",trackEvent:{category:"menu"},perform:(e,t)=>({appState:{...t,openMenu:t.openMenu==="shape"?null:"shape"},storeAction:Me.NONE}),PanelComponent:({elements:e,appState:t,updateData:n})=>(0,xre.jsx)(yn,{visible:PT(t,hr(e)),type:"button",icon:ZCe,"aria-label":P("buttons.edit"),onClick:n,selected:t.openMenu==="shape"})});var nB=ut({name:"toggleShortcuts",label:"welcomeScreen.defaults.helpHint",icon:GCe,viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:(e,t,n,{focusContainer:r})=>{var a,o;return((a=t.openDialog)==null?void 0:a.name)==="help"&&r(),{appState:{...t,openDialog:((o=t.openDialog)==null?void 0:o.name)==="help"?null:{name:"help"}},storeAction:Me.NONE}},keyTest:e=>e.key===ie.QUESTION_MARK});N();var rm=te(Se(),1),ZOe=e=>{if(e.length>=2){let t=e[0].groupIds;for(let n of t)if(e.reduce((r,a)=>r&&Fy(a,n),!0))return!0}return!1},bz=(e,t,n)=>{let r=n.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0});return r.length>=2&&!ZOe(r)},qOe=ut({name:"group",label:"labels.group",icon:e=>(0,rm.jsx)(ij,{theme:e.theme}),trackEvent:{category:"element"},perform:(e,t,n,r)=>{let a=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0});if(a.length<2)return{appState:t,elements:e,storeAction:Me.NONE};let o=I0(t);if(o.length===1){let h=o[0],m=new Set(mi(e,h).map(b=>b.id)),U=new Set(a.map(b=>b.id));if(new Set([...Array.from(m),...Array.from(U)]).size===m.size)return{appState:t,elements:e,storeAction:Me.NONE}}let s=[...e];new Set(a.map(h=>h.frameId)).size>1&&GLe(a).forEach((h,m)=>{j4(h,r.scene.getNonDeletedElementsMap())});let l=_l(),d=Vt(a);s=s.map(h=>d.get(h.id)?an(h,{groupIds:JDe(h.groupIds,l,t.editingGroupId)}):h);let u=mi(s,l),f=u[u.length-1],p=s.lastIndexOf(f),g=s.slice(p+1),v=s.slice(0,p).filter(h=>!Fy(h,l)),c=vc([...v,...u,...g],Vt(u));return{appState:{...t,...Zq(l,{...t,selectedGroupIds:{}},hr(s))},elements:c,storeAction:Me.CAPTURE}},predicate:(e,t,n,r)=>bz(e,t,r),keyTest:e=>!e.shiftKey&&e[ie.CTRL_OR_CMD]&&e.key===ie.G,PanelComponent:({elements:e,appState:t,updateData:n,app:r})=>(0,rm.jsx)(yn,{hidden:!bz(e,t,r),type:"button",icon:(0,rm.jsx)(ij,{theme:t.theme}),onClick:()=>n(null),title:`${P("labels.group")}  ${Ne("CtrlOrCmd+G")}`,"aria-label":P("labels.group"),visible:Pi(hr(e),t)})}),JOe=ut({name:"ungroup",label:"labels.ungroup",icon:e=>(0,rm.jsx)(aj,{theme:e.theme}),trackEvent:{category:"element"},perform:(e,t,n,r)=>{let a=I0(t),o=Vt(e);if(a.length===0)return{appState:t,elements:e,storeAction:Me.NONE};let s=[...e],l=[];s=s.map(p=>{bi(p)&&l.push(p.id);let g=ePe(p.groupIds,t.selectedGroupIds);return g.length===p.groupIds.length?p:an(p,{groupIds:g})});let d=So(t,hr(s),t,null),u=r.scene.getSelectedElements(t),f=new Set(u.filter(p=>p.frameId).map(p=>p.frameId));return IT(e).filter(p=>f.has(p.id)).forEach(p=>{p&&(s=ree(s,aA(s,p,t,o),p))}),d.selectedElementIds=Object.entries(d.selectedElementIds).reduce((p,[g,v])=>(v&&!l.includes(g)&&(p[g]=!0),p),{}),{appState:{...t,...d},elements:s,storeAction:Me.CAPTURE}},keyTest:e=>e.shiftKey&&e[ie.CTRL_OR_CMD]&&e.key===ie.G.toUpperCase(),predicate:(e,t)=>I0(t).length>0,PanelComponent:({elements:e,appState:t,updateData:n})=>(0,rm.jsx)(yn,{type:"button",hidden:I0(t).length===0,icon:(0,rm.jsx)(aj,{theme:t.theme}),onClick:()=>n(null),title:`${P("labels.ungroup")}  ${Ne("CtrlOrCmd+Shift+G")}`,"aria-label":P("labels.ungroup"),visible:Pi(hr(e),t)})});N();N();N();var _re=(e,t,n,r,a,o,s)=>{e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.quadraticCurveTo(t+r,n,t+r,n+o),e.lineTo(t+r,n+a-o),e.quadraticCurveTo(t+r,n+a,t+r-o,n+a),e.lineTo(t+o,n+a),e.quadraticCurveTo(t,n+a,t,n+a-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath(),e.fill(),s&&(e.strokeStyle=s),e.stroke()};N();function eze(e){let t=0;if(e.length===0)return t;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);t=(t<<5)-t+r}return t}var n7=(e,t)=>`hsl(${Math.abs(eze((t==null?void 0:t.id)||e))%37*10}, 100%, 83%)`,tze=e=>{var n;let t=(n=e==null?void 0:e.trim())==null?void 0:n.codePointAt(0);return(t?String.fromCodePoint(t):"?").toUpperCase()},nze=({context:e,renderConfig:t,appState:n,normalizedWidth:r,normalizedHeight:a})=>{for(let[o,s]of t.remotePointerViewportCoords){let{x:l,y:d}=s,u=n.collaborators.get(o);l-=n.offsetLeft,d-=n.offsetTop;let f=11,p=14,g=l<0||l>r-f||d<0||d>a-p;l=Math.max(l,0),l=Math.min(l,r-f),d=Math.max(d,0),d=Math.min(d,a-p);let v=n7(o,u);e.save(),e.strokeStyle=v,e.fillStyle=v;let c=t.remotePointerUserStates.get(o),h=g||c==="idle"||c==="away";h&&(e.globalAlpha=.3),t.remotePointerButton.get(o)==="down"&&(e.beginPath(),e.arc(l,d,15,0,2*Math.PI,!1),e.lineWidth=3,e.strokeStyle="#ffffff88",e.stroke(),e.closePath(),e.beginPath(),e.arc(l,d,15,0,2*Math.PI,!1),e.lineWidth=1,e.strokeStyle=v,e.stroke(),e.closePath());let m=n.theme===Un.DARK?"#2f6330":M9e,U=u==null?void 0:u.isSpeaking;U&&(e.fillStyle=m,e.strokeStyle=m,e.lineWidth=10,e.lineJoin="round",e.beginPath(),e.moveTo(l,d),e.lineTo(l+0,d+14),e.lineTo(l+4,d+9),e.lineTo(l+11,d+8),e.closePath(),e.stroke(),e.fill()),e.fillStyle=b5,e.strokeStyle=b5,e.lineWidth=6,e.lineJoin="round",e.beginPath(),e.moveTo(l,d),e.lineTo(l+0,d+14),e.lineTo(l+4,d+9),e.lineTo(l+11,d+8),e.closePath(),e.stroke(),e.fill(),e.fillStyle=v,e.strokeStyle=v,e.lineWidth=2,e.lineJoin="round",e.beginPath(),h?(e.moveTo(l-1,d-1),e.lineTo(l-1,d+15),e.lineTo(l+5,d+10),e.lineTo(l+12,d+9),e.closePath(),e.fill()):(e.moveTo(l,d),e.lineTo(l+0,d+14),e.lineTo(l+4,d+9),e.lineTo(l+11,d+8),e.closePath(),e.fill(),e.stroke());let b=t.remotePointerUsernames.get(o)||"";if(!g&&b){e.font="600 12px sans-serif";let w=(U?l+0:l)+f/2,E=(U?d+0:d)+p+2,x=5,C=3,I=e.measureText(b),S=I.actualBoundingBoxDescent+I.actualBoundingBoxAscent,M=Math.max(S,12),R=w-1,D=E-1,L=I.width+2+x*2+2,j=M+2+C*2+2;if(e.roundRect?(e.beginPath(),e.roundRect(R,D,L,j,8),e.fillStyle=v,e.fill(),e.strokeStyle=b5,e.stroke(),U&&(e.beginPath(),e.roundRect(R-2,D-2,L+4,j+4,8),e.strokeStyle=m,e.stroke())):_re(e,R,D,L,j,8,b5),e.fillStyle=k9e,e.fillText(b,w+x+1,E+C+I.actualBoundingBoxAscent+Math.floor((M-S)/2)+2),U){e.fillStyle=m;let re=8,J=8,H=5;e.fillRect(R+L+J,D+(j/2-re/2),2,re),e.fillRect(R+L+J+H,D+(j/2-re*2/2),2,re*2),e.fillRect(R+L+J+H*2,D+(j/2-re/2),2,re)}}e.restore(),e.closePath()}};N();var rze=te(Fe(),1),Az=te(Se(),1),wz=({color:e,onClick:t,name:n,src:r,className:a})=>{let o=tze(n),[s,l]=(0,rze.useState)(!1),d=!s&&r,u=d?void 0:{background:e};return(0,Az.jsx)("div",{className:bt("Avatar",a),style:u,onClick:t,children:d?(0,Az.jsx)("img",{className:"Avatar-img",src:r,alt:o,referrerPolicy:"no-referrer",onError:()=>l(!0)}):o})},Ao=te(Se(),1);ut({name:"goToCollaborator",label:"Go to a collaborator",viewMode:!0,trackEvent:{category:"collab"},perform:(e,t,n)=>{var r;return!n.socketId||((r=t.userToFollow)==null?void 0:r.socketId)===n.socketId||n.isCurrentUser?{appState:{...t,userToFollow:null},storeAction:Me.NONE}:{appState:{...t,userToFollow:{socketId:n.socketId,username:n.username||""},openMenu:t.openMenu==="canvas"?null:t.openMenu},storeAction:Me.NONE}},PanelComponent:({updateData:e,data:t,appState:n})=>{let{socketId:r,collaborator:a,withName:o,isBeingFollowed:s}=t,l=n7(r,a),d=bt({"is-followed":s,"is-current-user":a.isCurrentUser===!0,"is-speaking":a.isSpeaking,"is-in-call":a.isInCall,"is-muted":a.isMuted}),u=a.isInCall?a.isSpeaking?(0,Ao.jsxs)("div",{className:"UserList__collaborator-status-icon-speaking-indicator",title:P("userList.hint.isSpeaking"),children:[(0,Ao.jsx)("div",{}),(0,Ao.jsx)("div",{}),(0,Ao.jsx)("div",{})]}):a.isMuted?(0,Ao.jsx)("div",{className:"UserList__collaborator-status-icon-microphone-muted",title:P("userList.hint.micMuted"),children:VSe}):(0,Ao.jsx)("div",{title:P("userList.hint.inCall"),children:WSe}):null;return o?(0,Ao.jsxs)("div",{className:`dropdown-menu-item dropdown-menu-item-base UserList__collaborator ${d}`,style:{"--avatar-size":"1.5rem"},onClick:()=>e(a),children:[(0,Ao.jsx)(wz,{color:l,onClick:()=>{},name:a.username||"",src:a.avatarUrl,className:d}),(0,Ao.jsx)("div",{className:"UserList__collaborator-name",children:a.username}),(0,Ao.jsxs)("div",{className:"UserList__collaborator-status-icons","aria-hidden":!0,children:[s&&(0,Ao.jsx)("div",{className:"UserList__collaborator-status-icon-is-followed",title:P("userList.hint.followStatus"),children:KM}),u]})]}):(0,Ao.jsxs)("div",{className:`UserList__collaborator UserList__collaborator--avatar-only ${d}`,children:[(0,Ao.jsx)(wz,{color:l,onClick:()=>{e(a)},name:a.username||"",src:a.avatarUrl,className:d}),u&&(0,Ao.jsx)("div",{className:"UserList__collaborator-status-icon",children:u})]})}});N();var ize=ut({name:"addToLibrary",trackEvent:{category:"element"},perform:(e,t,n,r)=>{let a=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});for(let o of UZ)if(a.some(s=>s.type===o))return{storeAction:Me.NONE,appState:{...t,errorMessage:P(`errors.libraryElementTypeError.${o}`)}};return r.library.getLatestLibrary().then(o=>r.library.setLibrary([{id:_l(),status:"unpublished",elements:a.map(p2),created:Date.now()},...o])).then(()=>({storeAction:Me.NONE,appState:{...t,toast:{message:P("toast.addedToLibrary")}}})).catch(o=>({storeAction:Me.NONE,appState:{...t,errorMessage:o.message}}))},label:"labels.addToLibrary"});N();N();var aze=(e,t,n)=>{let r=P4(e,t),a=fc(e);return r.flatMap(o=>{let s=oze(o,a,n);return o.map(l=>an(l,{x:l.x+s.x,y:l.y+s.y}))})},oze=(e,t,{axis:n,position:r})=>{let a=fc(e),[o,s]=n==="x"?["minX","maxX"]:["minY","maxY"],l={x:0,y:0};return r==="start"?{...l,[n]:t[o]-a[o]}:r==="end"?{...l,[n]:t[s]-a[s]}:{...l,[n]:(t[o]+t[s])/2-(a[o]+a[s])/2}},y2=te(Se(),1),Cl=(e,t,n,r)=>{let a=r.scene.getSelectedElements(t);return a.length>1&&!a.some(o=>en(o))},b2=(e,t,n,r)=>{let a=n.scene.getSelectedElements(t),o=Vt(e),s=aze(a,o,r),l=Vt(s);return Gm(e.map(d=>l.get(d.id)||d),t,n)};ut({name:"alignTop",label:"labels.alignTop",icon:qF,trackEvent:{category:"element"},predicate:Cl,perform:(e,t,n,r)=>({appState:t,elements:b2(e,t,r,{position:"start",axis:"y"}),storeAction:Me.CAPTURE}),keyTest:e=>e[ie.CTRL_OR_CMD]&&e.shiftKey&&e.key===ie.ARROW_UP,PanelComponent:({elements:e,appState:t,updateData:n,app:r})=>(0,y2.jsx)(yn,{hidden:!Cl(e,t,null,r),type:"button",icon:qF,onClick:()=>n(null),title:`${P("labels.alignTop")}  ${Ne("CtrlOrCmd+Shift+Up")}`,"aria-label":P("labels.alignTop"),visible:Pi(hr(e),t)})});ut({name:"alignBottom",label:"labels.alignBottom",icon:JF,trackEvent:{category:"element"},predicate:Cl,perform:(e,t,n,r)=>({appState:t,elements:b2(e,t,r,{position:"end",axis:"y"}),storeAction:Me.CAPTURE}),keyTest:e=>e[ie.CTRL_OR_CMD]&&e.shiftKey&&e.key===ie.ARROW_DOWN,PanelComponent:({elements:e,appState:t,updateData:n,app:r})=>(0,y2.jsx)(yn,{hidden:!Cl(e,t,null,r),type:"button",icon:JF,onClick:()=>n(null),title:`${P("labels.alignBottom")}  ${Ne("CtrlOrCmd+Shift+Down")}`,"aria-label":P("labels.alignBottom"),visible:Pi(hr(e),t)})});ut({name:"alignLeft",label:"labels.alignLeft",icon:ej,trackEvent:{category:"element"},predicate:Cl,perform:(e,t,n,r)=>({appState:t,elements:b2(e,t,r,{position:"start",axis:"x"}),storeAction:Me.CAPTURE}),keyTest:e=>e[ie.CTRL_OR_CMD]&&e.shiftKey&&e.key===ie.ARROW_LEFT,PanelComponent:({elements:e,appState:t,updateData:n,app:r})=>(0,y2.jsx)(yn,{hidden:!Cl(e,t,null,r),type:"button",icon:ej,onClick:()=>n(null),title:`${P("labels.alignLeft")}  ${Ne("CtrlOrCmd+Shift+Left")}`,"aria-label":P("labels.alignLeft"),visible:Pi(hr(e),t)})});ut({name:"alignRight",label:"labels.alignRight",icon:tj,trackEvent:{category:"element"},predicate:Cl,perform:(e,t,n,r)=>({appState:t,elements:b2(e,t,r,{position:"end",axis:"x"}),storeAction:Me.CAPTURE}),keyTest:e=>e[ie.CTRL_OR_CMD]&&e.shiftKey&&e.key===ie.ARROW_RIGHT,PanelComponent:({elements:e,appState:t,updateData:n,app:r})=>(0,y2.jsx)(yn,{hidden:!Cl(e,t,null,r),type:"button",icon:tj,onClick:()=>n(null),title:`${P("labels.alignRight")}  ${Ne("CtrlOrCmd+Shift+Right")}`,"aria-label":P("labels.alignRight"),visible:Pi(hr(e),t)})});ut({name:"alignVerticallyCentered",label:"labels.centerVertically",icon:nj,trackEvent:{category:"element"},predicate:Cl,perform:(e,t,n,r)=>({appState:t,elements:b2(e,t,r,{position:"center",axis:"y"}),storeAction:Me.CAPTURE}),PanelComponent:({elements:e,appState:t,updateData:n,app:r})=>(0,y2.jsx)(yn,{hidden:!Cl(e,t,null,r),type:"button",icon:nj,onClick:()=>n(null),title:P("labels.centerVertically"),"aria-label":P("labels.centerVertically"),visible:Pi(hr(e),t)})});ut({name:"alignHorizontallyCentered",label:"labels.centerHorizontally",icon:rj,trackEvent:{category:"element"},predicate:Cl,perform:(e,t,n,r)=>({appState:t,elements:b2(e,t,r,{position:"center",axis:"x"}),storeAction:Me.CAPTURE}),PanelComponent:({elements:e,appState:t,updateData:n,app:r})=>(0,y2.jsx)(yn,{hidden:!Cl(e,t,null,r),type:"button",icon:rj,onClick:()=>n(null),title:P("labels.centerHorizontally"),"aria-label":P("labels.centerHorizontally"),visible:Pi(hr(e),t)})});N();N();var sze=(e,t,n)=>{let[r,a,o,s]=n.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],l=fc(e),d=P4(e,t).map(g=>[g,fc(g)]).sort((g,v)=>g[1][a]-v[1][a]),u=0;for(let g of d)u+=g[1][s];let f=(l[s]-u)/(d.length-1);if(f<0){let g=d.findIndex(m=>m[1][r]===l[r]),v=d.findIndex(m=>m[1][o]===l[o]),c=(d[v][1][a]-d[g][1][a])/(d.length-1),h=d[g][1][a];return d.flatMap(([m,U],b)=>{let w={x:0,y:0};return b!==g&&b!==v&&(h+=c,w[n.axis]=h-U[a]),m.map(E=>an(E,{x:E.x+w.x,y:E.y+w.y}))})}let p=l[r];return d.flatMap(([g,v])=>{let c={x:0,y:0};return c[n.axis]=p-v[r],p+=f,p+=v[s],g.map(h=>an(h,{x:h.x+c.x,y:h.y+c.y}))})},Cre=te(Se(),1),Sre=(e,t)=>{let n=t.scene.getSelectedElements(e);return n.length>1&&!n.some(r=>en(r))},Ire=(e,t,n,r)=>{let a=n.scene.getSelectedElements(t),o=sze(a,n.scene.getNonDeletedElementsMap(),r),s=Vt(o);return Gm(e.map(l=>s.get(l.id)||l),t,n)};ut({name:"distributeHorizontally",label:"labels.distributeHorizontally",trackEvent:{category:"element"},perform:(e,t,n,r)=>({appState:t,elements:Ire(e,t,r,{space:"between",axis:"x"}),storeAction:Me.CAPTURE}),keyTest:e=>!e[ie.CTRL_OR_CMD]&&e.altKey&&e.code===Pn.H,PanelComponent:({elements:e,appState:t,updateData:n,app:r})=>(0,Cre.jsx)(yn,{hidden:!Sre(t,r),type:"button",icon:tSe,onClick:()=>n(null),title:`${P("labels.distributeHorizontally")}  ${Ne("Alt+H")}`,"aria-label":P("labels.distributeHorizontally"),visible:Pi(hr(e),t)})});ut({name:"distributeVertically",label:"labels.distributeVertically",trackEvent:{category:"element"},perform:(e,t,n,r)=>({appState:t,elements:Ire(e,t,r,{space:"between",axis:"y"}),storeAction:Me.CAPTURE}),keyTest:e=>!e[ie.CTRL_OR_CMD]&&e.altKey&&e.code===Pn.V,PanelComponent:({elements:e,appState:t,updateData:n,app:r})=>(0,Cre.jsx)(yn,{hidden:!Sre(t,r),type:"button",icon:nSe,onClick:()=>n(null),title:`${P("labels.distributeVertically")}  ${Ne("Alt+V")}`,"aria-label":P("labels.distributeVertically"),visible:Pi(hr(e),t)})});N();var lze=ut({name:"flipHorizontal",label:"labels.flipHorizontal",icon:ZSe,trackEvent:{category:"element"},perform:(e,t,n,r)=>({elements:Gm(kre(e,r.scene.getNonDeletedElementsMap(),t,"horizontal",r),t,r),appState:t,storeAction:Me.CAPTURE}),keyTest:e=>e.shiftKey&&e.code===Pn.H}),cze=ut({name:"flipVertical",label:"labels.flipVertical",icon:XSe,trackEvent:{category:"element"},perform:(e,t,n,r)=>({elements:Gm(kre(e,r.scene.getNonDeletedElementsMap(),t,"vertical",r),t,r),appState:t,storeAction:Me.CAPTURE}),keyTest:e=>e.shiftKey&&e.code===Pn.V&&!e[ie.CTRL_OR_CMD]}),kre=(e,t,n,r,a)=>{let o=gn(hr(e),n,{includeBoundTextElement:!0,includeElementsInFrames:!0}),s=dze(o,t,n,r,a),l=Vt(s);return e.map(d=>l.get(d.id)||d)},dze=(e,t,n,r,a)=>{if(e.every(v=>ln(v)&&(v.startBinding||v.endBinding)))return e.map(v=>{let c=v;return an(c,{startArrowhead:c.endArrowhead,endArrowhead:c.startArrowhead})});let{midX:o,midY:s}=fc(e);fee(e,t,"nw",a.scene,{flipByX:r==="horizontal",flipByY:r==="vertical",shouldResizeFromCenter:!0,shouldMaintainAspectRatio:!0}),Q8(e.filter(rn),t,a.scene.getNonDeletedElements(),a.scene,u0(n),[],n.zoom);let{elbowArrows:l,otherElements:d}=e.reduce((v,c)=>Wt(c)?{...v,elbowArrows:v.elbowArrows.concat(c)}:{...v,otherElements:v.otherElements.concat(c)},{elbowArrows:[],otherElements:[]}),{midX:u,midY:f}=fc(e),[p,g]=[o-u,s-f];return d.forEach(v=>Qe(v,{x:v.x+p,y:v.y+g})),l.forEach(v=>W0(v,t,v.points,void 0,void 0,{informMutation:!1})),e};N();var pA=ut({name:"copy",label:"labels.copy",icon:YC,trackEvent:{category:"element"},perform:async(e,t,n,r)=>{let a=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});try{await TLe(a,r.files,n)}catch(o){return{storeAction:Me.NONE,appState:{...t,errorMessage:o.message}}}return{storeAction:Me.NONE}},keyTest:void 0}),Ez=ut({name:"paste",label:"labels.paste",trackEvent:{category:"element"},perform:async(e,t,n,r)=>{let a;try{a=await DLe()}catch(o){return o.name==="AbortError"||o.name==="NotAllowedError"?!1:(console.error(`actionPaste ${o.name}: ${o.message}`),ky?{storeAction:Me.NONE,appState:{...t,errorMessage:P("hints.firefox_clipboard_write")}}:{storeAction:Me.NONE,appState:{...t,errorMessage:P("errors.asyncPasteFailedOnRead")}})}try{r.pasteFromClipboard(kLe({types:a}))}catch(o){return console.error(o),{storeAction:Me.NONE,appState:{...t,errorMessage:P("errors.asyncPasteFailedOnParse")}}}return{storeAction:Me.NONE}},keyTest:void 0}),xz=ut({name:"cut",label:"labels.cut",icon:LSe,trackEvent:{category:"element"},perform:(e,t,n,r)=>(pA.perform(e,t,n,r),Une.perform(e,t,null,r)),keyTest:e=>e[ie.CTRL_OR_CMD]&&e.key===ie.X}),_z=ut({name:"copyAsSvg",label:"labels.copyAsSvg",icon:qSe,trackEvent:{category:"element"},perform:async(e,t,n,r)=>{if(!r.canvas)return{storeAction:Me.NONE};let{exportedElements:a,exportingFrame:o}=e7(e,t,!0);try{await t7("clipboard-svg",a,t,r.files,{...t,exportingFrame:o,name:r.getName()});let s=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});return{appState:{toast:{message:P("toast.copyToClipboardAsSvg",{exportSelection:s.length?P("toast.selection"):P("toast.canvas"),exportColorScheme:t.exportWithDarkMode?P("buttons.darkMode"):P("buttons.lightMode")})}},storeAction:Me.NONE}}catch(s){return console.error(s),{appState:{errorMessage:s.message},storeAction:Me.NONE}}},predicate:e=>xT&&e.length>0,keywords:["svg","clipboard","copy"]}),Cz=ut({name:"copyAsPng",label:"labels.copyAsPng",icon:JSe,trackEvent:{category:"element"},perform:async(e,t,n,r)=>{if(!r.canvas)return{storeAction:Me.NONE};let a=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),{exportedElements:o,exportingFrame:s}=e7(e,t,!0);try{return await t7("clipboard",o,t,r.files,{...t,exportingFrame:s,name:r.getName()}),{appState:{...t,toast:{message:P("toast.copyToClipboardAsPng",{exportSelection:a.length?P("toast.selection"):P("toast.canvas"),exportColorScheme:t.exportWithDarkMode?P("buttons.darkMode"):P("buttons.lightMode")})}},storeAction:Me.NONE}}catch(l){return console.error(l),{appState:{...t,errorMessage:l.message},storeAction:Me.NONE}}},predicate:e=>_T&&e.length>0,keyTest:e=>e.code===Pn.C&&e.altKey&&e.shiftKey,keywords:["png","clipboard","copy"]}),Sz=ut({name:"copyText",label:"labels.copyText",trackEvent:{category:"element"},perform:(e,t,n,r)=>{let a=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0});try{Pb(EPe(a))}catch{throw new Error(P("errors.copyToSystemClipboardFailed"))}return{storeAction:Me.NONE}},predicate:(e,t,n,r)=>xT&&r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0}).some(pt),keywords:["text","clipboard","copy"]});N();var Iz=ut({name:"gridMode",icon:iIe,keywords:["snap"],label:"labels.toggleGrid",viewMode:!0,trackEvent:{category:"canvas",predicate:e=>e.gridModeEnabled},perform(e,t){return{appState:{...t,gridModeEnabled:!this.checked(t),objectsSnapModeEnabled:!1},storeAction:Me.NONE}},checked:e=>e.gridModeEnabled,predicate:(e,t,n)=>n.gridModeEnabled===void 0,keyTest:e=>e[ie.CTRL_OR_CMD]&&e.code===Pn.QUOTE});N();var NS=ut({name:"zenMode",label:"buttons.zenMode",icon:tIe,paletteName:"Toggle zen mode",viewMode:!0,trackEvent:{category:"canvas",predicate:e=>!e.zenModeEnabled},perform(e,t){return{appState:{...t,zenModeEnabled:!this.checked(t)},storeAction:Me.NONE}},checked:e=>e.zenModeEnabled,predicate:(e,t,n)=>typeof n.zenModeEnabled>"u",keyTest:e=>!e[ie.CTRL_OR_CMD]&&e.altKey&&e.code===Pn.Z});N();var uze=ut({name:"objectsSnapMode",label:"buttons.objectsSnapMode",icon:eIe,viewMode:!1,trackEvent:{category:"canvas",predicate:e=>!e.objectsSnapModeEnabled},perform(e,t){return{appState:{...t,objectsSnapModeEnabled:!this.checked(t),gridModeEnabled:!1},storeAction:Me.NONE}},checked:e=>e.objectsSnapModeEnabled,predicate:(e,t,n)=>typeof n.objectsSnapModeEnabled>"u",keyTest:e=>!e[ie.CTRL_OR_CMD]&&e.altKey&&e.code===Pn.S});N();var $S=ut({name:"stats",label:"stats.fullTitle",icon:KSe,paletteName:"Toggle stats",viewMode:!0,trackEvent:{category:"menu"},keywords:["edit","attributes","customize"],perform(e,t){return{appState:{...t,stats:{...t.stats,open:!this.checked(t)}},storeAction:Me.NONE}},checked:e=>e.stats.open,keyTest:e=>!e[ie.CTRL_OR_CMD]&&e.altKey&&e.code===Pn.SLASH});N();var fze=ut({name:"unbindText",label:"labels.unbindText",trackEvent:{category:"element"},predicate:(e,t,n,r)=>r.scene.getSelectedElements(t).some(a=>xl(a)),perform:(e,t,n,r)=>{let a=r.scene.getSelectedElements(t),o=r.scene.getNonDeletedElementsMap();return a.forEach(s=>{var d;let l=on(s,o);if(l){let{width:u,height:f}=Ha(l.originalText,Xn(l),l.lineHeight),p=hPe(s.id);rJ(s.id);let{x:g,y:v}=N4(s,l,o);Qe(l,{containerId:null,width:u,height:f,text:l.originalText,x:g,y:v}),Qe(s,{boundElements:(d=s.boundElements)==null?void 0:d.filter(c=>c.id!==l.id),height:p||s.height})}}),{elements:e,appState:t,storeAction:Me.CAPTURE}}}),hze=ut({name:"bindText",label:"labels.bindText",trackEvent:{category:"element"},predicate:(e,t,n,r)=>{let a=r.scene.getSelectedElements(t);if(a.length===2){let o=pt(a[0])||pt(a[1]),s;if(S0(a[0])?s=a[0]:S0(a[1])&&(s=a[1]),o&&s&&on(s,r.scene.getNonDeletedElementsMap())===null)return!0}return!1},perform:(e,t,n,r)=>{let a=r.scene.getSelectedElements(t),o,s;pt(a[0])&&S0(a[1])?(o=a[0],s=a[1]):(o=a[1],s=a[0]),Qe(o,{containerId:s.id,verticalAlign:ws.MIDDLE,textAlign:My.CENTER,autoResize:!0}),Qe(s,{boundElements:(s.boundElements||[]).concat({type:"text",id:o.id})});let l=s.height;return co(o,s,r.scene.getNonDeletedElementsMap()),Y8(s.id,l),{elements:pze(e,s,o),appState:{...t,selectedElementIds:{[s.id]:!0}},storeAction:Me.CAPTURE}}}),pze=(e,t,n)=>{let r=e.slice(),a=r.findIndex(s=>s.id===n.id);r.splice(a,1);let o=r.findIndex(s=>s.id===t.id);return r.splice(o+1,0,n),vc(r,Vt([t,n])),r},gze=(e,t,n)=>{let r=e.slice(),a=r.findIndex(s=>s.id===t.id);r.splice(a,1);let o=r.findIndex(s=>s.id===n.id);return r.splice(o,0,t),vc(r,Vt([t,n])),r},mze=ut({name:"wrapTextInContainer",label:"labels.createContainerFromText",trackEvent:{category:"element"},predicate:(e,t,n,r)=>{let a=r.scene.getSelectedElements(t),o=a.every(s=>pt(s));return a.length>0&&o},perform:(e,t,n,r)=>{var l;let a=r.scene.getSelectedElements(t),o=e.slice(),s={};for(let d of a)if(pt(d)){let u=Md({type:"rectangle",backgroundColor:t.currentItemBackgroundColor,boundElements:[...d.boundElements||[],{id:d.id,type:"text"}],angle:d.angle,fillStyle:t.currentItemFillStyle,strokeColor:t.currentItemStrokeColor,roughness:t.currentItemRoughness,strokeWidth:t.currentItemStrokeWidth,strokeStyle:t.currentItemStrokeStyle,roundness:t.currentItemRoundness==="round"?{type:f2("rectangle")?Di.ADAPTIVE_RADIUS:Di.PROPORTIONAL_RADIUS}:null,opacity:100,locked:!1,x:d.x-Ri,y:d.y-Ri,width:Y0(d.width,"rectangle"),height:Y0(d.height,"rectangle"),groupIds:d.groupIds,frameId:d.frameId});if((l=d.boundElements)!=null&&l.length){let f=d.boundElements.filter(p=>p.type==="arrow").map(p=>p.id);o.filter(p=>f.includes(p.id)).forEach(p=>{let g=p.startBinding,v=p.endBinding;(g==null?void 0:g.elementId)===d.id&&(g={...g,elementId:u.id}),(v==null?void 0:v.elementId)===d.id&&(v={...v,elementId:u.id}),(g||v)&&Qe(p,{startBinding:g,endBinding:v},!1)})}Qe(d,{containerId:u.id,verticalAlign:ws.MIDDLE,boundElements:null,textAlign:My.CENTER,autoResize:!0},!1),co(d,u,r.scene.getNonDeletedElementsMap()),o=gze([...o,u],u,d),s[u.id]=!0}return{elements:o,appState:{...t,selectedElementIds:s},storeAction:Me.CAPTURE}}});N();N();var N1=te(Fe(),1),Lf=te(Se(),1),rB=380,Uze=42,FS=5,Mre=85,vze=500,jS=!1,z5=new Map,yze=({element:e,elementsMap:t,setAppState:n,onLinkOpen:r,setToast:a,updateEmbedValidationStatus:o})=>{let s=Qb(),l=zb(),d=va(),u=e.link||"",[f,p]=(0,N1.useState)(u),g=(0,N1.useRef)(null),v=s.showHyperlinkPopup==="editor",c=(0,N1.useCallback)(()=>{var E;if(!g.current)return;let w=Cs(g.current.value)||null;if(!e.link&&w&&yr("hyperlink","create"),Io(e)){if(((E=s.activeEmbeddable)==null?void 0:E.element)===e&&n({activeEmbeddable:null}),!w){Qe(e,{link:null}),o(e,!1);return}if(!rA(w,l.validateEmbeddable))w&&a({message:P("toast.unableToEmbed"),closable:!0}),e.link&&z5.set(e.id,e.link),Qe(e,{link:w}),o(e,!1);else{let{width:x,height:C}=e,I=$g(w);(I==null?void 0:I.error)instanceof URIError&&a({message:P("toast.unrecognizedLinkFormat"),closable:!0});let S=I?I.intrinsicSize.w/I.intrinsicSize.h:1,M=z5.get(e.id)!==e.link;Qe(e,{...M?{width:(I==null?void 0:I.type)==="video"?x>C?x:C*S:x,height:(I==null?void 0:I.type)==="video"&&x>C?x/S:C}:{},link:w}),o(e,!0),z5.has(e.id)&&z5.delete(e.id)}}else Qe(e,{link:w})},[e,a,l.validateEmbeddable,s.activeEmbeddable,n,o]);(0,N1.useLayoutEffect)(()=>()=>{c()},[c]),(0,N1.useEffect)(()=>{let w=null;g&&g.current&&!(d.viewport.isMobile||d.isTouchScreen)&&g.current.select();let E=x=>{v||(w&&clearTimeout(w),wze(e,t,s,$(x.clientX,x.clientY))&&(w=window.setTimeout(()=>{n({showHyperlinkPopup:!1})},vze)))};return window.addEventListener("pointermove",E,!1),()=>{window.removeEventListener("pointermove",E,!1),w&&clearTimeout(w)}},[s,e,v,n,t,d.viewport.isMobile,d.isTouchScreen]);let h=(0,N1.useCallback)(()=>{yr("hyperlink","delete"),Qe(e,{link:null}),n({showHyperlinkPopup:!1})},[n,e]),m=()=>{yr("hyperlink","edit","popup-ui"),n({showHyperlinkPopup:"editor"})},{x:U,y:b}=Tre(e,s,t);return s.contextMenu||s.selectedElementsAreBeingDragged||s.resizingElement||s.isRotating||s.openMenu||s.viewModeEnabled?null:(0,Lf.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:`${b}px`,left:`${U}px`,width:rB,padding:FS},children:[v?(0,Lf.jsx)("input",{className:bt("excalidraw-hyperlinkContainer-input"),placeholder:P("labels.link.hint"),ref:g,value:f,onChange:w=>p(w.target.value),autoFocus:!0,onKeyDown:w=>{w.stopPropagation(),w[ie.CTRL_OR_CMD]&&w.key===ie.K&&w.preventDefault(),(w.key===ie.ENTER||w.key===ie.ESCAPE)&&(c(),n({showHyperlinkPopup:"info"}))}}):e.link?(0,Lf.jsx)("a",{href:Cs(e.link||""),className:"excalidraw-hyperlinkContainer-link",target:cJ(e.link)?"_self":"_blank",onClick:w=>{if(e.link&&r){let E=IZ("excalidraw-link",w.nativeEvent);r({...e,link:Cs(e.link)},E),E.defaultPrevented&&w.preventDefault()}},rel:"noopener noreferrer",children:e.link}):(0,Lf.jsx)("div",{className:"excalidraw-hyperlinkContainer-link",children:P("labels.link.empty")}),(0,Lf.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!v&&(0,Lf.jsx)(yn,{type:"button",title:P("buttons.edit"),"aria-label":P("buttons.edit"),label:P("buttons.edit"),onClick:m,className:"excalidraw-hyperlinkContainer--edit",icon:Py}),(0,Lf.jsx)(yn,{type:"button",title:P("labels.linkToElement"),"aria-label":P("labels.linkToElement"),label:P("labels.linkToElement"),onClick:()=>{n({openDialog:{name:"elementLinkSelector",sourceElementId:e.id}})},icon:lq}),u&&!Io(e)&&(0,Lf.jsx)(yn,{type:"button",title:P("buttons.remove"),"aria-label":P("buttons.remove"),label:P("buttons.remove"),onClick:h,className:"excalidraw-hyperlinkContainer--remove",icon:z0})]})]})},Tre=(e,t,n)=>{let[r,a]=Xt(e,n),{x:o,y:s}=ic({sceneX:r+e.width/2,sceneY:a},t),l=o-t.offsetLeft-rB/2,d=s-t.offsetTop-Mre;return{x:l,y:d}},kz=(e,t)=>{var r;let n=gn(e,t);return Io(n[0])?"labels.link.editEmbed":(r=n[0])!=null&&r.link?"labels.link.edit":"labels.link.create"},Wv=null,bze=(e,t,n)=>{Wv&&clearTimeout(Wv),Wv=window.setTimeout(()=>Aze(e,t,n),L9e)},Aze=(e,t,n)=>{if(!e.link)return;let r=Hv();r.classList.add("excalidraw-tooltip--visible"),r.style.maxWidth="20rem",r.textContent=Ov(e.link)?P("labels.link.goToElement"):e.link;let[a,o,s,l]=Xt(e,n),[d,u,f,p]=vT([a,o,s,l],e.angle,t),g=ic({sceneX:d,sceneY:u},t);bre(r,{left:g.x,top:g.y,width:f,height:p},"top"),yr("hyperlink","tooltip","link-icon"),jS=!0},Mz=()=>{Wv&&clearTimeout(Wv),jS&&(jS=!1,Hv().classList.remove("excalidraw-tooltip--visible"))},wze=(e,t,n,[r,a])=>{let{x:o,y:s}=Ur({clientX:r,clientY:a},n),l=15/n.zoom.value;if(JM(o,s,e,t))return!1;let[d,u,f]=Xt(e,t);if(o>=d&&o<=f&&s>=u-Mre&&s<=u)return!1;let{x:p,y:g}=Tre(e,n,t);return!(r>=p-l&&r<=p+rB+FS*2+l&&a>=g-l&&a<=g+l+FS*2+Uze)},Eze=te(Se(),1),Bre=ut({name:"hyperlink",label:(e,t)=>kz(e,t),icon:ZC,perform:(e,t)=>t.showHyperlinkPopup==="editor"?!1:{elements:e,appState:{...t,showHyperlinkPopup:"editor",openMenu:null},storeAction:Me.CAPTURE},trackEvent:{category:"hyperlink",action:"click"},keyTest:e=>e[ie.CTRL_OR_CMD]&&e.key===ie.K,predicate:(e,t)=>gn(e,t).length===1,PanelComponent:({elements:e,appState:t,updateData:n})=>{let r=gn(e,t);return(0,Eze.jsx)(yn,{type:"button",icon:ZC,"aria-label":P(kz(e,t)),title:`${Io(e[0])?P("labels.link.labelEmbed"):P("labels.link.label")} - ${Ne("CtrlOrCmd+K")}`,onClick:()=>n(null),selected:r.length===1&&!!r[0].link})}});N();var p9=e=>e.every(t=>!t.locked),xze=ut({name:"toggleElementLock",label:(e,t,n)=>{let r=n.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!1});return r.length===1&&!en(r[0])?r[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock":p9(r)?"labels.elementLock.lockAll":"labels.elementLock.unlockAll"},icon:(e,t)=>{let n=gn(t,e);return p9(n)?GM:_4},trackEvent:{category:"element"},predicate:(e,t,n,r)=>{let a=r.scene.getSelectedElements(t);return a.length>0&&!a.some(o=>o.locked&&o.frameId)},perform:(e,t,n,r)=>{let a=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});if(!a.length)return!1;let o=p9(a),s=Vt(a);return{elements:e.map(l=>s.has(l.id)?an(l,{locked:o}):l),appState:{...t,selectedLinearElement:o?null:t.selectedLinearElement},storeAction:Me.CAPTURE}},keyTest:(e,t,n,r)=>e.key.toLocaleLowerCase()===ie.L&&e[ie.CTRL_OR_CMD]&&e.shiftKey&&r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!1}).length>0}),_ze=ut({name:"unlockAllElements",paletteName:"Unlock all elements",trackEvent:{category:"canvas"},viewMode:!1,icon:_4,predicate:(e,t)=>gn(e,t).length===0&&e.some(n=>n.locked),perform:(e,t)=>{let n=e.filter(r=>r.locked);return{elements:e.map(r=>r.locked?an(r,{locked:!1}):r),appState:{...t,selectedElementIds:Object.fromEntries(n.map(r=>[r.id,!0]))},storeAction:Me.CAPTURE}},label:"labels.elementLock.unlockAll"});N();N();var lu=te(Fe(),1);N();var Tz=te(Fe(),1);N();var Bz=te(Fe(),1),Cze=()=>{let[e,t]=(0,Bz.useState)(null),n=(0,Bz.useCallback)(r=>t(r),[]);return[e,n]};N();var Sze=te(Dd(),1),Ize=te(Fe(),1),g9=te(Se(),1),kze=e=>{let{closeOnClickOutside:t=!0}=e,n=sre({className:"excalidraw-modal-container"}),r=(0,Ize.useRef)(document.body.classList.contains("excalidraw-animations-disabled"));if(!n)return null;let a=o=>{o.key===ie.ESCAPE&&(o.nativeEvent.stopImmediatePropagation(),o.stopPropagation(),e.onCloseRequest())};return(0,Sze.createPortal)((0,g9.jsxs)("div",{className:bt("Modal",e.className,{"animations-disabled":r.current}),role:"dialog","aria-modal":"true",onKeyDown:a,"aria-labelledby":e.labelledBy,"data-prevent-outside-click":!0,children:[(0,g9.jsx)("div",{className:"Modal__background",onClick:t?e.onCloseRequest:void 0}),(0,g9.jsx)("div",{className:"Modal__content",style:{"--max-width":`${e.maxWidth}px`},tabIndex:0,children:e.children})]}),n)};N();var Bu=te(Fe(),1);N();te(Fe(),1);N();var Rz=te(Fe(),1),Rre=Ya(new Map),Dz=async e=>await KJ({elements:e,appState:{exportBackground:!1,viewBackgroundColor:fn.white},files:null,renderEmbeddables:!1,skipInliningFonts:!0}),Mze=(e,t,n)=>{let[r,a]=(0,Rz.useState)();return(0,Rz.useEffect)(()=>{if(t)if(e){let o=n.get(e);o?a(o):(async()=>{var l;let s=await Dz(t);(l=s.querySelector(".style-fonts"))==null||l.remove(),s&&(n.set(e,s),a(s))})()}else(async()=>{let o=await Dz(t);a(o)})()},[e,t,n,a]),r},Dre=()=>{let[e]=si(Rre,ta);return{clearLibraryCache:()=>e.clear(),deleteItemsFromLibraryCache:t=>{t.forEach(n=>e.delete(n))},svgCache:e}};N();var Tze=new Xc,qy=Ya({status:"loaded",isInitialized:!1,libraryItems:[]}),fU=e=>ju(e),Bze=(e,t)=>!e.find(n=>n.elements.length!==t.elements.length?!1:n.elements.every((r,a)=>r.id===t.elements[a].id&&r.versionNonce===t.elements[a].versionNonce)),Rze=(e,t)=>{let n=[];for(let r of t)Bze(e,r)&&n.push(r);return[...n,...e]},Dze=(e,t)=>{let n=Vt(t),r={deletedItems:new Map,addedItems:new Map};for(let o of e)n.has(o.id)||r.deletedItems.set(o.id,o);let a=Vt(e);for(let o of t)a.has(o.id)||r.addedItems.set(o.id,o);return r},Pze=class{constructor(e){ee(this,"currLibraryItems",[]);ee(this,"prevLibraryItems",fU(this.currLibraryItems));ee(this,"app");ee(this,"updateQueue",[]);ee(this,"getLastUpdateTask",()=>this.updateQueue[this.updateQueue.length-1]);ee(this,"notifyListeners",()=>{var e,t;if(this.updateQueue.length>0)ac.set(qy,n=>({status:"loading",libraryItems:this.currLibraryItems,isInitialized:n.isInitialized}));else{ac.set(qy,{status:"loaded",libraryItems:this.currLibraryItems,isInitialized:!0});try{let n=this.prevLibraryItems;this.prevLibraryItems=fU(this.currLibraryItems);let r=fU(this.currLibraryItems);(t=(e=this.app.props).onLibraryChange)==null||t.call(e,r),Tze.trigger(Dze(n,r),r)}catch(n){console.error(n)}}});ee(this,"destroy",()=>{this.updateQueue=[],this.currLibraryItems=[],ac.set(Rre,new Map)});ee(this,"resetLibrary",()=>this.setLibrary([]));ee(this,"getLatestLibrary",()=>new Promise(async e=>{try{let t=await(this.getLastUpdateTask()||this.currLibraryItems);this.updateQueue.length>0?e(this.getLatestLibrary()):e(fU(t))}catch{return e(this.currLibraryItems)}}));ee(this,"updateLibrary",async({libraryItems:e,prompt:t=!1,merge:n=!1,openLibraryMenu:r=!1,defaultStatus:a="unpublished"})=>(r&&this.app.setState({openSidebar:{name:uc.name,tab:S8}}),this.setLibrary(()=>new Promise(async(o,s)=>{try{let l=await(typeof e=="function"&&!(e instanceof Blob)?e(this.currLibraryItems):e),d;l instanceof Blob?d=await vNe(l,a):d=QJ(l,a),!t||window.confirm(P("alerts.confirmAddLibrary",{numShapes:d.length}))?(t&&this.app.focusContainer(),o(n?Rze(this.currLibraryItems,d):d)):s(new I4)}catch(l){s(l)}}))));ee(this,"setLibrary",e=>{let t=new Promise(async(n,r)=>{try{await this.getLastUpdateTask(),typeof e=="function"&&(e=e(this.currLibraryItems)),this.currLibraryItems=fU(await e),n(this.currLibraryItems)}catch(a){r(a)}}).catch(n=>{if(n.name==="AbortError")return console.warn("Library update aborted by user"),this.currLibraryItems;throw n}).finally(()=>{this.updateQueue=this.updateQueue.filter(n=>n!==t),this.notifyListeners()});return this.updateQueue.push(t),this.notifyListeners(),t});this.app=e}},Lze=Pze,Pre=e=>{let t=Math.ceil(Math.sqrt(e.length)),n=[],r=g=>e.slice(g*t,g*t+t).reduce((v,c)=>{let{height:h}=fc(c.elements);return Math.max(v,h)},0),a=g=>{let v=0,c=0,h=0;for(let m of e){if(v%t===0&&(c=0),c===g){let{width:U}=fc(m.elements);h=Math.max(h,U)}v++,c++}return h},o=0,s=0,l=0,d=0,u=0,f=0,p=0;for(let g of e){u&&u%t===0&&(s+=l+50,o=0,f=0,p++),f===0&&(l=r(p)),d=a(f);let{minX:v,minY:c,width:h,height:m}=fc(g.elements),U=(d-h)/2,b=(l-m)/2;n.push(...g.elements.map(w=>({...w,x:w.x+o+U-v,y:w.y+s+b-c}))),o+=d+50,u++,f++}return n};N();var $l=te(Fe(),1);N();var Lre=te(Fe(),1),Nre=te(Se(),1),Nze=(0,Lre.forwardRef)(({children:e,gap:t,align:n,justifyContent:r,className:a,style:o},s)=>(0,Nre.jsx)("div",{className:bt("Stack Stack_horizontal",a),style:{"--gap":t,alignItems:n,justifyContent:r,...o},ref:s,children:e})),$ze=(0,Lre.forwardRef)(({children:e,gap:t,align:n,justifyContent:r,className:a,style:o},s)=>(0,Nre.jsx)("div",{className:bt("Stack Stack_vertical",a),style:{"--gap":t,justifyItems:n,justifyContent:r,...o},ref:s,children:e})),ul={Row:Nze,Col:$ze};N();N();var Fze=te(Se(),1),jze=({theme:e,id:t,libraryReturnUrl:n})=>{let r=n||window.location.origin+window.location.pathname;return(0,Fze.jsx)("a",{className:"library-menu-browse-button",href:`${gt.VITE_APP_LIBRARY_URL}?target=${window.name||"_blank"}&referrer=${r}&useHash=true&token=${t}&theme=${e}&version=${b4.excalidrawLibrary}`,target:"_excalidraw_libraries",children:P("labels.libraries")})},Oze=jze,Pz=te(Se(),1),$re=({libraryReturnUrl:e,theme:t,id:n,style:r,children:a,className:o})=>(0,Pz.jsxs)("div",{className:bt("library-menu-control-buttons",o),style:r,children:[(0,Pz.jsx)(Oze,{id:n,libraryReturnUrl:e,theme:t}),a]});N();var Q5=te(Fe(),1);N();var fw=te(Fe(),1),zze=/({{[\w-]+}})|(<[\w-]+>)|(<\/[\w-]+>)/g,Qze=/{{([\w-]+)}}/,Hze=/<([\w-]+)>/,Gze=/<\/([\w-]+)>/,Wze=(e,t)=>{let n=[{name:"",children:[]}];return e.split(zze).filter(Boolean).forEach(r=>{let a=r.match(Hze),o=r.match(Gze),s=r.match(Qze);if(a!==null){let l=a[1];t.hasOwnProperty(l)?n.push({name:l,children:[]}):console.warn(`Trans: missed to pass in prop ${l} for interpolating ${e}`)}else if(o!==null)if(o[1]===n[n.length-1].name){let l=n.pop(),d=fw.default.createElement(fw.default.Fragment,{},...l.children),u=t[l.name];typeof u=="function"&&n[n.length-1].children.push(u(d))}else console.warn(`Trans: unexpected end tag ${r} for interpolating ${e}`);else if(s!==null){let l=s[1];t.hasOwnProperty(l)?n[n.length-1].children.push(t[l]):console.warn(`Trans: key ${l} not in props for interpolating ${e}`)}else n[n.length-1].children.push(r)}),n.length!==1&&console.warn(`Trans: stack not empty for interpolating ${e}`),n[0].children},Vze=({i18nKey:e,children:t,...n})=>{let{t:r}=Ka();return fw.default.createElement(fw.default.Fragment,{},...Wze(r(e),n))},hd=Vze;N();var Lz=te(Dd(),1);N();var hU=te(Se(),1),Yze=({label:e,onClick:t,className:n,children:r,actionType:a,type:o="button",isLoading:s,...l})=>{let d=a?`Dialog__action-button--${a}`:"";return(0,hU.jsxs)("button",{className:bt("Dialog__action-button",d,n),type:o,"aria-label":e,onClick:t,...l,children:[r&&(0,hU.jsx)("div",{style:s?{visibility:"hidden"}:{},children:r}),(0,hU.jsx)("div",{style:s?{visibility:"hidden"}:{},children:e}),s&&(0,hU.jsx)("div",{style:{position:"absolute",inset:0},children:(0,hU.jsx)(af,{})})]})},Ym=Yze,H5=te(Se(),1),Kze=e=>{let{onConfirm:t,onCancel:n,children:r,confirmText:a=P("buttons.confirm"),cancelText:o=P("buttons.cancel"),className:s="",...l}=e,d=ra(),u=Lb(iB,ta),{container:f}=Nd();return(0,H5.jsxs)(wc,{onCloseRequest:n,size:"small",...l,className:`confirm-dialog ${s}`,children:[r,(0,H5.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,H5.jsx)(Ym,{label:o,onClick:()=>{d({openMenu:null}),u(!1),(0,Lz.flushSync)(()=>{n()}),f==null||f.focus()}}),(0,H5.jsx)(Ym,{label:a,onClick:()=>{d({openMenu:null}),u(!1),(0,Lz.flushSync)(()=>{t()}),f==null||f.focus()},actionType:"danger"})]})]})},Fre=Kze;N();var Eu=te(Fe(),1);N();var e3,Vv=(e3=class{static has(e){try{return!!window.localStorage.getItem(e)}catch(t){return console.warn(`localStorage.getItem error: ${t.message}`),!1}}static get(e){try{let t=window.localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.warn(`localStorage.getItem error: ${t.message}`),null}}},ee(e3,"set",(e,t)=>{try{return window.localStorage.setItem(e,JSON.stringify(t)),!0}catch(n){return console.warn(`localStorage.setItem error: ${n.message}`),!1}}),ee(e3,"delete",e=>{try{window.localStorage.removeItem(e)}catch(t){console.warn(`localStorage.removeItem error: ${t.message}`)}}),e3),Ot=te(Se(),1),Xze=async e=>{let t=Math.round(8),n=Math.max(Math.round(128/64),2),r=u_e(e,6),a=document.createElement("canvas");a.width=r[0].length*128+(r[0].length+1)*(t*2)-t*2,a.height=r.length*128+(r.length+1)*(t*2)-t*2;let o=a.getContext("2d");o.fillStyle=pa.white,o.fillRect(0,0,a.width,a.height);for(let[s,l]of e.entries()){let d=await CT({elements:l.elements,files:null,maxWidthOrHeight:128}),{width:u,height:f}=d,p=Math.floor(s/6)*(128+t*2),g=s%6*(128+t*2);o.drawImage(d,g+(128-u)/2+t,p+(128-f)/2+t),o.lineWidth=n,o.strokeStyle=pa.gray[4],o.strokeRect(g+t/2,p+t/2,128+t,128+t)}return await AS(new File([await Gy(a)],"preview",{type:Ft.png}),{outputType:Ft.jpg,maxWidthOrHeight:5e3})},Zze=({libItem:e,appState:t,index:n,onChange:r,onRemove:a})=>{let o=(0,Eu.useRef)(null),s=(0,Eu.useRef)(null);return(0,Eu.useEffect)(()=>{let l=o.current;l&&(async()=>{let d=await KJ({elements:e.elements,appState:{...t,viewBackgroundColor:pa.white,exportBackground:!0},files:null,skipInliningFonts:!0});l.innerHTML=d.outerHTML})()},[e.elements,t]),(0,Ot.jsxs)("div",{className:"single-library-item",children:[e.status==="published"&&(0,Ot.jsx)("span",{className:"single-library-item-status",children:P("labels.statusPublished")}),(0,Ot.jsx)("div",{ref:o,className:"single-library-item__svg"}),(0,Ot.jsx)(yn,{"aria-label":P("buttons.remove"),type:"button",icon:h2,className:"single-library-item--remove",onClick:a.bind(null,e.id),title:P("buttons.remove")}),(0,Ot.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,Ot.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,Ot.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,Ot.jsx)("span",{style:{fontWeight:500,color:pa.gray[6]},children:P("publishDialog.itemName")}),(0,Ot.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,Ot.jsx)("input",{type:"text",ref:s,style:{width:"80%",padding:"0.2rem"},defaultValue:e.name,placeholder:"Item name",onChange:l=>{r(l.target.value,n)}})]}),(0,Ot.jsx)("span",{className:"error",children:e.error})]})]})},qze=({onClose:e,libraryItems:t,appState:n,onSuccess:r,onError:a,updateItemsInStorage:o,onRemove:s})=>{let[l,d]=(0,Eu.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),[u,f]=(0,Eu.useState)(!1);(0,Eu.useEffect)(()=>{let w=Vv.get(Pv.PUBLISH_LIBRARY);w&&d(w)},[]);let[p,g]=(0,Eu.useState)(t.slice());(0,Eu.useEffect)(()=>{g(t.slice())},[t]);let v=w=>{d({...l,[w.target.name]:w.target.value})},c=async w=>{w.preventDefault(),f(!0);let E=[],x=!1;if(p.forEach(D=>{let L="";D.name||(L=P("publishDialog.errors.required"),x=!0),E.push({...D,error:L})}),x){g(E),f(!1);return}let C=await Xze(p),I={type:gl.excalidrawLibrary,version:b4.excalidrawLibrary,source:BM,libraryItems:p},S=JSON.stringify(I,null,2),M=new Blob([S],{type:"application/json"}),R=new FormData;R.append("excalidrawLib",M),R.append("previewImage",C),R.append("previewImageType",C.type),R.append("title",l.name),R.append("authorName",l.authorName),R.append("githubHandle",l.githubHandle),R.append("name",l.name),R.append("description",l.description),R.append("twitterHandle",l.twitterHandle),R.append("website",l.website),fetch(`${gt.VITE_APP_LIBRARY_BACKEND}/submit`,{method:"post",body:R}).then(D=>D.ok?D.json().then(({url:L})=>{Vv.delete(Pv.PUBLISH_LIBRARY),r({url:L,authorName:l.authorName,items:p})}):D.json().catch(()=>{throw new Error(D.statusText||"something went wrong")}).then(L=>{throw new Error(L.message||D.statusText||"something went wrong")}),D=>{console.error(D),a(D),f(!1)}).catch(D=>{console.error(D),a(D),f(!1)})},h=()=>{let w=[];return p.forEach((E,x)=>{w.push((0,Ot.jsx)("div",{className:"single-library-item-wrapper",children:(0,Ot.jsx)(Zze,{libItem:E,appState:n,index:x,onChange:(C,I)=>{let S=p.slice();S[I].name=C,g(S)},onRemove:s})},x))}),(0,Ot.jsx)("div",{className:"selected-library-items",children:w})},m=(0,Eu.useCallback)(()=>{o(p),Vv.set(Pv.PUBLISH_LIBRARY,l),e()},[p,e,o,l]),U=!!t.length,b=t.some(w=>w.status==="published");return(0,Ot.jsx)(wc,{onCloseRequest:m,title:P("publishDialog.title"),className:"publish-library",children:U?(0,Ot.jsxs)("form",{onSubmit:c,children:[(0,Ot.jsx)("div",{className:"publish-library-note",children:(0,Ot.jsx)(hd,{i18nKey:"publishDialog.noteDescription",link:w=>(0,Ot.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:w})})}),(0,Ot.jsx)("span",{className:"publish-library-note",children:(0,Ot.jsx)(hd,{i18nKey:"publishDialog.noteGuidelines",link:w=>(0,Ot.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:w})})}),(0,Ot.jsx)("div",{className:"publish-library-note",children:P("publishDialog.noteItems")}),b&&(0,Ot.jsx)("span",{className:"publish-library-note publish-library-warning",children:P("publishDialog.republishWarning")}),h(),(0,Ot.jsxs)("div",{className:"publish-library__fields",children:[(0,Ot.jsxs)("label",{children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{children:P("publishDialog.libraryName")}),(0,Ot.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,Ot.jsx)("input",{type:"text",name:"name",required:!0,value:l.name,onChange:v,placeholder:P("publishDialog.placeholder.libraryName")})]}),(0,Ot.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{children:P("publishDialog.libraryDesc")}),(0,Ot.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,Ot.jsx)("textarea",{name:"description",rows:4,required:!0,value:l.description,onChange:v,placeholder:P("publishDialog.placeholder.libraryDesc")})]}),(0,Ot.jsxs)("label",{children:[(0,Ot.jsxs)("div",{children:[(0,Ot.jsx)("span",{children:P("publishDialog.authorName")}),(0,Ot.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,Ot.jsx)("input",{type:"text",name:"authorName",required:!0,value:l.authorName,onChange:v,placeholder:P("publishDialog.placeholder.authorName")})]}),(0,Ot.jsxs)("label",{children:[(0,Ot.jsx)("span",{children:P("publishDialog.githubUsername")}),(0,Ot.jsx)("input",{type:"text",name:"githubHandle",value:l.githubHandle,onChange:v,placeholder:P("publishDialog.placeholder.githubHandle")})]}),(0,Ot.jsxs)("label",{children:[(0,Ot.jsx)("span",{children:P("publishDialog.twitterUsername")}),(0,Ot.jsx)("input",{type:"text",name:"twitterHandle",value:l.twitterHandle,onChange:v,placeholder:P("publishDialog.placeholder.twitterHandle")})]}),(0,Ot.jsxs)("label",{children:[(0,Ot.jsx)("span",{children:P("publishDialog.website")}),(0,Ot.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:P("publishDialog.errors.website"),value:l.website,onChange:v,placeholder:P("publishDialog.placeholder.website")})]}),(0,Ot.jsx)("span",{className:"publish-library-note",children:(0,Ot.jsx)(hd,{i18nKey:"publishDialog.noteLicense",link:w=>(0,Ot.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:w})})})]}),(0,Ot.jsxs)("div",{className:"publish-library__buttons",children:[(0,Ot.jsx)(Ym,{label:P("buttons.cancel"),onClick:m,"data-testid":"cancel-clear-canvas-button"}),(0,Ot.jsx)(Ym,{type:"submit",label:P("buttons.submit"),actionType:"primary",isLoading:u})]})]}):(0,Ot.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:P("publishDialog.atleastOneLibItem")})})},Jze=qze;N();N();var eQe=te(Se(),1),jre=({className:e="",children:t,onToggle:n,title:r,...a})=>{let o=va(),s=bt(`dropdown-menu-button ${e}`,"zen-mode-transition",{"dropdown-menu-button--mobile":o.editor.isMobile}).trim();return(0,eQe.jsx)("button",{"data-prevent-outside-click":!0,className:s,onClick:n,type:"button","data-testid":"dropdown-menu-button",title:r,...a,children:t})},tQe=jre;jre.displayName="DropdownMenuTrigger";N();var nQe=te(Se(),1),Ore=()=>(0,nQe.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}}),rQe=Ore;Ore.displayName="DropdownMenuSeparator";N();var Nz=te(Fe(),1),G5=te(Se(),1),zre=({children:e,onClickOutside:t,className:n="",onSelect:r,style:a})=>{let o=va(),s=(0,Nz.useRef)(null),l=Z4({onClickOutside:t});XT(s,()=>{var u;(u=l.onClickOutside)==null||u.call(l)}),(0,Nz.useEffect)(()=>{let u=p=>{var g;p.key===ie.ESCAPE&&(p.stopImmediatePropagation(),(g=l.onClickOutside)==null||g.call(l))},f={capture:!0};return document.addEventListener("keydown",u,f),()=>{document.removeEventListener("keydown",u,f)}},[l]);let d=bt(`dropdown-menu ${n}`,{"dropdown-menu--mobile":o.editor.isMobile}).trim();return(0,G5.jsx)(pre.Provider,{value:{onSelect:r},children:(0,G5.jsx)("div",{ref:s,className:d,style:a,"data-testid":"dropdown-menu",children:o.editor.isMobile?(0,G5.jsx)(ul.Col,{className:"dropdown-menu-container",children:e}):(0,G5.jsx)(hc,{className:"dropdown-menu-container",padding:2,style:{zIndex:2},children:e})})})};zre.displayName="DropdownMenuContent";var iQe=zre;N();var $z=te(Se(),1),Qre=({icon:e,shortcut:t,href:n,children:r,onSelect:a,className:o="",selected:s,rel:l="noreferrer",...d})=>{let u=mre(d.onClick,a);return(0,$z.jsx)("a",{...d,href:n,target:"_blank",rel:"noreferrer",className:gre(o,s),title:d.title??d["aria-label"],onClick:u,children:(0,$z.jsx)(Ure,{icon:e,shortcut:t,children:r})})},gA=Qre;Qre.displayName="DropdownMenuItemLink";N();var aQe=te(Se(),1),oQe=({children:e,className:t="",selected:n,...r})=>(0,aQe.jsx)("div",{...r,className:`dropdown-menu-item-base dropdown-menu-item-custom ${t} ${n?"dropdown-menu-item--selected":""}`.trim(),children:e}),sQe=oQe;N();var hw=te(Fe(),1),lQe=e=>hw.default.Children.toArray(e).find(n=>hw.default.isValidElement(n)&&typeof n.type!="string"&&(n==null?void 0:n.type.displayName)&&n.type.displayName==="DropdownMenuTrigger")||null,cQe=e=>hw.default.Children.toArray(e).find(n=>hw.default.isValidElement(n)&&typeof n.type!="string"&&(n==null?void 0:n.type.displayName)&&n.type.displayName==="DropdownMenuContent")||null,Fz=te(Se(),1),gf=({children:e,open:t})=>{let n=lQe(e),r=cQe(e);return(0,Fz.jsxs)(Fz.Fragment,{children:[n,t&&r]})};gf.Trigger=tQe;gf.Content=iQe;gf.Item=Sl;gf.ItemLink=gA;gf.ItemCustom=sQe;gf.Group=DS;gf.Separator=rQe;var Pr=gf;gf.displayName="DropdownMenu";var sa=te(Se(),1),dQe=(e,t)=>e.filter(n=>t.includes(n.id)),uQe=({setAppState:e,selectedItems:t,library:n,onRemoveFromLibrary:r,resetLibrary:a,onSelectItems:o,appState:s,className:l})=>{let[d]=si(qy,ta),[u,f]=si(iB,ta),p=()=>{let R=t.length?P("alerts.removeItemsFromsLibrary",{count:t.length}):P("alerts.resetLibrary"),D=t.length?P("confirmDialog.removeItemsFromLib"):P("confirmDialog.resetLibrary");return(0,sa.jsx)(Fre,{onConfirm:()=>{t.length?r():a(),v(!1)},onCancel:()=>{v(!1)},title:D,children:(0,sa.jsx)("p",{children:R})})},[g,v]=(0,Q5.useState)(!1),c=!!t.length,h=c?d.libraryItems.filter(R=>t.includes(R.id)):d.libraryItems,m=P(c?"buttons.remove":"buttons.resetLibrary"),[U,b]=(0,Q5.useState)(!1),[w,E]=(0,Q5.useState)(null),x=(0,Q5.useCallback)(()=>(0,sa.jsxs)(wc,{onCloseRequest:()=>E(null),title:P("publishSuccessDialog.title"),className:"publish-library-success",size:"small",children:[(0,sa.jsx)("p",{children:(0,sa.jsx)(hd,{i18nKey:"publishSuccessDialog.content",authorName:w.authorName,link:R=>(0,sa.jsx)("a",{href:w==null?void 0:w.url,target:"_blank",rel:"noopener noreferrer",children:R})})}),(0,sa.jsx)(yn,{type:"button",title:P("buttons.close"),"aria-label":P("buttons.close"),label:P("buttons.close"),onClick:()=>E(null),"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]}),[E,w]),C=(R,D)=>{b(!1),E({url:R.url,authorName:R.authorName});let L=D.slice();L.forEach(j=>{t.includes(j.id)&&(j.status="published")}),n.setLibrary(L)},I=async()=>{try{await n.updateLibrary({libraryItems:mT({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0})}catch(R){if((R==null?void 0:R.name)==="AbortError"){console.warn(R);return}e({errorMessage:P("errors.importLibraryError")})}},S=async()=>{let R=c?h:await n.getLatestLibrary();iLe(R).catch(xZ).catch(D=>{e({errorMessage:D.message})})},M=()=>(0,sa.jsxs)(Pr,{open:u,children:[(0,sa.jsx)(Pr.Trigger,{onToggle:()=>f(!u),children:kCe}),(0,sa.jsxs)(Pr.Content,{onClickOutside:()=>f(!1),onSelect:()=>f(!1),className:"library-menu",children:[!c&&(0,sa.jsx)(Pr.Item,{onSelect:I,icon:VM,"data-testid":"lib-dropdown--load",children:P("buttons.load")}),!!h.length&&(0,sa.jsx)(Pr.Item,{onSelect:S,icon:C4,"data-testid":"lib-dropdown--export",children:P("buttons.export")}),!!h.length&&(0,sa.jsx)(Pr.Item,{onSelect:()=>v(!0),icon:z0,children:m}),c&&(0,sa.jsx)(Pr.Item,{icon:PSe,onSelect:()=>b(!0),"data-testid":"lib-dropdown--remove",children:P("buttons.publishLibrary")})]})]});return(0,sa.jsxs)("div",{className:bt("library-menu-dropdown-container",l),children:[M(),t.length>0&&(0,sa.jsx)("div",{className:"library-actions-counter",children:t.length}),g&&p(),U&&(0,sa.jsx)(Jze,{onClose:()=>b(!1),libraryItems:dQe(d.libraryItems,t),appState:s,onSuccess:R=>C(R,d.libraryItems),onError:R=>window.alert(R),updateItemsInStorage:()=>n.setLibrary(d.libraryItems),onRemove:R=>o(t.filter(D=>D!==R))}),w&&x()]})},jz=({selectedItems:e,onSelectItems:t,className:n})=>{let{library:r}=Ld(),{clearLibraryCache:a,deleteItemsFromLibraryCache:o}=Dre(),s=Xa(),l=ra(),[d]=si(qy,ta),u=async f=>{let p=f.filter(g=>!e.includes(g.id));r.setLibrary(p).catch(()=>{l({errorMessage:P("alerts.errorRemovingFromLibrary")})}),o(e),t([])};return(0,sa.jsx)(uQe,{appState:s,setAppState:l,selectedItems:e,onSelectItems:t,library:r,onRemoveFromLibrary:()=>u(d.libraryItems),resetLibrary:()=>{r.resetLibrary(),a()},className:n})};N();var m9=te(Fe(),1);N();var W5=te(Fe(),1),av=te(Se(),1),fQe=(0,W5.memo)(({id:e,elements:t,isPending:n,onClick:r,selected:a,onToggle:o,onDrag:s,svgCache:l})=>{let d=(0,W5.useRef)(null),u=Mze(e,t,l);(0,W5.useEffect)(()=>{let c=d.current;if(c)return u&&(c.innerHTML=u.outerHTML),()=>{c.innerHTML=""}},[u]);let[f,p]=(0,W5.useState)(!1),g=va().editor.isMobile,v=n&&(0,av.jsx)("div",{className:"library-unit__adder",children:ICe});return(0,av.jsxs)("div",{className:bt("library-unit",{"library-unit__active":t,"library-unit--hover":t&&f,"library-unit--selected":a,"library-unit--skeleton":!u}),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[(0,av.jsx)("div",{className:bt("library-unit__dragger",{"library-unit__pulse":!!n}),ref:d,draggable:!!t,onClick:t||n?c=>{e&&c.shiftKey?o(e,c):r(e)}:void 0,onDragStart:c=>{if(!e){c.preventDefault();return}p(!1),s(e,c)}}),v,e&&t&&(f||g||a)&&(0,av.jsx)(tB,{checked:a,onChange:(c,h)=>o(e,h),className:"library-unit__checkbox"})]})}),hQe=()=>(0,av.jsx)("div",{className:"library-unit library-unit--skeleton"});N();var Hre=te(Fe(),1);function pQe(){return[!1,(0,Hre.useCallback)(e=>e(),[])]}var gQe=Hre.default.useTransition||pQe,ov=te(Se(),1),Oz=({children:e})=>(0,ov.jsx)("div",{className:"library-menu-items-container__grid",children:e}),U9=(0,m9.memo)(({items:e,onItemSelectToggle:t,onItemDrag:n,isItemSelected:r,onClick:a,svgCache:o,itemsRenderedPerBatch:s})=>{let[,l]=gQe(),[d,u]=(0,m9.useState)(0);return(0,m9.useEffect)(()=>{d<e.length&&l(()=>{u(d+s)})},[d,e.length,l,s]),(0,ov.jsx)(ov.Fragment,{children:e.map((f,p)=>p<d?(0,ov.jsx)(fQe,{elements:f==null?void 0:f.elements,isPending:!(f!=null&&f.id)&&!!(f!=null&&f.elements),onClick:a,svgCache:o,id:f==null?void 0:f.id,selected:r(f.id),onToggle:t,onDrag:n},(f==null?void 0:f.id)??p):(0,ov.jsx)(hQe,{},p))})});N();var mQe=te(Fe(),1),UQe=te(U4(),1),vQe=Ya(0),yQe=e=>{let[t,n]=si(vQe);return(0,mQe.useEffect)(()=>{let{current:r}=e;if(!r)return;let a=(0,UQe.default)(()=>{let{scrollTop:o}=r;n(o)},200);return r.addEventListener("scroll",a),()=>{a.cancel(),r.removeEventListener("scroll",a)}},[e,n]),t},di=te(Se(),1),bQe=17,AQe=64;function wQe({isLoading:e,libraryItems:t,onAddToLibrary:n,onInsertLibraryItems:r,pendingElements:a,theme:o,id:s,libraryReturnUrl:l,onSelectItems:d,selectedItems:u}){let f=(0,$l.useRef)(null),p=yQe(f);(0,$l.useEffect)(()=>{var R;p>0&&((R=f.current)==null||R.scrollTo(0,p))},[]);let{svgCache:g}=Dre(),v=(0,$l.useMemo)(()=>t.filter(R=>R.status!=="published"),[t]),c=(0,$l.useMemo)(()=>t.filter(R=>R.status==="published"),[t]),h=!t.length&&!a.length,m=!a.length&&!v.length&&!c.length,[U,b]=(0,$l.useState)(null),w=(0,$l.useCallback)((R,D)=>{let L=!u.includes(R),j=[...v,...c];if(L){if(D.shiftKey&&U){let re=j.findIndex(Z=>Z.id===U),J=j.findIndex(Z=>Z.id===R);if(re===-1||J===-1){d([...u,R]);return}let H=Vt(u),ne=j.reduce((Z,se,O)=>((O>=re&&O<=J||H.has(se.id))&&Z.push(se.id),Z),[]);d(ne)}else d([...u,R]);b(R)}else b(null),d(u.filter(re=>re!==R))},[U,d,c,u,v]),E=(0,$l.useCallback)(R=>{let D;return u.includes(R)?D=t.filter(L=>u.includes(L.id)):D=t.filter(L=>L.id===R),D.map(L=>({...L,elements:yJ(L.elements,{randomizeSeed:!0})}))},[t,u]),x=(0,$l.useCallback)((R,D)=>{D.dataTransfer.setData(Ft.excalidrawlib,IJ(E(R)))},[E]),C=(0,$l.useCallback)(R=>R?u.includes(R):!1,[u]),I=(0,$l.useCallback)(()=>{n(a)},[a,n]),S=(0,$l.useCallback)(R=>{R&&r(E(R))},[E,r]),M=g.size>=t.length?AQe:bQe;return(0,di.jsxs)("div",{className:"library-menu-items-container",style:a.length||v.length||c.length?{justifyContent:"flex-start"}:{borderBottom:0},children:[!m&&(0,di.jsx)(jz,{selectedItems:u,onSelectItems:d,className:"library-menu-dropdown-container--in-heading"}),(0,di.jsxs)(ul.Col,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:c.length>0?1:"0 1 auto",marginBottom:0},ref:f,children:[(0,di.jsxs)(di.Fragment,{children:[!m&&(0,di.jsx)("div",{className:"library-menu-items-container__header",children:P("labels.personalLib")}),e&&(0,di.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,di.jsx)(af,{})}),!a.length&&!v.length?(0,di.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,di.jsx)("div",{className:"library-menu-items__no-items__label",children:P("library.noItems")}),(0,di.jsx)("div",{className:"library-menu-items__no-items__hint",children:c.length>0?P("library.hint_emptyPrivateLibrary"):P("library.hint_emptyLibrary")})]}):(0,di.jsxs)(Oz,{children:[a.length>0&&(0,di.jsx)(U9,{itemsRenderedPerBatch:M,items:[{id:null,elements:a}],onItemSelectToggle:w,onItemDrag:x,onClick:I,isItemSelected:C,svgCache:g}),(0,di.jsx)(U9,{itemsRenderedPerBatch:M,items:v,onItemSelectToggle:w,onItemDrag:x,onClick:S,isItemSelected:C,svgCache:g})]})]}),(0,di.jsxs)(di.Fragment,{children:[(c.length>0||a.length>0||v.length>0)&&(0,di.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:P("labels.excalidrawLib")}),c.length>0?(0,di.jsx)(Oz,{children:(0,di.jsx)(U9,{itemsRenderedPerBatch:M,items:c,onItemSelectToggle:w,onItemDrag:x,onClick:S,isItemSelected:C,svgCache:g})}):v.length>0?(0,di.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:P("library.noItems")}):null]}),h&&(0,di.jsx)($re,{style:{padding:"16px 0",width:"100%"},id:s,libraryReturnUrl:l,theme:o,children:(0,di.jsx)(jz,{selectedItems:u,onSelectItems:d})})]})]})}var Vc=te(Se(),1),iB=Ya(!1),zz=({children:e})=>(0,Vc.jsx)("div",{className:"layer-ui__library",children:e}),EQe=({onInsertLibraryItems:e,pendingElements:t,onAddToLibrary:n,setAppState:r,libraryReturnUrl:a,library:o,id:s,theme:l,selectedItems:d,onSelectItems:u})=>{let[f]=si(qy,ta),p=(0,Bu.useCallback)(c=>{(async(h,m)=>{yr("element","addToLibrary","ui");for(let b of UZ)if(h.some(w=>w.type===b))return r({errorMessage:P(`errors.libraryElementTypeError.${b}`)});let U=[{status:"unpublished",elements:h,id:_l(),created:Date.now()},...m];n(),o.setLibrary(U).catch(()=>{r({errorMessage:P("alerts.errorAddingToLibrary")})})})(c,f.libraryItems)},[n,o,r,f.libraryItems]),g=(0,Bu.useMemo)(()=>f.libraryItems,[f]);if(f.status==="loading"&&!f.isInitialized)return(0,Vc.jsx)(zz,{children:(0,Vc.jsx)("div",{className:"layer-ui__library-message",children:(0,Vc.jsxs)("div",{children:[(0,Vc.jsx)(af,{size:"2em"}),(0,Vc.jsx)("span",{children:P("labels.libraryLoadingMessage")})]})})});let v=f.libraryItems.length>0||t.length>0;return(0,Vc.jsxs)(zz,{children:[(0,Vc.jsx)(wQe,{isLoading:f.status==="loading",libraryItems:g,onAddToLibrary:p,onInsertLibraryItems:e,pendingElements:t,id:s,libraryReturnUrl:a,theme:l,onSelectItems:u,selectedItems:d}),v&&(0,Vc.jsx)($re,{className:"library-menu-control-buttons--at-bottom",style:{padding:"16px 12px 0 12px"},id:s,libraryReturnUrl:a,theme:l})]})},xQe=(e,t)=>{let n=()=>gn(t,e,{includeBoundTextElement:!0,includeElementsInFrames:!0}),r=(0,Bu.useRef)(n()),a=(0,Bu.useRef)(e),o=(0,Bu.useRef)(t);return(!ga(e.selectedElementIds,a.current.selectedElementIds)||!ga(t,o.current))&&(r.current=n(),a.current=e,o.current=t),r.current},_Qe=()=>{let{library:e,id:t,onInsertElements:n}=Ld(),r=zb(),a=Xa(),o=ra(),s=a7(),[l,d]=(0,Bu.useState)([]),u=(0,Bu.useMemo)(()=>e,[e]),f=xQe(a,s),p=(0,Bu.useCallback)(v=>{n(Pre(v))},[n]),g=(0,Bu.useCallback)(()=>{o({selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null})},[o]);return(0,Vc.jsx)(EQe,{pendingElements:f,onInsertLibraryItems:p,onAddToLibrary:g,setAppState:o,libraryReturnUrl:r.libraryReturnUrl,library:u,id:t,theme:a.theme,selectedItems:l,onSelectItems:d})},$1=te(Se(),1);function CQe(e){if(e&&typeof e=="number")return e;switch(e){case"small":return 550;case"wide":return 1024;case"regular":default:return 800}}var wc=e=>{let[t,n]=Cze(),[r]=(0,Tz.useState)(document.activeElement),{id:a}=Nd(),o=va().viewport.isMobile;(0,Tz.useEffect)(()=>{if(!t)return;let u=QC(t);setTimeout(()=>{u.length>0&&e.autofocus!==!1&&(u[1]||u[0]).focus()});let f=p=>{if(p.key===ie.TAB){let g=QC(t),{activeElement:v}=document,c=g.findIndex(h=>h===v);c===0&&p.shiftKey?(g[g.length-1].focus(),p.preventDefault()):c===g.length-1&&!p.shiftKey&&(g[0].focus(),p.preventDefault())}};return t.addEventListener("keydown",f),()=>t.removeEventListener("keydown",f)},[t,e.autofocus]);let s=ra(),l=Lb(iB,ta),d=()=>{s({openMenu:null}),l(!1),r.focus(),e.onCloseRequest()};return(0,$1.jsx)(kze,{className:bt("Dialog",e.className,{"Dialog--fullscreen":o}),labelledBy:"dialog-title",maxWidth:CQe(e.size),onCloseRequest:d,closeOnClickOutside:e.closeOnClickOutside,children:(0,$1.jsxs)(hc,{ref:n,children:[e.title&&(0,$1.jsx)("h2",{id:`${a}-dialog-title`,className:"Dialog__title",children:(0,$1.jsx)("span",{className:"Dialog__titleContent",children:e.title})}),o&&(0,$1.jsx)("button",{className:"Dialog__close",onClick:d,title:P("buttons.close"),"aria-label":P("buttons.close"),type:"button",children:h2}),(0,$1.jsx)("div",{className:"Dialog__content",children:e.children})]})})};N();var pU=te(Fe(),1);N();var SQe=te(Se(),1),Km=({type:e="button",onSelect:t,selected:n,children:r,className:a="",...o})=>(0,SQe.jsx)("button",{onClick:w4(o.onClick,s=>{t()}),type:e,className:bt("excalidraw-button",a,{selected:n}),...o,children:r}),gU=te(Se(),1),aB=(0,pU.forwardRef)(({onChange:e,label:t,fullWidth:n,placeholder:r,readonly:a,selectOnRender:o,onKeyDown:s,isRedacted:l=!1,icon:d,className:u,...f},p)=>{let g=(0,pU.useRef)(null);(0,pU.useImperativeHandle)(p,()=>g.current),(0,pU.useLayoutEffect)(()=>{var h,m;o&&((h=g.current)==null||h.focus(),(m=g.current)==null||m.select())},[o]);let[v,c]=(0,pU.useState)(!1);return(0,gU.jsxs)("div",{className:bt("ExcTextField",u,{"ExcTextField--fullWidth":n,"ExcTextField--hasIcon":!!d}),onClick:()=>{var h;(h=g.current)==null||h.focus()},children:[d,t&&(0,gU.jsx)("div",{className:"ExcTextField__label",children:t}),(0,gU.jsxs)("div",{className:bt("ExcTextField__input",{"ExcTextField__input--readonly":a}),children:[(0,gU.jsx)("input",{className:bt({"is-redacted":"value"in f&&f.value&&l&&!v}),readOnly:a,value:"value"in f?f.value:void 0,defaultValue:"defaultValue"in f?f.defaultValue:void 0,placeholder:r,ref:g,onChange:h=>e==null?void 0:e(h.target.value),onKeyDown:s}),l&&(0,gU.jsx)(Km,{onSelect:()=>c(!v),style:{border:0,userSelect:"none"},children:v?QSe:KM})]})]})});N();var IQe={toggleTheme:[Ne("Shift+Alt+D")],saveScene:[Ne("CtrlOrCmd+S")],loadScene:[Ne("CtrlOrCmd+O")],clearCanvas:[Ne("CtrlOrCmd+Delete")],imageExport:[Ne("CtrlOrCmd+Shift+E")],commandPalette:[Ne("CtrlOrCmd+/"),Ne("CtrlOrCmd+Shift+P")],cut:[Ne("CtrlOrCmd+X")],copy:[Ne("CtrlOrCmd+C")],paste:[Ne("CtrlOrCmd+V")],copyStyles:[Ne("CtrlOrCmd+Alt+C")],pasteStyles:[Ne("CtrlOrCmd+Alt+V")],selectAll:[Ne("CtrlOrCmd+A")],deleteSelectedElements:[Ne("Delete")],duplicateSelection:[Ne("CtrlOrCmd+D"),Ne(`Alt+${P("helpDialog.drag")}`)],sendBackward:[Ne("CtrlOrCmd+[")],bringForward:[Ne("CtrlOrCmd+]")],sendToBack:[Ne(_d?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[Ne(_d?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[Ne("Shift+Alt+C")],group:[Ne("CtrlOrCmd+G")],ungroup:[Ne("CtrlOrCmd+Shift+G")],gridMode:[Ne("CtrlOrCmd+'")],zenMode:[Ne("Alt+Z")],objectsSnapMode:[Ne("Alt+S")],stats:[Ne("Alt+/")],addToLibrary:[],flipHorizontal:[Ne("Shift+H")],flipVertical:[Ne("Shift+V")],viewMode:[Ne("Alt+R")],hyperlink:[Ne("CtrlOrCmd+K")],toggleElementLock:[Ne("CtrlOrCmd+Shift+L")],resetZoom:[Ne("CtrlOrCmd+0")],zoomOut:[Ne("CtrlOrCmd+-")],zoomIn:[Ne("CtrlOrCmd++")],zoomToFitSelection:[Ne("Shift+3")],zoomToFit:[Ne("Shift+1")],zoomToFitSelectionInViewport:[Ne("Shift+2")],toggleEraserTool:[Ne("E")],toggleHandTool:[Ne("H")],setFrameAsActiveTool:[Ne("F")],saveFileToDisk:[Ne("CtrlOrCmd+S")],saveToActiveFile:[Ne("CtrlOrCmd+S")],toggleShortcuts:[Ne("?")],searchMenu:[Ne("CtrlOrCmd+F")]},Qa=(e,t=0)=>{let n=IQe[e];return n&&n.length>0?n[t]||n[0]:""},kQe=te(MNe(),1);N();var MQe="\\u0300-\\u036f",TQe="\\ufe20-\\ufe2f",BQe="\\u20d0-\\u20ff",RQe=MQe+TQe+BQe,DQe=`[${RQe}]`,PQe=RegExp(DQe,"g"),LQe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,NQe={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"E",:"e",:"T",:"t",:"s",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"I",:"i",:"E",:"e",:"n",:"s"},Qz=e=>e.replace(LQe,t=>NQe[t]||t).replace(PQe,"");N();var $Qe=te(Se(),1),r7=({icon:e})=>(0,$Qe.jsx)("span",{style:{width:"1em",margin:"0 0.5ex 0 0.5ex",display:"inline-block",lineHeight:0,verticalAlign:"middle"},children:e});N();var FQe=te(Fe(),1);N();var oB=te(Fe(),1);N();var pw=te(Fe());N();N();var Hz=e=>{let t,n=new Set,r=(l,d)=>{let u=typeof l=="function"?l(t):l;if(!Object.is(u,t)){let f=t;t=d??(typeof u!="object"||u===null)?u:Object.assign({},t,u),n.forEach(p=>p(t,f))}},a=()=>t,o={setState:r,getState:a,getInitialState:()=>s,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{(gt?gt.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},s=t=e(r,a,o);return o},jQe=e=>e?Hz(e):Hz,OQe=te(Fe(),1),zQe=te(DNe(),1),{useDebugValue:QQe}=OQe.default,{useSyncExternalStoreWithSelector:HQe}=zQe.default,Gz=!1,GQe=e=>e;function WQe(e,t=GQe,n){(gt?gt.MODE:void 0)!=="production"&&n&&!Gz&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Gz=!0);let r=HQe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return QQe(r),r}var Wz=e=>{(gt?gt.MODE:void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t=typeof e=="function"?jQe(e):e,n=(r,a)=>WQe(t,r,a);return Object.assign(n,t),n},VQe=e=>e?Wz(e):Wz,Vz,Yz,Kz=typeof window<"u"&&((Vz=window.document)!=null&&Vz.createElement||((Yz=window.navigator)==null?void 0:Yz.product)==="ReactNative")?pw.default.useLayoutEffect:pw.default.useEffect;function Bc(){let e=VQe(t=>({current:new Array,version:0,set:t}));return{In:({children:t})=>{let n=e(a=>a.set),r=e(a=>a.version);return Kz(()=>{n(a=>({version:a.version+1}))},[]),Kz(()=>(n(({current:a})=>({current:[...a,t]})),()=>n(({current:a})=>({current:a.filter(o=>o!==t)}))),[t,r]),null},Out:()=>{let t=e(n=>n.current);return pw.default.createElement(pw.default.Fragment,null,t)}}}var Gre=oB.default.createContext(null),Zo=()=>oB.default.useContext(Gre),YQe=()=>oB.default.useMemo(()=>({MainMenuTunnel:Bc(),WelcomeScreenMenuHintTunnel:Bc(),WelcomeScreenToolbarHintTunnel:Bc(),WelcomeScreenHelpHintTunnel:Bc(),WelcomeScreenCenterTunnel:Bc(),FooterCenterTunnel:Bc(),DefaultSidebarTriggerTunnel:Bc(),DefaultSidebarTabTriggersTunnel:Bc(),OverwriteConfirmDialogTunnel:Bc(),TTDDialogTriggerTunnel:Bc(),jotaiScope:Symbol()}),[]),Qt=te(Se(),1),Wre=(e,t)=>{var r;let n=((r=t[0])==null?void 0:r.type)||null;for(let a of t)if(a.type!==n){n=null;break}return iS(e.activeTool.type)&&e.activeTool.type!=="image"&&n!=="image"&&n!=="frame"&&n!=="magicframe"||t.some(a=>iS(a.type))},Vre=(e,t)=>Lm(e.activeTool.type)||t.some(n=>Lm(n.type)),Yre=({appState:e,elementsMap:t,renderAction:n})=>{let r=oee(t,e),a=!1;r.length===2&&(xl(r[0])||xl(r[1]))&&(a=!0);let o=!!(e.editingTextElement||e.newElement),s=va(),l=document.documentElement.getAttribute("dir")==="rtl",d=Lm(e.activeTool.type)&&!ud(e.currentItemBackgroundColor)||r.some(g=>Lm(g.type)&&!ud(g.backgroundColor)),u=r.length===1||a,f=!e.editingLinearElement&&r.length===1&&rn(r[0])&&!Wt(r[0]),p=!e.croppingElementId&&r.length===1&&zn(r[0]);return(0,Qt.jsxs)("div",{className:"panelColumn",children:[(0,Qt.jsx)("div",{children:Wre(e,r)&&n("changeStrokeColor")}),Vre(e,r)&&(0,Qt.jsx)("div",{children:n("changeBackgroundColor")}),d&&n("changeFillStyle"),(hj(e.activeTool.type)||r.some(g=>hj(g.type)))&&n("changeStrokeWidth"),(e.activeTool.type==="freedraw"||r.some(g=>g.type==="freedraw"))&&n("changeStrokeShape"),(pj(e.activeTool.type)||r.some(g=>pj(g.type)))&&(0,Qt.jsxs)(Qt.Fragment,{children:[n("changeStrokeStyle"),n("changeSloppiness")]}),(aS(e.activeTool.type)||r.some(g=>aS(g.type)))&&(0,Qt.jsx)(Qt.Fragment,{children:n("changeRoundness")}),(gj(e.activeTool.type)||r.some(g=>gj(g.type)))&&(0,Qt.jsx)(Qt.Fragment,{children:n("changeArrowType")}),(e.activeTool.type==="text"||r.some(pt))&&(0,Qt.jsxs)(Qt.Fragment,{children:[n("changeFontFamily"),n("changeFontSize"),(e.activeTool.type==="text"||yPe(r,t))&&n("changeTextAlign")]}),vPe(r,t)&&n("changeVerticalAlign"),(O8(e.activeTool.type)||r.some(g=>O8(g.type)))&&(0,Qt.jsx)(Qt.Fragment,{children:n("changeArrowhead")}),n("changeOpacity"),(0,Qt.jsxs)("fieldset",{children:[(0,Qt.jsx)("legend",{children:P("labels.layers")}),(0,Qt.jsxs)("div",{className:"buttonList",children:[n("sendToBack"),n("sendBackward"),n("bringForward"),n("bringToFront")]})]}),r.length>1&&!a&&(0,Qt.jsxs)("fieldset",{children:[(0,Qt.jsx)("legend",{children:P("labels.align")}),(0,Qt.jsxs)("div",{className:"buttonList",children:[l?(0,Qt.jsxs)(Qt.Fragment,{children:[n("alignRight"),n("alignHorizontallyCentered"),n("alignLeft")]}):(0,Qt.jsxs)(Qt.Fragment,{children:[n("alignLeft"),n("alignHorizontallyCentered"),n("alignRight")]}),r.length>2&&n("distributeHorizontally"),(0,Qt.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,Qt.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[n("alignTop"),n("alignVerticallyCentered"),n("alignBottom"),r.length>2&&n("distributeVertically")]})]})]}),!o&&r.length>0&&(0,Qt.jsxs)("fieldset",{children:[(0,Qt.jsx)("legend",{children:P("labels.actions")}),(0,Qt.jsxs)("div",{className:"buttonList",children:[!s.editor.isMobile&&n("duplicateSelection"),!s.editor.isMobile&&n("deleteSelectedElements"),n("group"),n("ungroup"),u&&n("hyperlink"),p&&n("cropEditor"),f&&n("toggleLinearEditor"),n("_custom")]})]})]})},Kre=({activeTool:e,appState:t,app:n,UIOptions:r})=>{let[a,o]=(0,FQe.useState)(!1),s=e.type==="frame",l=e.type==="laser",d=e.type==="embeddable",{TTDDialogTriggerTunnel:u}=Zo();return(0,Qt.jsxs)(Qt.Fragment,{children:[eT.map(({value:f,icon:p,key:g,numericKey:v,fillable:c},h)=>{var w;if(((w=r.tools)==null?void 0:w[f])===!1)return null;let m=P(`toolBar.${f}`),U=g&&Nv(typeof g=="string"?g:g[0]),b=U?`${U} ${P("helpDialog.or")} ${v}`:`${v}`;return(0,Qt.jsx)(yn,{className:bt("Shape",{fillable:c}),type:"radio",icon:p,checked:e.type===f,name:"editor-current-shape",title:`${Nv(m)}  ${b}`,keyBindingLabel:v||U,"aria-label":Nv(m),"aria-keyshortcuts":b,"data-testid":`toolbar-${f}`,onPointerDown:({pointerType:E})=>{!t.penDetected&&E==="pen"&&n.togglePenMode(!0)},onChange:({pointerType:E})=>{t.activeTool.type!==f&&yr("toolbar",f,"ui"),f==="image"?n.setActiveTool({type:f,insertOnCanvasDirectly:E!=="mouse"}):n.setActiveTool({type:f})}},f)}),(0,Qt.jsx)("div",{className:"App-toolbar__divider"}),(0,Qt.jsxs)(Pr,{open:a,children:[(0,Qt.jsxs)(Pr.Trigger,{className:bt("App-toolbar__extra-tools-trigger",{"App-toolbar__extra-tools-trigger--selected":s||d||l&&!n.props.isCollaborating}),onToggle:()=>o(!a),title:P("toolBar.extraTools"),children:[OSe,n.props.aiEnabled!==!1&&(0,Qt.jsx)("div",{style:{display:"inline-flex",marginLeft:"auto",padding:"2px 4px",borderRadius:6,fontSize:8,fontFamily:"Cascadia, monospace",position:"absolute",background:"var(--color-promo)",color:"var(--color-surface-lowest)",bottom:3,right:4},children:"AI"})]}),(0,Qt.jsxs)(Pr.Content,{onClickOutside:()=>o(!1),onSelect:()=>o(!1),className:"App-toolbar__extra-tools-dropdown",children:[(0,Qt.jsx)(Pr.Item,{onSelect:()=>n.setActiveTool({type:"frame"}),icon:tq,shortcut:ie.F.toLocaleUpperCase(),"data-testid":"toolbar-frame",selected:s,children:P("toolBar.frame")}),(0,Qt.jsx)(Pr.Item,{onSelect:()=>n.setActiveTool({type:"embeddable"}),icon:HCe,"data-testid":"toolbar-embeddable",selected:d,children:P("toolBar.embeddable")}),(0,Qt.jsx)(Pr.Item,{onSelect:()=>n.setActiveTool({type:"laser"}),icon:rq,"data-testid":"toolbar-laser",selected:l,shortcut:ie.K.toLocaleUpperCase(),children:P("toolBar.laser")}),(0,Qt.jsx)("div",{style:{margin:"6px 0",fontSize:14,fontWeight:600},children:"Generate"}),n.props.aiEnabled!==!1&&(0,Qt.jsx)(u.Out,{}),(0,Qt.jsx)(Pr.Item,{onSelect:()=>n.setOpenDialog({name:"ttd",tab:"mermaid"}),icon:nq,"data-testid":"toolbar-embeddable",children:P("toolBar.mermaidToExcalidraw")}),n.props.aiEnabled!==!1&&n.plugins.diagramToCode&&(0,Qt.jsx)(Qt.Fragment,{children:(0,Qt.jsxs)(Pr.Item,{onSelect:()=>n.onMagicframeToolSelect(),icon:iq,"data-testid":"toolbar-magicframe",children:[P("toolBar.magicframe"),(0,Qt.jsx)(Pr.Item.Badge,{children:"AI"})]})})]})]})]})},KQe=({renderAction:e,zoom:t})=>(0,Qt.jsx)(ul.Col,{gap:1,className:Tm.ZOOM_ACTIONS,children:(0,Qt.jsxs)(ul.Row,{align:"center",children:[e("zoomOut"),e("resetZoom"),e("zoomIn")]})}),XQe=({renderAction:e,className:t})=>(0,Qt.jsxs)("div",{className:`undo-redo-buttons ${t}`,children:[(0,Qt.jsx)("div",{className:"undo-button-container",children:(0,Qt.jsx)(K0,{label:P("buttons.undo"),children:e("undo")})}),(0,Qt.jsx)("div",{className:"redo-button-container",children:(0,Qt.jsxs)(K0,{label:P("buttons.redo"),children:[" ",e("redo")]})})]}),ZQe=({actionManager:e,showExitZenModeBtn:t})=>(0,Qt.jsx)("button",{type:"button",className:bt("disable-zen-mode",{"disable-zen-mode--visible":t}),onClick:()=>e.executeAction(NS),children:P("buttons.exitZenMode")}),qQe=({renderAction:e,className:t})=>(0,Qt.jsx)("div",{className:`finalize-button ${t}`,children:e("finalize",{size:"small"})});N();var JQe=te(Fe(),1),Xz=e=>{let t=(0,JQe.useRef)({userFn:e});return t.current.userFn=e,t.current.stableFn||(t.current.stableFn=(...n)=>t.current.userFn(...n)),t.current.stableFn};N();var Zz=te(Se(),1),i7=Ya(null),eHe=()=>{let[e,t]=si(i7,ta),n=qo();return e&&e==="clearCanvas"?(0,Zz.jsx)(Fre,{onConfirm:()=>{n.executeAction(Gv),t(null)},onCancel:()=>t(null),title:P("clearCanvasDialog.title"),children:(0,Zz.jsxs)("p",{className:"clear-canvas__content",children:[" ",P("alerts.clearReset")]})}):null},Xre={};qX(Xre,{toggleTheme:()=>tHe});N();var tHe={...uw,category:"App",label:"Toggle theme",perform:({actionManager:e})=>{e.executeAction(uw,"commandPalette")}};N();var Zre=ut({name:"copyElementLink",label:"labels.copyElementLink",icon:YM,trackEvent:{category:"element"},perform:async(e,t,n,r)=>{let a=gn(e,t);try{if(window.location){let o=LJ(a,t);return o?(await Pb(r.props.generateLinkForSelection?r.props.generateLinkForSelection(o.id,o.type):PJ(o.id,o.type)),{appState:{toast:{message:P("toast.elementLinkCopied"),closable:!0}},storeAction:Me.NONE}):{appState:t,elements:e,app:r,storeAction:Me.NONE}}}catch(o){console.error(o)}return{appState:t,elements:e,app:r,storeAction:Me.NONE}},predicate:(e,t)=>J8(gn(e,t))}),nHe=ut({name:"linkToElement",label:"labels.linkToElement",icon:lq,perform:(e,t,n,r)=>{let a=gn(e,t);return a.length!==1||!J8(a)?{elements:e,appState:t,app:r,storeAction:Me.NONE}:{appState:{...t,openDialog:{name:"elementLinkSelector",sourceElementId:gn(e,t)[0].id}},storeAction:Me.CAPTURE}},predicate:(e,t,n,r)=>{var o;let a=gn(e,t);return((o=t.openDialog)==null?void 0:o.name)!=="elementLinkSelector"&&a.length===1&&J8(a)},trackEvent:!1}),Rr=te(Se(),1),rHe=Ya(null),fi={app:"App",export:"Export",tools:"Tools",editor:"Editor",elements:"Elements",links:"Links"},iHe=e=>{switch(e){case fi.app:return 1;case fi.export:return 2;case fi.editor:return 3;case fi.tools:return 4;case fi.elements:return 5;case fi.links:return 6;default:return 10}},mA=({shortcut:e,className:t,children:n})=>{let r=e.replace("++","+$").split("+");return(0,Rr.jsxs)("div",{className:bt("shortcut",t),children:[r.map((a,o)=>(0,Rr.jsx)("div",{className:"shortcut-wrapper",children:(0,Rr.jsx)("div",{className:"shortcut-key",children:a==="$"?"+":a})},a)),(0,Rr.jsx)("div",{className:"shortcut-desc",children:n})]})},qre=e=>!e.altKey&&e[ie.CTRL_OR_CMD]&&(e.shiftKey&&e.key.toLowerCase()===ie.P||e.key===ie.SLASH);Object.assign(e=>{var r;let t=Xa(),n=ra();return(0,lu.useEffect)(()=>{let a=o=>{qre(o)&&(o.preventDefault(),o.stopPropagation(),n(s=>{var d;let l=((d=s.openDialog)==null?void 0:d.name)==="commandPalette"?null:{name:"commandPalette"};return l&&yr("command_palette","open","shortcut"),{openDialog:l}}))};return window.addEventListener("keydown",a,{capture:!0}),()=>window.removeEventListener("keydown",a,{capture:!0})},[n]),((r=t.openDialog)==null?void 0:r.name)!=="commandPalette"?null:(0,Rr.jsx)(aHe,{...e})},{defaultItems:Xre});function aHe({customCommandPaletteItems:e}){let t=Ld(),n=Xa(),r=ra(),a=zb(),o=qo(),[s,l]=si(rHe),[d,u]=(0,lu.useState)(null),f=(0,lu.useRef)(null),p=Z4({uiAppState:n,customCommandPaletteItems:e,appProps:a});(0,lu.useEffect)(()=>{let{uiAppState:C,customCommandPaletteItems:I,appProps:S}=p,M=j=>{let re="";return j.label&&(typeof j.label=="function"?re=P(j.label(t.scene.getNonDeletedElements(),C,t)):re=P(j.label)),re},R=j=>typeof j.icon=="function"?j.icon(C,t.scene.getNonDeletedElements()):j.icon,D=[],L=(j,re,J)=>{let H={label:M(j),icon:R(j),category:re,shortcut:Qa(j.name),keywords:j.keywords,predicate:j.predicate,viewMode:j.viewMode,perform:()=>{o.executeAction(j,"commandPalette")}};return J?J(H,j):H};if(C&&t.scene&&o){let j=[o.actions.group,o.actions.ungroup,o.actions.cut,o.actions.copy,o.actions.deleteSelectedElements,o.actions.copyStyles,o.actions.pasteStyles,o.actions.bringToFront,o.actions.bringForward,o.actions.sendBackward,o.actions.sendToBack,o.actions.alignTop,o.actions.alignBottom,o.actions.alignLeft,o.actions.alignRight,o.actions.alignVerticallyCentered,o.actions.alignHorizontallyCentered,o.actions.duplicateSelection,o.actions.flipHorizontal,o.actions.flipVertical,o.actions.zoomToFitSelection,o.actions.zoomToFitSelectionInViewport,o.actions.increaseFontSize,o.actions.decreaseFontSize,o.actions.toggleLinearEditor,o.actions.cropEditor,Bre,Zre,nHe].map(se=>L(se,fi.elements,(O,V)=>({...O,predicate:V.predicate?V.predicate:(de,oe,me,ve)=>gn(de,oe).length>0}))),re=[o.actions.toggleHandTool,o.actions.setFrameAsActiveTool].map(se=>L(se,fi.tools)),J=[o.actions.undo,o.actions.redo,o.actions.zoomIn,o.actions.zoomOut,o.actions.resetZoom,o.actions.zoomToFit,o.actions.zenMode,o.actions.viewMode,o.actions.gridMode,o.actions.objectsSnapMode,o.actions.toggleShortcuts,o.actions.selectAll,o.actions.toggleElementLock,o.actions.unlockAllElements,o.actions.stats].map(se=>L(se,fi.editor)),H=[o.actions.saveToActiveFile,o.actions.saveFileToDisk,o.actions.copyAsPng,o.actions.copyAsSvg].map(se=>L(se,fi.export));D=[...j,...J,{label:M(Gv),icon:R(Gv),shortcut:Qa(Gv.name),category:fi.editor,keywords:["delete","destroy"],viewMode:!1,perform:()=>{ac.set(i7,"clearCanvas")}},{label:P("buttons.exportImage"),category:fi.export,icon:YZ,shortcut:Qa("imageExport"),keywords:["export","image","png","jpeg","svg","clipboard","picture"],perform:()=>{r({openDialog:{name:"imageExport"}})}},...H];let ne=[{label:P("toolBar.library"),category:fi.app,icon:HM,viewMode:!1,perform:()=>{C.openSidebar?r({openSidebar:null}):r({openSidebar:{name:uc.name,tab:uc.defaultTab}})}},{label:P("search.title"),category:fi.app,icon:Q0,viewMode:!0,perform:()=>{o.executeAction(Jre)}},{label:P("labels.changeStroke"),keywords:["color","outline"],category:fi.elements,icon:Rx,viewMode:!1,predicate:(se,O)=>{let V=gn(se,O);return V.length>0&&Wre(O,V)},perform:()=>{r(se=>({openMenu:se.openMenu==="shape"?null:"shape",openPopup:"elementStroke"}))}},{label:P("labels.changeBackground"),keywords:["color","fill"],icon:Rx,category:fi.elements,viewMode:!1,predicate:(se,O)=>{let V=gn(se,O);return V.length>0&&Vre(O,V)},perform:()=>{r(se=>({openMenu:se.openMenu==="shape"?null:"shape",openPopup:"elementBackground"}))}},{label:P("labels.canvasBackground"),keywords:["color"],icon:Rx,category:fi.editor,viewMode:!1,perform:()=>{r(se=>({openMenu:se.openMenu==="canvas"?null:"canvas",openPopup:"canvasBackground"}))}},...eT.reduce((se,O)=>{var le;let{value:V,icon:de,key:oe,numericKey:me}=O;if(((le=S.UIOptions.tools)==null?void 0:le[V])===!1)return se;let ve=oe&&Nv(typeof oe=="string"?oe:oe[0])||me,xe={label:P(`toolBar.${V}`),category:fi.tools,shortcut:ve,icon:de,keywords:["toolbar"],viewMode:!1,perform:({event:he})=>{V==="image"?t.setActiveTool({type:V,insertOnCanvasDirectly:he.type==="keydown"}):t.setActiveTool({type:V})}};return se.push(xe),se},[]),...re,{label:P("toolBar.lock"),category:fi.tools,icon:C.activeTool.locked?GM:_4,shortcut:ie.Q.toLocaleUpperCase(),viewMode:!1,perform:()=>{t.toggleLock()}},{label:`${P("labels.textToDiagram")}...`,category:fi.tools,icon:HSe,viewMode:!1,predicate:S.aiEnabled,perform:()=>{r(se=>({...se,openDialog:{name:"ttd",tab:"text-to-diagram"}}))}},{label:`${P("toolBar.mermaidToExcalidraw")}...`,category:fi.tools,icon:nq,viewMode:!1,predicate:S.aiEnabled,perform:()=>{r(se=>({...se,openDialog:{name:"ttd",tab:"mermaid"}}))}}],Z=[...D,...ne,...I||[]].map(se=>{var O;return{...se,icon:se.icon||aq,order:se.order??iHe(se.category),haystack:`${Qz(se.label.toLocaleLowerCase())} ${((O=se.keywords)==null?void 0:O.join(" "))||""}`}});u(Z),l(Z.find(se=>se.label===(s==null?void 0:s.label))??null)}},[p,t,o,u,s==null?void 0:s.label,l,r]);let[g,v]=(0,lu.useState)(""),[c,h]=(0,lu.useState)(null),[m,U]=(0,lu.useState)({}),b=C=>{r({openDialog:null},C),v("")},w=(C,I)=>{var S;((S=n.openDialog)==null?void 0:S.name)==="commandPalette"&&(I.stopPropagation(),I.preventDefault(),document.body.classList.add("excalidraw-animations-disabled"),b(()=>{C.perform({actionManager:o,event:I}),l(C),requestAnimationFrame(()=>{document.body.classList.remove("excalidraw-animations-disabled")})}))},E=Xz(C=>C.viewMode===!1&&n.viewModeEnabled?!1:typeof C.predicate=="function"?C.predicate(t.scene.getNonDeletedElements(),n,a,t):C.predicate===void 0||C.predicate),x=Xz(C=>{var R;let I=e0(C.target)||qre(C)||C.key===ie.ESCAPE;if(I&&C.key!==ie.ARROW_UP&&C.key!==ie.ARROW_DOWN&&C.key!==ie.ENTER)return;let S=Object.values(m).flat(),M=s&&!g&&E(s);if(C.key===ie.ARROW_UP){C.preventDefault();let D=S.findIndex(re=>re.label===(c==null?void 0:c.label));if(M){if(D===0){h(s);return}if(c===s){let re=S[S.length-1];re&&h(re);return}}let L;D===-1?L=S.length-1:L=D===0?S.length-1:(D-1)%S.length;let j=S[L];j&&h(j);return}if(C.key===ie.ARROW_DOWN){C.preventDefault();let D=S.findIndex(re=>re.label===(c==null?void 0:c.label));if(M){if(!c||D===S.length-1){h(s);return}if(c===s){let re=S[0];re&&h(re);return}}let L=(D+1)%S.length,j=S[L];j&&h(j);return}if(C.key===ie.ENTER&&c&&setTimeout(()=>{w(c,C)}),!I){if(C.stopPropagation(),/^[a-zA-Z0-9]$/.test(C.key)){(R=f==null?void 0:f.current)==null||R.focus();return}C.preventDefault()}});return(0,lu.useEffect)(()=>(window.addEventListener("keydown",x,{capture:!0}),()=>window.removeEventListener("keydown",x,{capture:!0})),[x]),(0,lu.useEffect)(()=>{if(!d)return;let C=R=>{let D={};for(let L of R)D[L.category]?D[L.category].push(L):D[L.category]=[L];return D},I=d.filter(E).sort((R,D)=>R.order-D.order),S=!g&&s&&E(s);if(!g){U(C(S?I.filter(R=>R.label!==(s==null?void 0:s.label)):I)),h(S?s:I[0]||null);return}let M=Qz(g.toLocaleLowerCase().replace(/[<>_| -]/g,""));I=kQe.default.filter(M,I,{extract:R=>R.haystack}).sort((R,D)=>D.score-R.score).map(R=>R.original),U(C(I)),h(I[0]??null)},[g,d,E,s]),(0,Rr.jsxs)(wc,{onCloseRequest:()=>b(),closeOnClickOutside:!0,title:!1,size:720,autofocus:!0,className:"command-palette-dialog",children:[(0,Rr.jsx)(aB,{value:g,placeholder:P("commandPalette.search.placeholder"),onChange:C=>{v(C)},selectOnRender:!0,ref:f}),!t.device.viewport.isMobile&&(0,Rr.jsxs)("div",{className:"shortcuts-wrapper",children:[(0,Rr.jsx)(mA,{shortcut:"",children:P("commandPalette.shortcuts.select")}),(0,Rr.jsx)(mA,{shortcut:"",children:P("commandPalette.shortcuts.confirm")}),(0,Rr.jsx)(mA,{shortcut:Ne("Esc"),children:P("commandPalette.shortcuts.close")})]}),(0,Rr.jsxs)("div",{className:"commands",children:[s&&!g&&(0,Rr.jsxs)("div",{className:"command-category",children:[(0,Rr.jsxs)("div",{className:"command-category-title",children:[P("commandPalette.recents"),(0,Rr.jsx)("div",{className:"icon",style:{marginLeft:"6px"},children:GSe})]}),(0,Rr.jsx)(qz,{command:s,isSelected:s.label===(c==null?void 0:c.label),onClick:C=>w(s,C),disabled:!E(s),onMouseMove:()=>h(s),showShortcut:!t.device.viewport.isMobile,appState:n})]}),Object.keys(m).length>0?Object.keys(m).map((C,I)=>(0,Rr.jsxs)("div",{className:"command-category",children:[(0,Rr.jsx)("div",{className:"command-category-title",children:C}),m[C].map(S=>(0,Rr.jsx)(qz,{command:S,isSelected:S.label===(c==null?void 0:c.label),onClick:M=>w(S,M),onMouseMove:()=>h(S),showShortcut:!t.device.viewport.isMobile,appState:n},S.label))]},C)):d?(0,Rr.jsxs)("div",{className:"no-match",children:[(0,Rr.jsx)("div",{className:"icon",children:Q0})," ",P("commandPalette.search.noMatch")]}):null]})]})}var qz=({command:e,isSelected:t,disabled:n,onMouseMove:r,onClick:a,showShortcut:o,appState:s})=>{let l=()=>{};return(0,Rr.jsxs)("div",{className:bt("command-item",{"item-selected":t,"item-disabled":n}),ref:d=>{var u;t&&!n&&((u=d==null?void 0:d.scrollIntoView)==null||u.call(d,{block:"nearest"}))},onClick:n?l:a,onMouseMove:n?l:r,title:n?P("commandPalette.itemNotAvailable"):"",children:[(0,Rr.jsxs)("div",{className:"name",children:[e.icon&&(0,Rr.jsx)(r7,{icon:typeof e.icon=="function"?e.icon(s):e.icon}),e.label]}),o&&e.shortcut&&(0,Rr.jsx)(mA,{shortcut:e.shortcut})]})},oHe=te(Se(),1),sHe=ut({name:"toggleLinearEditor",category:fi.elements,label:(e,t,n)=>{var r;return((r=n.scene.getSelectedElements({selectedElementIds:t.selectedElementIds})[0])==null?void 0:r.type)==="arrow"?"labels.lineEditor.editArrow":"labels.lineEditor.edit"},keywords:["line"],trackEvent:{category:"element"},predicate:(e,t,n,r)=>{let a=r.scene.getSelectedElements(t);return!!(!t.editingLinearElement&&a.length===1&&rn(a[0])&&!Wt(a[0]))},perform(e,t,n,r){var s;let a=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0})[0],o=((s=t.editingLinearElement)==null?void 0:s.elementId)===a.id?null:new xt(a);return{appState:{...t,editingLinearElement:o},storeAction:Me.CAPTURE}},PanelComponent:({appState:e,updateData:t,app:n})=>{let r=n.scene.getSelectedElements({selectedElementIds:e.selectedElementIds})[0],a=P(r.type==="arrow"?"labels.lineEditor.editArrow":"labels.lineEditor.edit");return(0,oHe.jsx)(yn,{type:"button",icon:aIe,title:a,"aria-label":a,onClick:()=>t(null)})}});N();var Jre=ut({name:"searchMenu",icon:Q0,keywords:["search","find"],label:"search.title",viewMode:!0,trackEvent:{category:"search_menu",action:"toggle",predicate:e=>e.gridModeEnabled},perform(e,t,n,r){var a,o;if(((a=t.openSidebar)==null?void 0:a.name)===uc.name&&t.openSidebar.tab===tm){let s=(o=r.excalidrawContainerValue.container)==null?void 0:o.querySelector(`.${Tm.SEARCH_MENU_INPUT_WRAPPER} input`);return s!=null&&s.matches(":focus")?{appState:{...t,openSidebar:null},storeAction:Me.NONE}:(s==null||s.focus(),s==null||s.select(),!1)}return{appState:{...t,openSidebar:{name:uc.name,tab:tm},openDialog:null},storeAction:Me.NONE}},checked:e=>e.gridModeEnabled,predicate:(e,t,n)=>n.gridModeEnabled===void 0,keyTest:e=>e[ie.CTRL_OR_CMD]&&e.key===ie.F});N();var lHe=te(Se(),1),cHe=ut({name:"cropEditor",label:"helpDialog.cropStart",icon:lj,viewMode:!0,trackEvent:{category:"menu"},keywords:["image","crop"],perform(e,t,n,r){let a=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0})[0];return{appState:{...t,isCropping:!1,croppingElementId:a.id},storeAction:Me.CAPTURE}},predicate:(e,t,n,r)=>{let a=r.scene.getSelectedElements(t);return!!(!t.croppingElementId&&a.length===1&&zn(a[0]))},PanelComponent:({appState:e,updateData:t,app:n})=>{let r=P("helpDialog.cropStart");return(0,lHe.jsx)(yn,{type:"button",icon:lj,title:r,"aria-label":r,onClick:()=>t(null)})}});N();N();var gw=class{constructor(e=!0,t=!0){this.isUndoStackEmpty=e,this.isRedoStackEmpty=t}},Jz=class sv{constructor(){ee(this,"onHistoryChangedEmitter",new Xc);ee(this,"undoStack",[]);ee(this,"redoStack",[])}get isUndoStackEmpty(){return this.undoStack.length===0}get isRedoStackEmpty(){return this.redoStack.length===0}clear(){this.undoStack.length=0,this.redoStack.length=0}record(t,n){let r=dHe.create(n,t);r.isEmpty()||(this.undoStack.push(r.inverse()),r.elementsChange.isEmpty()||(this.redoStack.length=0),this.onHistoryChangedEmitter.trigger(new gw(this.isUndoStackEmpty,this.isRedoStackEmpty)))}undo(t,n,r){return this.perform(t,n,r,()=>sv.pop(this.undoStack),a=>sv.push(this.redoStack,a,t))}redo(t,n,r){return this.perform(t,n,r,()=>sv.pop(this.redoStack),a=>sv.push(this.undoStack,a,t))}perform(t,n,r,a,o){try{let s=a();if(s===null)return;let l=t,d=n,u=!1;for(;s;){try{[l,d,u]=s.applyTo(l,d,r)}finally{o(s)}if(u)break;s=a()}return[l,d]}finally{this.onHistoryChangedEmitter.trigger(new gw(this.isUndoStackEmpty,this.isRedoStackEmpty))}}static pop(t){if(!t.length)return null;let n=t.pop();return n!==void 0?n:null}static push(t,n,r){let a=n.inverse().applyLatestChanges(r);return t.push(a)}},dHe=class UA{constructor(t,n){this.appStateChange=t,this.elementsChange=n}static create(t,n){return new UA(t,n)}inverse(){return new UA(this.appStateChange.inverse(),this.elementsChange.inverse())}applyTo(t,n,r){let[a,o]=this.elementsChange.applyTo(t,r.elements),[s,l]=this.appStateChange.applyTo(n,a);return[a,s,o||l]}applyLatestChanges(t){let n=this.elementsChange.applyLatestChanges(t);return UA.create(this.appStateChange,n)}isEmpty(){return this.appStateChange.isEmpty()&&this.elementsChange.isEmpty()}};N();var eQ=te(Fe(),1),eie=(e,t)=>{let[n,r]=(0,eQ.useState)(t);return(0,eQ.useEffect)(()=>{let a=e.on(o=>{r(o)});return()=>{a()}},[e]),n},tie=te(Se(),1),nie=(e,t,n)=>{if(!t.multiElement&&!t.resizingElement&&!t.editingTextElement&&!t.newElement&&!t.selectedElementsAreBeingDragged&&!t.selectionElement&&!e.flowChartCreator.isCreatingChart){let r=n();if(!r)return{storeAction:Me.NONE};let[a,o]=r,s=Array.from(a.values());return{appState:o,elements:s,storeAction:Me.UPDATE}}return{storeAction:Me.NONE}},uHe=(e,t)=>({name:"undo",label:"buttons.undo",icon:WF,trackEvent:{category:"history"},viewMode:!1,perform:(n,r,a,o)=>nie(o,r,()=>e.undo(Vt(n),r,t.snapshot)),keyTest:n=>n[ie.CTRL_OR_CMD]&&tS(n,ie.Z)&&!n.shiftKey,PanelComponent:({updateData:n,data:r})=>{let{isUndoStackEmpty:a}=eie(e.onHistoryChangedEmitter,new gw(e.isUndoStackEmpty,e.isRedoStackEmpty));return(0,tie.jsx)(yn,{type:"button",icon:WF,"aria-label":P("buttons.undo"),onClick:n,size:(r==null?void 0:r.size)||"medium",disabled:a,"data-testid":"button-undo"})}}),fHe=(e,t)=>({name:"redo",label:"buttons.redo",icon:VF,trackEvent:{category:"history"},viewMode:!1,perform:(n,r,a,o)=>nie(o,r,()=>e.redo(Vt(n),r,t.snapshot)),keyTest:n=>n[ie.CTRL_OR_CMD]&&n.shiftKey&&tS(n,ie.Z)||fZ&&n.ctrlKey&&!n.shiftKey&&tS(n,ie.Y),PanelComponent:({updateData:n,data:r})=>{let{isRedoStackEmpty:a}=eie(e.onHistoryChangedEmitter,new gw(e.isUndoStackEmpty,e.isRedoStackEmpty));return(0,tie.jsx)(yn,{type:"button",icon:VF,"aria-label":P("buttons.redo"),onClick:n,size:(r==null?void 0:r.size)||"medium",disabled:a,"data-testid":"button-redo"})}});N();var tQ=te(Se(),1),v9=(e,t,n,r,a,o)=>{if(e.trackEvent)try{typeof e.trackEvent=="object"&&(!e.trackEvent.predicate||e.trackEvent.predicate(n,r,o))&&yr(e.trackEvent.category,e.trackEvent.action||e.name,`${t} (${a.device.editor.isMobile?"mobile":"desktop"})`)}catch(s){console.error("error while logging action:",s)}},hHe=class{constructor(e,t,n,r){ee(this,"actions",{});ee(this,"updater");ee(this,"getAppState");ee(this,"getElementsIncludingDeleted");ee(this,"app");ee(this,"renderAction",(e,t)=>{let n=this.app.props.UIOptions.canvasActions,r=a=>{let o=a.PanelComponent;o.displayName="PanelComponent";let s=this.getElementsIncludingDeleted(),l=this.getAppState(),d=u=>{v9(a,"ui",l,s,this.app,u),this.updater(a.perform(this.getElementsIncludingDeleted(),this.getAppState(),u,this.app))};return(0,tQ.jsx)(o,{elements:this.getElementsIncludingDeleted(),appState:this.getAppState(),updateData:d,appProps:this.app.props,app:this.app,data:t},a.name)};return this.actions[e]&&"PanelComponent"in this.actions[e]&&(!(e in n)||n[e])?r(this.actions[e]):e==="_custom"?Object.keys(this.actions).filter(a=>this.actions[a].custom).map(a=>{let o=this.actions[a];return o.PanelComponent||(o.PanelComponent=({elements:s,appState:l,updateData:d})=>(0,tQ.jsx)(yn,{type:"button",icon:o.icon,title:o.label,"aria-label":o.label,onClick:()=>d(null),visible:typeof o.visible=="function"?o.visible(s,l):o.visible},o.name)),r(o)}):null});ee(this,"isActionEnabled",e=>{let t=this.getElementsIncludingDeleted(),n=this.getAppState();return!e.predicate||e.predicate(t,n,this.app.props,this.app)});this.updater=a=>{if(_b(a))a.then(o=>e(o));else return e(a)},this.getAppState=t,this.getElementsIncludingDeleted=n,this.app=r}registerAction(e){this.actions[e.name]=e}registerAll(e){e.forEach(t=>this.registerAction(t))}handleKeyDown(e){let t=this.app.props.UIOptions.canvasActions,n=Object.values(this.actions).sort((l,d)=>(d.keyPriority||0)-(l.keyPriority||0)).filter(l=>(l.name in t?t[l.name]:!0)&&l.keyTest&&l.keyTest(e,this.getAppState(),this.getElementsIncludingDeleted(),this.app));if(n.length!==1)return n.length>1&&console.warn("Canceling as multiple actions match this shortcut",n),!1;let r=n[0];if(this.getAppState().viewModeEnabled&&r.viewMode!==!0)return!1;let a=this.getElementsIncludingDeleted(),o=this.getAppState();return v9(r,"keyboard",o,a,this.app,null),e.preventDefault(),e.stopPropagation(),this.updater(n[0].perform(a,o,null,this.app)),!0}executeAction(e,t="api",n=null){let r=this.getElementsIncludingDeleted(),a=this.getAppState();v9(e,t,a,r,this.app,n),this.updater(e.perform(r,a,n,this.app))}};N();var nQ=e=>{let t=Array.from(e.values());return{x:iQ(t,n=>n.x)/t.length,y:iQ(t,n=>n.y)/t.length}},rQ=([e,t])=>Math.hypot(e.x-t.x,e.y-t.y),iQ=(e,t)=>e.reduce((n,r)=>n+t(r),0);N();var pHe=te(Fe(),1),Ip=te(Se(),1),ca="separator",gHe=pHe.default.memo(({actionManager:e,items:t,top:n,left:r,onClose:a})=>{let o=Qb(),s=a7(),l=t.reduce((d,u)=>(u&&(u===ca||!u.predicate||u.predicate(s,o,e.app.props,e.app))&&d.push(u),d),[]);return(0,Ip.jsx)(cre,{onCloseRequest:()=>{a()},top:n,left:r,fitInViewport:!0,offsetLeft:o.offsetLeft,offsetTop:o.offsetTop,viewportWidth:o.width,viewportHeight:o.height,children:(0,Ip.jsx)("ul",{className:"context-menu",onContextMenu:d=>d.preventDefault(),children:l.map((d,u)=>{var g;if(d===ca)return!l[u-1]||l[u-1]===ca?null:(0,Ip.jsx)("hr",{className:"context-menu-item-separator"},u);let f=d.name,p="";return d.label&&(typeof d.label=="function"?p=P(d.label(s,o,e.app)):p=P(d.label)),(0,Ip.jsx)("li",{"data-testid":f,onClick:()=>{a(()=>{e.executeAction(d,"contextMenu")})},children:(0,Ip.jsxs)("button",{type:"button",className:bt("context-menu-item",{dangerous:f==="deleteSelectedElements",checkmark:(g=d.checked)==null?void 0:g.call(d,o)}),children:[(0,Ip.jsx)("div",{className:"context-menu-item__label",children:p}),(0,Ip.jsx)("kbd",{className:"context-menu-item__shortcut",children:f?Qa(f):""})]})},u)})})})});N();var mHe=te(Fe(),1);N();var aQ=te(Fe(),1),V5=te(Se(),1),UHe=({children:e,onClose:t})=>{let[n,r]=(0,aQ.useState)(!!e),{container:a}=Nd(),o=aQ.default.useCallback(()=>{r(!1),t&&t(),a==null||a.focus()},[t,a]);return(0,V5.jsx)(V5.Fragment,{children:n&&(0,V5.jsx)(wc,{size:"small",onCloseRequest:o,title:P("errorDialog.title"),children:(0,V5.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:e})})})};N();var zl=te(Fe(),1);N();var y9=te(Se(),1),rie=function({onChange:e,value:t,choices:n,name:r}){return(0,y9.jsx)("div",{className:"RadioGroup",children:n.map(a=>(0,y9.jsxs)("div",{className:bt("RadioGroup__choice",{active:a.value===t}),title:a.ariaLabel,children:[(0,y9.jsx)("input",{name:r,type:"radio",checked:a.value===t,onChange:()=>e(a.value),"aria-label":a.ariaLabel}),a.label]},String(a.value)))})};N();var oQ=te(Se(),1),Y5=({title:e,name:t,checked:n,onChange:r,disabled:a=!1})=>(0,oQ.jsx)("div",{className:bt("Switch",{toggled:n,disabled:a}),children:(0,oQ.jsx)("input",{name:t,id:t,title:e,type:"checkbox",checked:n,disabled:a,onChange:()=>r(!n),onKeyDown:o=>{o.key===" "&&r(!n)}})});N();var sQ=te(Fe(),1),mU=te(Se(),1),Yv=(0,sQ.forwardRef)(({children:e,icon:t,onClick:n,label:r,variant:a="filled",color:o="primary",size:s="medium",fullWidth:l,className:d,status:u},f)=>{let[p,g]=(0,sQ.useState)(!1),v=async h=>{let m=n==null?void 0:n(h);if(_b(m)){let U=window.setTimeout(()=>{g(!0)},50);try{await m}catch(b){if(b instanceof I4)console.warn(b);else throw b}finally{clearTimeout(U),g(!1)}}},c=p?"loading":u;return o=c==="success"?"success":o,(0,mU.jsx)("button",{className:bt("ExcButton",`ExcButton--color-${o}`,`ExcButton--variant-${a}`,`ExcButton--size-${s}`,`ExcButton--status-${c}`,{"ExcButton--fullWidth":l},d),onClick:v,type:"button","aria-label":r,ref:f,disabled:c==="loading"||c==="success",children:(0,mU.jsxs)("div",{className:"ExcButton__contents",children:[c==="loading"?(0,mU.jsx)(af,{className:"ExcButton__statusIcon"}):c==="success"&&(0,mU.jsx)("div",{className:"ExcButton__statusIcon",children:$Se}),t&&(0,mU.jsx)("div",{className:"ExcButton__icon","aria-hidden":!0,children:t}),a!=="icon"&&(e??r)]})})});N();var b9=te(Fe(),1),vHe=2e3,yHe=()=>{let[e,t]=(0,b9.useState)(null),n=(0,b9.useRef)(0),r=()=>{clearTimeout(n.current),t("success"),n.current=window.setTimeout(()=>{t(null)},vHe)},a=(0,b9.useCallback)(()=>{t(null)},[]);return{copyStatus:e,resetCopyStatus:a,onCopy:r}},$n=te(Se(),1),bHe="filter"in document.createElement("canvas").getContext("2d"),AHe=()=>(0,$n.jsxs)("div",{children:[(0,$n.jsx)("h3",{children:P("canvasError.cannotShowPreview")}),(0,$n.jsx)("p",{children:(0,$n.jsx)("span",{children:P("canvasError.canvasTooBig")})}),(0,$n.jsxs)("em",{children:["(",P("canvasError.canvasTooBigTip"),")"]})]}),wHe=({appStateSnapshot:e,elementsSnapshot:t,files:n,actionManager:r,onExportImage:a,name:o})=>{let s=Pi(t,e),[l,d]=(0,zl.useState)(o),[u,f]=(0,zl.useState)(s),[p,g]=(0,zl.useState)(e.exportBackground),[v,c]=(0,zl.useState)(e.exportWithDarkMode),[h,m]=(0,zl.useState)(e.exportEmbedScene),[U,b]=(0,zl.useState)(e.exportScale),w=(0,zl.useRef)(null),[E,x]=(0,zl.useState)(null),{onCopy:C,copyStatus:I,resetCopyStatus:S}=yHe();(0,zl.useEffect)(()=>{S()},[l,p,v,U,h,S]);let{exportedElements:M,exportingFrame:R}=e7(t,e,u);return(0,zl.useEffect)(()=>{let D=w.current;if(!D)return;let L=D.offsetWidth,j=D.offsetHeight;L&&CT({elements:M,appState:{...e,name:l,exportBackground:p,exportWithDarkMode:v,exportScale:U,exportEmbedScene:h},files:n,exportPadding:d2,maxWidthOrHeight:Math.max(L,j),exportingFrame:R}).then(re=>(x(null),Gy(re).then(()=>{D.replaceChildren(re)}).catch(J=>{throw J.name==="CANVAS_POSSIBLY_TOO_BIG"?new Error(P("canvasError.canvasTooBig")):J}))).catch(re=>{console.error(re),x(re)})},[e,n,M,R,l,p,v,U,h]),(0,$n.jsxs)("div",{className:"ImageExportModal",children:[(0,$n.jsx)("h3",{children:P("imageExportDialog.header")}),(0,$n.jsxs)("div",{className:"ImageExportModal__preview",children:[(0,$n.jsx)("div",{className:"ImageExportModal__preview__canvas",ref:w,children:E&&(0,$n.jsx)(AHe,{})}),(0,$n.jsx)("div",{className:"ImageExportModal__preview__filename",children:!a1&&(0,$n.jsx)("input",{type:"text",className:"TextInput",value:l,style:{width:"30ch"},onChange:D=>{d(D.target.value),r.executeAction(GOe,"ui",D.target.value)}})})]}),(0,$n.jsxs)("div",{className:"ImageExportModal__settings",children:[(0,$n.jsx)("h3",{children:P("imageExportDialog.header")}),s&&(0,$n.jsx)(UU,{label:P("imageExportDialog.label.onlySelected"),name:"exportOnlySelected",children:(0,$n.jsx)(Y5,{name:"exportOnlySelected",checked:u,onChange:D=>{f(D)}})}),(0,$n.jsx)(UU,{label:P("imageExportDialog.label.withBackground"),name:"exportBackgroundSwitch",children:(0,$n.jsx)(Y5,{name:"exportBackgroundSwitch",checked:p,onChange:D=>{g(D),r.executeAction(VOe,"ui",D)}})}),bHe&&(0,$n.jsx)(UU,{label:P("imageExportDialog.label.darkMode"),name:"exportDarkModeSwitch",children:(0,$n.jsx)(Y5,{name:"exportDarkModeSwitch",checked:v,onChange:D=>{c(D),r.executeAction(YOe,"ui",D)}})}),(0,$n.jsx)(UU,{label:P("imageExportDialog.label.embedScene"),tooltip:P("imageExportDialog.tooltip.embedScene"),name:"exportEmbedSwitch",children:(0,$n.jsx)(Y5,{name:"exportEmbedSwitch",checked:h,onChange:D=>{m(D),r.executeAction(Are,"ui",D)}})}),(0,$n.jsx)(UU,{label:P("imageExportDialog.label.scale"),name:"exportScale",children:(0,$n.jsx)(rie,{name:"exportScale",value:U,onChange:D=>{b(D),r.executeAction(WOe,"ui",D)},choices:LM.map(D=>({value:D,label:`${D}`}))})}),(0,$n.jsxs)("div",{className:"ImageExportModal__settings__buttons",children:[(0,$n.jsx)(Yv,{className:"ImageExportModal__settings__buttons__button",label:P("imageExportDialog.title.exportToPng"),onClick:()=>a(Cx.png,M,{exportingFrame:R}),icon:sj,children:P("imageExportDialog.button.exportToPng")}),(0,$n.jsx)(Yv,{className:"ImageExportModal__settings__buttons__button",label:P("imageExportDialog.title.exportToSvg"),onClick:()=>a(Cx.svg,M,{exportingFrame:R}),icon:sj,children:P("imageExportDialog.button.exportToSvg")}),(_T||ky)&&(0,$n.jsx)(Yv,{className:"ImageExportModal__settings__buttons__button",label:P("imageExportDialog.title.copyPngToClipboard"),status:I,onClick:async()=>{await a(Cx.clipboard,M,{exportingFrame:R}),C()},icon:YM,children:P("imageExportDialog.button.copyPngToClipboard")})]})]})]})},UU=({label:e,children:t,tooltip:n,name:r})=>(0,$n.jsxs)("div",{className:"ImageExportModal__settings__setting",title:e,children:[(0,$n.jsxs)("label",{htmlFor:r,className:"ImageExportModal__settings__setting__label",children:[e,n&&(0,$n.jsx)(K0,{label:n,long:!0,children:NSe})]}),(0,$n.jsx)("div",{className:"ImageExportModal__settings__setting__content",children:t})]}),EHe=({elements:e,appState:t,files:n,actionManager:r,onExportImage:a,onCloseRequest:o,name:s})=>{let[{appStateSnapshot:l,elementsSnapshot:d}]=(0,zl.useState)(()=>({appStateSnapshot:ju(t),elementsSnapshot:ju(e)}));return(0,$n.jsx)(wc,{onCloseRequest:o,size:"wide",title:!1,children:(0,$n.jsx)(wHe,{elementsSnapshot:d,appStateSnapshot:l,files:n,actionManager:r,onExportImage:a,name:s})})};N();var xHe=te(Se(),1),iie=({children:e,side:t,className:n})=>(0,xHe.jsx)("div",{className:bt("FixedSideContainer",`FixedSideContainer_side_${t}`,n),children:e});N();N();var im=100,am=100,lQ=e=>{switch(e){case ie.ARROW_UP:return"up";case ie.ARROW_DOWN:return"down";case ie.ARROW_RIGHT:return"right";case ie.ARROW_LEFT:return"left";default:return"right"}},aie=(e,t,n,r)=>{let a=[...n.values()].reduce((o,s)=>{var d;let l;if(Wt(s)&&(l=s[e==="predecessors"?"startBinding":"endBinding"])&&((d=s[e==="predecessors"?"endBinding":"startBinding"])==null?void 0:d.elementId)===t.id){let u=n.get(l.elementId);if(!u)return o;ml(Xu(u),"not an ExcalidrawBindableElement");let f=e==="predecessors"?s.points[s.points.length-1]:[0,0],p=iT(t,nd(t),[f[0]+s.x,f[1]+s.y]);o.push({relative:u,heading:p})}return o},[]);switch(r){case"up":return a.filter(o=>Es(o.heading,Po)).map(o=>o.relative);case"down":return a.filter(o=>Es(o.heading,Ro)).map(o=>o.relative);case"right":return a.filter(o=>Es(o.heading,Ki)).map(o=>o.relative);case"left":return a.filter(o=>Es(o.heading,Do)).map(o=>o.relative)}},OS=(e,t,n)=>aie("successors",e,t,n),zS=(e,t,n)=>aie("predecessors",e,t,n),_He=(e,t,n)=>{let r=am+e.width;if(n==="up"||n==="down"){let l=im+e.height,d=e.x,u=e.x+e.width;if(t.every(f=>f.x+f.width<d||f.x>u))return{x:0,y:l*(n==="up"?-1:1)}}else if(n==="right"||n==="left"){let l=e.y,d=e.y+e.height;if(t.every(u=>u.y+u.height<l||u.y>d))return{x:(am+e.width)*(n==="left"?-1:1),y:0}}if(n==="up"||n==="down"){let l=im+e.height,d=(t.length,l),u=t.length===0?0:(t.length+1)%2===0?(t.length+1)/2*r:t.length/2*r*-1;return n==="up"?{x:u,y:d*-1}:{x:u,y:d}}let a=im+e.height,o=(t.length,am+e.width),s=t.length===0?0:(t.length+1)%2===0?(t.length+1)/2*a:t.length/2*a*-1;return n==="left"?{x:o*-1,y:s}:{x:o,y:s}},CHe=(e,t,n,r)=>{let a=OS(e,t,r),o=zS(e,t,r),s=_He(e,[...a,...o],r),l=Md({type:e.type,x:e.x+s.x,y:e.y+s.y,width:e.width,height:e.height,roundness:e.roundness,roughness:e.roughness,backgroundColor:e.backgroundColor,strokeColor:e.strokeColor,strokeWidth:e.strokeWidth});ml(E4(l),"not an ExcalidrawFlowchartNodeElement");let d=oie(e,l,t,r,n);return{nextNode:l,bindingArrow:d}},SHe=(e,t,n,r,a)=>{let o=[];for(let s=0;s<a;s++){let l,d;if(r==="left"||r==="right"){let p=im*(a-1)+a*e.height,g=e.y+e.height/2-p/2,v=am+e.width;r==="left"&&(v*=-1),l=e.x+v;let c=(im+e.height)*s;d=g+c}else{let p=am*(a-1)+a*e.width,g=e.x+e.width/2-p/2,v=im+e.height;r==="up"&&(v*=-1),d=e.y+v;let c=(am+e.width)*s;l=g+c}let u=Md({type:e.type,x:l,y:d,width:e.width,height:e.height,roundness:e.roundness,roughness:e.roughness,backgroundColor:e.backgroundColor,strokeColor:e.strokeColor,strokeWidth:e.strokeWidth});ml(E4(u),"not an ExcalidrawFlowchartNodeElement");let f=oie(e,u,t,r,n);o.push(u),o.push(f)}return o},oie=(e,t,n,r,a)=>{let o,s;switch(r){case"up":{o=e.x+e.width/2,s=e.y-6;break}case"down":{o=e.x+e.width/2,s=e.y+e.height+6;break}case"right":{o=e.x+e.width+6,s=e.y+e.height/2;break}case"left":{o=e.x-6,s=e.y+e.height/2;break}}let l,d;switch(r){case"up":{l=t.x+t.width/2-o,d=t.y+t.height-s+6;break}case"down":{l=t.x+t.width/2-o,d=t.y-s-6;break}case"right":{l=t.x-o-6,d=t.y-s+t.height/2;break}case"left":{l=t.x+t.width-o+6,d=t.y-s+t.height/2;break}}let u=pT({type:"arrow",x:o,y:s,startArrowhead:a.currentItemStartArrowhead,endArrowhead:a.currentItemEndArrowhead,strokeColor:a.currentItemStrokeColor,strokeStyle:a.currentItemStrokeStyle,strokeWidth:a.currentItemStrokeWidth,points:[$(0,0),$(l,d)],elbowed:!0});Sd(u,e,"start",n),Sd(u,t,"end",n);let f=new Map;return f.set(e.id,e),f.set(t.id,t),f.set(u.id,u),xt.movePoints(u,[{index:1,point:u.points[1]}],n,void 0,{changedElements:f}),u},IHe=class{constructor(){ee(this,"isExploring",!1);ee(this,"sameLevelNodes",[]);ee(this,"sameLevelIndex",0);ee(this,"direction",null);ee(this,"visitedNodes",new Set)}clear(){this.isExploring=!1,this.sameLevelNodes=[],this.sameLevelIndex=0,this.direction=null,this.visitedNodes.clear()}exploreByDirection(e,t,n){if(!Xu(e))return null;if(n!==this.direction&&this.clear(),this.visitedNodes.has(e.id)||this.visitedNodes.add(e.id),this.isExploring&&n===this.direction&&this.sameLevelNodes.length>1)return this.sameLevelIndex=(this.sameLevelIndex+1)%this.sameLevelNodes.length,this.sameLevelNodes[this.sameLevelIndex].id;let r=[...OS(e,t,n),...zS(e,t,n)];if(r.length>0)return this.sameLevelIndex=0,this.isExploring=!0,this.sameLevelNodes=r,this.direction=n,this.visitedNodes.add(r[0].id),r[0].id;if(n===this.direction||!this.isExploring){this.isExploring||this.visitedNodes.add(e.id);let a=["up","right","down","left"].filter(o=>o!==n).map(o=>[...OS(e,t,o),...zS(e,t,o)]).flat().filter(o=>!this.visitedNodes.has(o.id));for(let o of a)if(!this.visitedNodes.has(o.id))return this.visitedNodes.add(o.id),this.isExploring=!0,this.direction=n,o.id}return null}},kHe=class{constructor(){ee(this,"isCreatingChart",!1);ee(this,"numberOfNodes",0);ee(this,"direction","right");ee(this,"pendingNodes",null)}createNodes(e,t,n,r){if(r!==this.direction){let{nextNode:a,bindingArrow:o}=CHe(e,t,n,r);this.numberOfNodes=1,this.isCreatingChart=!0,this.direction=r,this.pendingNodes=[a,o]}else{this.numberOfNodes+=1;let a=SHe(e,t,n,r,this.numberOfNodes);this.isCreatingChart=!0,this.direction=r,this.pendingNodes=a}if(e.frameId){let a=t.get(e.frameId);ml(a&&TZ(a),"not an ExcalidrawFrameElement"),a&&this.pendingNodes.every(o=>ST([o],a,t)||Hh(o,a,t))&&(this.pendingNodes=this.pendingNodes.map(o=>Qe(o,{frameId:e.frameId},!1)))}}clear(){this.isCreatingChart=!1,this.pendingNodes=null,this.direction=null,this.numberOfNodes=0}},MHe=(e,t)=>{var n,r;for(let[,a]of t)if(a.type==="arrow"&&(((n=a.startBinding)==null?void 0:n.elementId)===e.id||((r=a.endBinding)==null?void 0:r.elementId)===e.id))return!0;return!1},cQ=te(Se(),1),THe=({appState:e,isMobile:t,device:n,app:r})=>{var f,p;let{activeTool:a,isResizing:o,isRotating:s,lastPointerDownWith:l}=e,d=e.multiElement!==null;if(((f=e.openSidebar)==null?void 0:f.name)===uc.name&&e.openSidebar.tab===tm&&((p=e.searchMatches)!=null&&p.length))return P("hints.dismissSearch");if(e.openSidebar&&!n.editor.canFitSidebar)return null;if(Kc(e))return P("hints.eraserRevert");if(a.type==="arrow"||a.type==="line")return d?P("hints.linearElementMulti"):a.type==="arrow"?P("hints.arrowTool",{arrowShortcut:Ne("A")}):P("hints.linearElement");if(a.type==="freedraw")return P("hints.freeDraw");if(a.type==="text")return P("hints.text");if(a.type==="embeddable")return P("hints.embeddable");if(e.activeTool.type==="image"&&e.pendingImageElementId)return P("hints.placeImage");let u=r.scene.getSelectedElements(e);if(o&&l==="mouse"&&u.length===1){let g=u[0];return rn(g)&&g.points.length===2?P("hints.lockAngle"):zn(g)?P("hints.resizeImage"):P("hints.resize")}if(s&&l==="mouse")return P("hints.rotate");if(u.length===1&&pt(u[0]))return P("hints.text_selected");if(e.editingTextElement)return P("hints.text_editing");if(e.croppingElementId)return P("hints.leaveCropEditor");if(u.length===1&&zn(u[0]))return P("hints.enterCropEditor");if(a.type==="selection"){if(e.selectionElement&&!u.length&&!e.editingTextElement&&!e.editingLinearElement)return P("hints.deepBoxSelect");if(jy(r)&&e.selectedElementsAreBeingDragged)return P("hints.disableSnapping");if(!u.length&&!t)return P("hints.canvasPanning");if(u.length===1){if(rn(u[0]))return e.editingLinearElement?e.editingLinearElement.selectedPointsIndices?P("hints.lineEditor_pointSelected"):P("hints.lineEditor_nothingSelected"):P("hints.lineEditor_info");if(!e.newElement&&!e.selectedElementsAreBeingDragged&&S0(u[0]))return E4(u[0])?MHe(u[0],r.scene.getNonDeletedElementsMap())?[P("hints.bindTextToElement"),P("hints.createFlowchart")]:[P("hints.bindTextToElement"),P("hints.createFlowchart")]:P("hints.bindTextToElement")}}return null},sie=({appState:e,isMobile:t,device:n,app:r})=>{let a=THe({appState:e,isMobile:t,device:n,app:r});if(!a)return null;let o=Array.isArray(a)?a.map(s=>Ne(s).replace(/\. ?$/,"")).join(". "):Ne(a);return(0,cQ.jsx)("div",{className:"HintViewer",children:(0,cQ.jsx)("span",{children:o})})};N();var A9=te(Se(),1),BHe="medium",dQ={CHECKED:GM,UNCHECKED:_4},lie=e=>(0,A9.jsxs)("label",{className:bt("ToolIcon ToolIcon__lock",`ToolIcon_size_${BHe}`,{"is-mobile":e.isMobile}),title:`${e.title}  Q`,children:[(0,A9.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title,"data-testid":"toolbar-lock"}),(0,A9.jsx)("div",{className:"ToolIcon__icon",children:e.checked?dQ.CHECKED:dQ.UNCHECKED})]});N();N();var K5=te(Se(),1),Jy=({heading:e,children:t,...n})=>{let{id:r}=Nd(),a=(0,K5.jsx)("h2",{className:"visually-hidden",id:`${r}-${e}-title`,children:P(`headings.${e}`)});return(0,K5.jsx)("section",{...n,"aria-labelledby":`${r}-${e}-title`,children:typeof t=="function"?t(a):(0,K5.jsxs)(K5.Fragment,{children:[a,t]})})};N();var Zc=4,yh=6,RHe="rgba(0,0,0,0.3)",DHe=(e,t,n,r)=>{if(!e.length)return{horizontal:null,vertical:null};let[a,o,s,l]=Yn(e),d=t/r.zoom.value,u=n/r.zoom.value,f=t-d,p=n-u,g={top:parseInt(E5("sat"))||0,bottom:parseInt(E5("sab"))||0,left:parseInt(E5("sal"))||0,right:parseInt(E5("sar"))||0},v=Vm().rtl,c=-r.scrollX+f/2+g.left,h=-r.scrollY+p/2+g.top,m=c+d-g.right,U=h+u-g.bottom,b=Math.min(a,c),w=Math.min(o,h),E=Math.max(s,m),x=Math.max(l,U);return{horizontal:c===b&&m===E?null:{x:Math.max(g.left,Zc)+(c-b)/(E-b)*t,y:n-yh-Math.max(Zc,g.bottom),width:(m-c)/(E-b)*t-Math.max(Zc*2,g.left+g.right),height:yh},vertical:h===w&&U===x?null:{x:v?Math.max(g.left,Zc):t-yh-Math.max(g.right,Zc),y:(h-w)/(x-w)*n+Math.max(g.top,Zc),width:yh,height:(U-h)/(x-w)*n-Math.max(Zc*2,g.top+g.bottom)}}},uQ=(e,t,n)=>{let[r,a]=[e.horizontal,e.vertical].map(o=>o!=null&&o.x<=t&&t<=o.x+o.width&&o.y<=n&&n<=o.y+o.height);return{isOverEither:r||a,isOverHorizontal:r,isOverVertical:a}};N();var w9=te(Se(),1),PHe="medium",cie=e=>e.penDetected?(0,w9.jsxs)("label",{className:bt("ToolIcon ToolIcon__penMode",`ToolIcon_size_${PHe}`,{"is-mobile":e.isMobile}),title:`${e.title}`,children:[(0,w9.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),(0,w9.jsx)("div",{className:"ToolIcon__icon",children:jCe})]}):null;N();var LHe=te(Se(),1),die=e=>(0,LHe.jsx)(yn,{className:bt("Shape",{fillable:!1}),type:"radio",icon:eq,name:"editor-current-shape",checked:e.checked,title:`${e.title}  H`,keyBindingLabel:e.isMobile?void 0:ie.H.toLocaleUpperCase(),"aria-label":`${e.title}  H`,"aria-keyshortcuts":ie.H,"data-testid":"toolbar-hand",onChange:()=>{var t;return(t=e.onChange)==null?void 0:t.call(e)}}),Er=te(Se(),1),NHe=({appState:e,elements:t,actionManager:n,setAppState:r,onLockToggle:a,onHandToolToggle:o,onPenModeToggle:s,renderTopRightUI:l,renderCustomStats:d,renderSidebars:u,device:f,renderWelcomeScreen:p,UIOptions:g,app:v})=>{var w,E;let{WelcomeScreenCenterTunnel:c,MainMenuTunnel:h,DefaultSidebarTriggerTunnel:m}=Zo(),U=()=>(0,Er.jsxs)(iie,{side:"top",className:"App-top-bar",children:[p&&(0,Er.jsx)(c.Out,{}),(0,Er.jsx)(Jy,{heading:"shapes",children:x=>{var C;return(0,Er.jsx)(ul.Col,{gap:4,align:"center",children:(0,Er.jsxs)(ul.Row,{gap:1,className:"App-toolbar-container",children:[(0,Er.jsxs)(hc,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[x,(0,Er.jsx)(ul.Row,{gap:1,children:(0,Er.jsx)(Kre,{appState:e,activeTool:e.activeTool,UIOptions:g,app:v})})]}),l&&l(!0,e),(0,Er.jsxs)("div",{className:"mobile-misc-tools-container",children:[!e.viewModeEnabled&&((C=e.openDialog)==null?void 0:C.name)!=="elementLinkSelector"&&(0,Er.jsx)(m.Out,{}),(0,Er.jsx)(cie,{checked:e.penMode,onChange:()=>s(null),title:P("toolBar.penMode"),isMobile:!0,penDetected:e.penDetected}),(0,Er.jsx)(lie,{checked:e.activeTool.locked,onChange:a,title:P("toolBar.lock"),isMobile:!0}),(0,Er.jsx)(die,{checked:Rm(e),onChange:()=>o(),title:P("toolBar.hand"),isMobile:!0})]})]})})}}),(0,Er.jsx)(sie,{appState:e,isMobile:!0,device:f,app:v})]}),b=()=>{var x;return e.viewModeEnabled||((x=e.openDialog)==null?void 0:x.name)==="elementLinkSelector"?(0,Er.jsx)("div",{className:"App-toolbar-content",children:(0,Er.jsx)(h.Out,{})}):(0,Er.jsxs)("div",{className:"App-toolbar-content",children:[(0,Er.jsx)(h.Out,{}),n.renderAction("toggleEditMenu"),n.renderAction("undo"),n.renderAction("redo"),n.renderAction(e.multiElement?"finalize":"duplicateSelection"),n.renderAction("deleteSelectedElements")]})};return(0,Er.jsxs)(Er.Fragment,{children:[u(),!e.viewModeEnabled&&((w=e.openDialog)==null?void 0:w.name)!=="elementLinkSelector"&&U(),(0,Er.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:yh+Zc*2,marginLeft:yh+Zc*2,marginRight:yh+Zc*2},children:(0,Er.jsxs)(hc,{padding:0,children:[e.openMenu==="shape"&&!e.viewModeEnabled&&((E=e.openDialog)==null?void 0:E.name)!=="elementLinkSelector"&&PT(e,t)?(0,Er.jsx)(Jy,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,Er.jsx)(Yre,{appState:e,elementsMap:v.scene.getNonDeletedElementsMap(),renderAction:n.renderAction})}):null,(0,Er.jsxs)("footer",{className:"App-toolbar",children:[b(),e.scrolledOutside&&!e.openMenu&&!e.openSidebar&&(0,Er.jsx)("button",{type:"button",className:"scroll-back-to-content",onClick:()=>{r(x=>({...$y(t,x)}))},children:P("buttons.scrollBackToContent")})]})]})})]})};N();var vA=te(Fe(),1),jg=te(Se(),1),fQ=e=>{let t=(0,vA.useRef)(null),[n,r]=(0,vA.useState)(null);return(0,vA.useLayoutEffect)(()=>{if(!e.spreadsheet)return;let a=SLe(e.chartType,e.spreadsheet,0,0);r(a);let o,s=t.current;return(async()=>{var l;return o=await AT(a,{exportBackground:!1,viewBackgroundColor:pa.white},null,{skipInliningFonts:!0}),(l=o.querySelector(".style-fonts"))==null||l.remove(),s.replaceChildren(),s.appendChild(o),e.selected&&s.parentNode.focus()})(),()=>{s.replaceChildren()}},[e.spreadsheet,e.chartType,e.selected]),(0,jg.jsx)("button",{type:"button",className:"ChartPreview",onClick:()=>{n&&e.onClick(e.chartType,n)},children:(0,jg.jsx)("div",{ref:t})})},$He=({setAppState:e,appState:t,onClose:n})=>{let{onInsertElements:r}=Ld(),a=vA.default.useCallback(()=>{n&&n()},[n]),o=(s,l)=>{r(l),yr("paste","chart",s),e({currentChartType:s,pasteDialog:{shown:!1,data:null}})};return(0,jg.jsx)(wc,{size:"small",onCloseRequest:a,title:P("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,jg.jsxs)("div",{className:"container",children:[(0,jg.jsx)(fQ,{chartType:"bar",spreadsheet:t.pasteDialog.data,selected:t.currentChartType==="bar",onClick:o}),(0,jg.jsx)(fQ,{chartType:"line",spreadsheet:t.pasteDialog.data,selected:t.currentChartType==="line",onClick:o})]})})};N();var FHe=te(Fe(),1),Je=te(Se(),1),jHe=()=>(0,Je.jsxs)("div",{className:"HelpDialog__header",children:[(0,Je.jsxs)("a",{className:"HelpDialog__btn",href:"https://docs.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,Je.jsx)("div",{className:"HelpDialog__link-icon",children:GF}),P("helpDialog.documentation")]}),(0,Je.jsxs)("a",{className:"HelpDialog__btn",href:"https://plus.excalidraw.com/blog",target:"_blank",rel:"noopener noreferrer",children:[(0,Je.jsx)("div",{className:"HelpDialog__link-icon",children:GF}),P("helpDialog.blog")]}),(0,Je.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,Je.jsx)("div",{className:"HelpDialog__link-icon",children:VZ}),P("helpDialog.github")]}),(0,Je.jsxs)("a",{className:"HelpDialog__btn",href:"https://youtube.com/@excalidraw",target:"_blank",rel:"noopener noreferrer",children:[(0,Je.jsx)("div",{className:"HelpDialog__link-icon",children:rIe}),"YouTube"]})]}),OHe=e=>(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("h3",{children:e.title}),(0,Je.jsx)("div",{className:"HelpDialog__islands-container",children:e.children})]}),E9=e=>(0,Je.jsxs)("div",{className:`HelpDialog__island ${e.className}`,children:[(0,Je.jsx)("h4",{className:"HelpDialog__island-title",children:e.caption}),(0,Je.jsx)("div",{className:"HelpDialog__island-content",children:e.children})]});function*zHe(e,t){let n=!0;for(let r of e)n||(yield t),n=!1,yield r}var QHe=e=>e.replace(/\b[a-z]\b/,t=>t.toUpperCase()),mt=({label:e,shortcuts:t,isOr:n=!0})=>{let r=t.map(a=>(a.endsWith("++")?[...a.slice(0,-2).split("+"),"+"]:a.split("+")).map(o=>(0,Je.jsx)(HHe,{children:QHe(o)},o)));return(0,Je.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,Je.jsx)("div",{children:e}),(0,Je.jsx)("div",{className:"HelpDialog__key-container",children:[...zHe(r,n?P("helpDialog.or"):null)]})]})},HHe=e=>(0,Je.jsx)("kbd",{className:"HelpDialog__key",...e}),GHe=({onClose:e})=>{let t=FHe.default.useCallback(()=>{e&&e()},[e]);return(0,Je.jsx)(Je.Fragment,{children:(0,Je.jsxs)(wc,{onCloseRequest:t,title:P("helpDialog.title"),className:"HelpDialog",children:[(0,Je.jsx)(jHe,{}),(0,Je.jsxs)(OHe,{title:P("helpDialog.shortcuts"),children:[(0,Je.jsxs)(E9,{className:"HelpDialog__island--tools",caption:P("helpDialog.tools"),children:[(0,Je.jsx)(mt,{label:P("toolBar.hand"),shortcuts:[ie.H]}),(0,Je.jsx)(mt,{label:P("toolBar.selection"),shortcuts:[ie.V,ie[1]]}),(0,Je.jsx)(mt,{label:P("toolBar.rectangle"),shortcuts:[ie.R,ie[2]]}),(0,Je.jsx)(mt,{label:P("toolBar.diamond"),shortcuts:[ie.D,ie[3]]}),(0,Je.jsx)(mt,{label:P("toolBar.ellipse"),shortcuts:[ie.O,ie[4]]}),(0,Je.jsx)(mt,{label:P("toolBar.arrow"),shortcuts:[ie.A,ie[5]]}),(0,Je.jsx)(mt,{label:P("toolBar.line"),shortcuts:[ie.L,ie[6]]}),(0,Je.jsx)(mt,{label:P("toolBar.freedraw"),shortcuts:[ie.P,ie[7]]}),(0,Je.jsx)(mt,{label:P("toolBar.text"),shortcuts:[ie.T,ie[8]]}),(0,Je.jsx)(mt,{label:P("toolBar.image"),shortcuts:[ie[9]]}),(0,Je.jsx)(mt,{label:P("toolBar.eraser"),shortcuts:[ie.E,ie[0]]}),(0,Je.jsx)(mt,{label:P("toolBar.frame"),shortcuts:[ie.F]}),(0,Je.jsx)(mt,{label:P("toolBar.laser"),shortcuts:[ie.K]}),(0,Je.jsx)(mt,{label:P("labels.eyeDropper"),shortcuts:[ie.I,"Shift+S","Shift+G"]}),(0,Je.jsx)(mt,{label:P("helpDialog.editLineArrowPoints"),shortcuts:[Ne("CtrlOrCmd+Enter")]}),(0,Je.jsx)(mt,{label:P("helpDialog.editText"),shortcuts:[Ne("Enter")]}),(0,Je.jsx)(mt,{label:P("helpDialog.textNewLine"),shortcuts:[Ne("Enter"),Ne("Shift+Enter")]}),(0,Je.jsx)(mt,{label:P("helpDialog.textFinish"),shortcuts:[Ne("Esc"),Ne("CtrlOrCmd+Enter")]}),(0,Je.jsx)(mt,{label:P("helpDialog.curvedArrow"),shortcuts:["A",P("helpDialog.click"),P("helpDialog.click"),P("helpDialog.click")],isOr:!1}),(0,Je.jsx)(mt,{label:P("helpDialog.curvedLine"),shortcuts:["L",P("helpDialog.click"),P("helpDialog.click"),P("helpDialog.click")],isOr:!1}),(0,Je.jsx)(mt,{label:P("helpDialog.cropStart"),shortcuts:[P("helpDialog.doubleClick"),Ne("Enter")],isOr:!0}),(0,Je.jsx)(mt,{label:P("helpDialog.cropFinish"),shortcuts:[Ne("Enter"),Ne("Escape")],isOr:!0}),(0,Je.jsx)(mt,{label:P("toolBar.lock"),shortcuts:[ie.Q]}),(0,Je.jsx)(mt,{label:P("helpDialog.preventBinding"),shortcuts:[Ne("CtrlOrCmd")]}),(0,Je.jsx)(mt,{label:P("toolBar.link"),shortcuts:[Ne("CtrlOrCmd+K")]})]}),(0,Je.jsxs)(E9,{className:"HelpDialog__island--view",caption:P("helpDialog.view"),children:[(0,Je.jsx)(mt,{label:P("buttons.zoomIn"),shortcuts:[Ne("CtrlOrCmd++")]}),(0,Je.jsx)(mt,{label:P("buttons.zoomOut"),shortcuts:[Ne("CtrlOrCmd+-")]}),(0,Je.jsx)(mt,{label:P("buttons.resetZoom"),shortcuts:[Ne("CtrlOrCmd+0")]}),(0,Je.jsx)(mt,{label:P("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,Je.jsx)(mt,{label:P("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,Je.jsx)(mt,{label:P("helpDialog.movePageUpDown"),shortcuts:["PgUp/PgDn"]}),(0,Je.jsx)(mt,{label:P("helpDialog.movePageLeftRight"),shortcuts:["Shift+PgUp/PgDn"]}),(0,Je.jsx)(mt,{label:P("buttons.zenMode"),shortcuts:[Ne("Alt+Z")]}),(0,Je.jsx)(mt,{label:P("buttons.objectsSnapMode"),shortcuts:[Ne("Alt+S")]}),(0,Je.jsx)(mt,{label:P("labels.toggleGrid"),shortcuts:[Ne("CtrlOrCmd+'")]}),(0,Je.jsx)(mt,{label:P("labels.viewMode"),shortcuts:[Ne("Alt+R")]}),(0,Je.jsx)(mt,{label:P("labels.toggleTheme"),shortcuts:[Ne("Alt+Shift+D")]}),(0,Je.jsx)(mt,{label:P("stats.fullTitle"),shortcuts:[Ne("Alt+/")]}),(0,Je.jsx)(mt,{label:P("search.title"),shortcuts:[Qa("searchMenu")]}),(0,Je.jsx)(mt,{label:P("commandPalette.title"),shortcuts:ky?[Qa("commandPalette")]:[Qa("commandPalette"),Qa("commandPalette",1)]})]}),(0,Je.jsxs)(E9,{className:"HelpDialog__island--editor",caption:P("helpDialog.editor"),children:[(0,Je.jsx)(mt,{label:P("helpDialog.createFlowchart"),shortcuts:[Ne("CtrlOrCmd+Arrow Key")],isOr:!0}),(0,Je.jsx)(mt,{label:P("helpDialog.navigateFlowchart"),shortcuts:[Ne("Alt+Arrow Key")],isOr:!0}),(0,Je.jsx)(mt,{label:P("labels.moveCanvas"),shortcuts:[Ne(`Space+${P("helpDialog.drag")}`),Ne(`Wheel+${P("helpDialog.drag")}`)],isOr:!0}),(0,Je.jsx)(mt,{label:P("buttons.clearReset"),shortcuts:[Ne("CtrlOrCmd+Delete")]}),(0,Je.jsx)(mt,{label:P("labels.delete"),shortcuts:[Ne("Delete")]}),(0,Je.jsx)(mt,{label:P("labels.cut"),shortcuts:[Ne("CtrlOrCmd+X")]}),(0,Je.jsx)(mt,{label:P("labels.copy"),shortcuts:[Ne("CtrlOrCmd+C")]}),(0,Je.jsx)(mt,{label:P("labels.paste"),shortcuts:[Ne("CtrlOrCmd+V")]}),(0,Je.jsx)(mt,{label:P("labels.pasteAsPlaintext"),shortcuts:[Ne("CtrlOrCmd+Shift+V")]}),(0,Je.jsx)(mt,{label:P("labels.selectAll"),shortcuts:[Ne("CtrlOrCmd+A")]}),(0,Je.jsx)(mt,{label:P("labels.multiSelect"),shortcuts:[Ne(`Shift+${P("helpDialog.click")}`)]}),(0,Je.jsx)(mt,{label:P("helpDialog.deepSelect"),shortcuts:[Ne(`CtrlOrCmd+${P("helpDialog.click")}`)]}),(0,Je.jsx)(mt,{label:P("helpDialog.deepBoxSelect"),shortcuts:[Ne(`CtrlOrCmd+${P("helpDialog.drag")}`)]}),(_T||ky)&&(0,Je.jsx)(mt,{label:P("labels.copyAsPng"),shortcuts:[Ne("Shift+Alt+C")]}),(0,Je.jsx)(mt,{label:P("labels.copyStyles"),shortcuts:[Ne("CtrlOrCmd+Alt+C")]}),(0,Je.jsx)(mt,{label:P("labels.pasteStyles"),shortcuts:[Ne("CtrlOrCmd+Alt+V")]}),(0,Je.jsx)(mt,{label:P("labels.sendToBack"),shortcuts:[Ne(_d?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),(0,Je.jsx)(mt,{label:P("labels.bringToFront"),shortcuts:[Ne(_d?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),(0,Je.jsx)(mt,{label:P("labels.sendBackward"),shortcuts:[Ne("CtrlOrCmd+[")]}),(0,Je.jsx)(mt,{label:P("labels.bringForward"),shortcuts:[Ne("CtrlOrCmd+]")]}),(0,Je.jsx)(mt,{label:P("labels.alignTop"),shortcuts:[Ne("CtrlOrCmd+Shift+Up")]}),(0,Je.jsx)(mt,{label:P("labels.alignBottom"),shortcuts:[Ne("CtrlOrCmd+Shift+Down")]}),(0,Je.jsx)(mt,{label:P("labels.alignLeft"),shortcuts:[Ne("CtrlOrCmd+Shift+Left")]}),(0,Je.jsx)(mt,{label:P("labels.alignRight"),shortcuts:[Ne("CtrlOrCmd+Shift+Right")]}),(0,Je.jsx)(mt,{label:P("labels.duplicateSelection"),shortcuts:[Ne("CtrlOrCmd+D"),Ne(`Alt+${P("helpDialog.drag")}`)]}),(0,Je.jsx)(mt,{label:P("helpDialog.toggleElementLock"),shortcuts:[Ne("CtrlOrCmd+Shift+L")]}),(0,Je.jsx)(mt,{label:P("buttons.undo"),shortcuts:[Ne("CtrlOrCmd+Z")]}),(0,Je.jsx)(mt,{label:P("buttons.redo"),shortcuts:fZ?[Ne("CtrlOrCmd+Y"),Ne("CtrlOrCmd+Shift+Z")]:[Ne("CtrlOrCmd+Shift+Z")]}),(0,Je.jsx)(mt,{label:P("labels.group"),shortcuts:[Ne("CtrlOrCmd+G")]}),(0,Je.jsx)(mt,{label:P("labels.ungroup"),shortcuts:[Ne("CtrlOrCmd+Shift+G")]}),(0,Je.jsx)(mt,{label:P("labels.flipHorizontal"),shortcuts:[Ne("Shift+H")]}),(0,Je.jsx)(mt,{label:P("labels.flipVertical"),shortcuts:[Ne("Shift+V")]}),(0,Je.jsx)(mt,{label:P("labels.showStroke"),shortcuts:[Ne("S")]}),(0,Je.jsx)(mt,{label:P("labels.showBackground"),shortcuts:[Ne("G")]}),(0,Je.jsx)(mt,{label:P("labels.showFonts"),shortcuts:[Ne("Shift+F")]}),(0,Je.jsx)(mt,{label:P("labels.decreaseFontSize"),shortcuts:[Ne("CtrlOrCmd+Shift+<")]}),(0,Je.jsx)(mt,{label:P("labels.increaseFontSize"),shortcuts:[Ne("CtrlOrCmd+Shift+>")]})]})]})]})})};N();var vU=te(Fe(),1),to=te(Se(),1),WHe=4,VHe=8,YHe=({shouldWrap:e,children:t,username:n})=>e?(0,to.jsx)(K0,{label:n||"Unknown user",children:t}):(0,to.jsx)(to.Fragment,{children:t}),x9=({actionManager:e,collaborator:t,socketId:n,withName:r=!1,shouldWrapWithTooltip:a=!1,isBeingFollowed:o})=>{let s={socketId:n,collaborator:t,withName:r,isBeingFollowed:o},l=e.renderAction("goToCollaborator",s);return(0,to.jsx)(YHe,{username:t.username,shouldWrap:a,children:l},n)},KHe=["avatarUrl","id","socketId","username","isInCall","isSpeaking","isMuted"],uie=vU.default.memo(({className:e,mobile:t,collaborators:n,userToFollow:r})=>{let a=qo(),o=new Map;n.forEach((c,h)=>{let m=c.id||h;o.set(m,{...c,socketId:h})});let s=Array.from(o.values()).filter(c=>{var h;return(h=c.username)==null?void 0:h.trim()}),[l,d]=vU.default.useState(""),u=s.filter(c=>{var h;return(h=c.username)==null?void 0:h.toLowerCase().includes(l)}),f=vU.default.useRef(null);(0,vU.useLayoutEffect)(()=>{if(f.current){let c=m=>{let U=Math.max(1,Math.min(8,Math.floor(m/38)));g(U)};if(c(f.current.clientWidth),!OC)return;let h=new ResizeObserver(m=>{for(let U of m){let{width:b}=U.contentRect;c(b)}});return h.observe(f.current),()=>{h.disconnect()}}},[]);let[p,g]=vU.default.useState(WHe),v=s.slice(0,p-1).map(c=>x9({actionManager:a,collaborator:c,socketId:c.socketId,shouldWrapWithTooltip:!0,isBeingFollowed:c.socketId===r}));return t?(0,to.jsx)("div",{className:bt("UserList UserList_mobile",e),children:s.map(c=>x9({actionManager:a,collaborator:c,socketId:c.socketId,shouldWrapWithTooltip:!0,isBeingFollowed:c.socketId===r}))}):(0,to.jsx)("div",{className:"UserList__wrapper",ref:f,children:(0,to.jsxs)("div",{className:bt("UserList",e),style:{"--max-avatars":p},children:[v,s.length>p-1&&(0,to.jsxs)(YT,{children:[(0,to.jsxs)(KT,{className:"UserList__more",children:["+",s.length-p+1]}),(0,to.jsx)(rre,{style:{zIndex:2,width:"15rem",textAlign:"left"},align:"end",sideOffset:10,children:(0,to.jsxs)(hc,{padding:2,children:[s.length>=VHe&&(0,to.jsx)(dre,{placeholder:P("quickSearch.placeholder"),onChange:d}),(0,to.jsx)(ure,{className:"dropdown-menu UserList__collaborators",placeholder:P("userList.empty"),children:u.length>0?[(0,to.jsx)("div",{className:"hint",children:P("userList.hint.text")}),u.map(c=>x9({actionManager:a,collaborator:c,socketId:c.socketId,withName:!0,isBeingFollowed:c.socketId===r}))]:[]}),(0,to.jsx)(ire,{width:20,height:10,style:{fill:"var(--popup-bg-color)",filter:"drop-shadow(rgba(0, 0, 0, 0.05) 0px 3px 2px)"}})]})})]})]})})},(e,t)=>{if(e.collaborators.size!==t.collaborators.size||e.mobile!==t.mobile||e.className!==t.className||e.userToFollow!==t.userToFollow)return!1;let n=t.collaborators.keys();for(let[r,a]of e.collaborators){let o=t.collaborators.get(r);if(!o||r!==n.next().value||!ga(a,o,KHe))return!1}return!0});N();var XHe=te(Fe(),1);N();var ZHe=te(Se(),1),hQ=({children:e,color:t})=>(0,ZHe.jsx)("div",{className:"Card",style:{"--card-color":t==="primary"?"var(--color-primary)":pa[t][7],"--card-color-darker":t==="primary"?"var(--color-primary-darker)":pa[t][8],"--card-color-darkest":t==="primary"?"var(--color-primary-darkest)":pa[t][9]},children:e}),La=te(Se(),1),qHe=({elements:e,appState:t,setAppState:n,files:r,actionManager:a,exportOpts:o,canvas:s,onCloseRequest:l})=>{let{onExportToBackend:d}=o;return(0,La.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,La.jsxs)("div",{className:"ExportDialog-cards",children:[o.saveFileToDisk&&(0,La.jsxs)(hQ,{color:"lime",children:[(0,La.jsx)("div",{className:"Card-icon",children:qCe}),(0,La.jsx)("h2",{children:P("exportDialog.disk_title")}),(0,La.jsxs)("div",{className:"Card-details",children:[P("exportDialog.disk_details"),!a1&&a.renderAction("changeProjectName")]}),(0,La.jsx)(yn,{className:"Card-button",type:"button",title:P("exportDialog.disk_button"),"aria-label":P("exportDialog.disk_button"),showAriaLabel:!0,onClick:()=>{a.executeAction(wre,"ui")}})]}),d&&(0,La.jsxs)(hQ,{color:"pink",children:[(0,La.jsx)("div",{className:"Card-icon",children:ZC}),(0,La.jsx)("h2",{children:P("exportDialog.link_title")}),(0,La.jsx)("div",{className:"Card-details",children:P("exportDialog.link_details")}),(0,La.jsx)(yn,{className:"Card-button",type:"button",title:P("exportDialog.link_button"),"aria-label":P("exportDialog.link_button"),showAriaLabel:!0,onClick:async()=>{try{yr("export","link",`ui (${A_e()})`),await d(e,t,r),l()}catch(u){n({errorMessage:u.message})}}})]}),o.renderCustomUI&&o.renderCustomUI(e,t,r,s)]})})},JHe=({elements:e,appState:t,files:n,actionManager:r,exportOpts:a,canvas:o,setAppState:s})=>{var d;let l=XHe.default.useCallback(()=>{s({openDialog:null})},[s]);return(0,La.jsx)(La.Fragment,{children:((d=t.openDialog)==null?void 0:d.name)==="jsonExport"&&(0,La.jsx)(wc,{onCloseRequest:l,title:P("buttons.export"),children:(0,La.jsx)(qHe,{elements:e,appState:t,setAppState:s,files:n,actionManager:r,onCloseRequest:l,exportOpts:a,canvas:o})})})};N();N();var eGe=te(Se(),1),tGe=e=>(0,eGe.jsx)("button",{className:"help-icon",onClick:e.onClick,type:"button",title:`${P("helpDialog.title")}  ?`,"aria-label":P("helpDialog.title"),children:WM}),ls=te(Se(),1),fie=({appState:e,actionManager:t,showExitZenModeBtn:n,renderWelcomeScreen:r})=>{let{FooterCenterTunnel:a,WelcomeScreenHelpHintTunnel:o}=Zo(),s=va(),l=!e.viewModeEnabled&&e.multiElement&&s.isTouchScreen;return(0,ls.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,ls.jsx)("div",{className:bt("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":e.zenModeEnabled}),children:(0,ls.jsx)(ul.Col,{gap:2,children:(0,ls.jsxs)(Jy,{heading:"canvasActions",children:[(0,ls.jsx)(KQe,{renderAction:t.renderAction,zoom:e.zoom}),!e.viewModeEnabled&&(0,ls.jsx)(XQe,{renderAction:t.renderAction,className:bt("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":e.zenModeEnabled})}),l&&(0,ls.jsx)(qQe,{renderAction:t.renderAction,className:bt("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":e.zenModeEnabled})})]})})}),(0,ls.jsx)(a.Out,{}),(0,ls.jsx)("div",{className:bt("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right":e.zenModeEnabled}),children:(0,ls.jsxs)("div",{style:{position:"relative"},children:[r&&(0,ls.jsx)(o.Out,{}),(0,ls.jsx)(tGe,{onClick:()=>t.executeAction(nB)})]})}),(0,ls.jsx)(ZQe,{actionManager:t,showExitZenModeBtn:n})]})},nGe=fie;fie.displayName="Footer";N();var vs=te(Fe(),1);N();var rGe=te(Fe(),1),hie=rGe.default.createContext({});N();var iGe=te(Fe(),1),yU=te(Se(),1),pie=({children:e,className:t})=>{let n=va(),r=(0,iGe.useContext)(hie),a=!!(n.editor.canFitSidebar&&r.shouldRenderDockButton);return(0,yU.jsxs)("div",{className:bt("sidebar__header",t),"data-testid":"sidebar-header",children:[e,(0,yU.jsxs)("div",{className:"sidebar__header__buttons",children:[a&&(0,yU.jsx)(K0,{label:P("labels.sidebarLock"),children:(0,yU.jsx)(Km,{onSelect:()=>{var o;return(o=r.onDock)==null?void 0:o.call(r,!r.docked)},selected:!!r.docked,className:"sidebar__dock","data-testid":"sidebar-dock","aria-label":P("labels.sidebarLock"),children:MCe})}),(0,yU.jsx)(Km,{"data-testid":"sidebar-close",className:"sidebar__close",onSelect:r.onCloseRequest,"aria-label":P("buttons.close"),children:h2})]})]})};pie.displayName="SidebarHeader";N();var bU=te(Se(),1),gie=({name:e,tab:t,icon:n,title:r,children:a,onToggle:o,className:s,style:l})=>{var f;let d=ra(),u=Xa();return(0,bU.jsxs)("label",{title:r,className:"sidebar-trigger__label-element",children:[(0,bU.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:p=>{var v;(v=document.querySelector(".layer-ui__wrapper"))==null||v.classList.remove("animate");let g=p.target.checked;d({openSidebar:g?{name:e,tab:t}:null}),o==null||o(g)},checked:((f=u.openSidebar)==null?void 0:f.name)===e,"aria-label":r,"aria-keyshortcuts":"0"}),(0,bU.jsxs)("div",{className:bt("sidebar-trigger",s),style:l,children:[n&&(0,bU.jsx)("div",{children:n}),a&&(0,bU.jsx)("div",{className:"sidebar-trigger__label",children:a})]})]})};gie.displayName="SidebarTrigger";N();N();var Lo=te(Fe());N();var Mi=te(Fe());N();var Rc=te(Fe());function aGe(e){let t=e+"CollectionProvider",[n,r]=Nb(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=v=>{let{scope:c,children:h}=v,m=Rc.default.useRef(null),U=Rc.default.useRef(new Map).current;return Rc.default.createElement(a,{scope:c,itemMap:U,collectionRef:m},h)},l=e+"CollectionSlot",d=Rc.default.forwardRef((v,c)=>{let{scope:h,children:m}=v,U=o(l,h),b=Td(c,U.collectionRef);return Rc.default.createElement(Yy,{ref:b},m)}),u=e+"CollectionItemSlot",f="data-radix-collection-item",p=Rc.default.forwardRef((v,c)=>{let{scope:h,children:m,...U}=v,b=Rc.default.useRef(null),w=Td(c,b),E=o(u,h);return Rc.default.useEffect(()=>(E.itemMap.set(b,{ref:b,...U}),()=>void E.itemMap.delete(b))),Rc.default.createElement(Yy,{[f]:"",ref:w},m)});function g(v){let c=o(e+"CollectionConsumer",v);return Rc.default.useCallback(()=>{let h=c.collectionRef.current;if(!h)return[];let m=Array.from(h.querySelectorAll(`[${f}]`));return Array.from(c.itemMap.values()).sort((U,b)=>m.indexOf(U.ref.current)-m.indexOf(b.ref.current))},[c.collectionRef,c.itemMap])}return[{Provider:s,Slot:d,ItemSlot:p},g,r]}N();var mie=te(Fe()),oGe=(0,mie.createContext)(void 0);function Uie(e){let t=(0,mie.useContext)(oGe);return e||t||"ltr"}var _9="rovingFocusGroup.onEntryFocus",sGe={bubbles:!1,cancelable:!0},sB="RovingFocusGroup",[QS,vie,lGe]=aGe(sB),[cGe,yie]=Nb(sB,[lGe]),[dGe,uGe]=cGe(sB),fGe=(0,Mi.forwardRef)((e,t)=>(0,Mi.createElement)(QS.Provider,{scope:e.__scopeRovingFocusGroup},(0,Mi.createElement)(QS.Slot,{scope:e.__scopeRovingFocusGroup},(0,Mi.createElement)(hGe,pr({},e,{ref:t}))))),hGe=(0,Mi.forwardRef)((e,t)=>{let{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:u,...f}=e,p=(0,Mi.useRef)(null),g=Td(t,p),v=Uie(o),[c=null,h]=VT({prop:s,defaultProp:l,onChange:d}),[m,U]=(0,Mi.useState)(!1),b=of(u),w=vie(n),E=(0,Mi.useRef)(!1),[x,C]=(0,Mi.useState)(0);return(0,Mi.useEffect)(()=>{let I=p.current;if(I)return I.addEventListener(_9,b),()=>I.removeEventListener(_9,b)},[b]),(0,Mi.createElement)(dGe,{scope:n,orientation:r,dir:v,loop:a,currentTabStopId:c,onItemFocus:(0,Mi.useCallback)(I=>h(I),[h]),onItemShiftTab:(0,Mi.useCallback)(()=>U(!0),[]),onFocusableItemAdd:(0,Mi.useCallback)(()=>C(I=>I+1),[]),onFocusableItemRemove:(0,Mi.useCallback)(()=>C(I=>I-1),[])},(0,Mi.createElement)(Yo.div,pr({tabIndex:m||x===0?-1:0,"data-orientation":r},f,{ref:g,style:{outline:"none",...e.style},onMouseDown:Ga(e.onMouseDown,()=>{E.current=!0}),onFocus:Ga(e.onFocus,I=>{let S=!E.current;if(I.target===I.currentTarget&&S&&!m){let M=new CustomEvent(_9,sGe);if(I.currentTarget.dispatchEvent(M),!M.defaultPrevented){let R=w().filter(re=>re.focusable),D=R.find(re=>re.active),L=R.find(re=>re.id===c),j=[D,L,...R].filter(Boolean).map(re=>re.ref.current);bie(j)}}E.current=!1}),onBlur:Ga(e.onBlur,()=>U(!1))})))}),pGe="RovingFocusGroupItem",gGe=(0,Mi.forwardRef)((e,t)=>{let{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:o,...s}=e,l=QT(),d=o||l,u=uGe(pGe,n),f=u.currentTabStopId===d,p=vie(n),{onFocusableItemAdd:g,onFocusableItemRemove:v}=u;return(0,Mi.useEffect)(()=>{if(r)return g(),()=>v()},[r,g,v]),(0,Mi.createElement)(QS.ItemSlot,{scope:n,id:d,focusable:r,active:a},(0,Mi.createElement)(Yo.span,pr({tabIndex:f?0:-1,"data-orientation":u.orientation},s,{ref:t,onMouseDown:Ga(e.onMouseDown,c=>{r?u.onItemFocus(d):c.preventDefault()}),onFocus:Ga(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:Ga(e.onKeyDown,c=>{if(c.key==="Tab"&&c.shiftKey){u.onItemShiftTab();return}if(c.target!==c.currentTarget)return;let h=vGe(c,u.orientation,u.dir);if(h!==void 0){c.preventDefault();let m=p().filter(U=>U.focusable).map(U=>U.ref.current);if(h==="last")m.reverse();else if(h==="prev"||h==="next"){h==="prev"&&m.reverse();let U=m.indexOf(c.currentTarget);m=u.loop?yGe(m,U+1):m.slice(U+1)}setTimeout(()=>bie(m))}})})))}),mGe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function UGe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function vGe(e,t,n){let r=UGe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return mGe[r]}function bie(e){let t=document.activeElement;for(let n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function yGe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var bGe=fGe,AGe=gGe,Aie="Tabs",[wGe,sJe]=Nb(Aie,[yie]),wie=yie(),[EGe,lB]=wGe(Aie),xGe=(0,Lo.forwardRef)((e,t)=>{let{__scopeTabs:n,value:r,onValueChange:a,defaultValue:o,orientation:s="horizontal",dir:l,activationMode:d="automatic",...u}=e,f=Uie(l),[p,g]=VT({prop:r,onChange:a,defaultProp:o});return(0,Lo.createElement)(EGe,{scope:n,baseId:QT(),value:p,onValueChange:g,orientation:s,dir:f,activationMode:d},(0,Lo.createElement)(Yo.div,pr({dir:f,"data-orientation":s},u,{ref:t})))}),_Ge="TabsList",CGe=(0,Lo.forwardRef)((e,t)=>{let{__scopeTabs:n,loop:r=!0,...a}=e,o=lB(_Ge,n),s=wie(n);return(0,Lo.createElement)(bGe,pr({asChild:!0},s,{orientation:o.orientation,dir:o.dir,loop:r}),(0,Lo.createElement)(Yo.div,pr({role:"tablist","aria-orientation":o.orientation},a,{ref:t})))}),SGe="TabsTrigger",IGe=(0,Lo.forwardRef)((e,t)=>{let{__scopeTabs:n,value:r,disabled:a=!1,...o}=e,s=lB(SGe,n),l=wie(n),d=Eie(s.baseId,r),u=xie(s.baseId,r),f=r===s.value;return(0,Lo.createElement)(AGe,pr({asChild:!0},l,{focusable:!a,active:f}),(0,Lo.createElement)(Yo.button,pr({type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d},o,{ref:t,onMouseDown:Ga(e.onMouseDown,p=>{!a&&p.button===0&&p.ctrlKey===!1?s.onValueChange(r):p.preventDefault()}),onKeyDown:Ga(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&s.onValueChange(r)}),onFocus:Ga(e.onFocus,()=>{let p=s.activationMode!=="manual";!f&&!a&&p&&s.onValueChange(r)})})))}),kGe="TabsContent",MGe=(0,Lo.forwardRef)((e,t)=>{let{__scopeTabs:n,value:r,forceMount:a,children:o,...s}=e,l=lB(kGe,n),d=Eie(l.baseId,r),u=xie(l.baseId,r),f=r===l.value,p=(0,Lo.useRef)(f);return(0,Lo.useEffect)(()=>{let g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),(0,Lo.createElement)(Y4,{present:a||f},({present:g})=>(0,Lo.createElement)(Yo.div,pr({"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:u,tabIndex:0},s,{ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0}}),g&&o))});function Eie(e,t){return`${e}-trigger-${t}`}function xie(e,t){return`${e}-content-${t}`}var _ie=xGe,Cie=CGe,Sie=IGe,Iie=MGe,TGe=te(Se(),1),kie=({children:e,...t})=>(0,TGe.jsx)(Cie,{className:"sidebar-triggers",...t,children:e});kie.displayName="SidebarTabTriggers";N();var pQ=te(Se(),1),Mie=({children:e,tab:t,onSelect:n,...r})=>(0,pQ.jsx)(Sie,{value:t,asChild:!0,onSelect:n,children:(0,pQ.jsx)("button",{type:"button",className:"excalidraw-button sidebar-tab-trigger",...r,children:e})});Mie.displayName="SidebarTabTrigger";N();var BGe=te(Se(),1),Tie=({children:e,...t})=>{let n=Xa(),r=ra();if(!n.openSidebar)return null;let{name:a}=n.openSidebar;return(0,BGe.jsx)(_ie,{className:"sidebar-tabs-root",value:n.openSidebar.tab,onValueChange:o=>r(s=>({...s,openSidebar:{...s.openSidebar,name:a,tab:o}})),...t,children:e})};Tie.displayName="SidebarTabs";N();var RGe=te(Se(),1),Bie=({tab:e,children:t,...n})=>(0,RGe.jsx)(Iie,{...n,value:e,"data-testid":e,children:t});Bie.displayName="SidebarTab";var gQ=te(Se(),1),DGe=te(Fe(),1),cB=Ya(!1),Rie=(0,vs.forwardRef)(({name:e,children:t,onDock:n,docked:r,className:a,...o},s)=>{gt.DEV&&n&&r==null&&console.warn("Sidebar: `docked` must be set when `onDock` is supplied for the sidebar to be user-dockable. To hide this message, either pass `docked` or remove `onDock`");let l=ra(),d=Lb(cB,ta);(0,vs.useLayoutEffect)(()=>(d(!!r),()=>{d(!1)}),[d,r]);let u=(0,vs.useRef)({});u.current.onCloseRequest=()=>{l({openSidebar:null})},u.current.onDock=v=>n==null?void 0:n(v),u.current=X3(u.current,{docked:r,shouldRenderDockButton:!!n&&r!=null});let f=(0,vs.useRef)(null);(0,vs.useImperativeHandle)(s,()=>f.current);let p=va(),g=(0,vs.useCallback)(()=>{document.querySelector(".Dialog")||l({openSidebar:null})},[l]);return XT(f,(0,vs.useCallback)(v=>{v.target.closest(".sidebar-trigger")||(!r||!p.editor.canFitSidebar)&&g()},[g,r,p.editor.canFitSidebar])),(0,vs.useEffect)(()=>{let v=c=>{c.key===ie.ESCAPE&&(!r||!p.editor.canFitSidebar)&&g()};return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[g,r,p.editor.canFitSidebar]),(0,gQ.jsx)(hc,{...o,className:bt("sidebar",{"sidebar--docked":r},a),ref:f,children:(0,gQ.jsx)(hie.Provider,{value:u.current,children:t})})});Rie.displayName="SidebarInner";var Yc=Object.assign((0,vs.forwardRef)((e,t)=>{var l;let n=Xa(),{onStateChange:r}=e,a=(0,vs.useRef)(n.openSidebar);(0,vs.useEffect)(()=>{var d,u,f,p,g;(!n.openSidebar&&((d=a==null?void 0:a.current)==null?void 0:d.name)===e.name||((u=n.openSidebar)==null?void 0:u.name)===e.name&&((f=a==null?void 0:a.current)==null?void 0:f.name)!==e.name||((p=a.current)==null?void 0:p.name)===e.name)&&n.openSidebar!==a.current&&(r==null||r(((g=n.openSidebar)==null?void 0:g.name)!==e.name?null:n.openSidebar)),a.current=n.openSidebar},[n.openSidebar,r,e.name]);let[o,s]=(0,vs.useState)(!1);return(0,vs.useLayoutEffect)(()=>(s(!0),()=>s(!1)),[]),o&&((l=n.openSidebar)==null?void 0:l.name)===e.name?(0,DGe.createElement)(Rie,{...e,ref:t,key:e.name}):null}),{Header:pie,TabTriggers:kie,TabTrigger:Mie,Tabs:Tie,Tab:Bie,Trigger:gie});Yc.displayName="Sidebar";N();var Die={};qX(Die,{ChangeCanvasBackground:()=>Gie,ClearCanvas:()=>Qie,CommandPalette:()=>jie,Export:()=>Wie,Help:()=>zie,LiveCollaborationTrigger:()=>Yie,LoadScene:()=>Nie,SaveAsImage:()=>Fie,SaveToActiveFile:()=>$ie,SearchMenu:()=>Oie,Socials:()=>Vie,ToggleTheme:()=>Hie});N();N();var Pie=Ya({active:!1});async function PGe({title:e,description:t,actionLabel:n,color:r}){return new Promise(a=>{ac.set(Pie,{active:!0,onConfirm:()=>a(!0),onClose:()=>a(!1),onReject:()=>a(!1),title:e,description:t,actionLabel:n,color:r})})}N();var F1=te(Se(),1),Lie=({value:e,shortcut:t,onChange:n,choices:r,children:a,name:o})=>{let s=va();return(0,F1.jsxs)(F1.Fragment,{children:[(0,F1.jsxs)("div",{className:"dropdown-menu-item-base dropdown-menu-item-bare",children:[(0,F1.jsx)("label",{className:"dropdown-menu-item__text",htmlFor:o,children:a}),(0,F1.jsx)(rie,{name:o,value:e,onChange:n,choices:r})]}),t&&!s.editor.isMobile&&(0,F1.jsx)("div",{className:"dropdown-menu-item__shortcut dropdown-menu-item__shortcut--orphaned",children:t})]})};Lie.displayName="DropdownMenuItemContentRadio";var LGe=Lie,yi=te(Se(),1),Nie=()=>{let{t:e}=Ka(),t=qo(),n=a7();return t.isActionEnabled(LS)?(0,yi.jsx)(Sl,{icon:VM,onSelect:async()=>{(!n.length||await PGe({title:e("overwriteConfirm.modal.loadFromFile.title"),actionLabel:e("overwriteConfirm.modal.loadFromFile.button"),color:"warning",description:(0,yi.jsx)(hd,{i18nKey:"overwriteConfirm.modal.loadFromFile.description",bold:r=>(0,yi.jsx)("strong",{children:r}),br:()=>(0,yi.jsx)("br",{})})}))&&t.executeAction(LS)},"data-testid":"load-button",shortcut:Qa("loadScene"),"aria-label":e("buttons.load"),children:e("buttons.load")}):null};Nie.displayName="LoadScene";var $ie=()=>{let{t:e}=Ka(),t=qo();return t.isActionEnabled(yz)?(0,yi.jsx)(Sl,{shortcut:Qa("saveScene"),"data-testid":"save-button",onSelect:()=>t.executeAction(yz),icon:KCe,"aria-label":`${e("buttons.save")}`,children:`${e("buttons.save")}`}):null};$ie.displayName="SaveToActiveFile";var Fie=()=>{let e=ra(),{t}=Ka();return(0,yi.jsx)(Sl,{icon:YZ,"data-testid":"image-export-button",onSelect:()=>e({openDialog:{name:"imageExport"}}),shortcut:Qa("imageExport"),"aria-label":t("buttons.exportImage"),children:t("buttons.exportImage")})};Fie.displayName="SaveAsImage";var jie=e=>{let t=ra(),{t:n}=Ka();return(0,yi.jsx)(Sl,{icon:aq,"data-testid":"command-palette-button",onSelect:()=>{yr("command_palette","open","menu"),t({openDialog:{name:"commandPalette"}})},shortcut:Qa("commandPalette"),"aria-label":n("commandPalette.title"),className:e==null?void 0:e.className,children:n("commandPalette.title")})};jie.displayName="CommandPalette";var Oie=e=>{let{t}=Ka(),n=qo();return(0,yi.jsx)(Sl,{icon:Q0,"data-testid":"search-menu-button",onSelect:()=>{n.executeAction(Jre)},shortcut:Qa("searchMenu"),"aria-label":t("search.title"),className:e==null?void 0:e.className,children:t("search.title")})};Oie.displayName="SearchMenu";var zie=()=>{let{t:e}=Ka(),t=qo();return(0,yi.jsx)(Sl,{"data-testid":"help-menu-item",icon:WM,onSelect:()=>t.executeAction(nB),shortcut:"?","aria-label":e("helpDialog.title"),children:e("helpDialog.title")})};zie.displayName="Help";var Qie=()=>{let{t:e}=Ka(),t=Lb(i7,ta);return qo().isActionEnabled(Gv)?(0,yi.jsx)(Sl,{icon:z0,onSelect:()=>t("clearCanvas"),"data-testid":"clear-canvas-button","aria-label":e("buttons.clearReset"),children:e("buttons.clearReset")}):null};Qie.displayName="ClearCanvas";var Hie=e=>{let{t}=Ka(),n=Xa(),r=qo(),a=Qa("toggleTheme");return r.isActionEnabled(uw)?e!=null&&e.allowSystemTheme?(0,yi.jsx)(LGe,{name:"theme",value:e.theme,onChange:o=>e.onSelect(o),choices:[{value:Un.LIGHT,label:XC,ariaLabel:`${t("buttons.lightMode")} - ${a}`},{value:Un.DARK,label:KC,ariaLabel:`${t("buttons.darkMode")} - ${a}`},{value:"system",label:nIe,ariaLabel:t("buttons.systemMode")}],children:t("labels.theme")}):(0,yi.jsx)(Sl,{onSelect:o=>{if(o.preventDefault(),e==null?void 0:e.onSelect)e.onSelect(n.theme===Un.DARK?Un.LIGHT:Un.DARK);else return r.executeAction(uw)},icon:n.theme===Un.DARK?XC:KC,"data-testid":"toggle-dark-mode",shortcut:a,"aria-label":n.theme===Un.DARK?t("buttons.lightMode"):t("buttons.darkMode"),children:n.theme===Un.DARK?t("buttons.lightMode"):t("buttons.darkMode")}):null};Hie.displayName="ToggleTheme";var Gie=()=>{let{t:e}=Ka(),t=Xa(),n=qo(),r=zb();return t.viewModeEnabled||!r.UIOptions.canvasActions.changeViewBackgroundColor?null:(0,yi.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,yi.jsx)("div",{"data-testid":"canvas-background-label",style:{fontSize:".75rem",marginBottom:".5rem"},children:e("labels.canvasBackground")}),(0,yi.jsx)("div",{style:{padding:"0 0.625rem"},children:n.renderAction("changeViewBackgroundColor")})]})};Gie.displayName="ChangeCanvasBackground";var Wie=()=>{let{t:e}=Ka(),t=ra();return(0,yi.jsx)(Sl,{icon:C4,onSelect:()=>{t({openDialog:{name:"jsonExport"}})},"data-testid":"json-export-button","aria-label":e("buttons.export"),children:e("buttons.export")})};Wie.displayName="Export";var Vie=()=>{let{t:e}=Ka();return(0,yi.jsxs)(yi.Fragment,{children:[(0,yi.jsx)(gA,{icon:VZ,href:"https://github.com/excalidraw/excalidraw","aria-label":"GitHub",children:"GitHub"}),(0,yi.jsx)(gA,{icon:VCe,href:"https://x.com/excalidraw","aria-label":"X",children:e("labels.followUs")}),(0,yi.jsx)(gA,{icon:WCe,href:"https://discord.gg/UexuTaE","aria-label":"Discord",children:e("labels.discordChat")})]})};Vie.displayName="Socials";var Yie=({onSelect:e,isCollaborating:t})=>{let{t:n}=Ka();return(0,yi.jsx)(Sl,{"data-testid":"collab-button",icon:ZZ,className:bt({"active-collab":t}),onSelect:e,children:n("labels.liveCollaboration")})};Yie.displayName="LiveCollaborationTrigger";N();var mQ=te(Fe(),1),NGe=te(Se(),1),jb=(e,t)=>{let n=Ya(0),r=a=>{let{jotaiScope:o}=Zo(),[,s]=si(n,o),l=(0,mQ.useRef)({preferHost:!1,counter:0});return(0,mQ.useLayoutEffect)(()=>{let d=l.current;return s(u=>{let f=u+1;return d.counter=f,f}),()=>{s(u=>{let f=u-1;return d.counter=f,f||(d.preferHost=!1),f})}},[s]),a.__fallback||(l.current.preferHost=!0),!l.current.counter&&a.__fallback&&l.current.preferHost||l.current.counter>1&&a.__fallback?null:(0,NGe.jsx)(t,{...a})};return r.displayName=e,r},kp=te(Se(),1),$Ge=Object.assign(jb("MainMenu",({children:e,onSelect:t})=>{var l;let{MainMenuTunnel:n}=Zo(),r=va(),a=Xa(),o=ra(),s=r.editor.isMobile?void 0:()=>o({openMenu:null});return(0,kp.jsx)(n.In,{children:(0,kp.jsxs)(Pr,{open:a.openMenu==="canvas",children:[(0,kp.jsx)(Pr.Trigger,{onToggle:()=>{o({openMenu:a.openMenu==="canvas"?null:"canvas"})},"data-testid":"main-menu-trigger",className:"main-menu-trigger",children:WZ}),(0,kp.jsxs)(Pr.Content,{onClickOutside:s,onSelect:w4(t,()=>{o({openMenu:null})}),children:[e,r.editor.isMobile&&a.collaborators.size>0&&(0,kp.jsxs)("fieldset",{className:"UserList-Wrapper",children:[(0,kp.jsx)("legend",{children:P("labels.collaborators")}),(0,kp.jsx)(uie,{mobile:!0,collaborators:a.collaborators,userToFollow:((l=a.userToFollow)==null?void 0:l.socketId)||null})]})]})]})})}),{Trigger:Pr.Trigger,Item:Pr.Item,ItemLink:Pr.ItemLink,ItemCustom:Pr.ItemCustom,Group:Pr.Group,Separator:Pr.Separator,DefaultItems:Die}),wo=$Ge;N();N();var g0=te(Se(),1),dB=({title:e,children:t,actionLabel:n,onClick:r})=>(0,g0.jsxs)("div",{className:"OverwriteConfirm__Actions__Action",children:[(0,g0.jsx)("h4",{children:e}),(0,g0.jsx)("div",{className:"OverwriteConfirm__Actions__Action__content",children:t}),(0,g0.jsx)(Yv,{variant:"outlined",color:"muted",label:n,size:"large",fullWidth:!0,onClick:r})]}),FGe=()=>{let{t:e}=Ka(),t=qo(),n=ra();return(0,g0.jsx)(dB,{title:e("overwriteConfirm.action.exportToImage.title"),actionLabel:e("overwriteConfirm.action.exportToImage.button"),onClick:()=>{t.executeAction(Are,"ui",!0),n({openDialog:{name:"imageExport"}})},children:e("overwriteConfirm.action.exportToImage.description")})},jGe=()=>{let{t:e}=Ka(),t=qo();return(0,g0.jsx)(dB,{title:e("overwriteConfirm.action.saveToDisk.title"),actionLabel:e("overwriteConfirm.action.saveToDisk.button"),onClick:()=>{t.executeAction(wre,"ui")},children:e("overwriteConfirm.action.saveToDisk.description")})},UQ=Object.assign(({children:e})=>(0,g0.jsx)("div",{className:"OverwriteConfirm__Actions",children:e}),{ExportToImage:FGe,SaveToDisk:jGe}),Dc=te(Se(),1),C9=Object.assign(jb("OverwriteConfirmDialog",({children:e})=>{let{OverwriteConfirmDialogTunnel:t}=Zo(),[n,r]=si(Pie,ta);if(!n.active)return null;let a=()=>{n.onClose(),r(s=>({...s,active:!1}))},o=()=>{n.onConfirm(),r(s=>({...s,active:!1}))};return(0,Dc.jsx)(t.In,{children:(0,Dc.jsx)(wc,{onCloseRequest:a,title:!1,size:916,children:(0,Dc.jsxs)("div",{className:"OverwriteConfirm",children:[(0,Dc.jsx)("h3",{children:n.title}),(0,Dc.jsxs)("div",{className:`OverwriteConfirm__Description OverwriteConfirm__Description--color-${n.color}`,children:[(0,Dc.jsx)("div",{className:"OverwriteConfirm__Description__icon",children:FSe}),(0,Dc.jsx)("div",{children:n.description}),(0,Dc.jsx)("div",{className:"OverwriteConfirm__Description__spacer"}),(0,Dc.jsx)(Yv,{color:n.color,size:"large",label:n.actionLabel,onClick:o})]}),(0,Dc.jsx)(UQ,{children:e})]})})})}),{Actions:UQ,Action:dB});N();N();var Zs=te(Fe(),1),OGe=te(cne(),1),zi=te(Se(),1),zGe=Ya(""),Kie=Ya(null),QGe=350,HGe=()=>{let e=Ld(),t=ra(),n=(0,Zs.useRef)(null),[r,a]=si(zGe,ta),o=r.trim(),[s,l]=(0,Zs.useState)(!1),[d,u]=(0,Zs.useState)({nonce:null,items:[]}),f=(0,Zs.useRef)(null),p=(0,Zs.useRef)(void 0),[g,v]=si(Kie,ta),c=e.scene.getNonDeletedElementsMap();(0,Zs.useEffect)(()=>{s||(o!==f.current||e.scene.getSceneNonce()!==p.current)&&(f.current=null,vQ(o,e,(w,E)=>{u({nonce:kd(),items:w}),f.current=o,p.current=e.scene.getSceneNonce(),t({searchMatches:w.map(x=>({id:x.textElement.id,focus:!1,matchedLines:x.matchedLines}))})}))},[s,o,c,e,t,v,p]);let h=()=>{d.items.length>0&&v(w=>w===null?0:(w+1)%d.items.length)},m=()=>{d.items.length>0&&v(w=>w===null?0:w-1<0?d.items.length-1:w-1)};(0,Zs.useEffect)(()=>{t(w=>({searchMatches:w.searchMatches.map((E,x)=>x===g?{...E,focus:!0}:{...E,focus:!1})}))},[g,t]),(0,Zs.useEffect)(()=>{var w,E,x,C;if(d.items.length>0&&g!==null){let I=d.items[g];if(I){let S=e.state.zoom.value,M=Vo({text:I.searchQuery,x:I.textElement.x+(((w=I.matchedLines[0])==null?void 0:w.offsetX)??0),y:I.textElement.y+(((E=I.matchedLines[0])==null?void 0:E.offsetY)??0),width:(x=I.matchedLines[0])==null?void 0:x.width,height:(C=I.matchedLines[0])==null?void 0:C.height,fontSize:I.textElement.fontSize,fontFamily:I.textElement.fontFamily}),R=14,D=I.textElement.fontSize,L=D*S<R;if(!sA([M],e.canvas.width/window.devicePixelRatio,e.canvas.height/window.devicePixelRatio,{offsetLeft:e.state.offsetLeft,offsetTop:e.state.offsetTop,scrollX:e.state.scrollX,scrollY:e.state.scrollY,zoom:e.state.zoom},e.scene.getNonDeletedElementsMap(),e.getEditorUIOffsets())||L){let j;L?D>=R?j={fitToContent:!0}:j={fitToViewport:!0,maxZoom:Fu(R/D,1)}:j={fitToContent:!0},e.scrollToContent(M,{animate:!0,duration:300,...j,canvasOffsets:e.getEditorUIOffsets()})}}}},[g,d,e]),(0,Zs.useEffect)(()=>()=>{v(null),f.current=null,p.current=void 0,t({searchMatches:[]}),l(!1)},[t,v]);let U=Z4({goToNextItem:h,goToPreviousItem:m,searchMatches:d});(0,Zs.useEffect)(()=>zr(window,"keydown",E=>{var x,C,I;if(E.key===ie.ESCAPE&&!e.state.openDialog&&!e.state.openPopup){E.preventDefault(),E.stopPropagation(),t({openSidebar:null});return}E[ie.CTRL_OR_CMD]&&E.key===ie.F&&(E.preventDefault(),E.stopPropagation(),(x=n.current)!=null&&x.matches(":focus")?t({openSidebar:null}):(e.state.openDialog&&t({openDialog:null}),(C=n.current)==null||C.focus(),(I=n.current)==null||I.select())),E.target instanceof HTMLElement&&E.target.closest(".layer-ui__search")&&U.searchMatches.items.length&&(E.key===ie.ENTER&&(E.stopPropagation(),U.goToNextItem()),E.key===ie.ARROW_UP?(E.stopPropagation(),U.goToPreviousItem()):E.key===ie.ARROW_DOWN&&(E.stopPropagation(),U.goToNextItem()))},{capture:!0,passive:!1}),[t,U,e]);let b=`${d.items.length} ${d.items.length===1?P("search.singleResult"):P("search.multipleResults")}`;return(0,zi.jsxs)("div",{className:"layer-ui__search",children:[(0,zi.jsx)("div",{className:"layer-ui__search-header",children:(0,zi.jsx)(aB,{className:Tm.SEARCH_MENU_INPUT_WRAPPER,value:r,ref:n,placeholder:P("search.placeholder"),icon:Q0,onChange:w=>{a(w),l(!0);let E=w.trim();vQ(E,e,(x,C)=>{u({nonce:kd(),items:x}),v(C),f.current=E,p.current=e.scene.getSceneNonce(),t({searchMatches:x.map(I=>({id:I.textElement.id,focus:!1,matchedLines:I.matchedLines}))}),l(!1)})},selectOnRender:!0})}),(0,zi.jsxs)("div",{className:"layer-ui__search-count",children:[d.items.length>0&&(0,zi.jsxs)(zi.Fragment,{children:[g!==null&&g>-1?(0,zi.jsxs)("div",{children:[g+1," / ",b]}):(0,zi.jsx)("div",{children:b}),(0,zi.jsxs)("div",{className:"result-nav",children:[(0,zi.jsx)(Km,{onSelect:()=>{h()},className:"result-nav-btn",children:sq}),(0,zi.jsx)(Km,{onSelect:()=>{m()},className:"result-nav-btn",children:dIe})]})]}),d.items.length===0&&o&&f.current&&(0,zi.jsx)("div",{style:{margin:"1rem auto"},children:P("search.noMatch")})]}),(0,zi.jsx)(YGe,{matches:d,onItemClick:v,focusIndex:g,searchQuery:o})]})},GGe=e=>{let t=[e.preview.moreBefore?"...":"",e.preview.previewText.slice(0,e.preview.indexInSearchQuery),e.preview.previewText.slice(e.preview.indexInSearchQuery,e.preview.indexInSearchQuery+e.searchQuery.length),e.preview.previewText.slice(e.preview.indexInSearchQuery+e.searchQuery.length),e.preview.moreAfter?"...":""];return(0,zi.jsx)("div",{tabIndex:-1,className:bt("layer-ui__result-item",{active:e.highlighted}),onClick:e.onClick,ref:n=>{e.highlighted&&(n==null||n.scrollIntoView({behavior:"auto",block:"nearest"}))},children:(0,zi.jsx)("div",{className:"preview-text",children:t.flatMap((n,r)=>(0,zi.jsx)(Zs.Fragment,{children:r===2?(0,zi.jsx)("b",{children:n}):n},r))})})},WGe=e=>(0,zi.jsx)("div",{className:"layer-ui__search-result-container",children:e.matches.items.map((t,n)=>(0,zi.jsx)(GGe,{searchQuery:e.searchQuery,preview:t.preview,highlighted:n===e.focusIndex,onClick:()=>e.onItemClick(n)},t.textElement.id+t.index))}),VGe=(e,t)=>e.matches.nonce===t.matches.nonce&&e.focusIndex===t.focusIndex,YGe=(0,Zs.memo)(WGe,VGe),KGe=(e,t,n)=>{let r=e.slice(0,t),a=r.split(/\s+/),o=r.endsWith(" "),s=a.length-2-1-(o?0:1),l=a.slice(s<=0?0:s).join(" ")+(o?" ":""),d=20;l=l.length>d?l.slice(-d):l;let u=e.slice(t+n.length),f=u.split(/\s+/),p=!u.startsWith(" "),g=p?6:5,v=(p?"":" ")+f.slice(0,g).join(" ");return{indexInSearchQuery:l.length,previewText:l+n+v,moreBefore:s>0,moreAfter:f.length>g}},XGe=(e,t)=>{let n=e.split(`
`),r=[],a=0;for(let o=0;o<n.length;o++){let s=n[o],l=n[o+1];if(l){let d=t.indexOf(l,a);if(d>s.length+a){let u=d-(s.length+a);for(;u>0;)s+=" ",u--}}r.push(s),a=a+s.length}return r.join(`
`)},ZGe=(e,t,n)=>{let r=XGe(e.text,e.originalText).split(`
`),a=[],o=0,s=0;for(let f of r){let p=o,g=p+f.length-1;a.push({line:f,startIndex:p,endIndex:g,lineNumber:s}),o=g+1,s++}let l=n,d=e.originalText.slice(n,n+t.length),u=[];for(let f of a){if(d==="")break;if(l>=f.startIndex&&l<=f.endIndex){let p=f.endIndex+1-l,g=f.line.slice(0,l-f.startIndex),v=d.slice(0,p);d=d.slice(p);let c=Ha(g,Xn(e),e.lineHeight,!0);if(g===""&&(c.width=0),e.textAlign!=="left"&&f.line.length>0){let w=Ha(f.line,Xn(e),e.lineHeight,!0),E=e.textAlign==="center"?(e.width-w.width)/2:e.width-w.width;c.width+=E}let{width:h,height:m}=Ha(v,Xn(e),e.lineHeight),U=c.width,b=f.lineNumber*c.height;u.push({offsetX:U,offsetY:b,width:h,height:m}),l+=p}}return u},qGe=e=>e.replace(/[.*+?^${}()|[\]\\-]/g,"\\$&"),vQ=(0,OGe.debounce)((e,t,n)=>{if(!e||e===""){n([],null);return}let r=t.scene.getNonDeletedElements().filter(d=>pt(d));r.sort((d,u)=>d.y-u.y);let a=[],o=new RegExp(qGe(e),"gi");for(let d of r){let u=null,f=d.originalText;for(;(u=o.exec(f))!==null;){let p=KGe(f,u.index,e),g=ZGe(d,e,u.index);g.length>0&&a.push({textElement:d,searchQuery:e,preview:p,index:u.index,matchedLines:g})}}let s=new Set(t.visibleElements.map(d=>d.id)),l=a.findIndex(d=>s.has(d.textElement.id))??null;n(a,l)},QGe),gs=te(Se(),1),JGe=te(Fe(),1),Xie=jb("DefaultSidebarTrigger",e=>{let{DefaultSidebarTriggerTunnel:t}=Zo();return(0,gs.jsx)(t.In,{children:(0,gs.jsx)(Yc.Trigger,{...e,className:"default-sidebar-trigger",name:uc.name})})});Xie.displayName="DefaultSidebarTrigger";var Zie=({children:e})=>{let{DefaultSidebarTabTriggersTunnel:t}=Zo();return(0,gs.jsx)(t.In,{children:e})};Zie.displayName="DefaultTabTriggers";var yQ=Object.assign(jb("DefaultSidebar",({children:e,className:t,onDock:n,docked:r,...a})=>{var u;let o=Xa(),s=ra(),{DefaultSidebarTabTriggersTunnel:l}=Zo(),d=((u=o.openSidebar)==null?void 0:u.tab)===tm;return(0,JGe.createElement)(Yc,{...a,name:"default",key:"default",className:bt("default-sidebar",t),docked:d||(r??o.defaultSidebarDockedPreference),onDock:d||n===!1||!n&&r!=null?void 0:w4(n,f=>{s({defaultSidebarDockedPreference:f})})},(0,gs.jsxs)(Yc.Tabs,{children:[(0,gs.jsx)(Yc.Header,{children:(0,gs.jsxs)(Yc.TabTriggers,{children:[(0,gs.jsx)(Yc.TabTrigger,{tab:tm,children:Q0}),(0,gs.jsx)(Yc.TabTrigger,{tab:S8,children:HM}),(0,gs.jsx)(l.Out,{})]})}),(0,gs.jsx)(Yc.Tab,{tab:S8,children:(0,gs.jsx)(_Qe,{})}),(0,gs.jsx)(Yc.Tab,{tab:tm,children:(0,gs.jsx)(HGe,{})}),e]}))}),{Trigger:Xie,TabTriggers:Zie});N();var S9=te(Se(),1),eWe="small",tWe=e=>(0,S9.jsxs)("label",{className:bt("ToolIcon ToolIcon__LaserPointer",`ToolIcon_size_${eWe}`,{"is-mobile":e.isMobile}),title:`${e.title}`,children:[(0,S9.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title,"data-testid":"toolbar-LaserPointer"}),(0,S9.jsx)("div",{className:"ToolIcon__icon",children:rq})]});N();N();var Mp=te(Fe(),1);N();var nWe=({canvasRef:e,setError:t})=>{let n=e.current;if(!n)return;let r=n.parentElement;r&&(r.style.background="",t(null),n.replaceChildren())},qie=async({canvasRef:e,mermaidToExcalidrawLib:t,mermaidDefinition:n,setError:r,data:a})=>{let o=e.current,s=o==null?void 0:o.parentElement;if(!(!o||!s)){if(!n){nWe({canvasRef:e,setError:r});return}try{let l=await t.api,d;try{d=await l.parseMermaidToExcalidraw(n)}catch{d=await l.parseMermaidToExcalidraw(n.replace(/"/g,"'"))}let{elements:u,files:f}=d;r(null),a.current={elements:Ah(u,{regenerateIds:!0}),files:f};let p=await CT({elements:a.current.elements,files:a.current.files,exportPadding:d2,maxWidthOrHeight:Math.max(s.offsetWidth,s.offsetHeight)*window.devicePixelRatio});try{await Gy(p)}catch(g){throw g.name==="CANVAS_POSSIBLY_TOO_BIG"?new Error(P("canvasError.canvasTooBig")):g}s.style.background="var(--default-bg-color)",o.replaceChildren(p)}catch(l){throw s.style.background="var(--default-bg-color)",n&&r(l),l}}},uB=e=>{Vv.set(Pv.MERMAID_TO_EXCALIDRAW,e)},Jie=({app:e,data:t,text:n,shouldSaveMermaidDataToStorage:r})=>{let{elements:a,files:o}=t.current;a.length&&(e.addElementsFromPasteOrLibrary({elements:a,files:o,position:"center",fitToContent:!0}),e.setOpenDialog(null),r&&n&&uB(n))};N();var rWe=te(Se(),1),eae=({children:e})=>(0,rWe.jsx)("div",{className:"ttd-dialog-panels",children:e});N();var Nf=te(Se(),1),mw=({label:e,children:t,panelAction:n,panelActionDisabled:r=!1,onTextSubmitInProgess:a,renderTopRight:o,renderSubmitShortcut:s,renderBottomRight:l})=>(0,Nf.jsxs)("div",{className:"ttd-dialog-panel",children:[(0,Nf.jsxs)("div",{className:"ttd-dialog-panel__header",children:[(0,Nf.jsx)("label",{children:e}),o==null?void 0:o()]}),t,(0,Nf.jsxs)("div",{className:bt("ttd-dialog-panel-button-container",{invisible:!n}),style:{display:"flex",alignItems:"center"},children:[(0,Nf.jsxs)(Km,{className:"ttd-dialog-panel-button",onSelect:n?n.action:()=>{},disabled:r||a,children:[(0,Nf.jsxs)("div",{className:bt({invisible:a}),children:[n==null?void 0:n.label,(n==null?void 0:n.icon)&&(0,Nf.jsx)("span",{children:n.icon})]}),a&&(0,Nf.jsx)(af,{})]}),!r&&!a&&(s==null?void 0:s()),l==null?void 0:l()]})]});N();var I9=te(Fe(),1),iWe=te(Se(),1),tae=({input:e,placeholder:t,onChange:n,onKeyboardSubmit:r})=>{let a=(0,I9.useRef)(null),o=(0,I9.useRef)(r);return o.current=r,(0,I9.useEffect)(()=>{if(!o.current)return;let s=a.current;if(s){let l=d=>{var u;d[ie.CTRL_OR_CMD]&&d.key===ie.ENTER&&(d.preventDefault(),(u=o.current)==null||u.call(o))};return s.addEventListener("keydown",l),()=>{s.removeEventListener("keydown",l)}}},[]),(0,iWe.jsx)("textarea",{className:"ttd-dialog-input",onChange:n,value:e,placeholder:t,autoFocus:!0,ref:a})};N();var Og=te(Se(),1),aWe=({error:e})=>(0,Og.jsxs)("div",{"data-testid":"ttd-dialog-output-error",className:"ttd-dialog-output-error",children:["Error! ",(0,Og.jsx)("p",{children:e})]}),nae=({error:e,canvasRef:t,loaded:n})=>(0,Og.jsxs)("div",{className:"ttd-dialog-output-wrapper",children:[e&&(0,Og.jsx)(aWe,{error:e.message}),n?(0,Og.jsx)("div",{ref:t,style:{opacity:e?"0.15":1},className:"ttd-dialog-output-canvas-container"}):(0,Og.jsx)(af,{size:"2rem"})]});N();var k9=te(Se(),1),rae=()=>(0,k9.jsxs)("div",{className:"ttd-dialog-submit-shortcut",children:[(0,k9.jsx)("div",{className:"ttd-dialog-submit-shortcut__key",children:Ne("CtrlOrCmd")}),(0,k9.jsx)("div",{className:"ttd-dialog-submit-shortcut__key",children:Ne("Enter")})]}),cs=te(Se(),1),oWe=`flowchart TD
 A[Christmas] -->|Get money| B(Go shopping)
 B --> C{Let me think}
 C -->|One| D[Laptop]
 C -->|Two| E[iPhone]
 C -->|Three| F[Car]`,bQ=Pm(uB,300),sWe=({mermaidToExcalidrawLib:e})=>{let[t,n]=(0,Mp.useState)(()=>Vv.get(Pv.MERMAID_TO_EXCALIDRAW)||oWe),r=(0,Mp.useDeferredValue)(t.trim()),[a,o]=(0,Mp.useState)(null),s=(0,Mp.useRef)(null),l=(0,Mp.useRef)({elements:[],files:null}),d=Ld();(0,Mp.useEffect)(()=>{qie({canvasRef:s,data:l,mermaidToExcalidrawLib:e,setError:o,mermaidDefinition:r}).catch(f=>{SZ()&&console.error("Failed to parse mermaid definition",f)}),bQ(r)},[r,e]),(0,Mp.useEffect)(()=>()=>{bQ.flush()},[]);let u=()=>{Jie({app:d,data:l,text:t,shouldSaveMermaidDataToStorage:!0})};return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)("div",{className:"ttd-dialog-desc",children:(0,cs.jsx)(hd,{i18nKey:"mermaid.description",flowchartLink:f=>(0,cs.jsx)("a",{href:"https://mermaid.js.org/syntax/flowchart.html",children:f}),sequenceLink:f=>(0,cs.jsx)("a",{href:"https://mermaid.js.org/syntax/sequenceDiagram.html",children:f}),classLink:f=>(0,cs.jsx)("a",{href:"https://mermaid.js.org/syntax/classDiagram.html",children:f})})}),(0,cs.jsxs)(eae,{children:[(0,cs.jsx)(mw,{label:P("mermaid.syntax"),children:(0,cs.jsx)(tae,{input:t,placeholder:"Write Mermaid diagram defintion here...",onChange:f=>n(f.target.value),onKeyboardSubmit:()=>{u()}})}),(0,cs.jsx)(mw,{label:P("mermaid.preview"),panelAction:{action:()=>{u()},label:P("mermaid.button"),icon:eA},renderSubmitShortcut:()=>(0,cs.jsx)(rae,{}),children:(0,cs.jsx)(nae,{canvasRef:s,loaded:e.loaded,error:a})})]})]})},lWe=sWe;N();var AQ=te(Fe(),1),cWe=te(Se(),1),iae=e=>{let t=ra(),n=(0,AQ.useRef)(null),r=(0,AQ.useRef)(0);return(0,cWe.jsx)(_ie,{ref:n,className:"ttd-dialog-tabs-root",value:e.tab,onValueChange:a=>{var s;if(!a)return;let o=(s=n.current)==null?void 0:s.closest(".Modal__content");if(o){let l=o.offsetHeight||0;l>r.current&&(r.current=l,o.style.minHeight=`min(${r.current}px, 100%)`)}e.dialog==="ttd"&&kZ(["text-to-diagram","mermaid"],a)&&t({openDialog:{name:e.dialog,tab:a}})},children:e.children})};iae.displayName="TTDDialogTabs";var dWe=iae,$f=te(Fe(),1);N();var uWe=te(Se(),1),aae=({children:e,...t})=>(0,uWe.jsx)(Cie,{className:"ttd-dialog-triggers",...t,children:e});aae.displayName="TTDDialogTabTriggers";N();var wQ=te(Se(),1),HS=({children:e,tab:t,onSelect:n,...r})=>(0,wQ.jsx)(Sie,{value:t,asChild:!0,onSelect:n,children:(0,wQ.jsx)("button",{type:"button",className:"ttd-dialog-tab-trigger",...r,children:e})});HS.displayName="TTDDialogTabTrigger";N();var fWe=te(Se(),1),GS=({tab:e,children:t,...n})=>(0,fWe.jsx)(Iie,{...n,value:e,children:t});GS.displayName="TTDDialogTab";var Xr=te(Se(),1),M9=3,j1=1e3,hWe=Ya(null),pWe=Ya(null),gWe=e=>{var n;let t=Xa();return((n=t.openDialog)==null?void 0:n.name)!=="ttd"?null:(0,Xr.jsx)(mWe,{...e,tab:t.openDialog.tab})},mWe=jb("TTDDialogBase",({tab:e,...t})=>{let n=Ld(),r=ra(),a=(0,$f.useRef)(null),[o,s]=si(pWe),[l,d]=(0,$f.useState)((o==null?void 0:o.prompt)??""),u=l.trim(),f=C=>{d(C.target.value),s(I=>({generatedResponse:(I==null?void 0:I.generatedResponse)??null,prompt:C.target.value}))},[p,g]=(0,$f.useState)(!1),[v,c]=si(hWe),h=async()=>{if(u.length>j1||u.length<M9||p||(v==null?void 0:v.rateLimitRemaining)===0||"__fallback"in t){u.length<M9&&x(new Error(`Prompt is too short (min ${M9} characters)`)),u.length>j1&&x(new Error(`Prompt is too long (max ${j1} characters)`));return}try{g(!0),yr("ai","generate","ttd");let{generatedResponse:C,error:I,rateLimit:S,rateLimitRemaining:M}=await t.onTextSubmit(u);if(typeof C=="string"&&s(R=>({generatedResponse:C,prompt:(R==null?void 0:R.prompt)??null})),Lv(S)&&Lv(M)&&c({rateLimit:S,rateLimitRemaining:M}),I){x(I);return}if(!C){x(new Error("Generation failed"));return}try{await qie({canvasRef:a,data:w,mermaidToExcalidrawLib:U,setError:x,mermaidDefinition:C}),yr("ai","mermaid parse success","ttd")}catch(R){console.info(`%cTTD mermaid render errror: ${R.message}`,"color: red"),console.info(`>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
TTD mermaid definition render errror: ${R.message}`,"color: yellow"),yr("ai","mermaid parse failed","ttd"),x(new Error("Generated an invalid diagram :(. You may also try a different prompt."))}}catch(C){let I=C.message;(!I||I==="Failed to fetch")&&(I="Request failed"),x(new Error(I))}finally{g(!1)}},m=(0,$f.useRef)(h);m.current=h;let[U,b]=(0,$f.useState)({loaded:!1,api:Ye(()=>import("./dist-QNDTTFGF-D6LxGARR.js").then(C=>C.b7),[],import.meta.url)});(0,$f.useEffect)(()=>{(async()=>(await U.api,b(C=>({...C,loaded:!0}))))()},[U.api]);let w=(0,$f.useRef)({elements:[],files:null}),[E,x]=(0,$f.useState)(null);return(0,Xr.jsx)(wc,{className:"ttd-dialog",onCloseRequest:()=>{n.setOpenDialog(null)},size:1200,title:!1,...t,autofocus:!1,children:(0,Xr.jsxs)(dWe,{dialog:"ttd",tab:e,children:["__fallback"in t&&t.__fallback?(0,Xr.jsx)("p",{className:"dialog-mermaid-title",children:P("mermaid.title")}):(0,Xr.jsxs)(aae,{children:[(0,Xr.jsx)(HS,{tab:"text-to-diagram",children:(0,Xr.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[P("labels.textToDiagram"),(0,Xr.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"1px 6px",marginLeft:"10px",fontSize:10,borderRadius:"12px",background:"var(--color-promo)",color:"var(--color-surface-lowest)"},children:"AI Beta"})]})}),(0,Xr.jsx)(HS,{tab:"mermaid",children:"Mermaid"})]}),(0,Xr.jsx)(GS,{className:"ttd-dialog-content",tab:"mermaid",children:(0,Xr.jsx)(lWe,{mermaidToExcalidrawLib:U})}),!("__fallback"in t)&&(0,Xr.jsxs)(GS,{className:"ttd-dialog-content",tab:"text-to-diagram",children:[(0,Xr.jsx)("div",{className:"ttd-dialog-desc",children:"Currently we use Mermaid as a middle step, so you'll get best results if you describe a diagram, workflow, flow chart, and similar."}),(0,Xr.jsxs)(eae,{children:[(0,Xr.jsx)(mw,{label:P("labels.prompt"),panelAction:{action:h,label:"Generate",icon:eA},onTextSubmitInProgess:p,panelActionDisabled:u.length>j1||(v==null?void 0:v.rateLimitRemaining)===0,renderTopRight:()=>v?(0,Xr.jsxs)("div",{className:"ttd-dialog-rate-limit",style:{fontSize:12,marginLeft:"auto",color:v.rateLimitRemaining===0?"var(--color-danger)":void 0},children:[v.rateLimitRemaining," requests left today"]}):null,renderSubmitShortcut:()=>(0,Xr.jsx)(rae,{}),renderBottomRight:()=>{if(typeof(o==null?void 0:o.generatedResponse)=="string")return(0,Xr.jsxs)("div",{className:"excalidraw-link",style:{marginLeft:"auto",fontSize:14},onClick:()=>{typeof(o==null?void 0:o.generatedResponse)=="string"&&(uB(o.generatedResponse),r({openDialog:{name:"ttd",tab:"mermaid"}}))},children:["View as Mermaid",(0,Xr.jsx)(r7,{icon:eA})]});let C=u.length/j1;return C>.8?(0,Xr.jsxs)("div",{style:{marginLeft:"auto",fontSize:12,fontFamily:"monospace",color:C>1?"var(--color-danger)":void 0},children:["Length: ",u.length,"/",j1]}):null},children:(0,Xr.jsx)(tae,{onChange:f,input:l,placeholder:"Describe what you want to see...",onKeyboardSubmit:()=>{m.current()}})}),(0,Xr.jsx)(mw,{label:"Preview",panelAction:{action:()=>{console.info("Panel action clicked"),Jie({app:n,data:w})},label:"Insert",icon:eA},children:(0,Xr.jsx)(nae,{canvasRef:a,error:E,loaded:U.loaded})})]})]})]})})});N();var O1=te(Fe(),1),UWe=te(cne(),1);N();N();var Tp=te(Fe(),1);N();var vWe=.01,sf=(e,t)=>!(t==="height"&&pt(e)||t==="width"&&pt(e)||t==="angle"&&en(e)),Oa=(e,t)=>{let n=e+t/2;return n-n%t},Uw=(e,t,n)=>Object.keys(e).map(r=>({original:(n??t).get(r),latest:t.get(r)})).filter(r=>r.original!==void 0&&r.latest!==void 0),eb=(e,t,n,r,a,o,s,l=!0)=>{let d=r.get(n.id);if(!d)return;let[u,f]=[n.x+n.width/2,n.y+n.height/2],[p,g]=De($(n.x,n.y),$(u,f),n.angle),v=e-p,c=t-g,[h,m]=De($(e,t),$(u+v,f+c),-n.angle);Qe(d,{x:h,y:m},l),WS(d,r,a,o);let U=on(n,s);if(U){let b=r.get(U.id);b&&Qe(b,{x:U.x+v,y:U.y+c},l)}},fB=(e,t)=>{let n=I0(t).map(r=>mi(e,r).reduce((a,o)=>(a[o.id]=!0,a),{}));return e.filter(r=>!Om(r)).forEach(r=>{n.push({[r.id]:!0})}),n},WS=(e,t,n,r,a)=>{rn(e)?Q8([e],t,n,r,!0,[],a==null?void 0:a.zoom):_s(e,t,a)},X5=te(Se(),1),yWe=({label:e,icon:t,dragInputCallback:n,value:r,elements:a,editable:o=!0,shouldKeepAspectRatio:s,property:l,scene:d,appState:u,sensitivity:f=1})=>{let p=Ld(),g=(0,Tp.useRef)(null),v=(0,Tp.useRef)(null),[c,h]=(0,Tp.useState)(r.toString()),m=(0,Tp.useRef)(null);m.current||(m.current={originalAppState:ju(u),originalElements:a,lastUpdatedValue:c,updatePending:!1}),(0,Tp.useEffect)(()=>{let w=r.toString();h(w),m.current.lastUpdatedValue=w},[r]);let U=(w,E,x)=>{if(!m.current.updatePending)return!1;m.current.updatePending=!1;let C=Number(w);if(isNaN(C)){h(r.toString());return}let I=Number(C.toFixed(2)),S=Number(r);(isNaN(S)||Math.abs(I-S)>=vWe)&&(m.current.lastUpdatedValue=w,n({accumulatedChange:0,instantChange:0,originalElements:E,originalElementsMap:p.scene.getNonDeletedElementsMap(),shouldKeepAspectRatio:s,shouldChangeByStepSize:!1,scene:d,nextValue:I,property:l,originalAppState:x,setInputValue:M=>h(String(M))}),p.syncActionResult({storeAction:Me.CAPTURE}))},b=(0,Tp.useRef)({});return b.current.handleInputValue=U,(0,Tp.useEffect)(()=>{let w=g.current,E=b.current;return()=>{var C;let x=w==null?void 0:w.value;x&&((C=E.handleInputValue)==null||C.call(E,x,m.current.originalElements,m.current.originalAppState)),window.removeEventListener("pointermove",E.onPointerMove,!1),window.removeEventListener("pointerup",E.onPointerUp,!1)}},[o]),o?(0,X5.jsxs)("div",{className:bt("drag-input-container",!o&&"disabled"),"data-testid":e,children:[(0,X5.jsx)("div",{className:"drag-input-label",ref:v,onPointerDown:w=>{if(g.current&&o){document.body.classList.add("excalidraw-cursor-resize"),Number(g.current.value);let E=null,x=p.scene.getNonDeletedElements().reduce((L,j)=>(L.set(j.id,p2(j)),L),new Map),C=a.map(L=>x.get(L.id)),I=ju(u),S=0,M=0,R=L=>{if(E&&x!==null&&C!==null){let j=L.clientX-E.x;j!==0&&(M+=j,Math.abs(M)>=f&&(M=Math.sign(M)*Math.floor(Math.abs(M)/f),S+=M,n({accumulatedChange:S,instantChange:M,originalElements:C,originalElementsMap:x,shouldKeepAspectRatio:s,shouldChangeByStepSize:L.shiftKey,property:l,scene:d,originalAppState:I,setInputValue:re=>h(String(re))}),M=0))}E={x:L.clientX,y:L.clientY}},D=()=>{window.removeEventListener("pointermove",R,!1),p.syncActionResult({storeAction:Me.CAPTURE}),E=null,S=0,M=0,C=null,x=null,document.body.classList.remove("excalidraw-cursor-resize"),window.removeEventListener("pointerup",D,!1)};b.current.onPointerMove=R,b.current.onPointerUp=D,window.addEventListener("pointermove",R,!1),window.addEventListener("pointerup",D,!1)}},onPointerEnter:()=>{v.current&&(v.current.style.cursor="ew-resize")},children:t?(0,X5.jsx)(r7,{icon:t}):e}),(0,X5.jsx)("input",{className:"drag-input",autoComplete:"off",spellCheck:"false",onKeyDown:w=>{if(o){let E=w.target;E instanceof HTMLInputElement&&w.key===ie.ENTER&&(U(E.value,a,u),p.focusContainer())}},ref:g,value:c,onChange:w=>{m.current.updatePending=!0,h(w.target.value)},onFocus:w=>{w.target.select(),m.current.originalElements=a,m.current.originalAppState=ju(u)},onBlur:w=>{c?o&&U(w.target.value,m.current.originalElements,m.current.originalAppState):h(r.toString())},disabled:!o})]}):null},mf=yWe,bWe=te(Se(),1),EQ=10,AWe=e=>e.type==="image",wWe=({accumulatedChange:e,originalElements:t,originalElementsMap:n,shouldKeepAspectRatio:r,shouldChangeByStepSize:a,nextValue:o,property:s,originalAppState:l,instantChange:d,scene:u})=>{let f=u.getNonDeletedElementsMap(),p=t[0],g=f.get(p.id);if(p&&g){let v=r||AWe(p),c=p.width/p.height;if(l.croppingElementId===p.id){let w=f.get(p.id);if(!w||!zn(w)||!w.crop)return;let E=w.crop,x={...E},C=w.scale[0]===-1,I=w.scale[1]===-1,{width:S,height:M}=Ju(w),R=E.naturalWidth/S,D=E.naturalHeight/M,L=C?E.width+E.x:E.naturalWidth-E.x,j=I?E.height+E.y:E.naturalHeight-E.y,re=la*R,J=la*D;if(o!==void 0){if(s==="width"){let O=o*R,V=Rn(O,re,L);x={...x,width:V,x:C?E.x+E.width-V:E.x}}else if(s==="height"){let O=o*D,V=Rn(O,J,j);x={...x,height:V,y:I?E.y+E.height-V:E.y}}Qe(w,{crop:x,width:x.width/(E.naturalWidth/S),height:x.height/(E.naturalHeight/M)});return}let H=s==="width"?d:0,ne=s==="height"?d:0,Z=Rn(E.width+H,re,L),se=Rn(E.height+ne,re,j);x={...E,x:C?E.x+E.width-Z:E.x,y:I?E.y+E.height-se:E.y,width:Z,height:se},Qe(w,{crop:x,width:x.width/(E.naturalWidth/S),height:x.height/(E.naturalHeight/M)});return}if(o!==void 0){let w=Math.max(s==="width"?o:v?o*c:p.width,tl),E=Math.max(s==="height"?o:v?o/c:p.height,tl);Hy(w,E,g,p,f,n,s==="width"?"e":"s",{shouldMaintainAspectRatio:v});return}let h=s==="width"?e:0,m=s==="height"?e:0,U=Math.max(0,p.width+h);s==="width"&&(a?U=Oa(U,EQ):U=Math.round(U));let b=Math.max(0,p.height+m);s==="height"&&(a?b=Oa(b,EQ):b=Math.round(b)),v&&(s==="width"?b=Math.round(U/c*100)/100:U=Math.round(b*c*100)/100),b=Math.max(tl,b),U=Math.max(tl,U),Hy(U,b,g,p,f,n,s==="width"?"e":"s",{shouldMaintainAspectRatio:v})}},EWe=({property:e,element:t,scene:n,appState:r})=>{let a=Fu(e==="width"?t.width:t.height,2);if(r.croppingElementId&&r.croppingElementId===t.id&&zn(t)&&t.crop){let{width:o,height:s}=Ju(t);if(e==="width"){let l=o/t.crop.naturalWidth;a=Fu(t.crop.width*l,2)}if(e==="height"){let l=s/t.crop.naturalHeight;a=Fu(t.crop.height*l,2)}}return(0,bWe.jsx)(mf,{label:e==="width"?"W":"H",elements:[t],dragInputCallback:wWe,value:a,editable:sf(t,e),scene:n,appState:r,property:e})},xQ=EWe;N();var xWe=te(Se(),1),_We=15,CWe=({accumulatedChange:e,originalElements:t,shouldChangeByStepSize:n,nextValue:r,scene:a})=>{let o=a.getNonDeletedElementsMap(),s=a.getNonDeletedElements(),l=t[0];if(l&&!Wt(l)){let d=o.get(l.id);if(!d)return;if(r!==void 0){let c=Ty(r);Qe(d,{angle:c}),WS(d,o,s,a);let h=on(d,o);h&&!ln(d)&&Qe(h,{angle:c});return}let u=Math.round(Eb(l.angle)*100)/100,f=Math.round(e),p=(u+f)%360;n&&(p=Oa(p,_We)),p=p<0?p+360:p;let g=Ty(p);Qe(d,{angle:g}),WS(d,o,s,a);let v=on(d,o);v&&!ln(d)&&Qe(v,{angle:g})}},SWe=({element:e,scene:t,appState:n,property:r})=>(0,xWe.jsx)(mf,{label:"A",icon:JZ,value:Math.round(Eb(e.angle)%360*100)/100,elements:[e],dragInputCallback:CWe,editable:sf(e,"angle"),scene:t,appState:n,property:r}),IWe=SWe;N();var kWe=te(Se(),1),_Q=4,MWe=4,TWe=({accumulatedChange:e,originalElements:t,shouldChangeByStepSize:n,nextValue:r,scene:a})=>{let o=a.getNonDeletedElementsMap(),s=t[0];if(s){let l=o.get(s.id);if(!l||!pt(l))return;let d;if(r!==void 0)d=Math.max(Math.round(r),_Q);else if(s.type==="text"){let u=Math.round(s.fontSize),f=Math.round(e);d=Math.max(u+f,_Q),n&&(d=Oa(d,MWe))}d&&(Qe(l,{fontSize:d}),co(l,a.getContainerElement(l),a.getNonDeletedElementsMap()))}},BWe=({element:e,scene:t,appState:n,property:r})=>{let a=pt(e)?e:xl(e)?on(e,t.getNonDeletedElementsMap()):null;return a?(0,kWe.jsx)(mf,{label:"F",value:Math.round(a.fontSize*10)/10,elements:[a],dragInputCallback:TWe,icon:S4,appState:n,scene:t,property:r}):null},RWe=BWe;N();var DWe=te(Fe(),1),PWe=te(Se(),1),z1=10,LWe=(e,t,n,r)=>{let a=r.x-e,o=r.y-t,s=r.width*n,l=r.height*n,d=e+a*n,u=t+o*n;return{width:s,height:l,x:d,y:u,...RT(r,s,l,!1),...pt(r)?{fontSize:r.fontSize*n}:{}}},NWe=(e,t,n,r,a,o,s,l)=>{let d=LWe(e,t,r,o);Qe(a,d,!1);let u=on(o,l);if(u){let f=u.fontSize*r;_s(a,s,{newSize:{width:d.width,height:d.height}});let p=s.get(u.id);p&&pt(p)&&(Qe(p,{fontSize:f},!1),Tb(a,s,n==="width"?"e":"s",!0))}},CQ=(e,t,n,r,a,o,s,l,d,u)=>{o==="width"?t=Math.round(e/r*100)/100:e=Math.round(t*r*100)/100;let f=t/n;for(let p=0;p<l.length;p++){let g=l[p],v=s[p];NWe(a[0],a[1],o,f,v,g,d,u)}},$We=({accumulatedChange:e,originalElements:t,originalElementsMap:n,originalAppState:r,shouldChangeByStepSize:a,nextValue:o,scene:s,property:l})=>{let d=s.getNonDeletedElementsMap(),u=fB(t,r);if(o!==void 0){for(let g of u){let v=Uw(g,d,n);if(v.length>1){let c=v.map(M=>M.latest),h=v.map(M=>M.original),[m,U,b,w]=Yn(h),E=b-m,x=w-U,C=E/x,I=Math.max(tl,l==="width"?Math.max(0,o):E),S=Math.max(tl,l==="height"?Math.max(0,o):x);CQ(I,S,x,C,$(m,U),l,c,h,d,n)}else{let[c]=v,h=c==null?void 0:c.latest,m=c==null?void 0:c.original;if(h&&m&&sf(h,l)){let U=l==="width"?Math.max(0,o):h.width;l==="width"&&(a?U=Oa(U,z1):U=Math.round(U));let b=l==="height"?Math.max(0,o):h.height;l==="height"&&(a?b=Oa(b,z1):b=Math.round(b)),U=Math.max(tl,U),b=Math.max(tl,b),Hy(U,b,h,m,d,n,l==="width"?"e":"s",{shouldInformMutation:!1})}}}s.triggerUpdate();return}let f=l==="width"?e:0,p=l==="height"?e:0;for(let g of u){let v=Uw(g,d,n);if(v.length>1){let c=v.map(M=>M.latest),h=v.map(M=>M.original),[m,U,b,w]=Yn(h),E=b-m,x=w-U,C=E/x,I=Math.max(0,E+f);l==="width"&&(a?I=Oa(I,z1):I=Math.round(I));let S=Math.max(0,x+p);l==="height"&&(a?S=Oa(S,z1):S=Math.round(S)),I=Math.max(tl,I),S=Math.max(tl,S),CQ(I,S,x,C,$(m,U),l,c,h,d,n)}else{let[c]=v,h=c==null?void 0:c.latest,m=c==null?void 0:c.original;if(h&&m&&sf(h,l)){let U=Math.max(0,m.width+f);l==="width"&&(a?U=Oa(U,z1):U=Math.round(U));let b=Math.max(0,m.height+p);l==="height"&&(a?b=Oa(b,z1):b=Math.round(b)),U=Math.max(tl,U),b=Math.max(tl,b),Hy(U,b,h,m,d,n,l==="width"?"e":"s",{shouldInformMutation:!1})}}}s.triggerUpdate()},FWe=({property:e,elements:t,elementsMap:n,atomicUnits:r,scene:a,appState:o})=>{let s=(0,DWe.useMemo)(()=>r.map(u=>{let f=Uw(u,n);if(f.length>1){let[g,v,c,h]=Yn(f.map(m=>m.latest));return Math.round((e==="width"?c-g:h-v)*100)/100}let[p]=f;return Math.round((e==="width"?p.latest.width:p.latest.height)*100)/100}),[n,r,e]),l=new Set(s).size===1?Math.round(s[0]*100)/100:"Mixed",d=s.length>0;return(0,PWe.jsx)(mf,{label:e==="width"?"W":"H",elements:t,dragInputCallback:$We,value:l,editable:d,appState:o,property:e,scene:a})},SQ=FWe;N();var jWe=te(Se(),1),OWe=15,zWe=({accumulatedChange:e,originalElements:t,shouldChangeByStepSize:n,nextValue:r,property:a,scene:o})=>{let s=o.getNonDeletedElementsMap(),l=t.map(u=>s.get(u.id)).filter(u=>u&&!Om(u)&&sf(u,a)),d=t.filter(u=>!Om(u)&&sf(u,a));if(r!==void 0){let u=Ty(r);for(let f of l){if(!f)continue;Qe(f,{angle:u},!1);let p=on(f,s);p&&!ln(f)&&Qe(p,{angle:u},!1)}o.triggerUpdate();return}for(let u=0;u<l.length;u++){let f=l[u];if(!f)continue;let p=d[u],g=Math.round(Eb(p.angle)*100)/100,v=Math.round(e),c=(g+v)%360;n&&(c=Oa(c,OWe)),c=c<0?c+360:c;let h=Ty(c);Qe(f,{angle:h},!1);let m=on(f,s);m&&!ln(f)&&Qe(m,{angle:h},!1)}o.triggerUpdate()},QWe=({elements:e,scene:t,appState:n,property:r})=>{let a=e.filter(d=>!Om(d)&&sf(d,"angle")),o=a.map(d=>Math.round(Eb(d.angle)%360*100)/100),s=new Set(o).size===1?o[0]:"Mixed",l=a.some(d=>sf(d,"angle"));return(0,jWe.jsx)(mf,{label:"A",icon:JZ,value:s,elements:e,dragInputCallback:zWe,editable:l,appState:n,scene:t,property:r})},HWe=QWe;N();var GWe=te(Se(),1),IQ=4,WWe=4,VWe=(e,t)=>e.reduce((n,r)=>{if(!r||Om(r))return n;if(pt(r))return n.push(r),n;if(xl(r)){let a=on(r,t);if(a)return n.push(a),n}return n},[]),YWe=({accumulatedChange:e,originalElements:t,shouldChangeByStepSize:n,nextValue:r,scene:a})=>{let o=a.getNonDeletedElementsMap(),s=t.map(d=>o.get(d.id)),l;if(r){l=Math.max(Math.round(r),IQ);for(let d of s)Qe(d,{fontSize:l},!1),co(d,a.getContainerElement(d),o,!1);a.triggerUpdate()}else{let d=t;for(let u=0;u<s.length;u++){let f=s[u],p=d[u],g=Math.round(p.fontSize),v=Math.round(e),c=Math.max(g+v,IQ);n&&(c=Oa(c,WWe)),Qe(f,{fontSize:c},!1),co(f,a.getContainerElement(f),o,!1)}a.triggerUpdate()}},KWe=({elements:e,scene:t,appState:n,property:r,elementsMap:a})=>{let o=VWe(e,a);if(!o.length)return null;let s=o.map(u=>Math.round(u.fontSize*10)/10),l=new Set(s).size===1?s[0]:"Mixed",d=s.length>0;return(0,GWe.jsx)(mf,{label:"F",icon:S4,elements:o,dragInputCallback:YWe,value:l,editable:d,scene:t,property:r,appState:n})},XWe=KWe;N();var ZWe=te(Se(),1),kQ=10,qWe=({accumulatedChange:e,instantChange:t,originalElements:n,originalElementsMap:r,shouldChangeByStepSize:a,nextValue:o,property:s,scene:l,originalAppState:d})=>{let u=l.getNonDeletedElementsMap(),f=l.getNonDeletedElements(),p=n[0],[g,v]=[p.x+p.width/2,p.y+p.height/2],[c,h]=De($(p.x,p.y),$(g,v),p.angle);if(d.croppingElementId===p.id){let E=u.get(p.id);if(!E||!zn(E)||!E.crop)return;let x=E.crop,C=x,I=E.scale[0]===-1,S=E.scale[1]===-1,{width:M,height:R}=Ju(E);if(o!==void 0){if(s==="x"){let j=o*(x.naturalWidth/M);I?C={...x,x:Rn(x.naturalWidth-j-x.width,0,x.naturalWidth-x.width)}:C={...x,x:Rn(o*(x.naturalWidth/M),0,x.naturalWidth-x.width)}}s==="y"&&(C={...x,y:Rn(o*(x.naturalHeight/R),0,x.naturalHeight-x.height)}),Qe(E,{crop:C});return}let D=(s==="x"?t:0)*(I?-1:1),L=(s==="y"?t:0)*(S?-1:1);C={...x,x:Rn(x.x+D,0,x.naturalWidth-x.width),y:Rn(x.y+L,0,x.naturalHeight-x.height)},Qe(E,{crop:C});return}if(o!==void 0){eb(s==="x"?o:c,s==="y"?o:h,p,u,f,l,r);return}let m=s==="x"?e:0,U=s==="y"?e:0,b=s==="x"?Math.round(a?Oa(p.x+m,kQ):c+m):c,w=s==="y"?Math.round(a?Oa(p.y+U,kQ):h+U):h;eb(b,w,p,u,f,l,r)},JWe=({property:e,element:t,elementsMap:n,scene:r,appState:a})=>{let[o,s]=De($(t.x,t.y),$(t.x+t.width/2,t.y+t.height/2),t.angle),l=Fu(e==="x"?o:s,2);if(a.croppingElementId===t.id&&zn(t)&&t.crop){let d=hRe(t);d&&(l=Fu(e==="x"?d.x:d.y,2))}return(0,ZWe.jsx)(mf,{label:e==="x"?"X":"Y",elements:[t],dragInputCallback:qWe,scene:r,value:l,property:e,appState:a})},MQ=JWe;N();var eVe=te(Fe(),1),tVe=te(Se(),1),nVe=10,rVe=(e,t,n,r,a,o,s,l)=>{for(let d=0;d<r.length;d++){let u=a[d],[f,p]=[u.x+u.width/2,u.y+u.height/2],[g,v]=De($(u.x,u.y),$(f,p),u.angle),c=e==="x"?Math.round(g+t):g,h=e==="y"?Math.round(v+n):v;eb(c,h,u,o,r,l,s,!1)}},iVe=(e,t,n,r,a,o,s)=>{let[l,d,,]=Yn(n),u=e-l,f=t-d;for(let p=0;p<n.length;p++){let g=n[p],v=r.get(g.id);if(v&&(!pt(v)||!v.containerId)){let[c,h]=[v.x+v.width/2,v.y+v.height/2],[m,U]=De($(v.x,v.y),$(c,h),v.angle);eb(m+u,U+f,g,r,a,s,o,!1)}}},aVe=({accumulatedChange:e,originalElements:t,originalElementsMap:n,shouldChangeByStepSize:r,nextValue:a,property:o,scene:s,originalAppState:l})=>{var p,g;let d=s.getNonDeletedElementsMap(),u=s.getNonDeletedElements();if(a!==void 0){for(let v of fB(t,l)){let c=Uw(v,d,n);if(c.length>1){let[h,m,,]=Yn(c.map(U=>U.latest));iVe(o==="x"?a:h,o==="y"?a:m,c.map(U=>U.original),d,u,n,s)}else{let h=(p=c[0])==null?void 0:p.original,m=(g=c[0])==null?void 0:g.latest;if(h&&m&&sf(m,o)){let[U,b]=[h.x+h.width/2,h.y+h.height/2],[w,E]=De($(h.x,h.y),$(U,b),h.angle);eb(o==="x"?a:w,o==="y"?a:E,h,d,u,s,n,!1)}}}s.triggerUpdate();return}let f=r?Oa(e,nVe):e;rVe(o,o==="x"?f:0,o==="y"?f:0,t,t,d,n,s),s.triggerUpdate()},oVe=({property:e,elements:t,elementsMap:n,atomicUnits:r,scene:a,appState:o})=>{let s=(0,eVe.useMemo)(()=>r.map(d=>{let u=Object.keys(d).map(h=>n.get(h)).filter(h=>h!==void 0);if(u.length>1){let[h,m]=Yn(u);return Math.round((e==="x"?h:m)*100)/100}let[f]=u,[p,g]=[f.x+f.width/2,f.y+f.height/2],[v,c]=De($(f.x,f.y),$(p,g),f.angle);return Math.round((e==="x"?v:c)*100)/100}),[r,n,e]),l=new Set(s).size===1?s[0]:"Mixed";return(0,tVe.jsx)(mf,{label:e==="x"?"X":"Y",elements:t,dragInputCallback:aVe,value:l,property:e,scene:a,appState:o})},TQ=oVe;N();var AU=te(Se(),1),sVe=({label:e,open:t,openTrigger:n,children:r})=>(0,AU.jsxs)(AU.Fragment,{children:[(0,AU.jsxs)("div",{style:{cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},onClick:n,children:[e,(0,AU.jsx)(r7,{icon:t?cIe:sq})]}),t&&(0,AU.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:r})]}),BQ=sVe;N();var lVe=te(Se(),1),RQ=5,cVe=({property:e,scene:t,appState:n,setAppState:r})=>(0,lVe.jsx)(mf,{label:"Grid step",sensitivity:8,elements:[],dragInputCallback:({nextValue:a,instantChange:o,shouldChangeByStepSize:s,setInputValue:l})=>{r(d=>{let u;return a?u=a:o&&(u=s?Oa(d.gridStep+RQ*Math.sign(o),RQ):d.gridStep+o),u?(u=Fq(u),l(u),{gridStep:u}):(l(d.gridStep),null)})},scene:t,value:n.gridStep,property:e,appState:n}),dVe=cVe,_t=te(Se(),1),uVe=50,hB=e=>{let t=Qb(),n=e.app.scene.getSceneNonce()||1,r=e.app.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!1}),a=jy(e.app);return(0,_t.jsx)(fVe,{...e,appState:t,sceneNonce:n,selectedElements:r,gridModeEnabled:a})},xr=({children:e,columns:t=1,heading:n,style:r,...a})=>(0,_t.jsx)("div",{className:bt("exc-stats__row",{"exc-stats__row--heading":n}),style:{gridTemplateColumns:`repeat(${t}, 1fr)`,...r},...a,children:e});xr.displayName="StatsRow";var vw=({children:e,order:t,style:n,...r})=>(0,_t.jsx)("div",{className:"exc-stats__rows",style:{order:t,...n},...r,children:e});vw.displayName="StatsRows";hB.StatsRow=xr;hB.StatsRows=vw;var fVe=(0,O1.memo)(({app:e,onClose:t,renderCustomStats:n,selectedElements:r,appState:a,sceneNonce:o,gridModeEnabled:s})=>{let l=e.scene,d=l.getNonDeletedElements(),u=l.getNonDeletedElementsMap(),f=ra(),p=r.length===1?r[0]:null,g=r.length>1?r:null,v=a.croppingElementId&&zn(p),c=v?Ju(p):null,[h,m]=(0,O1.useState)({width:0,height:0}),U=(0,O1.useMemo)(()=>(0,UWe.throttle)(w=>{let E=Yn(w);m({width:Math.round(E[2])-Math.round(E[0]),height:Math.round(E[3])-Math.round(E[1])})},uVe),[]);(0,O1.useEffect)(()=>{U(d)},[o,d,U]),(0,O1.useEffect)(()=>()=>U.cancel(),[U]);let b=(0,O1.useMemo)(()=>fB(r,a),[r,a]);return(0,_t.jsx)("div",{className:"exc-stats",children:(0,_t.jsxs)(hc,{padding:3,children:[(0,_t.jsxs)("div",{className:"title",children:[(0,_t.jsx)("h2",{children:P("stats.title")}),(0,_t.jsx)("div",{className:"close",onClick:t,children:h2})]}),(0,_t.jsxs)(BQ,{label:(0,_t.jsx)("h3",{children:P("stats.generalStats")}),open:!!(a.stats.panels&Rg.generalStats),openTrigger:()=>f(w=>({stats:{open:!0,panels:w.stats.panels^Rg.generalStats}})),children:[(0,_t.jsxs)(vw,{children:[(0,_t.jsx)(xr,{heading:!0,children:P("stats.scene")}),(0,_t.jsxs)(xr,{columns:2,children:[(0,_t.jsx)("div",{children:P("stats.shapes")}),(0,_t.jsx)("div",{children:d.length})]}),(0,_t.jsxs)(xr,{columns:2,children:[(0,_t.jsx)("div",{children:P("stats.width")}),(0,_t.jsx)("div",{children:h.width})]}),(0,_t.jsxs)(xr,{columns:2,children:[(0,_t.jsx)("div",{children:P("stats.height")}),(0,_t.jsx)("div",{children:h.height})]}),s&&(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)(xr,{heading:!0,children:"Canvas"}),(0,_t.jsx)(xr,{children:(0,_t.jsx)(dVe,{property:"gridStep",scene:l,appState:a,setAppState:f})})]})]}),n==null?void 0:n(d,a)]}),r.length>0&&(0,_t.jsx)("div",{id:"elementStats",style:{marginTop:12},children:(0,_t.jsx)(BQ,{label:(0,_t.jsx)("h3",{children:P("stats.elementProperties")}),open:!!(a.stats.panels&Rg.elementProperties),openTrigger:()=>f(w=>({stats:{open:!0,panels:w.stats.panels^Rg.elementProperties}})),children:(0,_t.jsxs)(vw,{children:[p&&(0,_t.jsxs)(_t.Fragment,{children:[v&&(0,_t.jsx)(xr,{heading:!0,children:P("labels.unCroppedDimension")}),a.croppingElementId&&zn(p)&&c&&(0,_t.jsxs)(xr,{columns:2,children:[(0,_t.jsx)("div",{children:P("stats.width")}),(0,_t.jsx)("div",{children:Fu(c.width,2)})]}),a.croppingElementId&&zn(p)&&c&&(0,_t.jsxs)(xr,{columns:2,children:[(0,_t.jsx)("div",{children:P("stats.height")}),(0,_t.jsx)("div",{children:Fu(c.height,2)})]}),(0,_t.jsx)(xr,{heading:!0,"data-testid":"stats-element-type",children:a.croppingElementId?P("labels.imageCropping"):P(`element.${p.type}`)}),(0,_t.jsx)(xr,{children:(0,_t.jsx)(MQ,{element:p,property:"x",elementsMap:u,scene:l,appState:a})}),(0,_t.jsx)(xr,{children:(0,_t.jsx)(MQ,{element:p,property:"y",elementsMap:u,scene:l,appState:a})}),(0,_t.jsx)(xr,{children:(0,_t.jsx)(xQ,{property:"width",element:p,scene:l,appState:a})}),(0,_t.jsx)(xr,{children:(0,_t.jsx)(xQ,{property:"height",element:p,scene:l,appState:a})}),!Wt(p)&&(0,_t.jsx)(xr,{children:(0,_t.jsx)(IWe,{property:"angle",element:p,scene:l,appState:a})}),(0,_t.jsx)(xr,{children:(0,_t.jsx)(RWe,{property:"fontSize",element:p,scene:l,appState:a})})]}),g&&(0,_t.jsxs)(_t.Fragment,{children:[tJ(g)&&(0,_t.jsx)(xr,{heading:!0,children:P("element.group")}),(0,_t.jsxs)(xr,{columns:2,style:{margin:"0.3125rem 0"},children:[(0,_t.jsx)("div",{children:P("stats.shapes")}),(0,_t.jsx)("div",{children:r.length})]}),(0,_t.jsx)(xr,{children:(0,_t.jsx)(TQ,{property:"x",elements:g,elementsMap:u,atomicUnits:b,scene:l,appState:a})}),(0,_t.jsx)(xr,{children:(0,_t.jsx)(TQ,{property:"y",elements:g,elementsMap:u,atomicUnits:b,scene:l,appState:a})}),(0,_t.jsx)(xr,{children:(0,_t.jsx)(SQ,{property:"width",elements:g,elementsMap:u,atomicUnits:b,scene:l,appState:a})}),(0,_t.jsx)(xr,{children:(0,_t.jsx)(SQ,{property:"height",elements:g,elementsMap:u,atomicUnits:b,scene:l,appState:a})}),(0,_t.jsx)(xr,{children:(0,_t.jsx)(HWe,{property:"angle",elements:g,scene:l,appState:a})}),(0,_t.jsx)(xr,{children:(0,_t.jsx)(XWe,{property:"fontSize",elements:g,scene:l,appState:a,elementsMap:u})})]})]})})})]})})},(e,t)=>e.sceneNonce===t.sceneNonce&&e.selectedElements===t.selectedElements&&e.appState.stats.panels===t.appState.stats.panels&&e.gridModeEnabled===t.gridModeEnabled&&e.appState.gridStep===t.appState.gridStep&&e.appState.croppingElementId===t.appState.croppingElementId);N();var wU=te(Fe(),1),Pc=te(Se(),1),hVe=({sourceElementId:e,onClose:t,elementsMap:n,appState:r,generateLinkForSelection:a=PJ})=>{var p;let o=((p=n.get(e))==null?void 0:p.link)??null,[s,l]=(0,wU.useState)(o),[d,u]=(0,wU.useState)(!1);(0,wU.useEffect)(()=>{let g=gn(n,r),v=o;if(g.length>0&&a){let c=LJ(g,r);c&&(v=Cs(a(c.id,c.type)))}l(v)},[n,r,r.selectedElementIds,o,a]);let f=(0,wU.useCallback)(()=>{var g;if(s&&s!==((g=n.get(e))==null?void 0:g.link)){let v=n.get(e);v&&Qe(v,{link:s})}if(!s&&d&&e){let v=n.get(e);v&&Qe(v,{link:null})}t==null||t()},[e,s,n,d,t]);return(0,wU.useEffect)(()=>{let g=v=>{var c,h;((c=r.openDialog)==null?void 0:c.name)==="elementLinkSelector"&&v.key===ie.ENTER&&f(),((h=r.openDialog)==null?void 0:h.name)==="elementLinkSelector"&&v.key===ie.ESCAPE&&(t==null||t())};return window.addEventListener("keydown",g),()=>{window.removeEventListener("keydown",g)}},[r,t,f]),(0,Pc.jsxs)("div",{className:"ElementLinkDialog",children:[(0,Pc.jsxs)("div",{className:"ElementLinkDialog__header",children:[(0,Pc.jsx)("h2",{children:P("elementLink.title")}),(0,Pc.jsx)("p",{children:P("elementLink.desc")})]}),(0,Pc.jsxs)("div",{className:"ElementLinkDialog__input",children:[(0,Pc.jsx)(aB,{value:s??"",onChange:g=>{d||u(!0),l(g)},onKeyDown:g=>{g.key===ie.ENTER&&f()},className:"ElementLinkDialog__input-field",selectOnRender:!0}),o&&s&&(0,Pc.jsx)(yn,{type:"button",title:P("buttons.remove"),"aria-label":P("buttons.remove"),label:P("buttons.remove"),onClick:()=>{l(null),u(!0)},className:"ElementLinkDialog__remove",icon:z0})]}),(0,Pc.jsxs)("div",{className:"ElementLinkDialog__actions",children:[(0,Pc.jsx)(Ym,{label:P("buttons.cancel"),onClick:()=>{t==null||t()},style:{marginRight:10}}),(0,Pc.jsx)(Ym,{label:P("buttons.confirm"),onClick:f,actionType:"primary"})]})]})},pVe=hVe,Et=te(Se(),1),gVe=({UIOptions:e})=>(0,Et.jsxs)(wo,{__fallback:!0,children:[(0,Et.jsx)(wo.DefaultItems.LoadScene,{}),(0,Et.jsx)(wo.DefaultItems.SaveToActiveFile,{}),e.canvasActions.export&&(0,Et.jsx)(wo.DefaultItems.Export,{}),e.canvasActions.saveAsImage&&(0,Et.jsx)(wo.DefaultItems.SaveAsImage,{}),(0,Et.jsx)(wo.DefaultItems.SearchMenu,{}),(0,Et.jsx)(wo.DefaultItems.Help,{}),(0,Et.jsx)(wo.DefaultItems.ClearCanvas,{}),(0,Et.jsx)(wo.Separator,{}),(0,Et.jsx)(wo.Group,{title:"Excalidraw links",children:(0,Et.jsx)(wo.DefaultItems.Socials,{})}),(0,Et.jsx)(wo.Separator,{}),(0,Et.jsx)(wo.DefaultItems.ToggleTheme,{}),(0,Et.jsx)(wo.DefaultItems.ChangeCanvasBackground,{})]}),mVe=()=>(0,Et.jsxs)(C9,{__fallback:!0,children:[(0,Et.jsx)(C9.Actions.SaveToDisk,{}),(0,Et.jsx)(C9.Actions.ExportToImage,{})]}),UVe=({actionManager:e,appState:t,files:n,setAppState:r,elements:a,canvas:o,onLockToggle:s,onHandToolToggle:l,onPenModeToggle:d,showExitZenModeBtn:u,renderTopRightUI:f,renderCustomStats:p,UIOptions:g,onExportImage:v,renderWelcomeScreen:c,children:h,app:m,isCollaborating:U,generateLinkForSelection:b})=>{var J,H,ne;let w=va(),E=YQe(),[x,C]=si(q4,ta),I=()=>g.canvasActions.export?(0,Et.jsx)(JHe,{elements:a,appState:t,files:n,actionManager:e,exportOpts:g.canvasActions.export,canvas:o,setAppState:r}):null,S=()=>{var Z;return!g.canvasActions.saveAsImage||((Z=t.openDialog)==null?void 0:Z.name)!=="imageExport"?null:(0,Et.jsx)(EHe,{elements:a,appState:t,files:n,actionManager:e,onExportImage:v,onCloseRequest:()=>r({openDialog:null}),name:m.getName()})},M=()=>(0,Et.jsxs)("div",{style:{position:"relative"},children:[(0,Et.jsx)(E.MainMenuTunnel.Out,{}),c&&(0,Et.jsx)(E.WelcomeScreenMenuHintTunnel.Out,{})]}),R=()=>(0,Et.jsx)(Jy,{heading:"selectedShapeActions",className:bt("selected-shape-actions zen-mode-transition",{"transition-left":t.zenModeEnabled}),children:(0,Et.jsx)(hc,{className:Tm.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:`${t.height-166}px`},children:(0,Et.jsx)(Yre,{appState:t,elementsMap:m.scene.getNonDeletedElementsMap(),renderAction:e.renderAction})})}),D=()=>{var O,V,de,oe,me;let Z=PT(t,a),se=t.stats.open&&!t.zenModeEnabled&&!t.viewModeEnabled&&((O=t.openDialog)==null?void 0:O.name)!=="elementLinkSelector";return(0,Et.jsx)(iie,{side:"top",children:(0,Et.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,Et.jsxs)(ul.Col,{gap:6,className:bt("App-menu_top__left"),children:[M(),Z&&R()]}),!t.viewModeEnabled&&((V=t.openDialog)==null?void 0:V.name)!=="elementLinkSelector"&&(0,Et.jsx)(Jy,{heading:"shapes",className:"shapes-section",children:ve=>(0,Et.jsxs)("div",{style:{position:"relative"},children:[c&&(0,Et.jsx)(E.WelcomeScreenToolbarHintTunnel.Out,{}),(0,Et.jsx)(ul.Col,{gap:4,align:"start",children:(0,Et.jsxs)(ul.Row,{gap:1,className:bt("App-toolbar-container",{"zen-mode":t.zenModeEnabled}),children:[(0,Et.jsxs)(hc,{padding:1,className:bt("App-toolbar",{"zen-mode":t.zenModeEnabled}),children:[(0,Et.jsx)(sie,{appState:t,isMobile:w.editor.isMobile,device:w,app:m}),ve,(0,Et.jsxs)(ul.Row,{gap:1,children:[(0,Et.jsx)(cie,{zenModeEnabled:t.zenModeEnabled,checked:t.penMode,onChange:()=>d(null),title:P("toolBar.penMode"),penDetected:t.penDetected}),(0,Et.jsx)(lie,{checked:t.activeTool.locked,onChange:s,title:P("toolBar.lock")}),(0,Et.jsx)("div",{className:"App-toolbar__divider"}),(0,Et.jsx)(die,{checked:Rm(t),onChange:()=>l(),title:P("toolBar.hand"),isMobile:!0}),(0,Et.jsx)(Kre,{appState:t,activeTool:t.activeTool,UIOptions:g,app:m})]})]}),U&&(0,Et.jsx)(hc,{style:{marginLeft:8,alignSelf:"center",height:"fit-content"},children:(0,Et.jsx)(tWe,{title:P("toolBar.laser"),checked:t.activeTool.type===Qi.laser,onChange:()=>m.setActiveTool({type:Qi.laser}),isMobile:!0})})]})})]})}),(0,Et.jsxs)("div",{className:bt("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":t.zenModeEnabled}),children:[t.collaborators.size>0&&(0,Et.jsx)(uie,{collaborators:t.collaborators,userToFollow:((de=t.userToFollow)==null?void 0:de.socketId)||null}),f==null?void 0:f(w.editor.isMobile,t),!t.viewModeEnabled&&((oe=t.openDialog)==null?void 0:oe.name)!=="elementLinkSelector"&&(!j||((me=t.openSidebar)==null?void 0:me.name)!==uc.name)&&(0,Et.jsx)(E.DefaultSidebarTriggerTunnel.Out,{}),se&&(0,Et.jsx)(hB,{app:m,onClose:()=>{e.executeAction($S)},renderCustomStats:p})]})]})})},L=()=>(0,Et.jsx)(yQ,{__fallback:!0,onDock:Z=>{yr("sidebar",`toggleDock (${Z?"dock":"undock"})`,`(${w.editor.isMobile?"mobile":"desktop"})`)}}),j=jT(cB,ta),re=(0,Et.jsxs)(Et.Fragment,{children:[h,(0,Et.jsx)(gVe,{UIOptions:g}),(0,Et.jsx)(yQ.Trigger,{__fallback:!0,icon:HM,title:Nv(P("toolBar.library")),onToggle:Z=>{Z&&yr("sidebar",`${uc.name} (open)`,`button (${w.editor.isMobile?"mobile":"desktop"})`)},tab:uc.defaultTab,children:P("toolBar.library")}),(0,Et.jsx)(mVe,{}),((J=t.openDialog)==null?void 0:J.name)==="ttd"&&(0,Et.jsx)(gWe,{__fallback:!0}),t.isLoading&&(0,Et.jsx)(mne,{delay:250}),t.errorMessage&&(0,Et.jsx)(UHe,{onClose:()=>r({errorMessage:null}),children:t.errorMessage}),x&&!w.editor.isMobile&&(0,Et.jsx)(fOe,{colorPickerType:x.colorPickerType,onCancel:()=>{C(null)},onChange:(Z,se,O,{altKey:V})=>{var de;if(!(Z!=="elementBackground"&&Z!=="elementStroke"))if(O.length){for(let oe of O)Qe(oe,{[V&&x.swapPreviewOnAlt?Z==="elementBackground"?"strokeColor":"backgroundColor":Z==="elementBackground"?"backgroundColor":"strokeColor"]:se},!1),Vr.delete(oe);(de=Gh.getScene(O[0]))==null||de.triggerUpdate()}else r(Z==="elementBackground"?{currentItemBackgroundColor:se}:{currentItemStrokeColor:se})},onSelect:(Z,se)=>{var O;C(V=>V!=null&&V.keepOpenOnAlt&&se.altKey?V:null),(O=x==null?void 0:x.onSelect)==null||O.call(x,Z,se)}}),((H=t.openDialog)==null?void 0:H.name)==="help"&&(0,Et.jsx)(GHe,{onClose:()=>{r({openDialog:null})}}),(0,Et.jsx)(eHe,{}),((ne=t.openDialog)==null?void 0:ne.name)==="elementLinkSelector"&&(0,Et.jsx)(pVe,{sourceElementId:t.openDialog.sourceElementId,onClose:()=>{r({openDialog:null})},elementsMap:m.scene.getNonDeletedElementsMap(),appState:t,generateLinkForSelection:b}),(0,Et.jsx)(E.OverwriteConfirmDialogTunnel.Out,{}),S(),I(),t.pasteDialog.shown&&(0,Et.jsx)($He,{setAppState:r,appState:t,onClose:()=>r({pasteDialog:{shown:!1,data:null}})}),w.editor.isMobile&&(0,Et.jsx)(NHe,{app:m,appState:t,elements:a,actionManager:e,renderJSONExportDialog:I,renderImageExportDialog:S,setAppState:r,onLockToggle:s,onHandToolToggle:l,onPenModeToggle:d,renderTopRightUI:f,renderCustomStats:p,renderSidebars:L,device:w,renderWelcomeScreen:c,UIOptions:g}),!w.editor.isMobile&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{className:"layer-ui__wrapper",style:t.openSidebar&&j&&w.editor.canFitSidebar?{width:`calc(100% - ${O9e}px)`}:{},children:[c&&(0,Et.jsx)(E.WelcomeScreenCenterTunnel.Out,{}),D(),(0,Et.jsx)(nGe,{appState:t,actionManager:e,showExitZenModeBtn:u,renderWelcomeScreen:c}),t.scrolledOutside&&(0,Et.jsx)("button",{type:"button",className:"scroll-back-to-content",onClick:()=>{r(Z=>({...$y(a,Z)}))},children:P("buttons.scrollBackToContent")})]}),L()]})]});return(0,Et.jsx)(ore.Provider,{value:t,children:(0,Et.jsx)(hne,{scope:E.jotaiScope,children:(0,Et.jsx)(Gre.Provider,{value:E,children:re})})})},DQ=e=>{let{suggestedBindings:t,startBoundElement:n,cursorButton:r,scrollX:a,scrollY:o,...s}=e;return s},vVe=(e,t)=>{if(e.children!==t.children)return!1;let{canvas:n,appState:r,...a}=e,{canvas:o,appState:s,...l}=t;return ga(DQ(r),DQ(s),{selectedElementIds:ga,selectedGroupIds:ga})&&ga(a,l)},yVe=mHe.default.memo(UVe,vVe);N();var T9=te(Fe(),1),B9=te(Se(),1),bVe=5e3,AVe=({message:e,onClose:t,closable:n=!1,duration:r=bVe,style:a})=>{let o=(0,T9.useRef)(0),s=r!==1/0,l=(0,T9.useCallback)(()=>{s&&(o.current=window.setTimeout(()=>t(),r))},[t,r,s]);return(0,T9.useEffect)(()=>{if(s)return l(),()=>clearTimeout(o.current)},[l,e,r,s]),(0,B9.jsxs)("div",{className:"Toast",onMouseEnter:s?()=>clearTimeout(o==null?void 0:o.current):void 0,onMouseLeave:s?l:void 0,style:a,children:[(0,B9.jsx)("p",{className:"Toast__message",children:e}),n&&(0,B9.jsx)(yn,{icon:h2,"aria-label":"close",type:"icon",onClick:t,className:"close"})]})};N();var PQ=ut({name:"viewMode",label:"labels.viewMode",paletteName:"Toggle view mode",icon:KM,viewMode:!0,trackEvent:{category:"canvas",predicate:e=>!e.viewModeEnabled},perform(e,t){return{appState:{...t,viewModeEnabled:!this.checked(t)},storeAction:Me.NONE}},checked:e=>e.viewModeEnabled,predicate:(e,t,n)=>typeof n.viewModeEnabled>"u",keyTest:e=>!e[ie.CTRL_OR_CMD]&&e.altKey&&e.code===Pn.R}),wVe=te(U4(),1);N();var oae=(e,t)=>{let n=t.scene.getSelectedElements(e);return n.length===1&&en(n[0])},EVe=ut({name:"selectAllElementsInFrame",label:"labels.selectAllElementsInFrame",trackEvent:{category:"canvas"},perform:(e,t,n,r)=>{let a=r.scene.getSelectedElements(t).at(0)||null;if(en(a)){let o=rf(hr(e),a.id).filter(s=>!(s.type==="text"&&s.containerId));return{elements:e,appState:{...t,selectedElementIds:o.reduce((s,l)=>(s[l.id]=!0,s),{})},storeAction:Me.CAPTURE}}return{elements:e,appState:t,storeAction:Me.NONE}},predicate:(e,t,n,r)=>oae(t,r)}),xVe=ut({name:"removeAllElementsFromFrame",label:"labels.removeAllElementsFromFrame",trackEvent:{category:"history"},perform:(e,t,n,r)=>{let a=r.scene.getSelectedElements(t).at(0)||null;return en(a)?{elements:nee(e,a),appState:{...t,selectedElementIds:{[a.id]:!0}},storeAction:Me.CAPTURE}:{elements:e,appState:t,storeAction:Me.NONE}},predicate:(e,t,n,r)=>oae(t,r)});ut({name:"updateFrameRendering",label:"labels.updateFrameRendering",viewMode:!0,trackEvent:{category:"canvas"},perform:(e,t)=>({elements:e,appState:{...t,frameRendering:{...t.frameRendering,enabled:!t.frameRendering.enabled}},storeAction:Me.NONE}),checked:e=>e.frameRendering.enabled});ut({name:"setFrameAsActiveTool",label:"toolBar.frame",trackEvent:{category:"toolbar"},icon:tq,viewMode:!1,perform:(e,t,n,r)=>{let a=_i(t,{type:"frame"});return Wc(r.interactiveCanvas,{...t,activeTool:a}),{elements:e,appState:{...t,activeTool:_i(t,{type:"frame"})},storeAction:Me.NONE}},keyTest:e=>!e[ie.CTRL_OR_CMD]&&!e.shiftKey&&!e.altKey&&e.key.toLocaleLowerCase()===ie.F});N();var Eo=te(Se(),1),_Ve=()=>(0,Eo.jsxs)("div",{"data-testid":"brave-measure-text-error",children:[(0,Eo.jsx)("p",{children:(0,Eo.jsx)(hd,{i18nKey:"errors.brave_measure_text_error.line1",bold:e=>(0,Eo.jsx)("span",{style:{fontWeight:600},children:e})})}),(0,Eo.jsx)("p",{children:(0,Eo.jsx)(hd,{i18nKey:"errors.brave_measure_text_error.line2",bold:e=>(0,Eo.jsx)("span",{style:{fontWeight:600},children:e})})}),(0,Eo.jsx)("p",{children:(0,Eo.jsx)(hd,{i18nKey:"errors.brave_measure_text_error.line3",link:e=>(0,Eo.jsx)("a",{href:"http://docs.excalidraw.com/docs/@excalidraw/excalidraw/faq#turning-off-aggresive-block-fingerprinting-in-brave-browser",children:e})})}),(0,Eo.jsx)("p",{children:(0,Eo.jsx)(hd,{i18nKey:"errors.brave_measure_text_error.line4",issueLink:e=>(0,Eo.jsx)("a",{href:"https://github.com/excalidraw/excalidraw/issues/new",children:e}),discordLink:e=>(0,Eo.jsxs)("a",{href:"https://discord.gg/UexuTaE",children:[e,"."]})})})]}),CVe=_Ve;N();var Z5={width:100,height:0},bh=100,SVe=(e,t,n)=>{let r=Vo({x:0,y:0,textAlign:My.CENTER,verticalAlign:ws.MIDDLE,...t,containerId:e.id,strokeColor:t.strokeColor||e.strokeColor});return Object.assign(e,{boundElements:(e.boundElements||[]).concat({type:"text",id:r.id})}),co(r,e,n),[e,r]},LQ=(e,t,n,r,a)=>{let o,s;if(Object.assign(e,{startBinding:(e==null?void 0:e.startBinding)||null,endBinding:e.endBinding||null}),t){let f=(t==null?void 0:t.width)??bh,p=(t==null?void 0:t.height)??bh,g;t.id&&(g=r.getElement(t.id),g||console.error(`No element for start binding with id ${t.id} found`));let v=t.x||e.x-f,c=t.y||e.y-p/2,h=g?g.type:t.type;if(h){if(h==="text"){let m="";g&&g.type==="text"?m=g.text:t.type==="text"&&(m=t.text),m||console.error(`No text found for start binding text element for ${e.id}`),o=Vo({x:v,y:c,type:"text",...g,...t,text:m}),Object.assign(o,{x:t.x||e.x-o.width,y:t.y||e.y-o.height/2})}else switch(h){case"rectangle":case"ellipse":case"diamond":{o=Md({x:v,y:c,width:f,height:p,...g,...t,type:h});break}default:O0(e,`Unhandled element start type "${t.type}"`,!0)}Sd(e,o,"start",a)}}if(n){let f=(n==null?void 0:n.height)??bh,p=(n==null?void 0:n.width)??bh,g;n.id&&(g=r.getElement(n.id),g||console.error(`No element for end binding with id ${n.id} found`));let v=n.x||e.x+e.width,c=n.y||e.y-f/2,h=g?g.type:n.type;if(h){if(h==="text"){let m="";g&&g.type==="text"?m=g.text:n.type==="text"&&(m=n.text),m||console.error(`No text found for end binding text element for ${e.id}`),s=Vo({x:v,y:c,type:"text",...g,...n,text:m}),Object.assign(s,{y:n.y||e.y-s.height/2})}else switch(h){case"rectangle":case"ellipse":case"diamond":{s=Md({x:v,y:c,width:p,height:f,...g,...n,type:h});break}default:O0(e,`Unhandled element end type "${h}"`,!0)}Sd(e,s,"end",a)}}if(e.points.length<2)return{linearElement:e,startBoundElement:o,endBoundElement:s};let l=e.points.length-1,d=.5,u=ju(e.points);return e.points[l][0]>e.points[l-1][0]&&(u[0][0]=d,u[l][0]-=d),e.points[l][0]<e.points[l-1][0]&&(u[0][0]=-d,u[l][0]+=d),e.points[l][1]>e.points[l-1][1]&&(u[0][1]=d,u[l][1]-=d),e.points[l][1]<e.points[l-1][1]&&(u[0][1]=-d,u[l][1]+=d),Object.assign(e,{points:u}),{linearElement:e,startBoundElement:o,endBoundElement:s}},IVe=class{constructor(){ee(this,"excalidrawElements",new Map);ee(this,"add",e=>{e&&this.excalidrawElements.set(e.id,e)});ee(this,"getElements",()=>nf(Array.from(this.excalidrawElements.values())));ee(this,"getElementsMap",()=>Bs(Vt(this.getElements())));ee(this,"getElement",e=>this.excalidrawElements.get(e))}},Ah=(e,t)=>{var l,d,u;if(!e)return[];let n=ju(e),r=new IVe,a=new Map,o=new Map;for(let f of n){let p,g=f.id;switch((t==null?void 0:t.regenerateIds)!==!1&&Object.assign(f,{id:_l()}),f.type){case"rectangle":case"ellipse":case"diamond":{let v=(l=f==null?void 0:f.label)!=null&&l.text&&f.width===void 0?0:(f==null?void 0:f.width)||bh,c=(d=f==null?void 0:f.label)!=null&&d.text&&f.height===void 0?0:(f==null?void 0:f.height)||bh;p=Md({...f,width:v,height:c});break}case"line":{let v=f.width||Z5.width,c=f.height||Z5.height;p=k0({width:v,height:c,points:[$(0,0),$(v,c)],...f});break}case"arrow":{let v=f.width||Z5.width,c=f.height||Z5.height;p=pT({width:v,height:c,endArrowhead:"arrow",points:[$(0,0),$(v,c)],...f,type:"arrow"}),Object.assign(p,Ny(p.points));break}case"text":{let v=(f==null?void 0:f.fontFamily)||ip,c=(f==null?void 0:f.fontSize)||hf,h=(f==null?void 0:f.lineHeight)||H0(v),m=f.text??"",U=Hm(m);if(f.width&&f.height){let b=ap(U,Xn({fontFamily:v,fontSize:c}),f.width);p=Vo({width:f.width,height:f.height,fontFamily:v,fontSize:c,...f,originalText:m,text:b})}else{let b=Ha(U,Xn({fontFamily:v,fontSize:c}),h);p=Vo({width:b.width,height:b.height,fontFamily:v,fontSize:c,...f})}break}case"image":{p=UJ({width:(f==null?void 0:f.width)||bh,height:(f==null?void 0:f.height)||bh,...f});break}case"frame":{p=pJ({x:0,y:0,...f});break}case"magicframe":{p=uS({x:0,y:0,...f});break}case"freedraw":case"iframe":case"embeddable":{p=f;break}default:p=f,O0(f,`Unhandled element type "${f.type}"`,!0)}r.getElement(p.id)?console.error(`Duplicate id found for ${p.id}`):(r.add(p),a.set(p.id,f),g&&o.set(g,p.id))}let s=r.getElementsMap();for(let[f,p]of a){let g=r.getElement(f);switch(p.type){case"rectangle":case"ellipse":case"diamond":case"arrow":{if((u=p.label)!=null&&u.text){let[v,c]=SVe(g,p==null?void 0:p.label,s);if(r.add(v),r.add(c),ln(v)){let h=p.type==="arrow"?p==null?void 0:p.start:void 0,m=p.type==="arrow"?p==null?void 0:p.end:void 0;if(h&&h.id){let E=o.get(h.id);E&&Object.assign(h,{id:E})}if(m&&m.id){let E=o.get(m.id);E&&Object.assign(m,{id:E})}let{linearElement:U,startBoundElement:b,endBoundElement:w}=LQ(v,h,m,r,s);v=U,r.add(U),r.add(b),r.add(w)}}else switch(p.type){case"arrow":{let{start:v,end:c}=p;if(v&&v.id){let b=o.get(v.id);Object.assign(v,{id:b})}if(c&&c.id){let b=o.get(c.id);Object.assign(c,{id:b})}let{linearElement:h,startBoundElement:m,endBoundElement:U}=LQ(g,v,c,r,s);r.add(h),r.add(m),r.add(U);break}}break}}}for(let[f,p]of a){if(p.type!=="frame"&&p.type!=="magicframe")continue;let g=r.getElement(f);if(!g)throw new Error(`Excalidraw element with id ${f} doesn't exist`);let v=[];p.children.forEach(I=>{var R;let S=o.get(I);if(!S)throw new Error(`Element with ${I} wasn't mapped correctly`);let M=r.getElement(S);if(!M)throw new Error(`Frame element with id ${S} doesn't exist`);Object.assign(M,{frameId:g.id}),(R=M==null?void 0:M.boundElements)==null||R.forEach(D=>{let L=r.getElement(D.id);if(!L)throw new Error(`Bound element with id ${D.id} doesn't exist`);Object.assign(L,{frameId:g.id}),v.push(L)}),v.push(M)});let[c,h,m,U]=Yn(v),b=10;c=c-b,h=h-b,m=m+b,U=U+b;let w=(g==null?void 0:g.x)||c,E=(g==null?void 0:g.y)||h,x=(g==null?void 0:g.width)||m-c,C=(g==null?void 0:g.height)||U-h;Object.assign(g,{x:w,y:E,width:x,height:C}),SZ()&&p.children.length&&(g!=null&&g.x||g!=null&&g.y||g!=null&&g.width||g!=null&&g.height)&&console.info("User provided frame attributes are being considered, if you find this inaccurate, please remove any of the attributes - x, y, width and height so frame coordinates and dimensions are calculated automatically")}return r.getElements()};N();N();var VS=te(Fe(),1);N();var sae=te(Dd(),1),kVe=te(Fe(),1),Kr=e=>t=>{(0,sae.unstable_batchedUpdates)(e,t)},R9=e=>A4(t=>{(0,sae.unstable_batchedUpdates)(e,t)}),pB=(()=>{let e;try{let n=kVe.version.split(".");e=Number(n[0])>17}catch{e=!1}let t=!1;return()=>window.EXCALIDRAW_THROTTLE_RENDER===!0?e?!0:(t||(t=!0,console.warn("Excalidraw: render throttling is disabled on React versions < 18.")),!1):!1})();N();N();var MVe="#ff6b6b",TVe="#ff0000",NQ=1,$Q=2,BVe=(e,t)=>{if(!t.snapLines.length)return;let n=t.theme===Un.LIGHT||t.zenModeEnabled?MVe:TVe,r=(t.zenModeEnabled?NQ*1.5:NQ)/t.zoom.value;e.save(),e.translate(t.scrollX,t.scrollY);for(let a of t.snapLines)a.type==="pointer"?(e.lineWidth=r,e.strokeStyle=n,DVe(a,e,t)):a.type==="gap"?(e.lineWidth=r,e.strokeStyle=n,PVe(a.points[0],a.points[1],a.direction,t,e)):a.type==="points"&&(e.lineWidth=r,e.strokeStyle=n,RVe(a,e,t));e.restore()},RVe=(e,t,n)=>{if(!n.zenModeEnabled){let r=e.points[0],a=e.points[e.points.length-1];qs(r,a,t)}for(let r of e.points)lae(r,n,t)},DVe=(e,t,n)=>{lae(e.points[0],n,t),n.zenModeEnabled||qs(e.points[0],e.points[1],t)},lae=([e,t],n,r)=>{r.save();let a=(n.zenModeEnabled?$Q*1.5:$Q)/n.zoom.value;r.beginPath(),r.moveTo(e-a,t-a),r.lineTo(e+a,t+a),r.moveTo(e+a,t-a),r.lineTo(e-a,t+a),r.stroke(),r.restore()},qs=(e,t,n)=>{n.beginPath(),n.lineTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.stroke()},PVe=(e,t,n,r,a)=>{let o=8/r.zoom.value,s=o/2,l=o/4;if(n==="horizontal"){let d=[(e[0]+t[0])/2,e[1]];r.zenModeEnabled||qs($(e[0],e[1]-o),$(e[0],e[1]+o),a),qs($(d[0]-l,d[1]-s),$(d[0]-l,d[1]+s),a),qs($(d[0]+l,d[1]-s),$(d[0]+l,d[1]+s),a),r.zenModeEnabled||(qs($(t[0],t[1]-o),$(t[0],t[1]+o),a),qs(e,t,a))}else{let d=[e[0],(e[1]+t[1])/2];r.zenModeEnabled||qs($(e[0]-o,e[1]),$(e[0]+o,e[1]),a),qs($(d[0]-s,d[1]-l),$(d[0]+s,d[1]-l),a),qs($(d[0]-s,d[1]+l),$(d[0]+s,d[1]+l),a),r.zenModeEnabled||(qs($(t[0]-o,t[1]),$(t[0]+o,t[1]),a),qs(e,t,a))}},LVe=(e,t,n)=>{var l,d;let{elementId:r,hoverPointIndex:a}=t.selectedLinearElement;if((d=(l=t.editingLinearElement)==null?void 0:l.selectedPointsIndices)!=null&&d.includes(a))return;let o=xt.getElement(r,n);if(!o)return;let s=xt.getPointAtIndexGlobalCoordinates(o,a,n);e.save(),e.translate(t.scrollX,t.scrollY),YS(s,e,t),e.restore()},YS=(e,t,n)=>{t.fillStyle="rgba(105, 101, 219, 0.4)",$4(t,e[0],e[1],xt.POINT_HANDLE_SIZE/n.zoom.value,!1)},Ob=(e,t,n,r,a,o,s,l,d=!1,u=0)=>{e.save(),e.translate(o,s),e.rotate(l),d&&e.fillRect(t-o,n-s,r,a),u&&e.roundRect?(e.beginPath(),e.roundRect(t-o,n-s,r,a,u),e.stroke(),e.closePath()):e.strokeRect(t-o,n-s,r,a),e.restore()},NVe=(e,t,n,r,a,o)=>{e.save(),e.translate(r,a),e.rotate(o),e.beginPath(),e.moveTo(0,n/2),e.lineTo(t/2,0),e.lineTo(0,-n/2),e.lineTo(-t/2,0),e.closePath(),e.stroke(),e.restore()},q5=(e,t,n,r,a,o=!1)=>{e.strokeStyle="#5e5ad8",e.setLineDash([]),e.fillStyle="rgba(255, 255, 255, 0.9)",a?e.fillStyle="rgba(134, 131, 226, 0.9)":o&&(e.fillStyle="rgba(177, 151, 252, 0.7)"),$4(e,n[0],n[1],r/t.zoom.value,!o)},$Ve=(e,t,n,r,a,o)=>{e.beginPath(),e.ellipse(r,a,t/2,n/2,o,0,Math.PI*2),e.stroke()},FVe=(e,t,n,r)=>{let[a,o,s,l]=Xt(t,n),d=s-a,u=l-o;e.strokeStyle="rgba(0,0,0,.05)";let f=r.value<1?r.value:1;e.lineWidth=aT/f;let p=e.lineWidth/2+oT,g=Rh(Math.min(t.width,t.height),t);switch(t.type){case"rectangle":case"text":case"image":case"iframe":case"embeddable":case"frame":case"magicframe":Ob(e,a-p,o-p,d+p*2,u+p*2,a+d/2,o+u/2,t.angle,void 0,g);break;case"diamond":let v=Math.hypot(d,u),c=p*v/u,h=p*v/d;NVe(e,d+c*2,u+h*2,a+d/2,o+u/2,t.angle);break;case"ellipse":$Ve(e,d+p*2,u+p*2,a+d/2,o+u/2,t.angle);break}},jVe=(e,t,n,r)=>{let[a,o,s]=t,l=kb(s,s.width,s.height,r);e.strokeStyle="rgba(0,0,0,0)",e.fillStyle="rgba(0,0,0,.05)",(o==="both"?[0,-1]:o==="start"?[0]:[-1]).forEach(d=>{let[u,f]=xt.getPointAtIndexGlobalCoordinates(a,d,n);$4(e,u,f,l)})},cae=(e,t,n)=>{let{angle:r,x1:a,y1:o,x2:s,y2:l,selectionColors:d,cx:u,cy:f,dashed:p,activeEmbeddable:g}=n,v=s-a,c=l-o,h=(n.padding??j0*2)/t.zoom.value,m=8/t.zoom.value,U=4/t.zoom.value;e.save(),e.translate(t.scrollX,t.scrollY),e.lineWidth=(g?4:1)/t.zoom.value;let b=d.length;for(let w=0;w<b;++w)e.strokeStyle=d[w],p&&e.setLineDash([m,U+(m+U)*(b-1)]),e.lineDashOffset=(m+U)*w,Ob(e,a-h,o-h,v+h*2,c+h*2,u,f,r);e.restore()},OVe=(e,t,n,r)=>{let a=Array.isArray(n)?jVe:FVe;e.save(),e.translate(t.scrollX,t.scrollY),a(e,n,r,t.zoom),e.restore()},zVe=(e,t,n,r)=>{let[a,o,s,l]=Xt(n,r),d=s-a,u=l-o;e.strokeStyle="rgb(0,118,255)",e.lineWidth=Qr.strokeWidth/t.zoom.value,e.save(),e.translate(t.scrollX,t.scrollY),Ob(e,a,o,d,u,a+d/2,o+u/2,n.angle,!1,Qr.radius/t.zoom.value),e.restore()},QVe=(e,t,n)=>{let r=n.filter(l=>l.groupIds.length===0),a=n.filter(l=>l.groupIds.length>0),o=l=>{let[d,u,f,p]=Yn(l);return{angle:0,x1:d,x2:f,y1:u,y2:p,selectionColors:["rgb(0,118,255)"],dashed:!1,cx:d+(f-d)/2,cy:u+(p-u)/2,activeEmbeddable:!1}},s=l=>{let d=mi(n,l);return o(d)};Object.entries(eJ(a,t)).filter(([l,d])=>d).map(([l,d])=>l).map(l=>s(l)).concat(r.map(l=>o([l]))).forEach(l=>cae(e,t,l))},D9=(e,t,n,r)=>{if(!t.selectedLinearElement)return;e.save(),e.translate(t.scrollX,t.scrollY),e.lineWidth=1/t.zoom.value;let a=xt.getPointsGlobalCoordinates(n,r),{POINT_HANDLE_SIZE:o}=xt,s=t.editingLinearElement?o:o/2;a.forEach((l,d)=>{var f,p;if(Wt(n)&&d!==0&&d!==a.length-1)return;let u=!!((p=(f=t.editingLinearElement)==null?void 0:f.selectedPointsIndices)!=null&&p.includes(d));q5(e,t,l,s,u)}),xt.getEditorMidPoints(n,r,t).filter(l=>l!==null).forEach(l=>{var d;(d=t==null?void 0:t.selectedLinearElement)!=null&&d.segmentMidPointHoveredCoords&&xt.arePointsEqual(l,t.selectedLinearElement.segmentMidPointHoveredCoords)?t.editingLinearElement?(q5(e,t,l,s,!1),YS(l,e,t)):(YS(l,e,t),q5(e,t,l,s,!1)):(t.editingLinearElement||a.length===2)&&q5(e,t,l,o/2,!1,!0)}),e.restore()},FQ=(e,t,n,r,a)=>{Object.keys(r).forEach(o=>{let s=r[o];if(s!==void 0){let[l,d,u,f]=s;e.save(),e.lineWidth=1/n.zoom.value,t.selectionColor&&(e.strokeStyle=t.selectionColor),o==="rotation"?$4(e,l+u/2,d+f/2,u/2):e.roundRect?(e.beginPath(),e.roundRect(l,d,u,f,2/n.zoom.value),e.fill(),e.stroke()):Ob(e,l,d,u,f,l+u/2,d+f/2,a,!0),e.restore()}})},HVe=(e,t,n,r,a)=>{let[o,s,,,l,d]=Xt(r,a),u=3,f=20,p=u/n.zoom.value,g=p/2,v=l-o+p,c=d-s+p,h=Math.min(f/n.zoom.value,v),m=Math.min(f/n.zoom.value,c);e.save(),e.fillStyle=t.selectionColor,e.strokeStyle=t.selectionColor,e.lineWidth=p,[[[-v,-c],[0,g],[h,g],[g,0],[g,m]],[[v-g,-c],[g,g],[-h+g,g],[0,0],[0,m]],[[-v,c],[0,-g],[h,-g],[g,0],[g,-m]],[[v-g,c],[g,-g],[-h+g,-g],[0,0],[0,-m]]].forEach(U=>{let[[b,w],[E,x],[C,I],[S,M],[R,D]]=U;e.save(),e.translate(l,d),e.rotate(r.angle),e.beginPath(),e.moveTo(b+E,w+x),e.lineTo(b+C,w+I),e.stroke(),e.beginPath(),e.moveTo(b+S,w+M),e.lineTo(b+R,w+D),e.stroke(),e.restore()}),e.restore()},GVe=(e,t,n,r)=>{t.save();let a=j0*2/n.zoom.value,o=e.width+a*2,s=e.height+a*2,l=e.x+o/2,d=e.y+s/2,u=-(o/2+a),f=-(s/2+a);t.translate(l+n.scrollX,d+n.scrollY),t.rotate(e.angle),t.lineWidth=1/n.zoom.value,t.strokeStyle=r,t.strokeRect(u,f,o,s),t.restore()},dae=({canvas:e,elementsMap:t,visibleElements:n,selectedElements:r,allElementsMap:a,scale:o,appState:s,renderConfig:l,device:d})=>{var h,m,U;if(e===null)return{atLeastOneVisibleElement:!1,elementsMap:t};let[u,f]=yT(e,o),p=bT({canvas:e,scale:o,normalizedWidth:u,normalizedHeight:f});p.save(),p.scale(s.zoom.value,s.zoom.value);let g;if(n.forEach(b=>{var w;((w=s.editingLinearElement)==null?void 0:w.elementId)===b.id&&b&&(g=b)}),g&&D9(p,s,g,t),s.selectionElement&&!s.isCropping)try{vRe(s.selectionElement,p,s,l.selectionColor)}catch(b){console.error(b)}if(s.editingTextElement&&pt(s.editingTextElement)){let b=a.get(s.editingTextElement.id);b&&!b.autoResize&&GVe(b,p,s,l.selectionColor)}s.isBindingEnabled&&s.suggestedBindings.filter(b=>b!=null).forEach(b=>{OVe(p,s,b,t)}),s.frameToHighlight&&zVe(p,s,s.frameToHighlight,t),s.elementsToHighlight&&QVe(p,s,s.elementsToHighlight);let v=r.some(b=>en(b));if(r.length===1&&((h=s.editingLinearElement)==null?void 0:h.elementId)===r[0].id&&D9(p,s,r[0],t),s.selectedLinearElement&&s.selectedLinearElement.hoverPointIndex>=0&&!(Wt(r[0])&&s.selectedLinearElement.hoverPointIndex>0&&s.selectedLinearElement.hoverPointIndex<r[0].points.length-1)&&LVe(p,s,t),!s.multiElement&&!s.editingLinearElement){let b=dee(r,s),w=r.length===1&&rn(r[0]);w&&((m=s.selectedLinearElement)==null?void 0:m.elementId)===r[0].id&&!r[0].locked&&D9(p,s,r[0],t);let E=l.selectionColor||pa.black;if(b){let x=Vt(r),C=[];for(let S of t.values()){let M=[],R=l.remoteSelectedElementIds.get(S.id);if(w&&Wt(S)&&(S.startBinding||S.endBinding)||(x.has(S.id)&&!qq(s,S)&&M.push(E),R&&M.push(...R.map(D=>n7(D,s.collaborators.get(D))))),M.length){let[D,L,j,re,J,H]=Xt(S,t,!0);C.push({angle:S.angle,x1:D,y1:L,x2:j,y2:re,selectionColors:M,dashed:!!R,cx:J,cy:H,activeEmbeddable:((U=s.activeEmbeddable)==null?void 0:U.element)===S&&s.activeEmbeddable.state==="active",padding:S.id===s.croppingElementId||zn(S)?0:void 0})}}let I=S=>{let M=mi(t,S),[R,D,L,j]=Yn(M);C.push({angle:0,x1:R,x2:L,y1:D,y2:j,selectionColors:[pa.black],dashed:!0,cx:R+(L-R)/2,cy:D+(j-D)/2,activeEmbeddable:!1})};for(let S of I0(s))I(S);s.editingGroupId&&I(s.editingGroupId),C.forEach(S=>cae(p,s,S))}if(p.save(),p.translate(s.scrollX,s.scrollY),r.length===1){p.fillStyle=pa.white;let x=cee(r[0],s.zoom,t,"mouse",zv(d));if(!s.viewModeEnabled&&b&&!pt(s.editingTextElement)&&!s.croppingElementId&&FQ(p,l,s,x,r[0].angle),s.croppingElementId&&!s.isCropping){let C=t.get(s.croppingElementId);C&&zn(C)&&HVe(p,l,s,C,t)}}else if(r.length>1&&!s.isRotating){let x=j0*2/s.zoom.value;p.fillStyle=pa.white;let[C,I,S,M]=Yn(r),R=p.getLineDash();p.setLineDash([2/s.zoom.value]);let D=p.lineWidth;p.lineWidth=1/s.zoom.value,p.strokeStyle=E,Ob(p,C-x,I-x,S-C+x*2,M-I+x*2,(C+S)/2,(I+M)/2,0),p.lineWidth=D,p.setLineDash(R);let L=BT([C,I,S,M,(C+S)/2,(I+M)/2],0,s.zoom,"mouse",v?{...zv(d),rotation:!0}:zv(d));r.some(j=>!j.locked)&&FQ(p,l,s,L,0)}p.restore()}s.searchMatches.forEach(({id:b,focus:w,matchedLines:E})=>{let x=t.get(b);if(x&&pt(x)){let[C,I,,,S,M]=Xt(x,t,!0);p.save(),s.theme===Un.LIGHT?w?p.fillStyle="rgba(255, 124, 0, 0.4)":p.fillStyle="rgba(255, 226, 0, 0.4)":w?p.fillStyle="rgba(229, 82, 0, 0.4)":p.fillStyle="rgba(99, 52, 0, 0.4)",p.translate(s.scrollX,s.scrollY),p.translate(S,M),p.rotate(x.angle),E.forEach(R=>{p.fillRect(C+R.offsetX-S,I+R.offsetY-M,R.width,R.height)}),p.restore()}}),BVe(p,s),p.restore(),nze({context:p,renderConfig:l,appState:s,normalizedWidth:u,normalizedHeight:f});let c;return l.renderScrollbars&&(c=DHe(n,u,f,s),p.save(),p.fillStyle=RHe,p.strokeStyle="rgba(255,255,255,0.8)",[c.horizontal,c.vertical].forEach(b=>{b&&_re(p,b.x,b.y,b.width,b.height,yh/2)}),p.restore()),{scrollBars:c,atLeastOneVisibleElement:n.length>0,elementsMap:t}},uae=A4(e=>{var n;let t=dae(e);(n=e.callback)==null||n.call(e,t)},{trailing:!0}),WVe=(e,t)=>{if(t){uae(e);return}let n=dae(e);return e.callback(n),n},VVe=te(Se(),1),YVe=e=>{let t=(0,VS.useRef)(!1);return(0,VS.useEffect)(()=>{var d;if(!t.current){t.current=!0;return}let n=new Map,r=new Map,a=new Map,o=new Map,s=new Map;e.appState.collaborators.forEach((u,f)=>{if(u.selectedElementIds)for(let p of Object.keys(u.selectedElementIds))a.has(p)||a.set(p,[]),a.get(p).push(f);!u.pointer||u.pointer.renderCursor===!1||(u.username&&o.set(f,u.username),u.userState&&s.set(f,u.userState),r.set(f,ic({sceneX:u.pointer.x,sceneY:u.pointer.y},e.appState)),n.set(f,u.button))});let l=((d=e.containerRef)==null?void 0:d.current)&&getComputedStyle(e.containerRef.current).getPropertyValue("--color-selection")||"#6965db";WVe({canvas:e.canvas,elementsMap:e.elementsMap,visibleElements:e.visibleElements,selectedElements:e.selectedElements,allElementsMap:e.allElementsMap,scale:window.devicePixelRatio,appState:e.appState,renderConfig:{remotePointerViewportCoords:r,remotePointerButton:n,remoteSelectedElementIds:a,remotePointerUsernames:o,remotePointerUserStates:s,selectionColor:l,renderScrollbars:!1},device:e.device,callback:e.renderInteractiveSceneCallback},pB())}),(0,VVe.jsx)("canvas",{className:"excalidraw__canvas interactive",style:{width:e.appState.width,height:e.appState.height,cursor:e.appState.viewModeEnabled?Vn.GRAB:Vn.AUTO},width:e.appState.width*e.scale,height:e.appState.height*e.scale,ref:e.handleCanvasRef,onContextMenu:e.onContextMenu,onPointerMove:e.onPointerMove,onPointerUp:e.onPointerUp,onPointerCancel:e.onPointerCancel,onTouchMove:e.onTouchMove,onPointerDown:e.onPointerDown,onDoubleClick:e.appState.viewModeEnabled?void 0:e.onDoubleClick,children:P("labels.drawingCanvas")})},jQ=e=>({zoom:e.zoom,scrollX:e.scrollX,scrollY:e.scrollY,width:e.width,height:e.height,viewModeEnabled:e.viewModeEnabled,openDialog:e.openDialog,editingGroupId:e.editingGroupId,editingLinearElement:e.editingLinearElement,selectedElementIds:e.selectedElementIds,frameToHighlight:e.frameToHighlight,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,theme:e.theme,pendingImageElementId:e.pendingImageElementId,selectionElement:e.selectionElement,selectedGroupIds:e.selectedGroupIds,selectedLinearElement:e.selectedLinearElement,multiElement:e.multiElement,isBindingEnabled:e.isBindingEnabled,suggestedBindings:e.suggestedBindings,isRotating:e.isRotating,elementsToHighlight:e.elementsToHighlight,collaborators:e.collaborators,activeEmbeddable:e.activeEmbeddable,snapLines:e.snapLines,zenModeEnabled:e.zenModeEnabled,editingTextElement:e.editingTextElement,isCropping:e.isCropping,croppingElementId:e.croppingElementId,searchMatches:e.searchMatches}),KVe=(e,t)=>e.selectionNonce!==t.selectionNonce||e.sceneNonce!==t.sceneNonce||e.scale!==t.scale||e.elementsMap!==t.elementsMap||e.visibleElements!==t.visibleElements||e.selectedElements!==t.selectedElements?!1:ga(jQ(e.appState),jQ(t.appState)),XVe=VS.default.memo(YVe,KVe);N();var yA=te(Fe(),1),ZVe=te(Se(),1),qVe=e=>{let t=(0,yA.useRef)(null),n=(0,yA.useRef)(!1);return(0,yA.useEffect)(()=>{let r=t.current;if(!r)return;let a=e.canvas;n.current||(n.current=!0,r.replaceChildren(a),a.classList.add("excalidraw__canvas","static"));let o=`${e.appState.width}px`,s=`${e.appState.height}px`;a.style.width!==o&&(a.style.width=o),a.style.height!==s&&(a.style.height=s);let l=e.appState.width*e.scale,d=e.appState.height*e.scale;a.width!==l&&(a.width=l),a.height!==d&&(a.height=d),FJ({canvas:a,rc:e.rc,scale:e.scale,elementsMap:e.elementsMap,allElementsMap:e.allElementsMap,visibleElements:e.visibleElements,appState:e.appState,renderConfig:e.renderConfig},pB())}),(0,ZVe.jsx)("div",{className:"excalidraw__canvas-wrapper",ref:t})},OQ=e=>({zoom:e.zoom,scrollX:e.scrollX,scrollY:e.scrollY,width:e.width,height:e.height,viewModeEnabled:e.viewModeEnabled,openDialog:e.openDialog,hoveredElementIds:e.hoveredElementIds,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,theme:e.theme,pendingImageElementId:e.pendingImageElementId,shouldCacheIgnoreZoom:e.shouldCacheIgnoreZoom,viewBackgroundColor:e.viewBackgroundColor,exportScale:e.exportScale,selectedElementsAreBeingDragged:e.selectedElementsAreBeingDragged,gridSize:e.gridSize,gridStep:e.gridStep,frameRendering:e.frameRendering,selectedElementIds:e.selectedElementIds,frameToHighlight:e.frameToHighlight,editingGroupId:e.editingGroupId,currentHoveredFontFamily:e.currentHoveredFontFamily,croppingElementId:e.croppingElementId}),JVe=(e,t)=>e.sceneNonce!==t.sceneNonce||e.scale!==t.scale||e.elementsMap!==t.elementsMap||e.visibleElements!==t.visibleElements?!1:ga(OQ(e.appState),OQ(t.appState))&&ga(e.renderConfig,t.renderConfig),eYe=yA.default.memo(qVe,JVe);N();var zQ=class{constructor(e){ee(this,"scene");ee(this,"getRenderableElements",(()=>{let e=({elementsMap:n,zoom:r,offsetLeft:a,offsetTop:o,scrollX:s,scrollY:l,height:d,width:u})=>{let f=[];for(let p of n.values())tw(p,u,d,{zoom:r,offsetLeft:a,offsetTop:o,scrollX:s,scrollY:l},n)&&f.push(p);return f},t=({elements:n,editingTextElement:r,newElementId:a,pendingImageElementId:o})=>{let s=Bs(new Map);for(let l of n)zn(l)&&o===l.id||a!==l.id&&(!r||r.type!=="text"||l.id!==r.id)&&s.set(l.id,l);return s};return w_e(({zoom:n,offsetLeft:r,offsetTop:a,scrollX:o,scrollY:s,height:l,width:d,editingTextElement:u,newElementId:f,pendingImageElementId:p,sceneNonce:g})=>{let v=this.scene.getNonDeletedElements(),c=t({elements:v,editingTextElement:u,newElementId:f,pendingImageElementId:p}),h=e({elementsMap:c,zoom:n,offsetLeft:r,offsetTop:a,scrollX:o,scrollY:s,height:l,width:d});return{elementsMap:c,visibleElements:h}})})());this.scene=e}destroy(){uae.cancel(),$J.cancel(),this.getRenderableElements.clear()}};N();var QQ=te(Fe(),1),HQ=te(Se(),1),tYe=({trails:e})=>{let t=(0,QQ.useRef)(null);return(0,QQ.useEffect)(()=>{if(t.current)for(let n of e)n.start(t.current);return()=>{for(let n of e)n.stop()}},e),(0,HQ.jsx)("div",{className:"SVGLayer",children:(0,HQ.jsx)("svg",{ref:t})})};N();var nYe=te(Se(),1),rYe=5,iYe=(e,t,n)=>{let[r,a]=Xt(e,n),{x:o,y:s}=ic({sceneX:r+e.width,sceneY:a},t),l=o-t.offsetLeft+10,d=s-t.offsetTop;return{x:l,y:d}},GQ=({children:e,element:t,elementsMap:n})=>{let r=Qb();if(r.contextMenu||r.newElement||r.resizingElement||r.isRotating||r.openMenu||r.viewModeEnabled)return null;let{x:a,y:o}=iYe(t,r,n);return(0,nYe.jsx)("div",{className:"excalidraw-canvas-buttons",style:{top:`${o}px`,left:`${a}px`,padding:rYe},children:e})};N();var P9=te(Se(),1),aYe="small",L9=e=>(0,P9.jsxs)("label",{className:bt("ToolIcon ToolIcon__MagicButton",`ToolIcon_size_${aYe}`,{"is-mobile":e.isMobile}),title:`${e.title}`,children:[(0,P9.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),(0,P9.jsx)("div",{className:"ToolIcon__icon",children:e.icon})]});N();var EU=te(Se(),1),oYe=({height:e,width:t,userToFollow:n,onDisconnect:r})=>(0,EU.jsx)("div",{className:"follow-mode",style:{width:t,height:e},children:(0,EU.jsxs)("div",{className:"follow-mode__badge",children:[(0,EU.jsxs)("div",{className:"follow-mode__badge__label",children:["Following"," ",(0,EU.jsx)("span",{className:"follow-mode__badge__username",title:n.username,children:n.username})]}),(0,EU.jsx)("button",{type:"button",onClick:r,className:"follow-mode__disconnect-btn",children:h2})]})}),sYe=oYe;N();var lYe=class{constructor(){ee(this,"targets",new WeakMap);ee(this,"rafIds",new WeakMap)}register(e,t){this.targets.set(e,{callback:t,stopped:!0})}start(e){let t=this.targets.get(e);t&&(this.rafIds.has(e)||(this.targets.set(e,{...t,stopped:!1}),this.scheduleFrame(e)))}stop(e){let t=this.targets.get(e);t&&!t.stopped&&this.targets.set(e,{...t,stopped:!0}),this.cancelFrame(e)}constructFrame(e){return t=>{let n=this.targets.get(e);if(!n)return;let r=this.onFrame(n,t);!n.stopped&&!r?this.scheduleFrame(e):this.cancelFrame(e)}}scheduleFrame(e){let t=requestAnimationFrame(this.constructFrame(e));this.rafIds.set(e,t)}cancelFrame(e){if(this.rafIds.has(e)){let t=this.rafIds.get(e);cancelAnimationFrame(t)}this.rafIds.delete(e)}onFrame(e,t){return e.callback(t)??!1}};N();N();function cYe(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var dYe={};cYe(dYe,"LaserPointer",()=>fae);function ui([e,t,n],[r,a,o]){return[e+r,t+a,n+o]}function lv([e,t,n],[r,a,o]){return[e-r,t-a,n-o]}function ki([e,t,n],r){return[e*r,t*r,n*r]}function Q1([e,t,n]){return[e/Math.sqrt(e**2+t**2),t/Math.sqrt(e**2+t**2),n]}function Ra([e,t,n],r){return[Math.cos(r)*e-Math.sin(r)*t,Math.sin(r)*e+Math.cos(r)*t,n]}function uYe(e,t,n){return ui(e,ki(lv(t,e),n))}function WQ(e,t,n){return Math.atan2(n[1]-e[1],n[0]-e[0])-Math.atan2(t[1]-e[1],t[0]-e[0])}function VQ(e){return Math.atan2(Math.sin(e),Math.cos(e))}function YQ([e,t]){return Math.sqrt(e**2+t**2)}function om([e,t],[n,r]){return Math.sqrt((n-e)**2+(r-t)**2)}function fYe(e){if(e.length<2)return 0;let t=0;for(let n=1;n<=e.length-1;n++)t+=om(e[n-1],e[n]);return t+=om(e[e.length-2],e[e.length-1]),t}var hYe=(e,t,n)=>Math.max(t,Math.min(n,e));function pYe(e,t,n){let r=om(t,n);if(r===0)return om(e,t);let a=hYe(((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r**2,0,1),o=[t[0]+a*(n[0]-t[0]),t[1]+a*(n[1]-t[1]),e[2]];return om(o,e)}function yw(e,t){if(t===0||e.length<=2)return e;let n=e[0],r=e[e.length-1],[a,o]=e.reduce(([s,l],d,u)=>{let f=pYe(d,n,r);return f>s?[f,u]:[s,l]},[0,-1]);if(a>=t){let s=e[o];return[...yw([n,...e.slice(1,o),s],t).slice(0,-1),s,...yw([s,...e.slice(o,-1),r],t).slice(1)]}else return[n,r]}var ec,fae=(ec=class{constructor(t){this.originalPoints=[],this.stablePoints=[],this.tailPoints=[],this.isFresh=!0,this.options=Object.assign({},ec.defaults,t)}get lastPoint(){return this.tailPoints[this.tailPoints.length-1]??this.stablePoints[this.stablePoints.length-1]}addPoint(t){let n=this.originalPoints[this.originalPoints.length-1];if(!(n&&n[0]===t[0]&&n[1]===t[1])){if(this.originalPoints.push(t),this.isFresh){this.isFresh=!1,this.stablePoints.push(t);return}this.options.streamline>0&&(t=uYe(this.lastPoint,t,1-this.options.streamline)),this.tailPoints.push(t),fYe(this.tailPoints)>ec.constants.maxTailLength&&this.stabilizeTail()}}close(){this.stabilizeTail()}stabilizeTail(){if(this.options.simplify>0&&this.options.simplifyPhase=="tail")throw new Error("Not implemented yet");this.stablePoints.push(...this.tailPoints),this.tailPoints=[]}getSize(t,n,r,a,o){return(t??this.options.size)*this.options.sizeMapping({pressure:n,runningLength:o,currentIndex:r,totalLength:a})}getStrokeOutline(t){if(this.isFresh)return[];let n=[...this.stablePoints,...this.tailPoints];this.options.simplify>0&&this.options.simplifyPhase==="input"&&(n=yw(n,this.options.simplify));let r=n.length;if(r===0)return[];if(r===1){let I=n[0],S=this.getSize(t,I[2],0,r,0);if(S<.5)return[];let M=[];for(let R=0;R<=Math.PI*2;R+=Math.PI/16)M.push(ui(I,ki(Ra([1,0,0],R),S)));return M.push(ui(I,ki([1,0,0],this.getSize(t,I[2],0,r,0)))),M}if(r===2){let I=n[0],S=n[1],M=this.getSize(t,I[2],0,r,0),R=this.getSize(t,S[2],0,r,0);if(M<.5||R<.5)return[];let D=[],L=WQ(I,[I[0],I[1]-100,I[2]],S);for(let j=L;j<=Math.PI+L;j+=Math.PI/16)D.push(ui(I,ki(Ra([1,0,0],j),M)));for(let j=Math.PI+L;j<=Math.PI*2+L;j+=Math.PI/16)D.push(ui(S,ki(Ra([1,0,0],j),R)));return D.push(D[0]),D}let a=[],o=[],s=0,l=0,d=0,u=0;for(let I=1;I<r-1;I++){let S=n[I-1],M=n[I],R=n[I+1],D=M[2],L=om(S,M);u+=L,s=l+(L-l)*.2;let j=this.getSize(t,D,I,r,u);if(j===0){d=I+1;continue}let re=Q1(lv(S,M)),J=Q1(lv(R,M)),H=Ra(re,Math.PI/2),ne=Ra(re,-Math.PI/2),Z=Ra(J,Math.PI/2),se=Ra(J,-Math.PI/2),O=ui(M,ki(H,j)),V=ui(M,ki(ne,j)),de=ui(M,ki(Z,j)),oe=ui(M,ki(se,j)),me=ui(H,se),ve=ui(ne,Z),xe=ui(M,ki(YQ(me)===0?re:Q1(me),j)),le=ui(M,ki(YQ(ve)===0?J:Q1(ve),j)),he=VQ(WQ(M,S,R)),ge=ec.constants.cornerDetectionMaxAngle/180*Math.PI*ec.constants.cornerDetectionVariance(s);if(Math.abs(he)<ge){let Ee=Math.abs(VQ(Math.PI-he));if(Ee===0)continue;if(he<0){o.push(V,le);for(let ze=0;ze<=Ee;ze+=Ee/4)a.push(ui(M,Ra(ki(H,j),ze)));for(let ze=Ee;ze>=0;ze-=Ee/4)o.push(ui(M,Ra(ki(H,j),ze)));o.push(le,de)}else{a.push(O,xe);for(let ze=0;ze<=Ee;ze+=Ee/4)o.push(ui(M,Ra(ki(H,-j),-ze)));for(let ze=Ee;ze>=0;ze-=Ee/4)a.push(ui(M,Ra(ki(H,-j),-ze)));a.push(xe,oe)}}else a.push(xe),o.push(le);l=s}if(d>=r-2)if(this.options.keepHead){let I=n[r-1],S=[];for(let M=0;M<=Math.PI*2;M+=Math.PI/16)S.push(ui(I,ki(Ra([1,0,0],M),this.options.size)));return S.push(ui(I,ki([1,0,0],this.options.size))),S}else return[];let f=n[d],p=n[d+1],g=n[r-2],v=n[r-1],c=Q1(lv(p,f)),h=Q1(lv(g,v)),m=Ra(c,-Math.PI/2),U=Ra(h,Math.PI/2),b=this.getSize(t,f[2],0,r,0),w=[],E=this.options.keepHead?this.options.size:this.getSize(t,g[2],r-2,r,u),x=[];if(b>1){for(let I=0;I<=Math.PI;I+=Math.PI/16)w.unshift(ui(f,Ra(ki(m,b),-I)));w.unshift(ui(f,ki(m,-b)))}else w.push(f);for(let I=0;I<=Math.PI*3;I+=Math.PI/16)x.push(ui(v,Ra(ki(U,-E),-I)));let C=[...w,...a,...x.reverse(),...o.reverse()];return w.length>0&&C.push(w[0]),this.options.simplify>0&&this.options.simplifyPhase==="output"?yw(C,this.options.simplify):C}},ec.defaults={size:2,streamline:.45,simplify:.1,simplifyPhase:"output",keepHead:!1,sizeMapping:()=>1},ec.constants={cornerDetectionMaxAngle:75,cornerDetectionVariance:t=>t>35?.5:1,maxTailLength:50},ec),KS=class{constructor(e,t,n){ee(this,"currentTrail");ee(this,"pastTrails",[]);ee(this,"container");ee(this,"trailElement");this.animationFrameHandler=e,this.app=t,this.options=n,this.animationFrameHandler.register(this,this.onFrame.bind(this)),this.trailElement=document.createElementNS(nr,"path")}get hasCurrentTrail(){return!!this.currentTrail}hasLastPoint(e,t){if(this.currentTrail){let n=this.currentTrail.originalPoints.length;return this.currentTrail.originalPoints[n-1][0]===e&&this.currentTrail.originalPoints[n-1][1]===t}return!1}start(e){e&&(this.container=e),this.trailElement.parentNode!==this.container&&this.container&&this.container.appendChild(this.trailElement),this.animationFrameHandler.start(this)}stop(){var e;this.animationFrameHandler.stop(this),this.trailElement.parentNode===this.container&&((e=this.container)==null||e.removeChild(this.trailElement))}startPath(e,t){this.currentTrail=new fae(this.options),this.currentTrail.addPoint([e,t,performance.now()]),this.update()}addPointToPath(e,t){this.currentTrail&&(this.currentTrail.addPoint([e,t,performance.now()]),this.update())}endPath(){this.currentTrail&&(this.currentTrail.close(),this.currentTrail.options.keepHead=!1,this.pastTrails.push(this.currentTrail),this.currentTrail=void 0,this.update())}update(){this.start()}onFrame(){let e=[];for(let n of this.pastTrails)e.push(this.drawTrail(n,this.app.state));if(this.currentTrail){let n=this.drawTrail(this.currentTrail,this.app.state);e.push(n)}this.pastTrails=this.pastTrails.filter(n=>n.getStrokeOutline().length!==0),e.length===0&&this.stop();let t=e.join(" ").trim();this.trailElement.setAttribute("d",t),this.trailElement.setAttribute("fill",(this.options.fill??(()=>"black"))(this))}drawTrail(e,t){let n=e.getStrokeOutline(e.options.size/t.zoom.value).map(([r,a])=>{let o=ic({sceneX:r,sceneY:a},t);return[o.x,o.y]});return E_e(n,!0)}};N();var gYe=class{constructor(e,t){ee(this,"localTrail");ee(this,"collabTrails",new Map);ee(this,"container");this.animationFrameHandler=e,this.app=t,this.animationFrameHandler.register(this,this.onFrame.bind(this)),this.localTrail=new KS(e,t,{...this.getTrailOptions(),fill:()=>C9e})}getTrailOptions(){return{simplify:0,streamline:.4,sizeMapping:e=>{let t=Math.max(0,1-(performance.now()-e.pressure)/1e3),n=(50-Math.min(50,e.totalLength-e.currentIndex))/50;return Math.min(C0(n),C0(t))}}}startPath(e,t){this.localTrail.startPath(e,t)}addPointToPath(e,t){this.localTrail.addPointToPath(e,t)}endPath(){this.localTrail.endPath()}start(e){this.container=e,this.animationFrameHandler.start(this),this.localTrail.start(e)}stop(){this.animationFrameHandler.stop(this),this.localTrail.stop()}onFrame(){this.updateCollabTrails()}updateCollabTrails(){if(!(!this.container||this.app.state.collaborators.size===0)){for(let[e,t]of this.app.state.collaborators.entries()){let n;this.collabTrails.has(e)?n=this.collabTrails.get(e):(n=new KS(this.animationFrameHandler,this.app,{...this.getTrailOptions(),fill:()=>{var r;return((r=t.pointer)==null?void 0:r.laserColor)||n7(e,t)}}),n.start(this.container),this.collabTrails.set(e,n)),t.pointer&&t.pointer.tool==="laser"&&(t.button==="down"&&!n.hasCurrentTrail&&n.startPath(t.pointer.x,t.pointer.y),t.button==="down"&&n.hasCurrentTrail&&!n.hasLastPoint(t.pointer.x,t.pointer.y)&&n.addPointToPath(t.pointer.x,t.pointer.y),t.button==="up"&&n.hasCurrentTrail&&(n.addPointToPath(t.pointer.x,t.pointer.y),n.endPath()))}for(let e of this.collabTrails.keys())this.app.state.collaborators.has(e)||(this.collabTrails.get(e).stop(),this.collabTrails.delete(e))}}};N();var mYe=(e,t,n,r,a,o)=>{let{zoom:s}=r,l=180*n/Math.PI,d=e*(s.value-1)/2,u=t*(s.value-1)/2;return e>a&&s.value!==1&&(d=a*(s.value-1)/2),t>o&&s.value!==1&&(u=o*(s.value-1)/2),`translate(${d}px, ${u}px) scale(${s.value}) rotate(${l}deg)`},UYe=({id:e,onChange:t,onSubmit:n,getViewportCoords:r,element:a,canvas:o,excalidrawContainer:s,app:l,autoSelect:d=!0})=>{let u=(J,H)=>{if(!H.style.fontFamily||!H.style.fontSize)return!1;let ne=H.style.fontFamily.replace(/"/g,"");return Dm({fontFamily:J.fontFamily})!==ne||`${J.fontSize}px`!==H.style.fontSize},f=()=>{var O;let J=l.state,H=(O=Gh.getScene(a))==null?void 0:O.getElement(e);if(!H)return;let{textAlign:ne,verticalAlign:Z}=H,se=l.scene.getNonDeletedElementsMap();if(H&&pt(H)){let V=H.x,de=H.y,oe=lo(H,l.scene.getNonDeletedElementsMap()),me=H.width,ve=H.height,xe=H.width,le=H.height;if(oe&&H.containerId){if(ln(oe)){let Ce=xt.getBoundTextElementPosition(oe,H,se);V=Ce.x,de=Ce.y}let Ae=u(H,p),$e;if(Ae?$e=Y8(oe.id,oe.height):($e=Qm[oe.id],$e||($e=Y8(oe.id,oe.height))),xe=Id(oe,H),le=Db(oe,H),!ln(oe)&&ve>le){let Ce=Y0(ve,oe.type);Qe(oe,{height:Ce});return}else if(!ln(oe)&&oe.height>$e.height&&ve<le){let Ce=Y0(ve,oe.type);Qe(oe,{height:Ce})}else{let{y:Ce}=N4(oe,H,se);de=Ce}}let[he,ge]=r(V,de),Ee=p.selectionStart,ze=p.selectionEnd,at=p.value.length;if(Ee===ze&&ze!==at){let Ae=at-ze;p.selectionStart=p.value.length-Ae,p.selectionEnd=p.value.length-Ae}oe?me+=.5:(xe=(J.width-8-he)/J.zoom.value,me=Math.min(me,xe)),ve*=1.05;let q=Xn(H),ae=(J.height-ge)/J.zoom.value;Object.assign(p.style,{font:q,lineHeight:H.lineHeight,width:`${me}px`,height:`${ve}px`,left:`${he}px`,top:`${ge}px`,transform:mYe(me,ve,UPe(H,oe),J,xe,ae),textAlign:ne,verticalAlign:Z,color:H.strokeColor,opacity:H.opacity/100,filter:"var(--theme-filter)",maxHeight:`${ae}px`}),p.scrollTop=0,zh()&&(p.style.fontFamily=Dm(H)),Qe(H,{x:V,y:de})}},p=document.createElement("textarea");p.dir="auto",p.tabIndex=0,p.dataset.type="wysiwyg",p.wrap="off",p.classList.add("excalidraw-wysiwyg");let g="pre",v="normal";(bi(a)||!a.autoResize)&&(g="pre-wrap",v="break-word"),Object.assign(p.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:v,whiteSpace:g,overflowWrap:"break-word",boxSizing:"content-box"}),p.value=a.originalText,f(),t&&(p.onpaste=async J=>{let H=await YJ(J,!0);if(!H.text)return;let ne=Hm(H.text);if(!ne)return;let Z=lo(a,l.scene.getNonDeletedElementsMap()),se=Xn({fontSize:l.state.currentItemFontSize,fontFamily:l.state.currentItemFontFamily});if(Z){let O=on(Z,l.scene.getNonDeletedElementsMap()),V=ap(`${p.value}${ne}`,se,Id(Z,O)),de=fT(V,se,!0);p.style.width=`${de}px`}},p.oninput=()=>{let J=Hm(p.value);if(p.value!==J){let H=p.selectionStart;p.value=J,p.selectionStart=H,p.selectionEnd=H}t(p.value)}),p.onkeydown=J=>{if(!J.shiftKey&&gz.keyTest(J))J.preventDefault(),l.actionManager.executeAction(gz),f();else if(!J.shiftKey&&mz.keyTest(J))J.preventDefault(),l.actionManager.executeAction(mz),f();else if(!J.shiftKey&&Uz.keyTest(J))J.preventDefault(),l.actionManager.executeAction(Uz),f();else if(fz.keyTest(J))l.actionManager.executeAction(fz);else if(hz.keyTest(J))l.actionManager.executeAction(hz);else if(J.key===ie.ESCAPE)J.preventDefault(),x=!0,C();else if(J.key===ie.ENTER&&J[ie.CTRL_OR_CMD]){if(J.preventDefault(),J.isComposing||J.keyCode===229)return;x=!0,C()}else if(J.key===ie.TAB||J[ie.CTRL_OR_CMD]&&(J.code===Pn.BRACKET_LEFT||J.code===Pn.BRACKET_RIGHT)){if(J.preventDefault(),J.isComposing)return;J.shiftKey||J.code===Pn.BRACKET_LEFT?b():U(),p.dispatchEvent(new Event("input"))}};let c=4,h=" ".repeat(c),m=new RegExp(`^ {1,${c}}`),U=()=>{let{selectionStart:J,selectionEnd:H}=p,ne=w(),Z=p.value;ne.forEach(se=>{let O=Z.slice(0,se),V=Z.slice(se);Z=`${O}${h}${V}`}),p.value=Z,p.selectionStart=J+c,p.selectionEnd=H+c*ne.length},b=()=>{let{selectionStart:J,selectionEnd:H}=p,ne=w(),Z=[],se=p.value;ne.forEach(O=>{let V=se.slice(O,O+c).match(m);if(V){let de=se.slice(0,O),oe=se.slice(O+V[0].length);se=`${de}${oe}`,Z.push(O)}}),p.value=se,Z.length&&(J>Z[Z.length-1]?p.selectionStart=Math.max(J-c,Z[Z.length-1]):p.selectionStart=J,p.selectionEnd=Math.max(p.selectionStart,H-c*Z.length))},w=()=>{let{selectionStart:J,selectionEnd:H,value:ne}=p,Z=ne.slice(0,J).match(/[^\n]*$/)[0].length;return J=J-Z,ne.slice(J,H).split(`
`).reduce((se,O,V,de)=>se.concat(V?se[V-1]+de[V-1].length+1:J),[]).reverse()},E=J=>{J.target instanceof HTMLCanvasElement&&(J.preventDefault(),J.stopPropagation())},x=!1,C=()=>{var ne,Z;if(j)return;j=!0,I();let J=(ne=Gh.getScene(a))==null?void 0:ne.getElement(a.id);if(!J)return;let H=lo(J,l.scene.getNonDeletedElementsMap());if(H){if(p.value.trim()){let se=tf(H);!se||se!==a.id?Qe(H,{boundElements:(H.boundElements||[]).concat({type:"text",id:a.id})}):ln(H)&&Q4(H)}else Qe(H,{boundElements:(Z=H.boundElements)==null?void 0:Z.filter(se=>!pt(se))});co(J,H,l.scene.getNonDeletedElementsMap())}n({viaKeyboard:x,nextOriginalText:p.value})},I=()=>{p.onblur=null,p.oninput=null,p.onkeydown=null,re&&re.disconnect(),window.removeEventListener("resize",f),window.removeEventListener("wheel",E,!0),window.removeEventListener("pointerdown",R),window.removeEventListener("pointerup",S),window.removeEventListener("blur",C),window.removeEventListener("beforeunload",C),D(),L(),p.remove()},S=J=>{window.removeEventListener("pointerup",S);let H=J==null?void 0:J.target,ne=H instanceof HTMLElement&&H.classList.contains("properties-trigger");setTimeout(()=>{p.onblur=C,ne||p.focus()})},M=()=>{p.onblur=null,window.addEventListener("pointerup",S),window.addEventListener("blur",C)},R=J=>{let H=J==null?void 0:J.target;if(J.button===Kf.WHEEL){H instanceof HTMLTextAreaElement&&(J.preventDefault(),l.handleCanvasPanUsingWheelOrSpaceDrag(J)),M();return}let ne=H instanceof HTMLElement&&H.classList.contains("properties-trigger");(J.target instanceof HTMLElement||J.target instanceof SVGElement)&&J.target.closest(`.${Tm.SHAPE_ACTIONS_MENU}, .${Tm.ZOOM_ACTIONS}`)&&!e0(J.target)||ne?M():J.target instanceof HTMLCanvasElement&&!zh()&&requestAnimationFrame(()=>{C()})},D=l.scene.onUpdate(()=>{var J;f(),(J=document.activeElement)!=null&&J.closest(".properties-content")||p.focus()}),L=l.onScrollChangeEmitter.on(()=>{f()}),j=!1;d&&p.select(),S();let re=null;o&&"ResizeObserver"in window?(re=new window.ResizeObserver(()=>{f()}),re.observe(o)):window.addEventListener("resize",f),p.onpointerdown=J=>J.stopPropagation(),requestAnimationFrame(()=>{window.addEventListener("pointerdown",R,{capture:!0})}),window.addEventListener("beforeunload",C),s==null||s.querySelector(".excalidraw-textEditorContainer").appendChild(p)};N();var vYe=ut({name:"autoResize",label:"labels.autoResize",icon:null,trackEvent:{category:"element"},predicate:(e,t,n,r)=>{let a=gn(e,t);return a.length===1&&pt(a[0])&&!a[0].autoResize},perform:(e,t,n,r)=>{let a=gn(e,t);return{appState:t,elements:e.map(o=>{if(o.id===a[0].id&&pt(o)){let s=Ha(o.originalText,Xn(o),o.lineHeight);return an(o,{autoResize:!0,width:s.width,height:s.height,text:o.originalText})}return o}),storeAction:Me.CAPTURE}}});N();var yYe=e=>{let t=["flowchart","graph","sequenceDiagram","classDiagram","stateDiagram","stateDiagram-v2","erDiagram","journey","gantt","pie","quadrantChart","requirementDiagram","gitGraph","C4Context","mindmap","timeline","zenuml","sankey","xychart","block"];return new RegExp(`^(?:%%{.*?}%%[\\s\\n]*)?\\b(?:${t.map(n=>`\\s*${n}(-beta)?`).join("|")})\\b`).test(e.trim())};N();var KQ=te(Fe(),1);N();var hae=({canvas:e,rc:t,newElement:n,elementsMap:r,allElementsMap:a,scale:o,appState:s,renderConfig:l})=>{if(e){let[d,u]=yT(e,o),f=bT({canvas:e,scale:o,normalizedWidth:d,normalizedHeight:u});f.save(),f.scale(s.zoom.value,s.zoom.value),n&&n.type!=="selection"?Yp(n,r,a,t,f,l,s):f.clearRect(0,0,d,u)}},bYe=A4(e=>{hae(e)},{trailing:!0}),AYe=(e,t)=>{if(t){bYe(e);return}hae(e)},wYe=te(Se(),1),EYe=e=>{let t=(0,KQ.useRef)(null);return(0,KQ.useEffect)(()=>{t.current&&AYe({canvas:t.current,scale:e.scale,newElement:e.appState.newElement,elementsMap:e.elementsMap,allElementsMap:e.allElementsMap,rc:e.rc,renderConfig:e.renderConfig,appState:e.appState},pB())}),(0,wYe.jsx)("canvas",{className:"excalidraw__canvas",style:{width:e.appState.width,height:e.appState.height},width:e.appState.width*e.scale,height:e.appState.height*e.scale,ref:t})},xYe=EYe,Sn=te(Se(),1),pae=Ua.default.createContext(null),gae=Ua.default.createContext(null),mae={viewport:{isMobile:!1,isLandscape:!1},editor:{isMobile:!1,canFitSidebar:!1},isTouchScreen:!1},gB=Ua.default.createContext(mae);gB.displayName="DeviceContext";var mB=Ua.default.createContext({container:null,id:null});mB.displayName="ExcalidrawContainerContext";var UB=Ua.default.createContext([]);UB.displayName="ExcalidrawElementsContext";var vB=Ua.default.createContext({...Cd(),width:0,height:0,offsetLeft:0,offsetTop:0});vB.displayName="ExcalidrawAppStateContext";var yB=Ua.default.createContext(()=>{console.warn("Uninitialized ExcalidrawSetAppStateContext context!")});yB.displayName="ExcalidrawSetAppStateContext";var bB=Ua.default.createContext(null);bB.displayName="ExcalidrawActionManagerContext";var Ld=()=>(0,Ua.useContext)(pae),zb=()=>(0,Ua.useContext)(gae),va=()=>(0,Ua.useContext)(gB),Nd=()=>(0,Ua.useContext)(mB),a7=()=>(0,Ua.useContext)(UB),Qb=()=>(0,Ua.useContext)(vB),ra=()=>(0,Ua.useContext)(yB),qo=()=>(0,Ua.useContext)(bB),xU=!1,N9=0,Bp=!1,_U=!1,$9=!1,F9={horizontal:null,vertical:null},Ff=0,CU=!1,j9=new Map,J5=!1,XQ=0,ZQ=!1,Rp=null,jn={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},_Ye=class Uae extends Ua.default.Component{constructor(n){super(n);ee(this,"canvas");ee(this,"interactiveCanvas",null);ee(this,"rc");ee(this,"unmounted",!1);ee(this,"actionManager");ee(this,"device",mae);ee(this,"excalidrawContainerRef",Ua.default.createRef());ee(this,"scene");ee(this,"fonts");ee(this,"renderer");ee(this,"visibleElements");ee(this,"resizeObserver");ee(this,"nearestScrollableContainer");ee(this,"library");ee(this,"libraryItemsFromStorage");ee(this,"id");ee(this,"store");ee(this,"history");ee(this,"excalidrawContainerValue");ee(this,"files",{});ee(this,"imageCache",new Map);ee(this,"iFrameRefs",new Map);ee(this,"embedsValidationStatus",new Map);ee(this,"initializedEmbeds",new Set);ee(this,"elementsPendingErasure",new Set);ee(this,"flowChartCreator",new kHe);ee(this,"flowChartNavigator",new IHe);ee(this,"hitLinkElement");ee(this,"lastPointerDownEvent",null);ee(this,"lastPointerUpEvent",null);ee(this,"lastPointerMoveEvent",null);ee(this,"lastPointerMoveCoords",null);ee(this,"lastViewportPosition",{x:0,y:0});ee(this,"animationFrameHandler",new lYe);ee(this,"laserTrails",new gYe(this.animationFrameHandler,this));ee(this,"eraserTrail",new KS(this.animationFrameHandler,this,{streamline:.2,size:5,keepHead:!0,sizeMapping:n=>{let r=Math.max(0,1-(performance.now()-n.pressure)/200),a=(10-Math.min(10,n.totalLength-n.currentIndex))/10;return Math.min(C0(a),C0(r))},fill:()=>this.state.theme===Un.LIGHT?"rgba(0, 0, 0, 0.2)":"rgba(255, 255, 255, 0.2)"}));ee(this,"onChangeEmitter",new Xc);ee(this,"onPointerDownEmitter",new Xc);ee(this,"onPointerUpEmitter",new Xc);ee(this,"onUserFollowEmitter",new Xc);ee(this,"onScrollChangeEmitter",new Xc);ee(this,"missingPointerEventCleanupEmitter",new Xc);ee(this,"onRemoveEventListenersEmitter",new Xc);ee(this,"getEffectiveGridSize",()=>jy(this)?this.state.gridSize:null);ee(this,"updateEmbedValidationStatus",(n,r)=>{this.embedsValidationStatus.set(n.id,r),Vr.delete(n)});ee(this,"updateEmbeddables",()=>{let n=new Set,r=!1;this.scene.getNonDeletedElements().filter(a=>{if(Io(a)){if(n.add(a.id),!this.embedsValidationStatus.has(a.id)){r=!0;let o=rA(a.link,this.props.validateEmbeddable);this.updateEmbedValidationStatus(a,o)}}else rh(a)&&n.add(a.id);return!1}),r&&this.scene.triggerUpdate(),this.iFrameRefs.forEach((a,o)=>{n.has(o)||this.iFrameRefs.delete(o)})});ee(this,"getFrameNameDOMId",n=>`${this.id}-frame-name-${n.id}`);ee(this,"frameNameBoundsCache",{get:n=>{let r=this.frameNameBoundsCache._cache.get(n.id);if(!r||r.zoom!==this.state.zoom.value||r.versionNonce!==n.versionNonce){let a=document.getElementById(this.getFrameNameDOMId(n));if(a){let o=a.getBoundingClientRect(),s=Ur({clientX:o.x,clientY:o.y},this.state),l=Ur({clientX:o.right,clientY:o.bottom},this.state);return r={x:s.x,y:s.y,width:l.x-s.x,height:l.y-s.y,angle:0,zoom:this.state.zoom.value,versionNonce:n.versionNonce},this.frameNameBoundsCache._cache.set(n.id,r),r}return null}return r},_cache:new Map});ee(this,"resetEditingFrame",n=>{var r;n&&Qe(n,{name:((r=n.name)==null?void 0:r.trim())||null}),this.setState({editingFrame:null})});ee(this,"renderFrameNames",()=>{if(!this.state.frameRendering.enabled||!this.state.frameRendering.name)return this.state.editingFrame&&this.resetEditingFrame(null),null;let n=this.state.theme===Un.DARK;return this.scene.getNonDeletedFramesLikes().map(r=>{if(!tw(r,this.canvas.width/window.devicePixelRatio,this.canvas.height/window.devicePixelRatio,{offsetLeft:this.state.offsetLeft,offsetTop:this.state.offsetTop,scrollX:this.state.scrollX,scrollY:this.state.scrollY,zoom:this.state.zoom},this.scene.getNonDeletedElementsMap()))return this.state.editingFrame===r.id&&this.resetEditingFrame(r),null;let{x:a,y:o}=ic({sceneX:r.x,sceneY:r.y},this.state),s=6,l,d=iee(r);if(r.id===this.state.editingFrame){let u=d;l=(0,Sn.jsx)("input",{autoFocus:!0,value:u,onChange:f=>{Qe(r,{name:f.target.value})},onFocus:f=>f.target.select(),onBlur:()=>this.resetEditingFrame(r),onKeyDown:f=>{(f.key===ie.ESCAPE||f.key===ie.ENTER)&&this.resetEditingFrame(r)},style:{background:this.state.viewBackgroundColor,filter:n?PM:"none",zIndex:2,border:"none",display:"block",padding:`${s}px`,borderRadius:4,boxShadow:"inset 0 0 0 1px var(--color-primary)",fontFamily:"Assistant",fontSize:"14px",transform:`translate(-${s}px, ${s}px)`,color:"var(--color-gray-80)",overflow:"hidden",maxWidth:`${document.body.clientWidth-a-s}px`},size:u.length+1||1,dir:"auto",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"})}else l=d;return(0,Sn.jsx)("div",{id:this.getFrameNameDOMId(r),style:{position:"absolute",bottom:`${this.state.height+Qr.nameOffsetY-o+this.state.offsetTop}px`,left:`${a-this.state.offsetLeft}px`,zIndex:2,fontSize:Qr.nameFontSize,color:n?Qr.nameColorDarkTheme:Qr.nameColorLightTheme,lineHeight:Qr.nameLineHeight,width:"max-content",maxWidth:`${r.width}px`,overflow:r.id===this.state.editingFrame?"visible":"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:Vn.MOVE,pointerEvents:this.state.viewModeEnabled?k1.disabled:k1.enabled},onPointerDown:u=>this.handleCanvasPointerDown(u),onWheel:u=>this.handleWheel(u),onContextMenu:this.handleCanvasContextMenu,onDoubleClick:()=>{this.setState({editingFrame:r.id})},children:l},r.id)})});ee(this,"focusContainer",()=>{var n;(n=this.excalidrawContainerRef.current)==null||n.focus()});ee(this,"getSceneElementsIncludingDeleted",()=>this.scene.getElementsIncludingDeleted());ee(this,"getSceneElements",()=>this.scene.getNonDeletedElements());ee(this,"onInsertElements",n=>{this.addElementsFromPasteOrLibrary({elements:n,position:"center",files:null})});ee(this,"onExportImage",async(n,r,a)=>{yr("export",n,"ui");let o=await t7(n,r,this.state,this.files,{exportBackground:this.state.exportBackground,name:this.getName(),viewBackgroundColor:this.state.viewBackgroundColor,exportingFrame:a.exportingFrame}).catch(xZ).catch(s=>{console.error(s),this.setState({errorMessage:s.message})});this.state.exportEmbedScene&&o&&LT(o)&&this.setState({fileHandle:o})});ee(this,"magicGenerations",new Map);ee(this,"updateMagicGeneration",({frameElement:n,data:r})=>{r.status==="pending"?Qe(n,{customData:{generationData:void 0}},!1):Qe(n,{customData:{generationData:r}},!1),this.magicGenerations.set(n.id,r),this.triggerRender()});ee(this,"plugins",{});ee(this,"onMagicframeToolSelect",()=>{let n=this.scene.getSelectedElements({selectedElementIds:this.state.selectedElementIds});if(n.length===0)this.setActiveTool({type:Qi.magicframe}),yr("ai","tool-select (empty-selection)","d2c");else{let r=n.length===1&&Z3(n[0])&&n[0];if(!r&&n.some(o=>en(o)||o.frameId)){this.setActiveTool({type:Qi.magicframe});return}yr("ai","tool-select (existing selection)","d2c");let a;if(r)a=r;else{let[o,s,l,d]=Yn(n),u=50;a=uS({...Qr,x:o-u,y:s-u,width:l-o+u*2,height:d-s+u*2,opacity:100,locked:!1}),this.scene.insertElement(a);for(let f of n)Qe(f,{frameId:a.id});this.setState({selectedElementIds:{[a.id]:!0}})}this.onMagicFrameGenerate(a,"upstream")}});ee(this,"openEyeDropper",({type:n})=>{ac.set(q4,{swapPreviewOnAlt:!0,colorPickerType:n==="stroke"?"elementStroke":"elementBackground",onSelect:(r,a)=>{let o=n==="background"&&a.altKey||n==="stroke"&&!a.altKey;!this.scene.getSelectedElements(this.state).length||this.state.activeTool.type!=="selection"?o?this.syncActionResult({appState:{...this.state,currentItemStrokeColor:r},storeAction:Me.CAPTURE}):this.syncActionResult({appState:{...this.state,currentItemBackgroundColor:r},storeAction:Me.CAPTURE}):this.updateScene({elements:this.scene.getElementsIncludingDeleted().map(s=>this.state.selectedElementIds[s.id]?an(s,{[o?"strokeColor":"backgroundColor"]:r}):s),storeAction:Me.CAPTURE})},keepOpenOnAlt:!1})});ee(this,"dismissLinearEditor",()=>{setTimeout(()=>{this.setState({editingLinearElement:null})})});ee(this,"syncActionResult",Kr(n=>{var o,s,l,d,u,f;if(this.unmounted||n===!1)return;n.storeAction===Me.UPDATE?this.store.shouldUpdateSnapshot():n.storeAction===Me.CAPTURE&&this.store.shouldCaptureIncrement();let r=!1,a=null;if(n.elements&&(this.scene.replaceAllElements(n.elements),r=!0),n.files&&(this.addMissingFiles(n.files,n.replaceFiles),this.addNewImagesToImageCache()),n.appState||a||this.state.contextMenu){let p=((o=n==null?void 0:n.appState)==null?void 0:o.viewModeEnabled)||!1,g=((s=n==null?void 0:n.appState)==null?void 0:s.zenModeEnabled)||!1,v=((l=n==null?void 0:n.appState)==null?void 0:l.theme)||this.props.theme||Un.LIGHT,c=((d=n==null?void 0:n.appState)==null?void 0:d.name)??this.state.name,h=((u=n==null?void 0:n.appState)==null?void 0:u.errorMessage)??this.state.errorMessage;typeof this.props.viewModeEnabled<"u"&&(p=this.props.viewModeEnabled),typeof this.props.zenModeEnabled<"u"&&(g=this.props.zenModeEnabled),a=((f=n.appState)==null?void 0:f.editingTextElement)||null,n.elements&&a&&n.elements.forEach(m=>{(a==null?void 0:a.id)===m.id&&a!==m&&bS(m)&&pt(m)&&(a=m)}),a!=null&&a.isDeleted&&(a=null),this.setState(m=>{let U=n.appState||{};return{...m,...U,contextMenu:null,editingTextElement:a,viewModeEnabled:p,zenModeEnabled:g,theme:v,name:c,errorMessage:h}}),r=!0}!r&&n.storeAction!==Me.NONE&&this.scene.triggerUpdate()}));ee(this,"onBlur",Kr(()=>{Bp=!1,this.setState({isBindingEnabled:!0})}));ee(this,"onUnload",()=>{this.onBlur()});ee(this,"disableEvent",n=>{n.preventDefault()});ee(this,"resetHistory",()=>{this.history.clear()});ee(this,"resetStore",()=>{this.store.clear()});ee(this,"resetScene",Kr(n=>{this.scene.replaceAllElements([]),this.setState(r=>({...Cd(),isLoading:n!=null&&n.resetLoadingState?!1:r.isLoading,theme:this.state.theme})),this.resetStore(),this.resetHistory()}));ee(this,"initializeScene",async()=>{var a;"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(async o=>{if(!o.files.length)return;let s=o.files[0],l=await s.getFile();this.loadFileToCanvas(new File([l],l.name||"",{type:l.type}),s)}),this.props.theme&&this.setState({theme:this.props.theme}),this.state.isLoading||this.setState({isLoading:!0});let n=null;try{typeof this.props.initialData=="function"?n=await this.props.initialData()||null:n=await this.props.initialData||null,n!=null&&n.libraryItems&&this.library.updateLibrary({libraryItems:n.libraryItems,merge:!0}).catch(o=>{console.error(o)})}catch(o){console.error(o),n={appState:{errorMessage:o.message||"Encountered an error during importing or restoring scene data"}}}let r=F4(n,null,null,{repairBindings:!0});r.appState={...r.appState,theme:this.props.theme||r.appState.theme,openSidebar:((a=r.appState)==null?void 0:a.openSidebar)||this.state.openSidebar,activeTool:r.appState.activeTool.type==="image"?{...r.appState.activeTool,type:"selection"}:r.appState.activeTool,isLoading:!1,toast:this.state.toast},n!=null&&n.scrollToContent&&(r.appState={...r.appState,...$y(r.elements,{...r.appState,width:this.state.width,height:this.state.height,offsetTop:this.state.offsetTop,offsetLeft:this.state.offsetLeft})}),this.resetStore(),this.resetHistory(),this.syncActionResult({...r,storeAction:Me.UPDATE}),this.clearImageShapeCache(),this.fonts.loadSceneFonts().then(o=>{this.fonts.onLoaded(o)}),Ov(window.location.href)&&this.scrollToContent(window.location.href,{animate:!1})});ee(this,"isMobileBreakpoint",(n,r)=>n<N9e||r<F9e&&n<$9e);ee(this,"refreshViewportBreakpoints",()=>{if(!this.excalidrawContainerRef.current)return;let{clientWidth:n,clientHeight:r}=document.body,a=this.device.viewport,o=X3(a,{isLandscape:n>r,isMobile:this.isMobileBreakpoint(n,r)});return a!==o?(this.device={...this.device,viewport:o},!0):!1});ee(this,"refreshEditorBreakpoints",()=>{let n=this.excalidrawContainerRef.current;if(!n)return;let{width:r,height:a}=n.getBoundingClientRect(),o=this.props.UIOptions.dockedSidebarBreakpoint!=null?this.props.UIOptions.dockedSidebarBreakpoint:j9e,s=this.device.editor,l=X3(s,{isMobile:this.isMobileBreakpoint(r,a),canFitSidebar:r>o});return s!==l?(this.device={...this.device,editor:l},!0):!1});ee(this,"onResize",Kr(()=>{this.scene.getElementsIncludingDeleted().forEach(n=>Vr.delete(n)),this.refreshViewportBreakpoints(),this.updateDOMRect(),OC||this.refreshEditorBreakpoints(),this.setState({})}));ee(this,"onFullscreenChange",()=>{var n;!document.fullscreenElement&&((n=this.state.activeEmbeddable)==null?void 0:n.state)==="active"&&this.setState({activeEmbeddable:null})});ee(this,"renderInteractiveSceneCallback",({atLeastOneVisibleElement:n,scrollBars:r,elementsMap:a})=>{r&&(F9=r);let o=this.state.editingTextElement?!1:!n&&a.size>0;this.state.scrolledOutside!==o&&this.setState({scrolledOutside:o}),this.scheduleImageRefresh()});ee(this,"onScroll",Pm(()=>{let{offsetTop:n,offsetLeft:r}=this.getCanvasOffsets();this.setState(a=>a.offsetLeft===r&&a.offsetTop===n?null:{offsetTop:n,offsetLeft:r})},P9e));ee(this,"onCut",Kr(n=>{var r;!((r=this.excalidrawContainerRef.current)!=null&&r.contains(document.activeElement))||e0(n.target)||(this.actionManager.executeAction(xz,"keyboard",n),n.preventDefault(),n.stopPropagation())}));ee(this,"onCopy",Kr(n=>{var r;!((r=this.excalidrawContainerRef.current)!=null&&r.contains(document.activeElement))||e0(n.target)||(this.actionManager.executeAction(pA,"keyboard",n),n.preventDefault(),n.stopPropagation())}));ee(this,"onTouchStart",n=>{if(hZ&&n.preventDefault(),!xU){xU=!0,clearTimeout(N9),N9=window.setTimeout(Uae.resetTapTwice,R9e);return}if(xU&&n.touches.length===1){let r=n.touches[0];this.handleCanvasDoubleClick({clientX:r.clientX,clientY:r.clientY}),xU=!1,clearTimeout(N9)}n.touches.length===2&&this.setState({selectedElementIds:On({},this.state),activeEmbeddable:null})});ee(this,"onTouchEnd",n=>{this.resetContextMenuTimer(),n.touches.length>0?this.setState({previousSelectedElementIds:{},selectedElementIds:On(this.state.previousSelectedElementIds,this.state)}):jn.pointers.clear()});ee(this,"pasteFromClipboard",Kr(async n=>{var p,g;let r=!!J5,a=document.activeElement,o=(p=this.excalidrawContainerRef.current)==null?void 0:p.contains(a);if(n&&!o)return;let s=document.elementFromPoint(this.lastViewportPosition.x,this.lastViewportPosition.y);if(n&&(!(s instanceof HTMLCanvasElement)||e0(a)))return;let{x:l,y:d}=Ur({clientX:this.lastViewportPosition.x,clientY:this.lastViewportPosition.y},this.state),u=(g=n==null?void 0:n.clipboardData)==null?void 0:g.files[0],f=await YJ(n,r);if(!u&&!r){if(f.mixedContent)return this.addElementsFromMixedContentPaste(f.mixedContent,{isPlainPaste:r,sceneX:l,sceneY:d});if(f.text){let v=f.text.trim();v.startsWith("<svg")&&v.endsWith("</svg>")&&(u=AO(v))}}if(M0(u)&&!f.spreadsheet){if(!this.isToolSupported("image")){this.setState({errorMessage:P("errors.imageToolNotSupported")});return}let v=this.createImageElement({sceneX:l,sceneY:d});this.insertImageElement(v,u),this.initializeImageDimensions(v),this.setState({selectedElementIds:On({[v.id]:!0},this.state)});return}if(this.props.onPaste)try{if(await this.props.onPaste(f,n)===!1)return}catch(v){console.error(v)}if(f.errorMessage)this.setState({errorMessage:f.errorMessage});else if(f.spreadsheet&&!r)this.setState({pasteDialog:{data:f.spreadsheet,shown:!0}});else if(f.elements){let v=f.programmaticAPI?Ah(f.elements):f.elements;this.addElementsFromPasteOrLibrary({elements:v,files:f.files||null,position:"cursor",retainSeed:r})}else if(f.text){if(f.text&&yYe(f.text)){let h=await Ye(()=>import("./dist-QNDTTFGF-D6LxGARR.js").then(m=>m.b7),[],import.meta.url);try{let{elements:m,files:U}=await h.parseMermaidToExcalidraw(f.text),b=Ah(m,{regenerateIds:!0});this.addElementsFromPasteOrLibrary({elements:b,files:U,position:"cursor"});return}catch(m){console.warn(`parsing pasted text as mermaid definition failed: ${m.message}`)}}let v=MZ(f.text).split(/\n+/).map(h=>h.trim()).filter(Boolean),c=v.map(h=>KPe(h)).filter(h=>{var m;return rA(h,this.props.validateEmbeddable)&&(/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(h)||((m=$g(h))==null?void 0:m.type)==="video")});if(!J5&&c.length>0&&c.length===v.length){let h=[];for(let m of c){let U=h[h.length-1],b=this.insertEmbeddableElement({sceneX:U?U.x+U.width+20:l,sceneY:d,link:Cs(m)});b&&h.push(b)}h.length&&this.setState({selectedElementIds:Object.fromEntries(h.map(m=>[m.id,!0]))});return}this.addTextFromPaste(f.text,r)}this.setActiveTool({type:"selection"}),n==null||n.preventDefault()}));ee(this,"addElementsFromPasteOrLibrary",n=>{let r=n.elements.map((C,I,S)=>{if(Wt(C)){let M=[C.startBinding&&S.find(L=>{var j;return L.id===((j=C.startBinding)==null?void 0:j.elementId)}),C.endBinding&&S.find(L=>{var j;return L.id===((j=C.endBinding)==null?void 0:j.elementId)})],R=M[0]?C.startBinding:null,D=M[1]?C.endBinding:null;return{...C,...Kq({...C,startBinding:R,endBinding:D},Bs(new Map(M.filter(L=>L!=null).map(L=>[L.id,L]))),[C.points[0],C.points[C.points.length-1]],void 0,{zoom:this.state.zoom})}}return C});r=ET(r,null,void 0);let[a,o,s,l]=Yn(r),d=ja(a,s)/2,u=ja(o,l)/2,f=typeof n.position=="object"?n.position.clientX:n.position==="cursor"?this.lastViewportPosition.x:this.state.width/2+this.state.offsetLeft,p=typeof n.position=="object"?n.position.clientY:n.position==="cursor"?this.lastViewportPosition.y:this.state.height/2+this.state.offsetTop,{x:g,y:v}=Ur({clientX:f,clientY:p},this.state),c=g-d,h=v-u,[m,U]=Oi(c,h,this.getEffectiveGridSize()),b=yJ(r.map(C=>an(C,{x:C.x+m-a,y:C.y+U-o})),{randomizeSeed:!n.retainSeed}),w=[...this.scene.getElementsIncludingDeleted(),...b];vc(w,Vt(b));let E=this.getTopLayerFrameAtSceneCoords({x:g,y:v});if(E){let C=VLe(b,E);oA(w,C,E)}this.scene.replaceAllElements(w),b.forEach(C=>{if(pt(C)&&bi(C)){let I=lo(C,this.scene.getElementsMapIncludingDeleted());co(C,I,this.scene.getElementsMapIncludingDeleted())}}),Y3&&fd.loadElementsFonts(b).then(C=>{this.fonts.onLoaded(C)}),n.files&&this.addMissingFiles(n.files),this.store.shouldCaptureIncrement();let x=z4(b);this.setState({...this.state,openSidebar:this.state.openSidebar&&this.device.editor.canFitSidebar&&ac.get(cB)?this.state.openSidebar:null,...So({editingGroupId:null,selectedElementIds:x.reduce((C,I)=>(bi(I)||(C[I.id]=!0),C),{})},this.scene.getNonDeletedElements(),this.state,this)},()=>{n.files&&this.addNewImagesToImageCache()}),this.setActiveTool({type:"selection"}),n.fitToContent&&this.scrollToContent(b,{fitToContent:!0,canvasOffsets:this.getEditorUIOffsets()})});ee(this,"setAppState",(n,r)=>{this.setState(n,r)});ee(this,"removePointer",n=>{Ff&&this.resetContextMenuTimer(),jn.pointers.delete(n.pointerId)});ee(this,"toggleLock",(n="ui")=>{this.state.activeTool.locked||yr("toolbar","toggleLock",`${n} (${this.device.editor.isMobile?"mobile":"desktop"})`),this.setState(r=>({activeTool:{...r.activeTool,..._i(this.state,r.activeTool.locked?{type:"selection"}:r.activeTool),locked:!r.activeTool.locked}}))});ee(this,"updateFrameRendering",n=>{this.setState(r=>{let a=typeof n=="function"?n(r.frameRendering):n;return{frameRendering:{enabled:(a==null?void 0:a.enabled)??r.frameRendering.enabled,clip:(a==null?void 0:a.clip)??r.frameRendering.clip,name:(a==null?void 0:a.name)??r.frameRendering.name,outline:(a==null?void 0:a.outline)??r.frameRendering.outline}}})});ee(this,"togglePenMode",n=>{this.setState(r=>({penMode:n??!r.penMode,penDetected:!0}))});ee(this,"onHandToolToggle",()=>{this.actionManager.executeAction(FOe)});ee(this,"zoomCanvas",n=>{this.setState({...p0({viewportX:this.state.width/2+this.state.offsetLeft,viewportY:this.state.height/2+this.state.offsetTop,nextZoom:Tu(n)},this.state)})});ee(this,"cancelInProgressAnimation",null);ee(this,"scrollToContent",(n=this.scene.getNonDeletedElements(),r)=>{var d;if(typeof n=="string"){let u;if(Ov(n)?u=oLe(n):u=n,u){let f=this.scene.getElementsFromId(u);f!=null&&f.length?this.scrollToContent(f,{fitToContent:(r==null?void 0:r.fitToContent)??!0,animate:(r==null?void 0:r.animate)??!0}):Ov(n)&&this.setState({toast:{message:P("elementLink.notFound"),duration:3e3,closable:!0}})}return}(d=this.cancelInProgressAnimation)==null||d.call(this);let a=Array.isArray(n)?n:[n],o=this.state.zoom,s=this.state.scrollX,l=this.state.scrollY;if(r!=null&&r.fitToContent||r!=null&&r.fitToViewport){let{appState:u}=J4({canvasOffsets:r.canvasOffsets,targetElements:a,appState:this.state,fitToViewport:!!(r!=null&&r.fitToViewport),viewportZoomFactor:r==null?void 0:r.viewportZoomFactor,minZoom:r==null?void 0:r.minZoom,maxZoom:r==null?void 0:r.maxZoom});o=u.zoom,s=u.scrollX,l=u.scrollY}else{let u=$y(a,this.state);s=u.scrollX,l=u.scrollY}if(r!=null&&r.animate){let u=this.state.scrollX,f=this.state.scrollY,p=this.state.zoom.value,g=d_e({fromValues:{scrollX:u,scrollY:f,zoom:p},toValues:{scrollX:s,scrollY:l,zoom:o.value},interpolateValue:(v,c,h,m)=>{if(m==="zoom")return v*Math.pow(c/v,C0(h))},onStep:({scrollX:v,scrollY:c,zoom:h})=>{this.setState({scrollX:v,scrollY:c,zoom:{value:h}})},onStart:()=>{this.setState({shouldCacheIgnoreZoom:!0})},onEnd:()=>{this.setState({shouldCacheIgnoreZoom:!1})},onCancel:()=>{this.setState({shouldCacheIgnoreZoom:!1})},duration:(r==null?void 0:r.duration)??500});this.cancelInProgressAnimation=()=>{g(),this.cancelInProgressAnimation=null}}else this.setState({scrollX:s,scrollY:l,zoom:o})});ee(this,"maybeUnfollowRemoteUser",()=>{this.state.userToFollow&&this.setState({userToFollow:null})});ee(this,"translateCanvas",n=>{var r;(r=this.cancelInProgressAnimation)==null||r.call(this),this.maybeUnfollowRemoteUser(),this.setState(n)});ee(this,"setToast",n=>{this.setState({toast:n})});ee(this,"restoreFileFromShare",async()=>{try{let n=await caches.open("web-share-target"),r=await n.match("shared-file");if(r){let a=await r.blob(),o=new File([a],a.name||"",{type:a.type});this.loadFileToCanvas(o,null),await n.delete("shared-file"),window.history.replaceState(null,w9e,window.location.pathname)}}catch(n){this.setState({errorMessage:n.message})}});ee(this,"addFiles",Kr(n=>{let{addedFiles:r}=this.addMissingFiles(n);this.clearImageShapeCache(r),this.scene.triggerUpdate(),this.addNewImagesToImageCache()}));ee(this,"addMissingFiles",(n,r=!1)=>{let a=r?{}:{...this.files},o={},s=Array.isArray(n)?n:Object.values(n);for(let l of s)if(!a[l.id]&&(o[l.id]=l,a[l.id]=l,l.mimeType===Ft.svg))try{let d=bNe(Zj(wNe(l.dataURL)),Ft.svg);l.dataURL!==d&&(l.version=(l.version??1)+1,l.dataURL=d)}catch(d){console.error(d)}return this.files=a,{addedFiles:o}});ee(this,"updateScene",Kr(n=>{let r=nf(n.elements??[]);if(n.storeAction&&n.storeAction!==Me.NONE){let a=this.store.snapshot.appState,o=this.store.snapshot.elements,s=n.appState?Object.assign({},a,n.appState):a,l=n.elements?this.store.filterUncomittedElements(this.scene.getElementsMapIncludingDeleted(),Vt(r)):o;n.storeAction===Me.CAPTURE?this.store.captureIncrement(l,s):n.storeAction===Me.UPDATE&&this.store.updateSnapshot(l,s)}n.appState&&this.setState(n.appState),n.elements&&this.scene.replaceAllElements(r),n.collaborators&&this.setState({collaborators:n.collaborators})}));ee(this,"triggerRender",n=>{n===!0?this.scene.triggerUpdate():this.setState({})});ee(this,"toggleSidebar",({name:n,tab:r,force:a})=>{var l,d;let o;a===void 0?o=((l=this.state.openSidebar)==null?void 0:l.name)===n&&((d=this.state.openSidebar)==null?void 0:d.tab)===r?null:n:o=a?n:null;let s=o?{name:o}:null;return s&&r&&(s.tab=r),this.setState({openSidebar:s}),!!o});ee(this,"updateCurrentCursorPosition",Kr(n=>{this.lastViewportPosition.x=n.clientX,this.lastViewportPosition.y=n.clientY}));ee(this,"getEditorUIOffsets",()=>{var s,l,d,u,f,p,g,v,c,h;let n=((u=(d=(l=(s=this.excalidrawContainerRef)==null?void 0:s.current)==null?void 0:l.querySelector(".App-toolbar"))==null?void 0:d.getBoundingClientRect())==null?void 0:u.bottom)??0,r=(g=(p=(f=this.excalidrawContainerRef)==null?void 0:f.current)==null?void 0:p.querySelector(".sidebar"))==null?void 0:g.getBoundingClientRect(),a=(h=(c=(v=this.excalidrawContainerRef)==null?void 0:v.current)==null?void 0:c.querySelector(".App-menu__left"))==null?void 0:h.getBoundingClientRect(),o=16;return Vm().rtl?{top:n+o,right:Math.max(this.state.width-((a==null?void 0:a.left)??this.state.width),0)+o,bottom:o,left:Math.max((r==null?void 0:r.right)??0,0)+o}:{top:n+o,right:Math.max(this.state.width-((r==null?void 0:r.left)??this.state.width)+o,0),bottom:o,left:Math.max((a==null?void 0:a.right)??0,0)+o}});ee(this,"onKeyDown",Kr(n=>{var s,l;if("Proxy"in window&&(!n.shiftKey&&/^[A-Z]$/.test(n.key)||n.shiftKey&&/^[a-z]$/.test(n.key))&&(n=new Proxy(n,{get(d,u){let f=d[u];return typeof f=="function"?f.bind(d):u==="key"?n.shiftKey?d.key.toUpperCase():d.key.toLowerCase():f}})),!zC(n.target)){if((n.key===ie.ESCAPE||n.key===ie.ENTER)&&this.state.croppingElementId){this.finishImageCropping();return}let d=gn(this.scene.getNonDeletedElementsMap(),this.state);if(d.length===1&&zn(d[0])&&n.key===ie.ENTER){this.startImageCropping(d[0]);return}if(n.key===ie.ESCAPE&&this.flowChartCreator.isCreatingChart){this.flowChartCreator.clear(),this.triggerRender(!0);return}let u=XU(n.key);if(n[ie.CTRL_OR_CMD]&&u&&!n.shiftKey){n.preventDefault();let f=gn(this.scene.getNonDeletedElementsMap(),this.state);f.length===1&&E4(f[0])&&this.flowChartCreator.createNodes(f[0],this.scene.getNonDeletedElementsMap(),this.state,lQ(n.key)),(s=this.flowChartCreator.pendingNodes)!=null&&s.length&&!sA(this.flowChartCreator.pendingNodes,this.canvas.width/window.devicePixelRatio,this.canvas.height/window.devicePixelRatio,{offsetLeft:this.state.offsetLeft,offsetTop:this.state.offsetTop,scrollX:this.state.scrollX,scrollY:this.state.scrollY,zoom:this.state.zoom},this.scene.getNonDeletedElementsMap(),this.getEditorUIOffsets())&&this.scrollToContent(this.flowChartCreator.pendingNodes,{animate:!0,duration:300,fitToContent:!0,canvasOffsets:this.getEditorUIOffsets()});return}if(n.altKey){let f=gn(this.scene.getNonDeletedElementsMap(),this.state);if(f.length===1&&u){n.preventDefault();let p=this.flowChartNavigator.exploreByDirection(f[0],this.scene.getNonDeletedElementsMap(),lQ(n.key));if(p){this.setState(v=>({selectedElementIds:On({[p]:!0},v)}));let g=this.scene.getNonDeletedElementsMap().get(p);g&&!sA([g],this.canvas.width/window.devicePixelRatio,this.canvas.height/window.devicePixelRatio,{offsetLeft:this.state.offsetLeft,offsetTop:this.state.offsetTop,scrollX:this.state.scrollX,scrollY:this.state.scrollY,zoom:this.state.zoom},this.scene.getNonDeletedElementsMap(),this.getEditorUIOffsets())&&this.scrollToContent(g,{animate:!0,duration:300,canvasOffsets:this.getEditorUIOffsets()})}return}}}if(n[ie.CTRL_OR_CMD]&&n.key===ie.P&&!n.shiftKey&&!n.altKey){this.setToast({message:P("commandPalette.shortcutHint",{shortcut:Qa("commandPalette")})}),n.preventDefault();return}if(n[ie.CTRL_OR_CMD]&&n.key.toLowerCase()===ie.V&&(J5=n.shiftKey,clearTimeout(XQ),XQ=window.setTimeout(()=>{J5=!1},100)),n[ie.CTRL_OR_CMD]&&e0(n.target)&&(n.code===Pn.MINUS||n.code===Pn.EQUAL)){n.preventDefault();return}if(e0(n.target)&&n.key!==ie.ESCAPE||XU(n.key)&&zC(n.target))return;if(n.key===ie.QUESTION_MARK){this.setState({openDialog:{name:"help"}});return}else if(n.key.toLowerCase()===ie.E&&n.shiftKey&&n[ie.CTRL_OR_CMD]){n.preventDefault(),this.setState({openDialog:{name:"imageExport"}});return}if(n.key===ie.PAGE_UP||n.key===ie.PAGE_DOWN){let d=(n.shiftKey?this.state.width:this.state.height)/this.state.zoom.value;n.key===ie.PAGE_DOWN&&(d=-d),n.shiftKey?this.translateCanvas(u=>({scrollX:u.scrollX+d})):this.translateCanvas(u=>({scrollY:u.scrollY+d}))}if(((l=this.state.openDialog)==null?void 0:l.name)==="elementLinkSelector"||this.actionManager.handleKeyDown(n)||this.state.viewModeEnabled)return;if(n[ie.CTRL_OR_CMD]&&this.state.isBindingEnabled&&this.setState({isBindingEnabled:!1}),XU(n.key)){let d=this.scene.getSelectedElements({selectedElementIds:this.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),u=d.find(Wt),f=new Set;d.filter(Wt).filter(c=>{let h=c.startBinding&&!d.some(U=>{var b;return U.id===((b=c.startBinding)==null?void 0:b.elementId)}),m=c.endBinding&&!d.some(U=>{var b;return U.id===((b=c.endBinding)==null?void 0:b.elementId)});return h||m}).forEach(c=>f.add(c.id)),d=d.filter(c=>!f.has(c.id));let p=this.getEffectiveGridSize()&&(n.shiftKey?yF:this.getEffectiveGridSize())||(n.shiftKey?x9e:yF),g=0,v=0;n.key===ie.ARROW_LEFT?g=-p:n.key===ie.ARROW_RIGHT?g=p:n.key===ie.ARROW_UP?v=-p:n.key===ie.ARROW_DOWN&&(v=p),d.forEach(c=>{Qe(c,{x:c.x+g,y:c.y+v}),_s(c,this.scene.getNonDeletedElementsMap(),{simultaneouslyUpdated:d,zoom:this.state.zoom})}),this.setState({suggestedBindings:jx(d.filter(c=>c.id!==(u==null?void 0:u.id)||p!==0),this.scene.getNonDeletedElementsMap(),this.state.zoom)}),n.preventDefault()}else if(n.key===ie.ENTER){let d=this.scene.getSelectedElements(this.state);if(d.length===1){let u=d[0];if(n[ie.CTRL_OR_CMD])rn(u)&&(!this.state.editingLinearElement||this.state.editingLinearElement.elementId!==d[0].id)&&(this.store.shouldCaptureIncrement(),Wt(u)||this.setState({editingLinearElement:new xt(u)}));else if(pt(u)||APe(u)){let f;pt(u)||(f=u);let p=Qx(u,this.state,this.scene.getNonDeletedElementsMap()),g=p.x,v=p.y;this.startTextEditing({sceneX:g,sceneY:v,container:f}),n.preventDefault();return}else en(u)&&this.setState({editingFrame:u.id})}}else if(!n.ctrlKey&&!n.altKey&&!n.metaKey&&!this.state.newElement&&!this.state.selectionElement&&!this.state.selectedElementsAreBeingDragged){let d=aRe(n.key);d?(this.state.activeTool.type!==d&&yr("toolbar",d,`keyboard (${this.device.editor.isMobile?"mobile":"desktop"})`),d==="arrow"&&this.state.activeTool.type==="arrow"&&this.setState(u=>({currentItemArrowType:u.currentItemArrowType===Aa.sharp?Aa.round:u.currentItemArrowType===Aa.round?Aa.elbow:Aa.sharp})),this.setActiveTool({type:d}),n.stopPropagation()):n.key===ie.Q&&(this.toggleLock("keyboard"),n.stopPropagation())}if(n.key===ie.SPACE&&jn.pointers.size===0&&(Bp=!0,qn(this.interactiveCanvas,Vn.GRAB),n.preventDefault()),(n.key===ie.G||n.key===ie.S)&&!n.altKey&&!n[ie.CTRL_OR_CMD]){let d=this.scene.getSelectedElements(this.state);if(this.state.activeTool.type==="selection"&&!d.length)return;n.key===ie.G&&(Lm(this.state.activeTool.type)||d.some(u=>Lm(u.type)))&&(this.setState({openPopup:"elementBackground"}),n.stopPropagation()),n.key===ie.S&&(this.setState({openPopup:"elementStroke"}),n.stopPropagation())}if(!n[ie.CTRL_OR_CMD]&&n.shiftKey&&n.key.toLowerCase()===ie.F){let d=this.scene.getSelectedElements(this.state);if(this.state.activeTool.type==="selection"&&!d.length)return;(this.state.activeTool.type==="text"||d.find(u=>pt(u)||on(u,this.scene.getNonDeletedElementsMap())))&&(n.preventDefault(),this.setState({openPopup:"fontFamily"}))}if(n.key===ie.K&&!n.altKey&&!n[ie.CTRL_OR_CMD]){this.state.activeTool.type==="laser"?this.setActiveTool({type:"selection"}):this.setActiveTool({type:"laser"});return}n[ie.CTRL_OR_CMD]&&(n.key===ie.BACKSPACE||n.key===ie.DELETE)&&ac.set(i7,"clearCanvas");let r=n.key.toLocaleLowerCase(),a=r===ie.S&&n.shiftKey,o=n.key===ie.I||r===ie.G&&n.shiftKey;(a||o)&&this.openEyeDropper({type:a?"stroke":"background"})}));ee(this,"onKeyUp",Kr(n=>{var r,a,o,s;if(n.key===ie.SPACE&&(this.state.viewModeEnabled||((r=this.state.openDialog)==null?void 0:r.name)==="elementLinkSelector"?qn(this.interactiveCanvas,Vn.GRAB):this.state.activeTool.type==="selection"?Hl(this.interactiveCanvas):(Wc(this.interactiveCanvas,this.state),this.setState({selectedElementIds:On({},this.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})),Bp=!1),!n[ie.CTRL_OR_CMD]&&!this.state.isBindingEnabled&&this.setState({isBindingEnabled:!0}),XU(n.key)&&(Q8(this.scene.getSelectedElements(this.state).filter(rn),this.scene.getNonDeletedElementsMap(),this.scene.getNonDeletedElements(),this.scene,u0(this.state),((a=this.state.selectedLinearElement)==null?void 0:a.selectedPointsIndices)??[],this.state.zoom),this.setState({suggestedBindings:[]})),n.altKey||this.flowChartNavigator.isExploring&&(this.flowChartNavigator.clear(),this.syncActionResult({storeAction:Me.CAPTURE})),!n[ie.CTRL_OR_CMD]&&this.flowChartCreator.isCreatingChart){(o=this.flowChartCreator.pendingNodes)!=null&&o.length&&this.scene.insertElements(this.flowChartCreator.pendingNodes);let l=(s=this.flowChartCreator.pendingNodes)==null?void 0:s[0];l&&(this.setState(d=>({selectedElementIds:On({[l.id]:!0},d)})),sA([l],this.canvas.width/window.devicePixelRatio,this.canvas.height/window.devicePixelRatio,{offsetLeft:this.state.offsetLeft,offsetTop:this.state.offsetTop,scrollX:this.state.scrollX,scrollY:this.state.scrollY,zoom:this.state.zoom},this.scene.getNonDeletedElementsMap(),this.getEditorUIOffsets())||this.scrollToContent(l,{animate:!0,duration:300,canvasOffsets:this.getEditorUIOffsets()})),this.flowChartCreator.clear(),this.syncActionResult({storeAction:Me.CAPTURE})}}));ee(this,"isToolSupported",n=>{var r;return((r=this.props.UIOptions.tools)==null?void 0:r[n])!==!1});ee(this,"setActiveTool",n=>{if(!this.isToolSupported(n.type)){console.warn(`"${n.type}" tool is disabled via "UIOptions.canvasActions.tools.${n.type}"`);return}let r=_i(this.state,n);r.type==="hand"?qn(this.interactiveCanvas,Vn.GRAB):Bp||Wc(this.interactiveCanvas,this.state),l_e(document.activeElement)&&this.focusContainer(),FM(r.type)||this.setState({suggestedBindings:[]}),r.type==="image"&&this.onImageAction({insertOnCanvasDirectly:(n.type==="image"&&n.insertOnCanvasDirectly)??!1}),this.setState(a=>{let o={snapLines:a.snapLines.length?[]:a.snapLines,originSnapOffset:null,activeEmbeddable:null};return r.type==="freedraw"&&this.store.shouldCaptureIncrement(),r.type!=="selection"?{...a,activeTool:r,selectedElementIds:On({},a),selectedGroupIds:On({},a),editingGroupId:null,multiElement:null,...o}:{...a,activeTool:r,...o}})});ee(this,"setOpenDialog",n=>{this.setState({openDialog:n})});ee(this,"setCursor",n=>{qn(this.interactiveCanvas,n)});ee(this,"resetCursor",()=>{Hl(this.interactiveCanvas)});ee(this,"isTouchScreenMultiTouchGesture",()=>jn.pointers.size>=2);ee(this,"getName",()=>this.state.name||this.props.name||`${P("labels.untitled")}-${SF()}`);ee(this,"onGestureStart",Kr(n=>{n.preventDefault(),this.isTouchScreenMultiTouchGesture()&&this.setState({selectedElementIds:On({},this.state),activeEmbeddable:null}),jn.initialScale=this.state.zoom.value}));ee(this,"onGestureChange",Kr(n=>{if(n.preventDefault(),this.isTouchScreenMultiTouchGesture())return;let r=jn.initialScale;r&&this.setState(a=>({...p0({viewportX:this.lastViewportPosition.x,viewportY:this.lastViewportPosition.y,nextZoom:Tu(r*n.scale)},a)}))}));ee(this,"onGestureEnd",Kr(n=>{n.preventDefault(),this.isTouchScreenMultiTouchGesture()&&this.setState({previousSelectedElementIds:{},selectedElementIds:On(this.state.previousSelectedElementIds,this.state)}),jn.initialScale=null}));ee(this,"startTextEditing",({sceneX:n,sceneY:r,insertAtParentCenter:a=!0,container:o,autoEdit:s=!0})=>{let l=!1,d=a&&this.getTextWysiwygSnappedToCenterPosition(n,r,this.state,o);o&&d&&(on(o,this.scene.getNonDeletedElementsMap())||(l=!0));let u=null,f=this.scene.getSelectedElements(this.state);f.length===1?pt(f[0])?u=f[0]:o?u=on(f[0],this.scene.getNonDeletedElementsMap()):u=this.getTextElementAtPosition(n,r):u=this.getTextElementAtPosition(n,r);let p=(u==null?void 0:u.fontFamily)||this.state.currentItemFontFamily,g=(u==null?void 0:u.lineHeight)||H0(p),v=this.state.currentItemFontSize;if(!u&&l&&o&&!ln(o)){let m=sJ(Xn({fontSize:v,fontFamily:p}),g),U=aJ(v,g),b=Math.max(o.height,U),w=Math.max(o.width,m);Qe(o,{height:b,width:w}),n=o.x+w/2,r=o.y+b/2,d&&(d=this.getTextWysiwygSnappedToCenterPosition(n,r,this.state,o))}let c=this.getTopLayerFrameAtSceneCoords({x:n,y:r}),h=u||Vo({x:d?d.elementCenterX:n,y:d?d.elementCenterY:r,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:"",fontSize:v,fontFamily:p,textAlign:d?"center":this.state.currentItemTextAlign,verticalAlign:d?ws.MIDDLE:x8,containerId:l?o==null?void 0:o.id:void 0,groupIds:(o==null?void 0:o.groupIds)??[],lineHeight:g,angle:(o==null?void 0:o.angle)??0,frameId:c?c.id:null});if(!u&&l&&o&&Qe(o,{boundElements:(o.boundElements||[]).concat({type:"text",id:h.id})}),this.setState({editingTextElement:h}),!u)if(o&&l){let m=this.scene.getElementIndex(o.id);this.scene.insertElementAtIndex(h,m+1)}else this.scene.insertElement(h);s||u||o?this.handleTextWysiwyg(h,{isExistingElement:!!u}):this.setState({newElement:h,multiElement:null})});ee(this,"startImageCropping",n=>{this.store.shouldCaptureIncrement(),this.setState({croppingElementId:n.id})});ee(this,"finishImageCropping",()=>{this.state.croppingElementId&&(this.store.shouldCaptureIncrement(),this.setState({croppingElementId:null}))});ee(this,"handleCanvasDoubleClick",n=>{if(this.state.multiElement||this.state.activeTool.type!=="selection")return;let r=this.scene.getSelectedElements(this.state);if(r.length===1&&rn(r[0])&&n[ie.CTRL_OR_CMD]&&(!this.state.editingLinearElement||this.state.editingLinearElement.elementId!==r[0].id)&&!Wt(r[0])){this.store.shouldCaptureIncrement(),this.setState({editingLinearElement:new xt(r[0])});return}if(r.length===1&&zn(r[0])){this.startImageCropping(r[0]);return}Hl(this.interactiveCanvas);let{x:a,y:o}=Ur(n,this.state);if(I0(this.state).length>0){let s=this.getElementAtPosition(a,o),l=s&&ZDe(s,this.state.selectedGroupIds);if(l){this.store.shouldCaptureIncrement(),this.setState(d=>({...d,...So({editingGroupId:l,selectedElementIds:{[s.id]:!0}},this.scene.getNonDeletedElements(),d,this)}));return}}if(Hl(this.interactiveCanvas),!n[ie.CTRL_OR_CMD]&&!this.state.viewModeEnabled){let s=this.getElementAtPosition(a,o);if(ol(s)){this.setState({activeEmbeddable:{element:s,state:"active"}});return}let l=this.getTextBindableContainerAtPosition(a,o);if(l&&(xl(l)||!ud(l.backgroundColor)||fg({x:a,y:o,element:l,shape:Au(l,this.scene.getNonDeletedElementsMap()),threshold:this.getElementHitThreshold()}))){let d=Qx(l,this.state,this.scene.getNonDeletedElementsMap());a=d.x,o=d.y}this.startTextEditing({sceneX:a,sceneY:o,insertAtParentCenter:!n.altKey,container:l})}});ee(this,"getElementLinkAtPosition",(n,r)=>{let a=this.scene.getNonDeletedElements(),o=-1;for(let s=a.length-1;s>=0;s--){let l=a[s];if(r&&l.id===r.id&&(o=s),l.link&&s>=o&&Hx(l,this.scene.getNonDeletedElementsMap(),this.state,$(n.x,n.y),this.device.editor.isMobile))return l}});ee(this,"redirectToLink",(n,r)=>{let a=Yi($(this.lastPointerDownEvent.clientX,this.lastPointerDownEvent.clientY),$(this.lastPointerUpEvent.clientX,this.lastPointerUpEvent.clientY));if(!this.hitLinkElement||a>Wp)return;let o=Ur(this.lastPointerDownEvent,this.state),s=this.scene.getNonDeletedElementsMap(),l=Hx(this.hitLinkElement,s,this.state,$(o.x,o.y),this.device.editor.isMobile),d=Ur(this.lastPointerUpEvent,this.state),u=Hx(this.hitLinkElement,s,this.state,$(d.x,d.y),this.device.editor.isMobile);if(l&&u){Mz();let f=this.hitLinkElement.link;if(f){f=Cs(f);let p;if(this.props.onLinkOpen&&(p=IZ("excalidraw-link",n.nativeEvent),this.props.onLinkOpen({...this.hitLinkElement,link:f},p)),!(p!=null&&p.defaultPrevented)){let g=cJ(f)?"_self":"_blank",v=window.open(void 0,g);v&&(v.opener=null,v.location=f)}}}});ee(this,"getTopLayerFrameAtSceneCoords",n=>{let r=this.scene.getNonDeletedElementsMap(),a=this.scene.getNonDeletedFramesLikes().filter(o=>cO(n,o,r));return a.length?a[a.length-1]:null});ee(this,"handleCanvasPointerMove",n=>{var p,g,v,c,h,m;this.savePointer(n.clientX,n.clientY,this.state.cursorButton),this.lastPointerMoveEvent=n.nativeEvent,jn.pointers.has(n.pointerId)&&jn.pointers.set(n.pointerId,{x:n.clientX,y:n.clientY});let r=jn.initialScale;if(jn.pointers.size===2&&jn.lastCenter&&r&&jn.initialDistance){let U=nQ(jn.pointers),b=U.x-jn.lastCenter.x,w=U.y-jn.lastCenter.y;jn.lastCenter=U;let E=rQ(Array.from(jn.pointers.values())),x=this.state.activeTool.type==="freedraw"&&this.state.penMode?1:E/jn.initialDistance,C=x?Tu(r*x):this.state.zoom.value;this.setState(I=>{let S=p0({viewportX:U.x,viewportY:U.y,nextZoom:C},I);this.translateCanvas({zoom:S.zoom,scrollX:S.scrollX+2*(b/C),scrollY:S.scrollY+2*(w/C),shouldCacheIgnoreZoom:!0})}),this.resetShouldCacheIgnoreZoomDebounced()}else jn.lastCenter=jn.initialDistance=jn.initialScale=null;if(Bp||_U||$9||Rm(this.state))return;let a=uQ(F9,n.clientX-this.state.offsetLeft,n.clientY-this.state.offsetTop).isOverEither;!this.state.newElement&&!this.state.selectionElement&&!this.state.selectedElementsAreBeingDragged&&!this.state.multiElement&&(a?Hl(this.interactiveCanvas):Wc(this.interactiveCanvas,this.state));let o=Ur(n,this.state),{x:s,y:l}=o;if(!this.state.newElement&&uPe(this.state.activeTool.type)){let{originOffset:U,snapLines:b}=dPe(this.scene.getNonDeletedElements(),this,{x:s,y:l},n,this.scene.getNonDeletedElementsMap());this.setState(w=>{let E=q2(w.snapLines,b),x=w.originSnapOffset?q2(w.originSnapOffset,U):U;return w.snapLines===E&&w.originSnapOffset===x?null:{snapLines:E,originSnapOffset:x}})}else!this.state.newElement&&!this.state.selectedElementsAreBeingDragged&&!this.state.selectionElement&&this.setState(U=>U.snapLines.length?{snapLines:[]}:null);if(this.state.editingLinearElement&&!this.state.editingLinearElement.isDragging){let U=xt.handlePointerMove(n,s,l,this,this.scene.getNonDeletedElementsMap());U&&U!==this.state.editingLinearElement&&(0,wp.flushSync)(()=>{this.setState({editingLinearElement:U})}),(U==null?void 0:U.lastUncommittedPoint)!=null?this.maybeSuggestBindingAtCursor(o):(0,wp.flushSync)(()=>{this.setState({suggestedBindings:[]})})}if(BZ(this.state.activeTool.type)){let{newElement:U}=this.state;ad(U,!1)?this.maybeSuggestBindingsForLinearElementAtCoords(U,[o],this.state.startBoundElement):this.maybeSuggestBindingAtCursor(o)}if(this.state.multiElement){let{multiElement:U}=this.state,{x:b,y:w}=U,{points:E,lastCommittedPoint:x}=U,C=E[E.length-1];if(Wc(this.interactiveCanvas,this.state),C===x)Yi($(s-b,l-w),C)>=K3?Qe(U,{points:[...E,$(s-b,l-w)]},!1):qn(this.interactiveCanvas,Vn.POINTER);else if(E.length>2&&x&&Yi($(s-b,l-w),x)<K3)qn(this.interactiveCanvas,Vn.POINTER),Qe(U,{points:E.slice(0,-1)},!1);else{let[I,S]=Oi(s,l,n[ie.CTRL_OR_CMD]||Wt(U)?null:this.getEffectiveGridSize()),[M,R]=(U==null?void 0:U.lastCommittedPoint)??[0,0],D=I-b-M,L=S-w-R;$v(n)&&({width:D,height:L}=vS(M+b,R+w,I,S)),qu(E,this.state.zoom.value)&&qn(this.interactiveCanvas,Vn.POINTER),Wt(U)?W0(U,this.scene.getNonDeletedElementsMap(),[...E.slice(0,-1),$(M+D,R+L)],void 0,void 0,{isDragging:!0,informMutation:!1,zoom:this.state.zoom}):Qe(U,{points:[...E.slice(0,-1),$(M+D,R+L)]},!1),this.triggerRender(!1)}return}if(n.buttons||this.state.activeTool.type!=="selection"&&this.state.activeTool.type!=="text"&&this.state.activeTool.type!=="eraser")return;let d=this.scene.getNonDeletedElements(),u=this.scene.getSelectedElements(this.state);if(u.length===1&&!a&&!this.state.editingLinearElement){if(this.state.selectedLinearElement&&this.handleHoverSelectedLinearElement(this.state.selectedLinearElement,s,l),(!this.state.selectedLinearElement||this.state.selectedLinearElement.hoverPointIndex===-1)&&((p=this.state.openDialog)==null?void 0:p.name)!=="elementLinkSelector"&&!(u.length===1&&Wt(u[0]))){let U=gO(d,this.state,s,l,this.state.zoom,n.pointerType,this.scene.getNonDeletedElementsMap(),this.device);if(U&&U.transformHandleType){qn(this.interactiveCanvas,UO(U));return}}}else if(u.length>1&&!a&&((g=this.state.openDialog)==null?void 0:g.name)!=="elementLinkSelector"){let U=mO(Yn(u),s,l,this.state.zoom,n.pointerType,this.device);if(U){qn(this.interactiveCanvas,UO({transformHandleType:U}));return}}let f=this.getElementAtPosition(o.x,o.y);this.hitLinkElement=this.getElementLinkAtPosition(o,f),!Kc(this.state)&&(this.hitLinkElement&&!this.state.selectedElementIds[this.hitLinkElement.id]?(qn(this.interactiveCanvas,Vn.POINTER),bze(this.hitLinkElement,this.state,this.scene.getNonDeletedElementsMap())):(Mz(),f&&(f.link||Io(f))&&this.state.selectedElementIds[f.id]&&!this.state.contextMenu&&!this.state.showHyperlinkPopup?this.setState({showHyperlinkPopup:"info"}):this.state.activeTool.type==="text"?qn(this.interactiveCanvas,pt(f)?Vn.TEXT:Vn.CROSSHAIR):this.state.viewModeEnabled?qn(this.interactiveCanvas,Vn.GRAB):((v=this.state.openDialog)==null?void 0:v.name)==="elementLinkSelector"?qn(this.interactiveCanvas,Vn.AUTO):a?qn(this.interactiveCanvas,Vn.AUTO):this.state.selectedLinearElement?this.handleHoverSelectedLinearElement(this.state.selectedLinearElement,s,l):n[ie.CTRL_OR_CMD]?qn(this.interactiveCanvas,Vn.AUTO):(f||this.isHittingCommonBoundingBoxOfSelectedElements(o,u))&&!(f!=null&&f.locked)&&(f&&ol(f)&&this.isIframeLikeElementCenter(f,n,s,l)?(qn(this.interactiveCanvas,Vn.POINTER),this.setState({activeEmbeddable:{element:f,state:"hover"}})):(qn(this.interactiveCanvas,Vn.MOVE),((c=this.state.activeEmbeddable)==null?void 0:c.state)==="hover"&&this.setState({activeEmbeddable:null})))),((h=this.state.openDialog)==null?void 0:h.name)==="elementLinkSelector"&&f?this.setState(U=>({hoveredElementIds:q2(U.hoveredElementIds,So({editingGroupId:U.editingGroupId,selectedElementIds:{[f.id]:!0}},this.scene.getNonDeletedElements(),U,this).selectedElementIds)})):((m=this.state.openDialog)==null?void 0:m.name)==="elementLinkSelector"&&!f&&this.setState(U=>({hoveredElementIds:q2(U.hoveredElementIds,{})})))});ee(this,"handleEraser",(n,r,a)=>{this.eraserTrail.addPointToPath(a.x,a.y);let o=!1,s=new Set,l=this.scene.getNonDeletedElements(),d=v=>{var c;for(let h of v){if(h.locked)return;if(n.altKey?this.elementsPendingErasure.delete(h.id)&&(o=!0):this.elementsPendingErasure.has(h.id)||(o=!0,this.elementsPendingErasure.add(h.id)),o&&((c=h.groupIds)==null?void 0:c.length)){let m=h.groupIds.at(-1);if(!s.has(m)){s.add(m);let U=mi(l,m);for(let b of U)n.altKey?this.elementsPendingErasure.delete(b.id):this.elementsPendingErasure.add(b.id)}}}},u=Yi($(r.lastCoords.x,r.lastCoords.y),$(a.x,a.y)),f=this.getElementHitThreshold(),p={...r.lastCoords},g=0;for(;g<=u;){let v=this.getElementsAtPosition(p.x,p.y);if(d(v),g===u)break;g=Math.min(g+f,u);let c=g/u,h=(1-c)*p.x+c*a.x,m=(1-c)*p.y+c*a.y;p.x=h,p.y=m}if(r.lastCoords.x=a.x,r.lastCoords.y=a.y,o){for(let v of this.scene.getNonDeletedElements())bi(v)&&(this.elementsPendingErasure.has(v.id)||this.elementsPendingErasure.has(v.containerId))&&(n.altKey?(this.elementsPendingErasure.delete(v.id),this.elementsPendingErasure.delete(v.containerId)):(this.elementsPendingErasure.add(v.id),this.elementsPendingErasure.add(v.containerId)));this.elementsPendingErasure=new Set(this.elementsPendingErasure),this.triggerRender()}});ee(this,"handleTouchMove",n=>{CU=!0});ee(this,"handleCanvasPointerDown",n=>{var u,f,p;if(this.maybeCleanupAfterMissingPointerUp(n.nativeEvent),this.maybeUnfollowRemoteUser(),this.state.searchMatches&&(this.setState(g=>({searchMatches:g.searchMatches.map(v=>({...v,focus:!1}))})),ac.set(Kie,null)),this.state.contextMenu&&this.setState({contextMenu:null}),this.state.snapLines&&this.setAppState({snapLines:[]}),this.updateGestureOnPointerDown(n),n.pointerType==="touch"&&this.state.newElement&&this.state.newElement.type==="freedraw"){let g=this.state.newElement;this.updateScene({...g.points.length<10?{elements:this.scene.getElementsIncludingDeleted().filter(v=>v.id!==g.id)}:{},appState:{newElement:null,editingTextElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:On(Object.keys(this.state.selectedElementIds).filter(v=>v!==g.id).reduce((v,c)=>(v[c]=this.state.selectedElementIds[c],v),{}),this.state)},storeAction:((u=this.state.openDialog)==null?void 0:u.name)==="elementLinkSelector"?Me.NONE:Me.UPDATE});return}let r=document.getSelection();if(r!=null&&r.anchorNode&&r.removeAllRanges(),this.maybeOpenContextMenuAfterPointerDownOnTouchDevices(n),!this.state.penDetected&&n.pointerType==="pen"&&this.setState(g=>({penMode:!0,penDetected:!0})),!this.device.isTouchScreen&&["pen","touch"].includes(n.pointerType)&&(this.device=X3(this.device,{isTouchScreen:!0})),_U||(this.lastPointerDownEvent=n,this.handleCanvasPanUsingWheelOrSpaceDrag(n)))return;if(this.setState({lastPointerDownWith:n.pointerType,cursorButton:"down"}),this.savePointer(n.clientX,n.clientY,"down"),n.button===Kf.ERASER&&this.state.activeTool.type!==Qi.eraser){this.setState({activeTool:_i(this.state,{type:Qi.eraser,lastActiveToolBeforeEraser:this.state.activeTool})},()=>{this.handleCanvasPointerDown(n);let g=()=>{v(),c==null||c(),Kc(this.state)&&this.setState({activeTool:_i(this.state,{...this.state.activeTool.lastActiveTool||{type:Qi.selection},lastActiveToolBeforeEraser:null})})},v=zr(window,"pointerup",g,{once:!0}),c;requestAnimationFrame(()=>{c=this.missingPointerEventCleanupEmitter.once(g)})});return}if(n.button!==Kf.MAIN&&n.button!==Kf.TOUCH&&n.button!==Kf.ERASER||jn.pointers.size>1)return;let a=this.initialPointerDownState(n);if(this.setState({selectedElementsAreBeingDragged:!1}),this.handleDraggingScrollBar(n,a)||(this.clearSelectionIfNotUsingSelection(),this.updateBindingEnabledOnPointerMove(n),this.handleSelectionOnPointerDown(n,a))||!(!this.state.penMode||n.pointerType!=="touch"||this.state.activeTool.type==="selection"||this.state.activeTool.type==="text"||this.state.activeTool.type==="image"))return;if(this.state.activeTool.type==="text")this.handleTextOnPointerDown(n,a);else if(this.state.activeTool.type==="arrow"||this.state.activeTool.type==="line")this.handleLinearElementOnPointerDown(n,this.state.activeTool.type,a);else if(this.state.activeTool.type==="image"){qn(this.interactiveCanvas,Vn.CROSSHAIR);let g=this.state.pendingImageElementId&&this.scene.getElement(this.state.pendingImageElementId);if(!g)return;this.setState({newElement:g,pendingImageElementId:null,multiElement:null});let{x:v,y:c}=Ur(n,this.state),h=this.getTopLayerFrameAtSceneCoords({x:v,y:c});Qe(g,{x:v,y:c,frameId:h?h.id:null})}else this.state.activeTool.type==="freedraw"?this.handleFreeDrawElementOnPointerDown(n,this.state.activeTool.type,a):this.state.activeTool.type==="custom"?Wc(this.interactiveCanvas,this.state):this.state.activeTool.type===Qi.frame||this.state.activeTool.type===Qi.magicframe?this.createFrameElementOnPointerDown(a,this.state.activeTool.type):this.state.activeTool.type==="laser"?this.laserTrails.startPath(a.lastCoords.x,a.lastCoords.y):this.state.activeTool.type!=="eraser"&&this.state.activeTool.type!=="hand"&&this.createGenericElementOnPointerDown(this.state.activeTool.type,a);(p=(f=this.props)==null?void 0:f.onPointerDown)==null||p.call(f,this.state.activeTool,a),this.onPointerDownEmitter.trigger(this.state.activeTool,a,n),this.state.activeTool.type==="eraser"&&this.eraserTrail.startPath(a.lastCoords.x,a.lastCoords.y);let o=this.onPointerMoveFromPointerDownHandler(a),s=this.onPointerUpFromPointerDownHandler(a),l=this.onKeyDownFromPointerDownHandler(a),d=this.onKeyUpFromPointerDownHandler(a);this.missingPointerEventCleanupEmitter.once(g=>s(g||n.nativeEvent)),(!this.state.viewModeEnabled||this.state.activeTool.type==="laser")&&(window.addEventListener("pointermove",o),window.addEventListener("pointerup",s),window.addEventListener("keydown",l),window.addEventListener("keyup",d),a.eventListeners.onMove=o,a.eventListeners.onUp=s,a.eventListeners.onKeyUp=d,a.eventListeners.onKeyDown=l)});ee(this,"handleCanvasPointerUp",n=>{var o;this.removePointer(n),this.lastPointerUpEvent=n;let r=Ur({clientX:n.clientX,clientY:n.clientY},this.state),a=n.timeStamp-(((o=this.lastPointerDownEvent)==null?void 0:o.timeStamp)??0);if(this.device.editor.isMobile&&a<300){let s=this.getElementAtPosition(r.x,r.y);if(ol(s)&&this.isIframeLikeElementCenter(s,n,r.x,r.y)){this.handleEmbeddableCenterClick(s);return}}if(this.device.isTouchScreen){let s=this.getElementAtPosition(r.x,r.y);this.hitLinkElement=this.getElementLinkAtPosition(r,s)}this.hitLinkElement&&!this.state.selectedElementIds[this.hitLinkElement.id]?a<300&&ol(this.hitLinkElement)&&!DJ(this.hitLinkElement,this.scene.getNonDeletedElementsMap(),this.state,$(r.x,r.y))?this.handleEmbeddableCenterClick(this.hitLinkElement):this.redirectToLink(n,this.device.isTouchScreen):this.state.viewModeEnabled&&this.setState({activeEmbeddable:null,selectedElementIds:{}})});ee(this,"maybeOpenContextMenuAfterPointerDownOnTouchDevices",n=>{n.pointerType==="touch"&&(CU=!1,Ff?CU=!0:Ff=window.setTimeout(()=>{Ff=0,CU||this.handleCanvasContextMenu(n)},D9e))});ee(this,"resetContextMenuTimer",()=>{clearTimeout(Ff),Ff=0,CU=!1});ee(this,"maybeCleanupAfterMissingPointerUp",n=>{Rp==null||Rp(),this.missingPointerEventCleanupEmitter.trigger(n).clear()});ee(this,"handleCanvasPanUsingWheelOrSpaceDrag",n=>{if(!(jn.pointers.size<=1&&(n.button===Kf.WHEEL||n.button===Kf.MAIN&&Bp||Rm(this.state)||this.state.viewModeEnabled)))return!1;_U=!0,this.focusContainer(),this.state.editingTextElement||n.preventDefault();let r=!1,a=typeof window===void 0?!1:/Linux/.test(window.navigator.platform);qn(this.interactiveCanvas,Vn.GRABBING);let{clientX:o,clientY:s}=n,l=R9(u=>{let f=o-u.clientX,p=s-u.clientY;if(o=u.clientX,s=u.clientY,a&&!r&&(Math.abs(f)>1||Math.abs(p)>1)){r=!0;let g=c=>{document.body.removeEventListener("paste",g),c.stopPropagation()},v=()=>{setTimeout(()=>{document.body.removeEventListener("paste",g),window.removeEventListener("pointerup",v)},100)};document.body.addEventListener("paste",g),window.addEventListener("pointerup",v)}this.translateCanvas({scrollX:this.state.scrollX-f/this.state.zoom.value,scrollY:this.state.scrollY-p/this.state.zoom.value})}),d=Kr(Rp=()=>{Rp=null,_U=!1,Bp||(this.state.viewModeEnabled?qn(this.interactiveCanvas,Vn.GRAB):Wc(this.interactiveCanvas,this.state)),this.setState({cursorButton:"up"}),this.savePointer(n.clientX,n.clientY,"up"),window.removeEventListener("pointermove",l),window.removeEventListener("pointerup",d),window.removeEventListener("blur",d),l.flush()});return window.addEventListener("blur",d),window.addEventListener("pointermove",l,{passive:!0}),window.addEventListener("pointerup",d),!0});ee(this,"clearSelectionIfNotUsingSelection",()=>{this.state.activeTool.type!=="selection"&&this.setState({selectedElementIds:On({},this.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})});ee(this,"handleSelectionOnPointerDown",(n,r)=>{var a;if(this.state.activeTool.type==="selection"){let o=this.scene.getNonDeletedElements(),s=this.scene.getNonDeletedElementsMap(),l=this.scene.getSelectedElements(this.state);if(l.length===1&&!this.state.editingLinearElement&&!(this.state.selectedLinearElement&&this.state.selectedLinearElement.hoverPointIndex!==-1)){let d=gO(o,this.state,r.origin.x,r.origin.y,this.state.zoom,n.pointerType,this.scene.getNonDeletedElementsMap(),this.device);d!=null&&(d.transformHandleType==="rotation"?(this.setState({resizingElement:d.element}),r.resize.handleType=d.transformHandleType):(this.state.croppingElementId||this.setState({resizingElement:d.element}),r.resize.handleType=d.transformHandleType))}else l.length>1&&(r.resize.handleType=mO(Yn(l),r.origin.x,r.origin.y,this.state.zoom,n.pointerType,this.device));if(r.resize.handleType)r.resize.isResizing=!0,r.resize.offset=cl(aNe(r.resize.handleType,l,s,r.origin.x,r.origin.y)),l.length===1&&rn(l[0])&&l[0].points.length===2&&(r.resize.arrowDirection=oNe(r.resize.handleType,l[0]));else{if(this.state.selectedLinearElement){let f=this.state.editingLinearElement||this.state.selectedLinearElement,p=xt.handlePointerDown(n,this,this.store,r.origin,f,this.scene);if(p.hitElement&&(r.hit.element=p.hitElement),p.linearElementEditor&&(this.setState({selectedLinearElement:p.linearElementEditor}),this.state.editingLinearElement&&this.setState({editingLinearElement:p.linearElementEditor})),p.didAddPoint)return!0}if(r.hit.element=r.hit.element??this.getElementAtPosition(r.origin.x,r.origin.y),this.hitLinkElement=this.getElementLinkAtPosition(r.origin,r.hit.element),this.hitLinkElement)return!0;if(this.state.croppingElementId&&((a=r.hit.element)==null?void 0:a.id)!==this.state.croppingElementId&&this.finishImageCropping(),r.hit.element&&this.getElementLinkAtPosition({x:r.origin.x,y:r.origin.y},r.hit.element))return!1;r.hit.allHitElements=this.getElementsAtPosition(r.origin.x,r.origin.y);let d=r.hit.element,u=r.hit.allHitElements.some(f=>this.isASelectedElement(f));if((d===null||!u)&&!n.shiftKey&&!r.hit.hasHitCommonBoundingBoxOfSelectedElements&&this.clearSelection(d),this.state.editingLinearElement)this.setState({selectedElementIds:On({[this.state.editingLinearElement.elementId]:!0},this.state)});else if(d!=null){if(n[ie.CTRL_OR_CMD])return this.state.selectedElementIds[d.id]||(r.hit.wasAddedToSelection=!0),this.setState(f=>({...XDe(f,d),previousSelectedElementIds:this.state.selectedElementIds})),!1;this.state.selectedElementIds[d.id]||(this.state.editingGroupId&&!Fy(d,this.state.editingGroupId)&&this.setState({selectedElementIds:On({},this.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null}),!u&&!r.hit.hasHitCommonBoundingBoxOfSelectedElements&&(this.setState(f=>{var v;let p={...f.selectedElementIds,[d.id]:!0},g=[];if(Object.keys(f.selectedElementIds).forEach(c=>{let h=this.scene.getElement(c);h&&g.push(h)}),en(d))rf(g,d.id).forEach(c=>{delete p[c.id]});else if(d.frameId)p[d.frameId]&&delete p[d.id];else{let c=d.groupIds,h=new Set(c.flatMap(m=>mi(this.scene.getNonDeletedElements(),m)).filter(m=>en(m)).map(m=>m.id));h.size>0&&g.forEach(m=>{m.frameId&&h.has(m.frameId)&&(delete p[m.id],m.groupIds.flatMap(U=>mi(this.scene.getNonDeletedElements(),U)).forEach(U=>{delete p[U.id]}))})}return((v=f.openDialog)==null?void 0:v.name)==="elementLinkSelector"&&(d.groupIds.some(c=>f.selectedGroupIds[c])||(p={[d.id]:!0})),{...So({editingGroupId:f.editingGroupId,selectedElementIds:p},this.scene.getNonDeletedElements(),f,this),showHyperlinkPopup:d.link||Io(d)?"info":!1}}),r.hit.wasAddedToSelection=!0))}this.setState({previousSelectedElementIds:this.state.selectedElementIds})}}return!1});ee(this,"handleTextOnPointerDown",(n,r)=>{if(this.state.editingTextElement)return;let a=r.origin.x,o=r.origin.y,s=this.getElementAtPosition(a,o,{includeBoundTextElement:!0}),l=this.getTextBindableContainerAtPosition(a,o);xl(s)&&(l=s,a=s.x+s.width/2,o=s.y+s.height/2),this.startTextEditing({sceneX:a,sceneY:o,insertAtParentCenter:!n.altKey,container:l,autoEdit:!1}),Hl(this.interactiveCanvas),this.state.activeTool.locked||this.setState({activeTool:_i(this.state,{type:"selection"})})});ee(this,"handleFreeDrawElementOnPointerDown",(n,r,a)=>{let[o,s]=Oi(a.origin.x,a.origin.y,null),l=this.getTopLayerFrameAtSceneCoords({x:o,y:s}),d=n.pressure===.5,u=RPe({type:r,x:o,y:s,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,roundness:null,simulatePressure:d,locked:!1,frameId:l?l.id:null,points:[$(0,0)],pressures:d?[]:[n.pressure]});this.scene.insertElement(u),this.setState(p=>{let g={...p.selectedElementIds};return delete g[u.id],{selectedElementIds:On(g,p)}});let f=dl(a.origin,this.scene.getNonDeletedElements(),this.scene.getNonDeletedElementsMap(),this.state.zoom);this.setState({newElement:u,startBoundElement:f,suggestedBindings:[]})});ee(this,"insertIframeElement",({sceneX:n,sceneY:r,width:a,height:o})=>{var u;let[s,l]=Oi(n,r,(u=this.lastPointerDownEvent)!=null&&u[ie.CTRL_OR_CMD]?null:this.getEffectiveGridSize()),d=MPe({type:"iframe",x:s,y:l,strokeColor:"transparent",backgroundColor:"transparent",fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,roundness:this.getCurrentItemRoundness("iframe"),opacity:this.state.currentItemOpacity,locked:!1,width:a,height:o});return this.scene.insertElement(d),d});ee(this,"insertEmbeddableElement",({sceneX:n,sceneY:r,link:a})=>{var u;let[o,s]=Oi(n,r,(u=this.lastPointerDownEvent)!=null&&u[ie.CTRL_OR_CMD]?null:this.getEffectiveGridSize()),l=$g(a);if(!l)return;l.error instanceof URIError&&this.setToast({message:P("toast.unrecognizedLinkFormat"),closable:!0});let d=$j({type:"embeddable",x:o,y:s,strokeColor:"transparent",backgroundColor:"transparent",fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,roundness:this.getCurrentItemRoundness("embeddable"),opacity:this.state.currentItemOpacity,locked:!1,width:l.intrinsicSize.w,height:l.intrinsicSize.h,link:a});return this.scene.insertElement(d),d});ee(this,"createImageElement",({sceneX:n,sceneY:r,addToFrameUnderCursor:a=!0})=>{var d;let[o,s]=Oi(n,r,(d=this.lastPointerDownEvent)!=null&&d[ie.CTRL_OR_CMD]?null:this.getEffectiveGridSize()),l=a?this.getTopLayerFrameAtSceneCoords({x:o,y:s}):null;return UJ({type:"image",x:o,y:s,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,roundness:null,opacity:this.state.currentItemOpacity,locked:!1,frameId:l?l.id:null})});ee(this,"handleLinearElementOnPointerDown",(n,r,a)=>{if(this.state.multiElement){let{multiElement:o}=this.state;if(o.type==="line"&&qu(o.points,this.state.zoom.value)){Qe(o,{lastCommittedPoint:o.points[o.points.length-1]}),this.actionManager.executeAction(Nl);return}if(Wt(o)&&o.points.length>1){Qe(o,{lastCommittedPoint:o.points[o.points.length-1]}),this.actionManager.executeAction(Nl);return}let{x:s,y:l,lastCommittedPoint:d}=o;if(o.points.length>1&&d&&Yi($(a.origin.x-s,a.origin.y-l),d)<K3){this.actionManager.executeAction(Nl);return}this.setState(u=>({selectedElementIds:On({...u.selectedElementIds,[o.id]:!0},u)})),Qe(o,{lastCommittedPoint:o.points[o.points.length-1]}),qn(this.interactiveCanvas,Vn.POINTER)}else{let[o,s]=Oi(a.origin.x,a.origin.y,n[ie.CTRL_OR_CMD]?null:this.getEffectiveGridSize()),l=this.getTopLayerFrameAtSceneCoords({x:o,y:s}),{currentItemStartArrowhead:d,currentItemEndArrowhead:u}=this.state,[f,p]=r==="arrow"?[d,u]:[null,null],g=r==="arrow"?pT({type:r,x:o,y:s,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,roundness:this.state.currentItemArrowType===Aa.round?{type:Di.PROPORTIONAL_RADIUS}:null,startArrowhead:f,endArrowhead:p,locked:!1,frameId:l?l.id:null,elbowed:this.state.currentItemArrowType===Aa.elbow}):k0({type:r,x:o,y:s,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,roundness:this.state.currentItemRoundness==="round"?{type:Di.PROPORTIONAL_RADIUS}:null,locked:!1,frameId:l?l.id:null});this.setState(c=>{let h={...c.selectedElementIds};return delete h[g.id],{selectedElementIds:On(h,c)}}),Qe(g,{points:[...g.points,$(0,0)]});let v=dl(a.origin,this.scene.getNonDeletedElements(),this.scene.getNonDeletedElementsMap(),this.state.zoom,Wt(g));this.scene.insertElement(g),this.setState({newElement:g,startBoundElement:v,suggestedBindings:[]})}});ee(this,"createGenericElementOnPointerDown",(n,r)=>{var u;let[a,o]=Oi(r.origin.x,r.origin.y,(u=this.lastPointerDownEvent)!=null&&u[ie.CTRL_OR_CMD]?null:this.getEffectiveGridSize()),s=this.getTopLayerFrameAtSceneCoords({x:a,y:o}),l={x:a,y:o,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,roundness:this.getCurrentItemRoundness(n),locked:!1,frameId:s?s.id:null},d;n==="embeddable"?d=$j({type:"embeddable",...l}):d=Md({type:n,...l}),d.type==="selection"?this.setState({selectionElement:d}):(this.scene.insertElement(d),this.setState({multiElement:null,newElement:d}))});ee(this,"createFrameElementOnPointerDown",(n,r)=>{var d;let[a,o]=Oi(n.origin.x,n.origin.y,(d=this.lastPointerDownEvent)!=null&&d[ie.CTRL_OR_CMD]?null:this.getEffectiveGridSize()),s={x:a,y:o,opacity:this.state.currentItemOpacity,locked:!1,...Qr},l=r===Qi.magicframe?uS(s):pJ(s);this.scene.insertElement(l),this.setState({multiElement:null,newElement:l})});ee(this,"restoreReadyToEraseElements",()=>{this.elementsPendingErasure=new Set,this.triggerRender()});ee(this,"eraseElements",()=>{let n=!1,r=this.scene.getElementsIncludingDeleted().map(a=>this.elementsPendingErasure.has(a.id)||a.frameId&&this.elementsPendingErasure.has(a.frameId)||bi(a)&&this.elementsPendingErasure.has(a.containerId)?(n=!0,an(a,{isDeleted:!0})):a);this.elementsPendingErasure=new Set,n&&(this.store.shouldCaptureIncrement(),this.scene.replaceAllElements(r))});ee(this,"initializeImage",async({imageFile:n,imageElement:r,showCursorImagePreview:a=!1})=>{var u,f,p,g,v;if(!M0(n))throw new Error(P("errors.unsupportedFileType"));let o=n.type;if(qn(this.interactiveCanvas,"wait"),o===Ft.svg)try{n=AO(Zj(await n.text()),n.name)}catch(c){throw console.warn(c),new Error(P("errors.svgImageInsertError"))}let s=await(((f=(u=this.props).generateIdForFile)==null?void 0:f.call(u,n))||yNe(n));if(!s)throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error(P("errors.imageInsertError"));if(!((p=this.files[s])!=null&&p.dataURL)){try{n=await AS(n,{maxWidthOrHeight:z9e})}catch(c){console.error("Error trying to resizing image file on insertion",c)}if(n.size>AF)throw new Error(P("errors.fileTooBig",{maxSize:`${Math.trunc(AF/1024/1024)}MB`}))}if(a){let c=(g=this.files[s])==null?void 0:g.dataURL,h=c&&ANe(c);this.setImagePreviewCursor(h||n)}let l=((v=this.files[s])==null?void 0:v.dataURL)||await bO(n),d=Qe(r,{fileId:s},!1);return new Promise(async(c,h)=>{var m;try{this.addMissingFiles([{mimeType:o,id:s,dataURL:l,created:Date.now(),lastRetrieved:Date.now()}]);let U=this.imageCache.get(s);U||(this.addNewImagesToImageCache(),await this.updateImageCache([d])),(U==null?void 0:U.image)instanceof Promise&&await U.image,this.state.pendingImageElementId!==d.id&&((m=this.state.newElement)==null?void 0:m.id)!==d.id&&this.initializeImageDimensions(d,!0),c(d)}catch(U){console.error(U),h(new Error(P("errors.imageInsertError")))}finally{a||Hl(this.interactiveCanvas)}})});ee(this,"insertImageElement",async(n,r,a)=>{if(!this.isToolSupported("image")){this.setState({errorMessage:P("errors.imageToolNotSupported")});return}this.scene.insertElement(n);try{return await this.initializeImage({imageFile:r,imageElement:n,showCursorImagePreview:a})}catch(o){return Qe(n,{isDeleted:!0}),this.actionManager.executeAction(Nl),this.setState({errorMessage:o.message||P("errors.imageInsertError")}),null}});ee(this,"setImagePreviewCursor",async n=>{let r;try{r=await AS(n,{maxWidthOrHeight:96})}catch(o){throw o.cause==="UNSUPPORTED"?new Error(P("errors.unsupportedFileType")):o}let a=await bO(r);if(n.type===Ft.svg){let o=await kJ(a),s=Math.min(o.height,96),l=s*(o.width/o.height);l>96&&(l=96,s=l*(o.height/o.width));let d=document.createElement("canvas");d.height=s,d.width=l,d.getContext("2d").drawImage(o,0,0,l,s),a=d.toDataURL(Ft.svg)}this.state.pendingImageElementId&&qn(this.interactiveCanvas,`url(${a}) 4 4, auto`)});ee(this,"onImageAction",async({insertOnCanvasDirectly:n})=>{try{let r=this.state.width/2+this.state.offsetLeft,a=this.state.height/2+this.state.offsetTop,{x:o,y:s}=Ur({clientX:r,clientY:a},this.state),l=await mT({description:"Image",extensions:Object.keys(v4)}),d=this.createImageElement({sceneX:o,sceneY:s,addToFrameUnderCursor:!1});n?(this.insertImageElement(d,l),this.initializeImageDimensions(d),this.setState({selectedElementIds:On({[d.id]:!0},this.state)},()=>{this.actionManager.executeAction(Nl)})):this.setState({pendingImageElementId:d.id},()=>{this.insertImageElement(d,l,!0)})}catch(r){r.name!=="AbortError"?console.error(r):console.warn(r),this.setState({pendingImageElementId:null,newElement:null,activeTool:_i(this.state,{type:"selection"})},()=>{this.actionManager.executeAction(Nl)})}});ee(this,"initializeImageDimensions",(n,r=!1)=>{var o;let a=al(n)&&((o=this.imageCache.get(n.fileId))==null?void 0:o.image);if(!a||a instanceof Promise){if(n.width<Wp/this.state.zoom.value&&n.height<Wp/this.state.zoom.value){let s=100/this.state.zoom.value;Qe(n,{x:n.x-s/2,y:n.y-s/2,width:s,height:s})}return}if(r||n.width<Wp/this.state.zoom.value&&n.height<Wp/this.state.zoom.value){let s=Math.max(this.state.height-120,160),l=Math.min(s,Math.floor(this.state.height*.5)/this.state.zoom.value),d=Math.min(a.naturalHeight,l),u=d*(a.naturalWidth/a.naturalHeight),f=n.x+n.width/2-u/2,p=n.y+n.height/2-d/2;Qe(n,{x:f,y:p,width:u,height:d,crop:null})}});ee(this,"updateImageCache",async(n,r=this.files)=>{let{updatedFiles:a,erroredFiles:o}=await MJ({imageCache:this.imageCache,fileIds:n.map(s=>s.fileId),files:r});if(a.size||o.size)for(let s of n)a.has(s.fileId)&&Vr.delete(s);return o.size&&this.scene.replaceAllElements(this.scene.getElementsIncludingDeleted().map(s=>al(s)&&o.has(s.fileId)?an(s,{status:"error"}):s)),{updatedFiles:a,erroredFiles:o}});ee(this,"addNewImagesToImageCache",async(n=TJ(this.scene.getNonDeletedElements()),r=this.files)=>{let a=n.filter(o=>!o.isDeleted&&!this.imageCache.has(o.fileId));if(a.length){let{updatedFiles:o}=await this.updateImageCache(a,r);o.size&&this.scene.triggerUpdate()}});ee(this,"scheduleImageRefresh",(0,wVe.default)(()=>{this.addNewImagesToImageCache()},B9e));ee(this,"updateBindingEnabledOnPointerMove",n=>{let r=sDe(n);this.state.isBindingEnabled!==r&&this.setState({isBindingEnabled:r})});ee(this,"maybeSuggestBindingAtCursor",n=>{let r=dl(n,this.scene.getNonDeletedElements(),this.scene.getNonDeletedElementsMap(),this.state.zoom);this.setState({suggestedBindings:r!=null?[r]:[]})});ee(this,"maybeSuggestBindingsForLinearElementAtCoords",(n,r,a)=>{if(!r.length)return;let o=r.reduce((s,l)=>{let d=dl(l,this.scene.getNonDeletedElements(),this.scene.getNonDeletedElementsMap(),this.state.zoom,ln(n)&&Wt(n));return d!=null&&!zq(n,a==null?void 0:a.id,d)&&s.push(d),s},[]);this.setState({suggestedBindings:o})});ee(this,"handleInteractiveCanvasRef",n=>{var r,a;n!==null?(this.interactiveCanvas=n,this.interactiveCanvas.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.interactiveCanvas.addEventListener("touchend",this.onTouchEnd)):((r=this.interactiveCanvas)==null||r.removeEventListener("touchstart",this.onTouchStart),(a=this.interactiveCanvas)==null||a.removeEventListener("touchend",this.onTouchEnd))});ee(this,"handleAppOnDrop",async n=>{var d,u,f,p;let{file:r,fileHandle:a}=await xNe(n),{x:o,y:s}=Ur(n,this.state);try{if(M0(r)&&this.isToolSupported("image")){if((r==null?void 0:r.type)===Ft.png||(r==null?void 0:r.type)===Ft.svg)try{let v=await vee(r,this.state,this.scene.getElementsIncludingDeleted(),a);this.syncActionResult({...v,appState:{...v.appState||this.state,isLoading:!1},replaceFiles:!0,storeAction:Me.CAPTURE});return}catch(v){if(v.name!=="EncodingError")throw new Error(P("alerts.couldNotLoadInvalidFile"))}let g=this.createImageElement({sceneX:o,sceneY:s});this.insertImageElement(g,r),this.initializeImageDimensions(g),this.setState({selectedElementIds:On({[g.id]:!0},this.state)});return}}catch(g){return this.setState({isLoading:!1,errorMessage:g.message})}let l=n.dataTransfer.getData(Ft.excalidrawlib);if(l&&typeof l=="string"){try{let g=yee(l);this.addElementsFromPasteOrLibrary({elements:Pre(g),position:n,files:null})}catch(g){this.setState({errorMessage:g.message})}return}if(r&&await this.loadFileToCanvas(r,a),(u=(d=n.dataTransfer)==null?void 0:d.types)==null?void 0:u.includes("text/plain")){let g=(f=n.dataTransfer)==null?void 0:f.getData("text");if(g&&rA(g,this.props.validateEmbeddable)&&(/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(g)||((p=$g(g))==null?void 0:p.type)==="video")){let v=this.insertEmbeddableElement({sceneX:o,sceneY:s,link:Cs(g)});v&&this.setState({selectedElementIds:{[v.id]:!0}})}}});ee(this,"loadFileToCanvas",async(n,r)=>{n=await NT(n);try{let a=this.scene.getElementsIncludingDeleted(),o;try{o=await Uee(n,this.state,a,r)}catch(s){let l=s instanceof d0;if(l&&s.code==="IMAGE_NOT_CONTAINS_SCENE_DATA"&&!this.isToolSupported("image")){this.setState({isLoading:!1,errorMessage:P("errors.imageToolNotSupported")});return}let d=P(l?"alerts.cannotRestoreFromImage":"alerts.couldNotLoadInvalidFile");this.setState({isLoading:!1,errorMessage:d})}if(!o)return;o.type===Ft.excalidraw?(nf(a.concat(o.data.elements)),this.store.updateSnapshot(Vt(a),this.state),this.setState({isLoading:!0}),this.syncActionResult({...o.data,appState:{...o.data.appState||this.state,isLoading:!1},replaceFiles:!0,storeAction:Me.CAPTURE})):o.type===Ft.excalidrawlib&&await this.library.updateLibrary({libraryItems:n,merge:!0,openLibraryMenu:!0}).catch(s=>{console.error(s),this.setState({errorMessage:P("errors.importLibraryError")})})}catch(a){this.setState({isLoading:!1,errorMessage:a.message})}});ee(this,"handleCanvasContextMenu",n=>{if(n.preventDefault(),("pointerType"in n.nativeEvent&&n.nativeEvent.pointerType==="touch"||"pointerType"in n.nativeEvent&&n.nativeEvent.pointerType==="pen"&&n.button!==Kf.SECONDARY)&&this.state.activeTool.type!=="selection")return;let{x:r,y:a}=Ur(n,this.state),o=this.getElementAtPosition(r,a,{preferSelected:!0,includeLockedElements:!0}),s=this.scene.getSelectedElements(this.state),l=this.isHittingCommonBoundingBoxOfSelectedElements({x:r,y:a},s),d=o||l?"element":"canvas",u=this.excalidrawContainerRef.current,{top:f,left:p}=u.getBoundingClientRect(),g=n.clientX-p,v=n.clientY-f;yr("contextMenu","openContextMenu",d),this.setState({...o&&!this.state.selectedElementIds[o.id]?{...this.state,...So({editingGroupId:this.state.editingGroupId,selectedElementIds:{[o.id]:!0}},this.scene.getNonDeletedElements(),this.state,this),selectedLinearElement:rn(o)?new xt(o):null}:this.state,showHyperlinkPopup:!1},()=>{this.setState({contextMenu:{top:v,left:g,items:this.getContextMenuItems(d)}})})});ee(this,"maybeDragNewGenericElement",(n,r,a=!0)=>{var c,h,m;let o=this.state.selectionElement,s=n.lastCoords;if(o&&this.state.activeTool.type!=="eraser"){yO({newElement:o,elementType:this.state.activeTool.type,originX:n.origin.x,originY:n.origin.y,x:s.x,y:s.y,width:ja(n.origin.x,s.x),height:ja(n.origin.y,s.y),shouldMaintainAspectRatio:iU(r),shouldResizeFromCenter:Nx(r),zoom:this.state.zoom.value,informMutation:a});return}let l=this.state.newElement;if(!l)return;let[d,u]=Oi(s.x,s.y,r[ie.CTRL_OR_CMD]?null:this.getEffectiveGridSize()),f=al(l)&&((c=this.imageCache.get(l.fileId))==null?void 0:c.image),p=f&&!(f instanceof Promise)?f.width/f.height:null;this.maybeCacheReferenceSnapPoints(r,[l]);let{snapOffset:g,snapLines:v}=cPe(l,this,r,{x:n.originInGrid.x+(((h=this.state.originSnapOffset)==null?void 0:h.x)??0),y:n.originInGrid.y+(((m=this.state.originSnapOffset)==null?void 0:m.y)??0)},{x:d-n.originInGrid.x,y:u-n.originInGrid.y},this.scene.getNonDeletedElementsMap());d+=g.x,u+=g.y,this.setState({snapLines:v}),yO({newElement:l,elementType:this.state.activeTool.type,originX:n.originInGrid.x,originY:n.originInGrid.y,x:d,y:u,width:ja(n.originInGrid.x,d),height:ja(n.originInGrid.y,u),shouldMaintainAspectRatio:zn(l)?!iU(r):iU(r),shouldResizeFromCenter:Nx(r),zoom:this.state.zoom.value,widthAspectRatio:p,originOffset:this.state.originSnapOffset,informMutation:a}),this.setState({newElement:l}),(this.state.activeTool.type===Qi.frame||this.state.activeTool.type===Qi.magicframe)&&this.setState({elementsToHighlight:aA(this.scene.getNonDeletedElements(),l,this.state,this.scene.getNonDeletedElementsMap())})});ee(this,"maybeHandleCrop",(n,r)=>{var u;if(!this.state.croppingElementId)return!1;let a=n.resize.handleType,o=n.lastCoords,[s,l]=Oi(o.x-n.resize.offset.x,o.y-n.resize.offset.y,r[ie.CTRL_OR_CMD]?null:this.getEffectiveGridSize()),d=this.scene.getNonDeletedElementsMap().get(this.state.croppingElementId);if(a&&d&&zn(d)){let f=n.originalElements.get(d.id),p=al(d)&&((u=this.imageCache.get(d.fileId))==null?void 0:u.image);if(f&&zn(f)&&p&&!(p instanceof Promise)){let[g,v]=Oi(o.x,o.y,r[ie.CTRL_OR_CMD]?null:this.getEffectiveGridSize()),c={x:g-n.originInGrid.x,y:v-n.originInGrid.y};this.maybeCacheReferenceSnapPoints(r,[d]);let{snapOffset:h,snapLines:m}=Lj([d],[f],this,r,c,a);Qe(d,cRe(d,a,p.naturalWidth,p.naturalHeight,s+h.x,l+h.y,r.shiftKey?f.width/f.height:void 0)),_s(d,this.scene.getNonDeletedElementsMap(),{newSize:{width:d.width,height:d.height}}),this.setState({isCropping:a&&a!=="rotation",snapLines:m})}return!0}return!1});ee(this,"maybeHandleResize",(n,r)=>{let a=this.scene.getSelectedElements(this.state),o=a.filter(p=>en(p)),s=n.resize.handleType;if(o.length>0&&s==="rotation"||a.length===1&&Wt(a[0])||this.state.croppingElementId)return!1;this.setState({isResizing:s&&s!=="rotation",isRotating:s==="rotation",activeEmbeddable:null});let l=n.lastCoords,[d,u]=Oi(l.x-n.resize.offset.x,l.y-n.resize.offset.y,r[ie.CTRL_OR_CMD]?null:this.getEffectiveGridSize()),f=new Map;if(o.forEach(p=>{rf(this.scene.getNonDeletedElements(),p.id).forEach(g=>{f.set(p.id+g.id,{x:g.x-p.x,y:g.y-p.y})})}),!this.state.selectedElementsAreBeingDragged){let[p,g]=Oi(l.x,l.y,r[ie.CTRL_OR_CMD]?null:this.getEffectiveGridSize()),v={x:p-n.originInGrid.x,y:g-n.originInGrid.y},c=[...n.originalElements.values()];this.maybeCacheReferenceSnapPoints(r,a);let{snapOffset:h,snapLines:m}=Lj(a,gn(c,this.state),this,r,v,s);d+=h.x,u+=h.y,this.setState({snapLines:m})}if(tNe(n.originalElements,s,a,this.scene.getElementsMapIncludingDeleted(),this.scene,$v(r),Nx(r),a.some(p=>zn(p))?!iU(r):iU(r),d,u,n.resize.center.x,n.resize.center.y)){let p=jx(a,this.scene.getNonDeletedElementsMap(),this.state.zoom),g=new Set;return o.forEach(v=>{aA(this.scene.getNonDeletedElements(),v,this.state,this.scene.getNonDeletedElementsMap()).forEach(c=>g.add(c))}),this.setState({elementsToHighlight:[...g],suggestedBindings:p}),!0}return!1});ee(this,"getContextMenuItems",n=>{let r=[];return r.push(Cz,_z),n==="canvas"?this.state.viewModeEnabled?[...r,Iz,NS,PQ,$S]:[Ez,ca,Cz,_z,Sz,ca,c$e,_ze,ca,Iz,uze,NS,PQ,$S]:(r.push(Sz),this.state.viewModeEnabled?[pA,...r]:[ca,xz,pA,Ez,EVe,xVe,ca,cHe,ca,...r,ca,KOe,XOe,ca,qOe,vYe,fze,hze,mze,JOe,ca,ize,ca,a$e,o$e,s$e,l$e,ca,lze,cze,ca,sHe,ca,Bre,Zre,ca,p$e,xze,ca,Une])});ee(this,"handleWheel",Kr(n=>{if(!(n.target instanceof HTMLCanvasElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLIFrameElement)){n[ie.CTRL_OR_CMD]&&n.preventDefault();return}if(n.preventDefault(),_U)return;let{deltaX:r,deltaY:a}=n;if(n.metaKey||n.ctrlKey){let o=Math.sign(a),s=y4*100,l=Math.abs(a),d=a;l>s&&(d=s*o);let u=this.state.zoom.value-d/100;u+=Math.log10(Math.max(1,this.state.zoom.value))*-o*Math.min(1,l/20),this.translateCanvas(f=>({...p0({viewportX:this.lastViewportPosition.x,viewportY:this.lastViewportPosition.y,nextZoom:Tu(u)},f),shouldCacheIgnoreZoom:!0})),this.resetShouldCacheIgnoreZoomDebounced();return}if(n.shiftKey){this.translateCanvas(({zoom:o,scrollX:s})=>({scrollX:s-(a||r)/o.value}));return}this.translateCanvas(({zoom:o,scrollX:s,scrollY:l})=>({scrollX:s-r/o.value,scrollY:l-a/o.value}))}));ee(this,"savePointer",(n,r,a)=>{var d,u;if(!n||!r)return;let{x:o,y:s}=Ur({clientX:n,clientY:r},this.state),l={x:o,y:s,tool:this.state.activeTool.type==="laser"?"laser":"pointer"};(u=(d=this.props).onPointerUpdate)==null||u.call(d,{pointer:l,button:a,pointersMap:jn.pointers})});ee(this,"resetShouldCacheIgnoreZoomDebounced",Pm(()=>{this.unmounted||this.setState({shouldCacheIgnoreZoom:!1})},300));ee(this,"updateDOMRect",n=>{var r;if((r=this.excalidrawContainerRef)!=null&&r.current){let a=this.excalidrawContainerRef.current,{width:o,height:s,left:l,top:d}=a.getBoundingClientRect(),{width:u,height:f,offsetTop:p,offsetLeft:g}=this.state;if(o===u&&s===f&&l===g&&d===p){n&&n();return}this.setState({width:o,height:s,offsetLeft:l,offsetTop:d},()=>{n&&n()})}});ee(this,"refresh",()=>{this.setState({...this.getCanvasOffsets()})});ee(this,"setFontFamily",(n,r,a=!0)=>{let o=Ly[Nr.Excalifont];this.fonts.registered.set(n,{metadata:o,fontFaces:r.map(s=>new fq(n,s.url,s))}),a&&fd.loadAllFonts()});let r=Cd(),{excalidrawAPI:a,viewModeEnabled:o=!1,zenModeEnabled:s=!1,gridModeEnabled:l=!1,objectsSnapModeEnabled:d=!1,theme:u=r.theme,name:f=`${P("labels.untitled")}-${SF()}`}=n;if(this.state={...r,theme:u,isLoading:!0,...this.getCanvasOffsets(),viewModeEnabled:o,zenModeEnabled:s,objectsSnapModeEnabled:d,gridModeEnabled:l??r.gridModeEnabled,name:f,width:window.innerWidth,height:window.innerHeight},this.id=NM(),this.library=new Lze(this),this.actionManager=new hHe(this.syncActionResult,()=>this.state,()=>this.scene.getElementsIncludingDeleted(),this),this.scene=new Gh,this.canvas=document.createElement("canvas"),this.rc=op.canvas(this.canvas),this.renderer=new zQ(this.scene),this.visibleElements=[],this.store=new jPe,this.history=new Jz,this.fonts=new fd(this.scene),this.history=new Jz,a){let p={updateScene:this.updateScene,updateLibrary:this.library.updateLibrary,addFiles:this.addFiles,resetScene:this.resetScene,getSceneElementsIncludingDeleted:this.getSceneElementsIncludingDeleted,history:{clear:this.resetHistory},scrollToContent:this.scrollToContent,getSceneElements:this.getSceneElements,getAppState:()=>this.state,getFiles:()=>this.files,getName:this.getName,registerAction:g=>{this.actionManager.registerAction(g)},refresh:this.refresh,setToast:this.setToast,id:this.id,setActiveTool:this.setActiveTool,setCursor:this.setCursor,resetCursor:this.resetCursor,updateFrameRendering:this.updateFrameRendering,toggleSidebar:this.toggleSidebar,onChange:g=>this.onChangeEmitter.on(g),onPointerDown:g=>this.onPointerDownEmitter.on(g),onPointerUp:g=>this.onPointerUpEmitter.on(g),onScrollChange:g=>this.onScrollChangeEmitter.on(g),onUserFollow:g=>this.onUserFollowEmitter.on(g),setFontFamily:this.setFontFamily};typeof a=="function"?a(p):console.error("excalidrawAPI should be a function!")}this.excalidrawContainerValue={container:this.excalidrawContainerRef.current,id:this.id},this.actionManager.registerAll(dS),this.actionManager.registerAction(uHe(this.history,this.store)),this.actionManager.registerAction(fHe(this.history,this.store))}onWindowMessage(n){if(n.origin!=="https://player.vimeo.com"&&n.origin!=="https://www.youtube.com")return;let r=null;try{r=JSON.parse(n.data)}catch{}if(r)switch(n.origin){case"https://player.vimeo.com":if(r.method==="paused"){let a=null,o=document.body.querySelectorAll("iframe.excalidraw__embeddable");if(!o)break;for(let s of o)s.contentWindow===n.source&&(a=s.contentWindow);a==null||a.postMessage(JSON.stringify({method:r.value?"play":"pause",value:!0}),"*")}break;case"https://www.youtube.com":if(r.event==="infoDelivery"&&r.info&&r.id&&typeof r.info.playerState=="number"){let a=r.id,o=r.info.playerState;Object.values(y5).includes(o)&&j9.set(a,o)}break}}cacheEmbeddableRef(n,r){r&&this.iFrameRefs.set(n.id,r)}getHTMLIFrameElement(n){return this.iFrameRefs.get(n.id)}handleEmbeddableCenterClick(n){var a,o,s,l;if(((a=this.state.activeEmbeddable)==null?void 0:a.element)===n&&((o=this.state.activeEmbeddable)==null?void 0:o.state)==="active"||(setTimeout(()=>{this.setState({activeEmbeddable:{element:n,state:"active"},selectedElementIds:{[n.id]:!0},newElement:null,selectionElement:null})},100),rh(n)))return;let r=this.getHTMLIFrameElement(n);if(r!=null&&r.contentWindow){if(r.src.includes("youtube")){let d=j9.get(n.id);switch(d||(j9.set(n.id,y5.UNSTARTED),r.contentWindow.postMessage(JSON.stringify({event:"listening",id:n.id}),"*")),d){case y5.PLAYING:case y5.BUFFERING:(s=r.contentWindow)==null||s.postMessage(JSON.stringify({event:"command",func:"pauseVideo",args:""}),"*");break;default:(l=r.contentWindow)==null||l.postMessage(JSON.stringify({event:"command",func:"playVideo",args:""}),"*")}}r.src.includes("player.vimeo.com")&&r.contentWindow.postMessage(JSON.stringify({method:"paused"}),"*")}}isIframeLikeElementCenter(n,r,a,o){var s,l;return n&&!r.altKey&&!r.shiftKey&&!r.metaKey&&!r.ctrlKey&&(((s=this.state.activeEmbeddable)==null?void 0:s.element)!==n||((l=this.state.activeEmbeddable)==null?void 0:l.state)==="hover"||!this.state.activeEmbeddable)&&a>=n.x+n.width/3&&a<=n.x+2*n.width/3&&o>=n.y+n.height/3&&o<=n.y+2*n.height/3}renderEmbeddables(){let n=this.state.zoom.value,r=this.state.width,a=this.state.height,o=this.scene.getNonDeletedElements().filter(s=>Io(s)&&this.embedsValidationStatus.get(s.id)===!0||rh(s));return(0,Sn.jsx)(Sn.Fragment,{children:o.map(s=>{var c,h,m,U,b,w,E,x,C;let{x:l,y:d}=ic({sceneX:s.x,sceneY:s.y},this.state),u=tw(s,r,a,this.state,this.scene.getNonDeletedElementsMap()),f=this.initializedEmbeds.has(s.id);if(u&&!f&&this.initializedEmbeds.add(s.id),!(u||f))return null;let p;if(rh(s)){p=null;let I=(((c=s.customData)==null?void 0:c.generationData)??this.magicGenerations.get(s.id))||{status:"error",message:"No generation data",code:"ERR_NO_GENERATION_DATA"};if(I.status==="done"){let S=I.html;p={intrinsicSize:{w:s.width,h:s.height},type:"document",srcdoc:()=>S}}else if(I.status==="pending")p={intrinsicSize:{w:s.width,h:s.height},type:"document",srcdoc:()=>jv(`
                    <style>
                      html, body {
                        width: 100%;
                        height: 100%;
                        color: ${this.state.theme===Un.DARK?"white":"black"};
                      }
                      body {
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        flex-direction: column;
                        gap: 1rem;
                      }

                      .Spinner {
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        margin-left: auto;
                        margin-right: auto;
                      }

                      .Spinner svg {
                        animation: rotate 1.6s linear infinite;
                        transform-origin: center center;
                        width: 40px;
                        height: 40px;
                      }

                      .Spinner circle {
                        stroke: currentColor;
                        animation: dash 1.6s linear 0s infinite;
                        stroke-linecap: round;
                      }

                      @keyframes rotate {
                        100% {
                          transform: rotate(360deg);
                        }
                      }

                      @keyframes dash {
                        0% {
                          stroke-dasharray: 1, 300;
                          stroke-dashoffset: 0;
                        }
                        50% {
                          stroke-dasharray: 150, 300;
                          stroke-dashoffset: -200;
                        }
                        100% {
                          stroke-dasharray: 1, 300;
                          stroke-dashoffset: -280;
                        }
                      }
                    </style>
                    <div class="Spinner">
                      <svg
                        viewBox="0 0 100 100"
                      >
                        <circle
                          cx="50"
                          cy="50"
                          r="46"
                          stroke-width="8"
                          fill="none"
                          stroke-miter-limit="10"
                        />
                      </svg>
                    </div>
                    <div>Generating...</div>
                  `)};else{let S;I.code==="ERR_GENERATION_INTERRUPTED"?S="Generation was interrupted...":S=I.message||"Generation failed",p={intrinsicSize:{w:s.width,h:s.height},type:"document",srcdoc:()=>jv(`
                    <style>
                    html, body {
                      height: 100%;
                    }
                      body {
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        justify-content: center;
                        color: ${fn.red[3]};
                      }
                      h1, h3 {
                        margin-top: 0;
                        margin-bottom: 0.5rem;
                      }
                    </style>
                    <h1>Error!</h1>
                    <h3>${S}</h3>
                  `)}}}else p=$g(dJ(s.link||""));let g=((h=this.state.activeEmbeddable)==null?void 0:h.element)===s&&((m=this.state.activeEmbeddable)==null?void 0:m.state)==="active",v=((U=this.state.activeEmbeddable)==null?void 0:U.element)===s&&((b=this.state.activeEmbeddable)==null?void 0:b.state)==="hover";return(0,Sn.jsx)("div",{className:bt("excalidraw__embeddable-container",{"is-hovered":v}),style:{transform:u?`translate(${l-this.state.offsetLeft}px, ${d-this.state.offsetTop}px) scale(${n})`:"none",display:u?"block":"none",opacity:_q(s,Ss(s,this.scene.getNonDeletedElementsMap()),this.elementsPendingErasure,null,((w=this.state.openDialog)==null?void 0:w.name)==="elementLinkSelector"?yZ:1),"--embeddable-radius":`${Rh(Math.min(s.width,s.height),s)}px`},children:(0,Sn.jsxs)("div",{className:"excalidraw__embeddable-container__inner",style:{width:u?`${s.width}px`:0,height:u?`${s.height}px`:0,transform:u?`rotate(${s.angle}rad)`:"none",pointerEvents:g?k1.enabled:k1.disabled},children:[v&&(0,Sn.jsx)("div",{className:"excalidraw__embeddable-hint",children:P("buttons.embeddableInteractionButton")}),(0,Sn.jsx)("div",{className:"excalidraw__embeddable__outer",style:{padding:`${s.strokeWidth}px`},children:(Io(s)?(x=(E=this.props).renderEmbeddable)==null?void 0:x.call(E,s,this.state):null)??(0,Sn.jsx)("iframe",{ref:I=>this.cacheEmbeddableRef(s,I),className:"excalidraw__embeddable",srcDoc:(p==null?void 0:p.type)==="document"?p.srcdoc(this.state.theme):void 0,src:(p==null?void 0:p.type)!=="document"?(p==null?void 0:p.link)??"":void 0,scrolling:"no",referrerPolicy:"no-referrer-when-downgrade",title:"Excalidraw Embedded Content",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,sandbox:`${(C=p==null?void 0:p.sandbox)!=null&&C.allowSameOrigin?"allow-same-origin":""} allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-presentation allow-downloads`})})]})},s.id)})})}toggleOverscrollBehavior(n){document.documentElement.style.overscrollBehaviorX=n.type==="pointerenter"?"none":"auto"}render(){var p,g,v,c,h,m,U,b;let n=this.scene.getSelectedElements(this.state),{renderTopRightUI:r,renderCustomStats:a}=this.props,o=this.scene.getSceneNonce(),{elementsMap:s,visibleElements:l}=this.renderer.getRenderableElements({sceneNonce:o,zoom:this.state.zoom,offsetLeft:this.state.offsetLeft,offsetTop:this.state.offsetTop,scrollX:this.state.scrollX,scrollY:this.state.scrollY,height:this.state.height,width:this.state.width,editingTextElement:this.state.editingTextElement,newElementId:(p=this.state.newElement)==null?void 0:p.id,pendingImageElementId:this.state.pendingImageElementId});this.visibleElements=l;let d=this.scene.getNonDeletedElementsMap(),u=this.state.selectionElement||this.state.newElement||this.state.selectedElementsAreBeingDragged||this.state.resizingElement||this.state.activeTool.type==="laser"&&this.state.cursorButton==="down",f=n[0];return(0,Sn.jsx)("div",{className:bt("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled||((g=this.state.openDialog)==null?void 0:g.name)==="elementLinkSelector","excalidraw--mobile":this.device.editor.isMobile}),style:{"--ui-pointerEvents":u?k1.disabled:k1.enabled},ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,onPointerEnter:this.toggleOverscrollBehavior,onPointerLeave:this.toggleOverscrollBehavior,children:(0,Sn.jsx)(pae.Provider,{value:this,children:(0,Sn.jsx)(gae.Provider,{value:this.props,children:(0,Sn.jsx)(mB.Provider,{value:this.excalidrawContainerValue,children:(0,Sn.jsx)(gB.Provider,{value:this.device,children:(0,Sn.jsx)(yB.Provider,{value:this.setAppState,children:(0,Sn.jsx)(vB.Provider,{value:this.state,children:(0,Sn.jsxs)(UB.Provider,{value:this.scene.getNonDeletedElements(),children:[(0,Sn.jsxs)(bB.Provider,{value:this.actionManager,children:[(0,Sn.jsx)(yVe,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onHandToolToggle:this.onHandToolToggle,langCode:Vm().code,renderTopRightUI:r,renderCustomStats:a,showExitZenModeBtn:typeof((v=this.props)==null?void 0:v.zenModeEnabled)>"u"&&this.state.zenModeEnabled,UIOptions:this.props.UIOptions,onExportImage:this.onExportImage,renderWelcomeScreen:!this.state.isLoading&&this.state.showWelcomeScreen&&this.state.activeTool.type==="selection"&&!this.state.zenModeEnabled&&!this.scene.getElementsIncludingDeleted().length,app:this,isCollaborating:this.props.isCollaborating,generateLinkForSelection:this.props.generateLinkForSelection,children:this.props.children}),(0,Sn.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,Sn.jsx)("div",{className:"excalidraw-contextMenuContainer"}),(0,Sn.jsx)("div",{className:"excalidraw-eye-dropper-container"}),(0,Sn.jsx)(tYe,{trails:[this.laserTrails,this.eraserTrail]}),n.length===1&&((c=this.state.openDialog)==null?void 0:c.name)!=="elementLinkSelector"&&this.state.showHyperlinkPopup&&(0,Sn.jsx)(yze,{element:f,elementsMap:d,setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen,setToast:this.setToast,updateEmbedValidationStatus:this.updateEmbedValidationStatus},f.id),this.props.aiEnabled!==!1&&n.length===1&&Z3(f)&&(0,Sn.jsx)(GQ,{element:f,elementsMap:s,children:(0,Sn.jsx)(L9,{title:P("labels.convertToCode"),icon:iq,checked:!1,onChange:()=>this.onMagicFrameGenerate(f,"button")})}),n.length===1&&rh(f)&&((m=(h=f.customData)==null?void 0:h.generationData)==null?void 0:m.status)==="done"&&(0,Sn.jsxs)(GQ,{element:f,elementsMap:s,children:[(0,Sn.jsx)(L9,{title:P("labels.copySource"),icon:YM,checked:!1,onChange:()=>this.onIframeSrcCopy(f)}),(0,Sn.jsx)(L9,{title:"Enter fullscreen",icon:zSe,checked:!1,onChange:()=>{let w=this.getHTMLIFrameElement(f);if(w)try{w.requestFullscreen(),this.setState({activeEmbeddable:{element:f,state:"active"},selectedElementIds:{[f.id]:!0},newElement:null,selectionElement:null})}catch(E){console.warn(E),this.setState({errorMessage:"Couldn't enter fullscreen"})}}})]}),this.state.toast!==null&&(0,Sn.jsx)(AVe,{message:this.state.toast.message,onClose:()=>this.setToast(null),duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,Sn.jsx)(gHe,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager,onClose:w=>{this.setState({contextMenu:null},()=>{this.focusContainer(),w==null||w()})}}),(0,Sn.jsx)(eYe,{canvas:this.canvas,rc:this.rc,elementsMap:s,allElementsMap:d,visibleElements:l,sceneNonce:o,selectionNonce:(U=this.state.selectionElement)==null?void 0:U.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderConfig:{imageCache:this.imageCache,isExporting:!1,renderGrid:jy(this),canvasBackgroundColor:this.state.viewBackgroundColor,embedsValidationStatus:this.embedsValidationStatus,elementsPendingErasure:this.elementsPendingErasure,pendingFlowchartNodes:this.flowChartCreator.pendingNodes}}),this.state.newElement&&(0,Sn.jsx)(xYe,{appState:this.state,scale:window.devicePixelRatio,rc:this.rc,elementsMap:s,allElementsMap:d,renderConfig:{imageCache:this.imageCache,isExporting:!1,renderGrid:!1,canvasBackgroundColor:this.state.viewBackgroundColor,embedsValidationStatus:this.embedsValidationStatus,elementsPendingErasure:this.elementsPendingErasure,pendingFlowchartNodes:null}}),(0,Sn.jsx)(XVe,{containerRef:this.excalidrawContainerRef,canvas:this.interactiveCanvas,elementsMap:s,visibleElements:l,allElementsMap:d,selectedElements:n,sceneNonce:o,selectionNonce:(b=this.state.selectionElement)==null?void 0:b.versionNonce,scale:window.devicePixelRatio,appState:this.state,device:this.device,renderInteractiveSceneCallback:this.renderInteractiveSceneCallback,handleCanvasRef:this.handleInteractiveCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick}),this.state.userToFollow&&(0,Sn.jsx)(sYe,{width:this.state.width,height:this.state.height,userToFollow:this.state.userToFollow,onDisconnect:this.maybeUnfollowRemoteUser}),this.renderFrameNames()]}),this.renderEmbeddables()]})})})})})})})})}setPlugins(n){Object.assign(this.plugins,n)}async onMagicFrameGenerate(n,r){var l;let a=(l=this.plugins.diagramToCode)==null?void 0:l.generate;if(!a){this.setState({errorMessage:"No diagram to code plugin found"});return}let o=kT(this.scene.getNonDeletedElements(),n).filter(d=>!Z3(d));if(!o.length){r==="button"?(this.setState({errorMessage:"Cannot generate from an empty frame"}),yr("ai","generate (no-children)","d2c")):this.setActiveTool({type:"magicframe"});return}let s=this.insertIframeElement({sceneX:n.x+n.width+30,sceneY:n.y,width:n.width,height:n.height});if(s){this.updateMagicGeneration({frameElement:s,data:{status:"pending"}}),this.setState({selectedElementIds:{[s.id]:!0}}),yr("ai","generate (start)","d2c");try{let{html:d}=await a({frame:n,children:o});if(yr("ai","generate (success)","d2c"),!d.trim()){this.updateMagicGeneration({frameElement:s,data:{status:"error",code:"ERR_OAI",message:"Nothing genereated :("}});return}let u=d.includes("<!DOCTYPE html>")&&d.includes("</html>")?d.slice(d.indexOf("<!DOCTYPE html>"),d.indexOf("</html>")+7):d;this.updateMagicGeneration({frameElement:s,data:{status:"done",html:u}})}catch(d){yr("ai","generate (failed)","d2c"),this.updateMagicGeneration({frameElement:s,data:{status:"error",code:"ERR_OAI",message:d.message||"Unknown error during generation"}})}}}onIframeSrcCopy(n){var r,a;((a=(r=n.customData)==null?void 0:r.generationData)==null?void 0:a.status)==="done"&&(Pb(n.customData.generationData.html),this.setToast({message:"copied to clipboard",closable:!1,duration:1500}))}clearImageShapeCache(n){let r=n??this.files;this.scene.getNonDeletedElements().forEach(a=>{al(a)&&r[a.fileId]&&(this.imageCache.delete(a.fileId),Vr.delete(a))})}async componentDidMount(){var n;this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,(gt.MODE===$o.TEST||gt.DEV)&&(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:()=>this.state},setState:{configurable:!0,value:(...r)=>this.setState(...r)},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history},store:{configurable:!0,value:this.store},fonts:{configurable:!0,value:this.fonts}})),this.store.onStoreIncrementEmitter.on(r=>{this.history.record(r.elementsChange,r.appStateChange)}),this.scene.onUpdate(this.triggerRender),this.addEventListeners(),this.props.autoFocus&&this.excalidrawContainerRef.current&&this.focusContainer(),zh()||(this.refreshViewportBreakpoints(),this.refreshEditorBreakpoints()),OC&&this.excalidrawContainerRef.current&&(this.resizeObserver=new ResizeObserver(()=>{this.refreshEditorBreakpoints(),this.updateDOMRect()}),(n=this.resizeObserver)==null||n.observe(this.excalidrawContainerRef.current)),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene),A9e()&&!wPe()&&this.setState({errorMessage:(0,Sn.jsx)(CVe,{})})}componentWillUnmount(){var n,r;(n=window.launchQueue)==null||n.setConsumer(()=>{}),this.renderer.destroy(),this.scene.destroy(),this.scene=new Gh,this.fonts=new fd(this.scene),this.renderer=new zQ(this.scene),this.files={},this.imageCache.clear(),(r=this.resizeObserver)==null||r.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.library.destroy(),this.laserTrails.stop(),this.eraserTrail.stop(),this.onChangeEmitter.clear(),this.store.onStoreIncrementEmitter.clear(),Vr.destroy(),Uu.destroy(),clearTimeout(Ff),Pi.clearCache(),So.clearCache(),Ff=0,document.documentElement.style.overscrollBehaviorX=""}removeEventListeners(){this.onRemoveEventListenersEmitter.trigger()}addEventListeners(){this.removeEventListeners(),this.props.handleKeyboardGlobally&&this.onRemoveEventListenersEmitter.once(zr(document,"keydown",this.onKeyDown,!1)),this.onRemoveEventListenersEmitter.once(zr(this.excalidrawContainerRef.current,"wheel",this.handleWheel,{passive:!1}),zr(window,"message",this.onWindowMessage,!1),zr(document,"pointerup",this.removePointer,{passive:!1}),zr(document,"copy",this.onCopy,{passive:!1}),zr(document,"keyup",this.onKeyUp,{passive:!0}),zr(document,"pointermove",this.updateCurrentCursorPosition,{passive:!1}),zr(document.fonts,"loadingdone",n=>{let r=n.fontfaces;this.fonts.onLoaded(r)},{passive:!1}),zr(document,"gesturestart",this.onGestureStart,!1),zr(document,"gesturechange",this.onGestureChange,!1),zr(document,"gestureend",this.onGestureEnd,!1),zr(window,"focus",()=>{this.maybeCleanupAfterMissingPointerUp(null),this.triggerRender(!0)},{passive:!1})),!this.state.viewModeEnabled&&(this.onRemoveEventListenersEmitter.once(zr(document,"fullscreenchange",this.onFullscreenChange,{passive:!1}),zr(document,"paste",this.pasteFromClipboard,{passive:!1}),zr(document,"cut",this.onCut,{passive:!1}),zr(window,"resize",this.onResize,!1),zr(window,"unload",this.onUnload,!1),zr(window,"blur",this.onBlur,!1),zr(this.excalidrawContainerRef.current,"wheel",this.handleWheel,{passive:!1}),zr(this.excalidrawContainerRef.current,"dragover",this.disableEvent,!1),zr(this.excalidrawContainerRef.current,"drop",this.disableEvent,!1)),this.props.detectScroll&&this.onRemoveEventListenersEmitter.once(zr(g_e(this.excalidrawContainerRef.current),"scroll",this.onScroll,{passive:!1})))}componentDidUpdate(n,r){var d,u,f,p,g,v,c,h,m,U;this.updateEmbeddables();let a=this.scene.getElementsIncludingDeleted(),o=this.scene.getElementsMapIncludingDeleted(),s=this.scene.getNonDeletedElementsMap();!this.state.showWelcomeScreen&&!a.length&&this.setState({showWelcomeScreen:!0}),n.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshEditorBreakpoints(),r.userToFollow&&!this.state.collaborators.has(r.userToFollow.socketId)&&this.maybeUnfollowRemoteUser(),(r.zoom.value!==this.state.zoom.value||r.scrollX!==this.state.scrollX||r.scrollY!==this.state.scrollY)&&((u=(d=this.props)==null?void 0:d.onScrollChange)==null||u.call(d,this.state.scrollX,this.state.scrollY,this.state.zoom),this.onScrollChangeEmitter.trigger(this.state.scrollX,this.state.scrollY,this.state.zoom)),r.userToFollow!==this.state.userToFollow&&(r.userToFollow&&this.onUserFollowEmitter.trigger({userToFollow:r.userToFollow,action:"UNFOLLOW"}),this.state.userToFollow&&this.onUserFollowEmitter.trigger({userToFollow:this.state.userToFollow,action:"FOLLOW"})),Object.keys(this.state.selectedElementIds).length&&Kc(this.state)&&this.setState({activeTool:_i(this.state,{type:"selection"})}),this.state.activeTool.type==="eraser"&&r.theme!==this.state.theme&&hJ(this.interactiveCanvas,this.state.theme),r.activeTool.type==="selection"&&this.state.activeTool.type!=="selection"&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),n.langCode!==this.props.langCode&&this.updateLanguage(),Kc(r)&&!Kc(this.state)&&this.eraserTrail.endPath(),n.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),r.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),(((f=r.openDialog)==null?void 0:f.name)==="elementLinkSelector"||((p=this.state.openDialog)==null?void 0:p.name)==="elementLinkSelector")&&((g=r.openDialog)==null?void 0:g.name)!==((v=this.state.openDialog)==null?void 0:v.name)&&(this.deselectElements(),this.setState({hoveredElementIds:{}})),n.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),n.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),(c=this.excalidrawContainerRef.current)==null||c.classList.toggle("theme--dark",this.state.theme===Un.DARK),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(()=>{this.state.editingLinearElement&&this.actionManager.executeAction(Nl)}),(h=this.state.editingTextElement)!=null&&h.isDeleted&&this.setState({editingTextElement:null}),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});let{multiElement:l}=r;r.activeTool!==this.state.activeTool&&l!=null&&u0(this.state)&&ad(l,!1)&&sS(l,this.state,cl(xt.getPointAtIndexGlobalCoordinates(l,-1,s)),this.scene.getNonDeletedElementsMap(),this.scene.getNonDeletedElements()),this.store.commit(o,this.state),this.state.isLoading||((U=(m=this.props).onChange)==null||U.call(m,a,this.state,this.files),this.onChangeEmitter.trigger(a,this.state,this.files))}static resetTapTwice(){xU=!1}async addElementsFromMixedContentPaste(n,{isPlainPaste:r,sceneX:a,sceneY:o}){if(!r&&n.some(s=>s.type==="imageUrl")&&this.isToolSupported("image")){let s=n.filter(g=>g.type==="imageUrl").map(g=>g.value),l=await Promise.all(s.map(async g=>{try{return{file:await ENe(g)}}catch(v){let c=v.message;return v.cause==="FETCH_ERROR"?c=P("errors.failedToFetchImage"):v.cause==="UNSUPPORTED"&&(c=P("errors.unsupportedFileType")),{errorMessage:c}}})),d=o,u=!1,f={};for(let g of l)if(g.file){let v=this.createImageElement({sceneX:a,sceneY:d}),c=await this.insertImageElement(v,g.file);c&&(u||(u=!0,d-=c.height/2),Qe(c,{y:d},!1),d=v.y+v.height+25,f[v.id]=!0)}this.setState({selectedElementIds:On(f,this.state)});let p=l.find(g=>!!g.errorMessage);p&&p.errorMessage&&this.setState({errorMessage:p.errorMessage})}else{let s=n.filter(l=>l.type==="text");s.length&&this.addTextFromPaste(s.map(l=>l.value).join(`

`),r)}}addTextFromPaste(n,r=!1){let{x:a,y:o}=Ur({clientX:this.lastViewportPosition.x,clientY:this.lastViewportPosition.y},this.state),s={x:a,y:o,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:n,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:wb,verticalAlign:x8,locked:!1},l=Xn({fontSize:s.fontSize,fontFamily:s.fontFamily}),d=H0(s.fontFamily),[u,,f]=ORe(this.state),p=Math.max(Math.min((f-u)*.5,800),200),g=10,v=o,c=r?[n]:n.split(`
`),h=c.reduce((m,U,b)=>{var E;let w=Hm(U).trim();if(w.length){let x=this.getTopLayerFrameAtSceneCoords({x:a,y:v}),C=Ha(w,l,d),I=C.width>p,S=I?ap(w,l,p):w;C=I?Ha(S,l,d):C;let M=a-C.width/2,R=v-C.height/2,D=Vo({...s,x:M,y:R,text:S,originalText:w,lineHeight:d,autoResize:!I,frameId:x?x.id:null});m.push(D),v+=D.height+g}else(E=c[b-1])!=null&&E.trim()&&(v+=Bb(s.fontSize,d)+g);return m},[]);h.length!==0&&(this.scene.insertElements(h),this.setState({selectedElementIds:On(Object.fromEntries(h.map(m=>[m.id,!0])),this.state)}),!r&&h.length>1&&ZQ===!1&&!this.device.editor.isMobile&&(this.setToast({message:P("toast.pasteAsSingleElement",{shortcut:Ne("CtrlOrCmd+Shift+V")}),duration:5e3}),ZQ=!0),this.store.shouldCaptureIncrement())}handleTextWysiwyg(n,{isExistingElement:r=!1}){let a=this.scene.getElementsMapIncludingDeleted(),o=(s,l)=>{this.scene.replaceAllElements([...this.scene.getElementsIncludingDeleted().map(d=>d.id===n.id&&pt(d)?an(d,{originalText:s,isDeleted:l??d.isDeleted,...mJ(d,lo(d,a),a,s)}):d)])};UYe({id:n.id,canvas:this.canvas,getViewportCoords:(s,l)=>{let{x:d,y:u}=ic({sceneX:s,sceneY:l},this.state);return[d-this.state.offsetLeft,u-this.state.offsetTop]},onChange:Kr(s=>{o(s,!1),bS(n)&&_s(n,this.scene.getNonDeletedElementsMap())}),onSubmit:Kr(({viaKeyboard:s,nextOriginalText:l})=>{let d=!l.trim();if(o(l,d),!d&&s){let u=n.containerId?n.containerId:n.id;(0,wp.flushSync)(()=>{this.setState(f=>({selectedElementIds:On({...f.selectedElementIds,[u]:!0},f)}))})}d&&Wq(this.scene.getNonDeletedElements(),[n]),(!d||r)&&this.store.shouldCaptureIncrement(),(0,wp.flushSync)(()=>{this.setState({newElement:null,editingTextElement:null})}),this.state.activeTool.locked&&Wc(this.interactiveCanvas,this.state),this.focusContainer()}),element:n,excalidrawContainer:this.excalidrawContainerRef.current,app:this,autoSelect:!this.device.isTouchScreen}),this.deselectElements(),o(n.originalText,!1)}deselectElements(){this.setState({selectedElementIds:On({},this.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}getTextElementAtPosition(n,r){let a=this.getElementAtPosition(n,r,{includeBoundTextElement:!0});return a&&pt(a)&&!a.isDeleted?a:null}getElementAtPosition(n,r,a){let o=this.getElementsAtPosition(n,r,a==null?void 0:a.includeBoundTextElement,a==null?void 0:a.includeLockedElements);if(o.length>1){if(a!=null&&a.preferSelected){for(let l=o.length-1;l>-1;l--)if(this.state.selectedElementIds[o[l].id])return o[l]}let s=o[o.length-1];return fg({x:n,y:r,element:s,shape:Au(s,this.scene.getNonDeletedElementsMap()),threshold:this.getElementHitThreshold()/2,frameNameBound:en(s)?this.frameNameBoundsCache.get(s):null})?s:o[o.length-2]}return o.length===1?o[0]:null}getElementsAtPosition(n,r,a=!1,o=!1){let s=[],l=this.scene.getNonDeletedElementsMap();return(a&&o?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter(d=>(o||!d.locked)&&(a||!(pt(d)&&d.containerId)))).filter(d=>this.hitElement(n,r,d)).filter(d=>{let u=Ss(d,l);return u&&this.state.frameRendering.enabled&&this.state.frameRendering.clip?cO({x:n,y:r},u,l):!0}).filter(d=>rh(d)?(s.push(d),!1):!0).concat(s)}getElementHitThreshold(){return I9e/this.state.zoom.value}hitElement(n,r,a,o=!0){if(o&&this.state.selectedElementIds[a.id]&&dee([a],this.state)){let s=QBe(a,this.scene.getNonDeletedElementsMap(),zn(a)?0:this.getElementHitThreshold());if(j8($(n,r),s))return!0}return Uq(n,r,vq(a,this.scene.getNonDeletedElementsMap()))?!0:fg({x:n,y:r,element:a,shape:Au(a,this.scene.getNonDeletedElementsMap()),threshold:this.getElementHitThreshold(),frameNameBound:en(a)?this.frameNameBoundsCache.get(a):null})}getTextBindableContainerAtPosition(n,r){let a=this.scene.getNonDeletedElements(),o=this.scene.getSelectedElements(this.state);if(o.length===1)return S0(o[0],!1)?o[0]:null;let s=null;for(let l=a.length-1;l>=0;--l){if(a[l].isDeleted)continue;let[d,u,f,p]=Xt(a[l],this.scene.getNonDeletedElementsMap());if(ln(a[l])&&fg({x:n,y:r,element:a[l],shape:Au(a[l],this.scene.getNonDeletedElementsMap()),threshold:this.getElementHitThreshold()})){s=a[l];break}else if(d<n&&n<f&&u<r&&r<p){s=a[l];break}}return S0(s,!1)?s:null}handleHoverSelectedLinearElement(n,r,a){let o=this.scene.getNonDeletedElementsMap(),s=xt.getElement(n.elementId,o);if(s)if(this.state.selectedLinearElement){let l=-1,d=null;fg({x:r,y:a,element:s,shape:Au(s,this.scene.getNonDeletedElementsMap())})?(l=xt.getPointIndexUnderCursor(s,o,this.state.zoom,r,a),d=xt.getSegmentMidpointHitCoords(n,{x:r,y:a},this.state,this.scene.getNonDeletedElementsMap()),l>=0||d?qn(this.interactiveCanvas,Vn.POINTER):this.hitElement(r,a,s)&&qn(this.interactiveCanvas,Vn.MOVE)):this.hitElement(r,a,s)&&(!Wt(s)||!(s.startBinding||s.endBinding))&&qn(this.interactiveCanvas,Vn.MOVE),this.state.selectedLinearElement.hoverPointIndex!==l&&this.setState({selectedLinearElement:{...this.state.selectedLinearElement,hoverPointIndex:l}}),xt.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,d)||this.setState({selectedLinearElement:{...this.state.selectedLinearElement,segmentMidPointHoveredCoords:d}})}else qn(this.interactiveCanvas,Vn.AUTO)}updateGestureOnPointerDown(n){jn.pointers.set(n.pointerId,{x:n.clientX,y:n.clientY}),jn.pointers.size===2&&(jn.lastCenter=nQ(jn.pointers),jn.initialScale=this.state.zoom.value,jn.initialDistance=rQ(Array.from(jn.pointers.values())))}initialPointerDownState(n){let r=Ur(n,this.state),a=this.scene.getSelectedElements(this.state),[o,s,l,d]=Yn(a),u=a.findIndex(Wt)===0;return{origin:r,withCmdOrCtrl:n[ie.CTRL_OR_CMD],originInGrid:cl(Oi(r.x,r.y,n[ie.CTRL_OR_CMD]||u?null:this.getEffectiveGridSize())),scrollbars:uQ(F9,n.clientX-this.state.offsetLeft,n.clientY-this.state.offsetTop),lastCoords:{...r},originalElements:this.scene.getNonDeletedElements().reduce((f,p)=>(f.set(p.id,p2(p)),f),new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(l+o)/2,y:(d+s)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(r,a)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1}}}handleDraggingScrollBar(n,r){if(!(r.scrollbars.isOverEither&&!this.state.multiElement))return!1;$9=!0,r.lastCoords.x=n.clientX,r.lastCoords.y=n.clientY;let a=R9(s=>{s.target instanceof HTMLElement&&this.handlePointerMoveOverScrollbars(s,r)}),o=Kr(()=>{Rp=null,$9=!1,Wc(this.interactiveCanvas,this.state),this.setState({cursorButton:"up"}),this.savePointer(n.clientX,n.clientY,"up"),window.removeEventListener("pointermove",a),window.removeEventListener("pointerup",o),a.flush()});return Rp=o,window.addEventListener("pointermove",a),window.addEventListener("pointerup",o),!0}isASelectedElement(n){return n!=null&&this.state.selectedElementIds[n.id]}isHittingCommonBoundingBoxOfSelectedElements(n,r){if(r.length<2)return!1;let a=this.getElementHitThreshold(),[o,s,l,d]=Yn(r);return n.x>o-a&&n.x<l+a&&n.y>s-a&&n.y<d+a}getCurrentItemRoundness(n){return this.state.currentItemRoundness==="round"?{type:f2(n)?Di.ADAPTIVE_RADIUS:Di.PROPORTIONAL_RADIUS}:null}maybeCacheReferenceSnapPoints(n,r,a=!1){Qh({event:n,app:this,selectedElements:r})&&(a||!Uu.getReferenceSnapPoints())&&Uu.setReferenceSnapPoints(aPe(this.scene.getNonDeletedElements(),r,this.state,this.scene.getNonDeletedElementsMap()))}maybeCacheVisibleGaps(n,r,a=!1){Qh({event:n,app:this,selectedElements:r})&&(a||!Uu.getVisibleGaps())&&Uu.setVisibleGaps(iPe(this.scene.getNonDeletedElements(),r,this.state,this.scene.getNonDeletedElementsMap()))}onKeyDownFromPointerDownHandler(n){return Kr(r=>{this.maybeHandleResize(n,r)||this.maybeDragNewGenericElement(n,r)})}onKeyUpFromPointerDownHandler(n){return Kr(r=>{r.key===ie.ALT&&r.preventDefault(),!this.maybeHandleResize(n,r)&&this.maybeDragNewGenericElement(n,r)})}onPointerMoveFromPointerDownHandler(n){return R9(r=>{var p,g,v,c;if(((p=this.state.openDialog)==null?void 0:p.name)==="elementLinkSelector")return;let a=Ur(r,this.state),o=this.lastPointerMoveCoords??n.origin;if(this.lastPointerMoveCoords=a,n.drag.offset===null&&(n.drag.offset=cl(hNe(this.scene.getSelectedElements(this.state),n.origin.x,n.origin.y))),!(r.target instanceof HTMLElement)||this.handlePointerMoveOverScrollbars(r,n))return;if(Kc(this.state)){this.handleEraser(r,n,a);return}this.state.activeTool.type==="laser"&&this.laserTrails.addPointToPath(a.x,a.y);let[s,l]=Oi(a.x,a.y,r[ie.CTRL_OR_CMD]?null:this.getEffectiveGridSize());if(!n.drag.hasOccurred&&(this.state.activeTool.type==="arrow"||this.state.activeTool.type==="line")&&Yi($(a.x,a.y),$(n.origin.x,n.origin.y))<Wp)return;if(n.resize.isResizing&&(n.lastCoords.x=a.x,n.lastCoords.y=a.y,this.maybeHandleCrop(n,r)||this.maybeHandleResize(n,r)))return!0;let d=this.scene.getNonDeletedElementsMap();if(this.state.selectedLinearElement){let h=this.state.editingLinearElement||this.state.selectedLinearElement;if(xt.shouldAddMidpoint(this.state.selectedLinearElement,a,this.state,d)){let m=xt.addMidpoint(this.state.selectedLinearElement,a,this,!r[ie.CTRL_OR_CMD],d);if(!m)return;(0,wp.flushSync)(()=>{this.state.selectedLinearElement&&this.setState({selectedLinearElement:{...this.state.selectedLinearElement,pointerDownState:m.pointerDownState,selectedPointsIndices:m.selectedPointsIndices}}),this.state.editingLinearElement&&this.setState({editingLinearElement:{...this.state.editingLinearElement,pointerDownState:m.pointerDownState,selectedPointsIndices:m.selectedPointsIndices}})});return}else if(h.pointerDownState.segmentMidpoint.value!==null&&!h.pointerDownState.segmentMidpoint.added)return;if(xt.handlePointDragging(r,this,a.x,a.y,(m,U)=>{this.maybeSuggestBindingsForLinearElementAtCoords(m,U)},h,this.scene)){n.lastCoords.x=a.x,n.lastCoords.y=a.y,n.drag.hasOccurred=!0,this.state.editingLinearElement&&!this.state.editingLinearElement.isDragging&&this.setState({editingLinearElement:{...this.state.editingLinearElement,isDragging:!0}}),this.state.selectedLinearElement.isDragging||this.setState({selectedLinearElement:{...this.state.selectedLinearElement,isDragging:!0}});return}}let u=n.hit.allHitElements.some(h=>this.isASelectedElement(h)),f=this.state.editingLinearElement&&r.shiftKey&&this.state.editingLinearElement.elementId===((g=n.hit.element)==null?void 0:g.id);if((u||n.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!f){let h=this.scene.getSelectedElements(this.state);if(h.every(w=>w.locked))return;let m=h.find(w=>en(w)),U=this.getTopLayerFrameAtSceneCoords(a),b=U&&!m?U:null;if(this.state.frameToHighlight!==b&&(0,wp.flushSync)(()=>{this.setState({frameToHighlight:b})}),n.drag.hasOccurred=!0,h.length>0&&!n.withCmdOrCtrl&&!this.state.editingTextElement&&((v=this.state.activeEmbeddable)==null?void 0:v.state)!=="active"){let w={x:a.x-n.origin.x,y:a.y-n.origin.y},E=[...n.originalElements.values()],x=r.shiftKey;if(x){let S=Math.abs(w.x),M=Math.abs(w.y),R=x&&S<M,D=x&&S>M;R&&(w.x=0),D&&(w.y=0)}if(this.state.croppingElementId){let S=this.scene.getNonDeletedElementsMap().get(this.state.croppingElementId);if(S&&zn(S)&&S.crop!==null&&n.hit.element===S){let M=S.crop,R=al(S)&&((c=this.imageCache.get(S.fileId))==null?void 0:c.image);if(R&&!(R instanceof Promise)){let D=dd(Vi(a.x-o.x,a.y-o.y),Math.max(this.state.zoom.value,2)),[L,j,re,J,H,ne]=Xt(S,d),Z=sr(De($(L,j),$(H,ne),S.angle)),se=sr(De($(re,j),$(H,ne),S.angle)),O=sr(De($(L,J),$(H,ne),S.angle)),V=M8(_0(se,Z)),de=M8(_0(O,Z)),oe=Vi(EF(D,V),EF(D,de)),me={...M,x:Rn(M.x-oe[0]*Math.sign(S.scale[0]),0,R.naturalWidth-M.width),y:Rn(M.y-oe[1]*Math.sign(S.scale[1]),0,R.naturalHeight-M.height)};Qe(S,{crop:me});return}}}this.maybeCacheVisibleGaps(r,h),this.maybeCacheReferenceSnapPoints(r,h);let{snapOffset:C,snapLines:I}=oPe(E,w,this,r,this.scene.getNonDeletedElementsMap());if((0,wp.flushSync)(()=>{this.setState({snapLines:I})}),!this.state.editingFrame&&uNe(n,h,w,this.scene,C,r[ie.CTRL_OR_CMD]?null:this.getEffectiveGridSize()),this.setState({selectedElementsAreBeingDragged:!0,selectionElement:null}),(h.length!==1||!Wt(h[0]))&&this.setState({suggestedBindings:jx(h,this.scene.getNonDeletedElementsMap(),this.state.zoom)}),r.altKey&&!n.hit.hasBeenDuplicated){n.hit.hasBeenDuplicated=!0;let S=[],M=[],R=new Map,D=new Map,L=n.hit.element,j=new Set(this.scene.getSelectedElements({selectedElementIds:this.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}).map(H=>H.id)),re=this.scene.getElementsIncludingDeleted();for(let H of re)if(j.has(H.id)||H.id===(L==null?void 0:L.id)&&n.hit.wasAddedToSelection){let ne=vJ(this.state.editingGroupId,R,H),Z=n.originalElements.get(H.id);Qe(ne,{x:Z.x,y:Z.y}),n.originalElements.set(ne.id,ne),S.push(ne),M.push(H),D.set(H.id,ne.id)}else S.push(H);let J=[...S,...M];vc(J,Vt(M)),iJ(S,M,D),Gq(J,M,D,"duplicatesServeAsOld"),ZJ(J,M,D),this.scene.replaceAllElements(J),this.maybeCacheVisibleGaps(r,h,!0),this.maybeCacheReferenceSnapPoints(r,h,!0)}return}}if(this.state.selectionElement)n.lastCoords.x=a.x,n.lastCoords.y=a.y,this.maybeDragNewGenericElement(n,r);else{let h=this.state.newElement;if(!h)return;if(h.type==="freedraw"){let m=h.points,U=a.x-h.x,b=a.y-h.y,w=m.length>0&&m[m.length-1];if(!(w&&w[0]===U&&w[1]===b)){let E=h.simulatePressure?h.pressures:[...h.pressures,r.pressure];Qe(h,{points:[...m,$(U,b)],pressures:E},!1),this.setState({newElement:h})}}else if(rn(h)){n.drag.hasOccurred=!0;let m=h.points,U=s-h.x,b=l-h.y;$v(r)&&m.length===2&&({width:U,height:b}=vS(h.x,h.y,a.x,a.y)),m.length===1?Qe(h,{points:[...m,$(U,b)]},!1):m.length>1&&Wt(h)?W0(h,d,[...m.slice(0,-1),$(U,b)],Vi(0,0),void 0,{isDragging:!0,informMutation:!1,zoom:this.state.zoom}):m.length===2&&Qe(h,{points:[...m.slice(0,-1),$(U,b)]},!1),this.setState({newElement:h}),ad(h,!1)&&this.maybeSuggestBindingsForLinearElementAtCoords(h,[a],this.state.startBoundElement)}else n.lastCoords.x=a.x,n.lastCoords.y=a.y,this.maybeDragNewGenericElement(n,r,!1)}if(this.state.activeTool.type==="selection"){n.boxSelection.hasOccurred=!0;let h=this.scene.getNonDeletedElements();if(this.state.editingLinearElement)xt.handleBoxSelection(r,this.state,this.setState.bind(this),this.scene.getNonDeletedElementsMap());else{let m=!0;!r.shiftKey&&Pi(h,this.state)&&(n.withCmdOrCtrl&&n.hit.element?this.setState(b=>So({...b,selectedElementIds:{[n.hit.element.id]:!0}},this.scene.getNonDeletedElements(),b,this)):m=!1);let U=this.state.selectionElement?MT(h,this.state.selectionElement,this.scene.getNonDeletedElementsMap()):[];this.setState(b=>{let w={...m&&b.selectedElementIds,...U.reduce((E,x)=>(E[x.id]=!0,E),{})};return n.hit.element&&(U.length?delete w[n.hit.element.id]:w[n.hit.element.id]=!0),b=m?b:{...b,selectedGroupIds:{},editingGroupId:null},{...So({editingGroupId:b.editingGroupId,selectedElementIds:w},this.scene.getNonDeletedElements(),b,this),selectedLinearElement:U.length===1&&rn(U[0])?new xt(U[0]):null,showHyperlinkPopup:U.length===1&&(U[0].link||Io(U[0]))?"info":!1}})}}})}handlePointerMoveOverScrollbars(n,r){if(r.scrollbars.isOverHorizontal){let a=n.clientX,o=a-r.lastCoords.x;return this.translateCanvas({scrollX:this.state.scrollX-o/this.state.zoom.value}),r.lastCoords.x=a,!0}if(r.scrollbars.isOverVertical){let a=n.clientY,o=a-r.lastCoords.y;return this.translateCanvas({scrollY:this.state.scrollY-o/this.state.zoom.value}),r.lastCoords.y=a,!0}return!1}onPointerUpFromPointerDownHandler(n){return Kr(r=>{var m,U,b,w,E,x,C,I,S;this.removePointer(r),n.eventListeners.onMove&&n.eventListeners.onMove.flush();let{newElement:a,resizingElement:o,croppingElementId:s,multiElement:l,activeTool:d,isResizing:u,isRotating:f,isCropping:p}=this.state;this.setState(M=>({isResizing:!1,isRotating:!1,isCropping:!1,resizingElement:null,selectionElement:null,frameToHighlight:null,elementsToHighlight:null,cursorButton:"up",snapLines:q2(M.snapLines,[]),originSnapOffset:null})),this.lastPointerMoveCoords=null,Uu.setReferenceSnapPoints(null),Uu.setVisibleGaps(null),this.savePointer(r.clientX,r.clientY,"up"),this.setState({selectedElementsAreBeingDragged:!1});let g=this.scene.getNonDeletedElementsMap();if(this.state.editingLinearElement)if(!n.boxSelection.hasOccurred&&((U=(m=n.hit)==null?void 0:m.element)==null?void 0:U.id)!==this.state.editingLinearElement.elementId)this.actionManager.executeAction(Nl);else{let M=xt.handlePointerUp(r,this.state.editingLinearElement,this.state,this.scene);M!==this.state.editingLinearElement&&this.setState({editingLinearElement:M,suggestedBindings:[]})}else if(this.state.selectedLinearElement)if(((w=(b=n.hit)==null?void 0:b.element)==null?void 0:w.id)!==this.state.selectedLinearElement.elementId)this.scene.getSelectedElements(this.state).length>1&&this.setState({selectedLinearElement:null});else{let M=xt.handlePointerUp(r,this.state.selectedLinearElement,this.state,this.scene),{startBindingElement:R,endBindingElement:D}=M,L=this.scene.getElement(M.elementId);ad(L)&&R4(L,R,D,g,this.scene),M!==this.state.selectedLinearElement&&this.setState({selectedLinearElement:{...M,selectedPointsIndices:null},suggestedBindings:[]})}if(this.missingPointerEventCleanupEmitter.clear(),window.removeEventListener("pointermove",n.eventListeners.onMove),window.removeEventListener("pointerup",n.eventListeners.onUp),window.removeEventListener("keydown",n.eventListeners.onKeyDown),window.removeEventListener("keyup",n.eventListeners.onKeyUp),this.state.pendingImageElementId&&this.setState({pendingImageElementId:null}),(x=(E=this.props)==null?void 0:E.onPointerUp)==null||x.call(E,d,n),this.onPointerUpEmitter.trigger(this.state.activeTool,n,r),(a==null?void 0:a.type)==="freedraw"){let M=Ur(r,this.state),R=a.points,D=M.x-a.x,L=M.y-a.y;D===R[0][0]&&L===R[0][1]&&(L+=1e-4,D+=1e-4);let j=a.simulatePressure?[]:[...a.pressures,r.pressure];Qe(a,{points:[...R,$(D,L)],pressures:j,lastCommittedPoint:$(D,L)}),this.actionManager.executeAction(Nl);return}if(zn(a)){let M=a;try{this.initializeImageDimensions(M),this.setState({selectedElementIds:On({[M.id]:!0},this.state)},()=>{this.actionManager.executeAction(Nl)})}catch(R){console.error(R),this.scene.replaceAllElements(this.scene.getElementsIncludingDeleted().filter(D=>D.id!==M.id)),this.actionManager.executeAction(Nl)}return}if(rn(a)){a.points.length>1&&this.store.shouldCaptureIncrement();let M=Ur(r,this.state);!n.drag.hasOccurred&&a&&!l?(Qe(a,{points:[...a.points,$(M.x-a.x,M.y-a.y)]}),this.setState({multiElement:a,newElement:a})):n.drag.hasOccurred&&!l&&(u0(this.state)&&ad(a,!1)&&sS(a,this.state,M,this.scene.getNonDeletedElementsMap(),this.scene.getNonDeletedElements()),this.setState({suggestedBindings:[],startBoundElement:null}),d.locked?this.setState(R=>({newElement:null})):(Hl(this.interactiveCanvas),this.setState(R=>({newElement:null,activeTool:_i(this.state,{type:"selection"}),selectedElementIds:On({...R.selectedElementIds,[a.id]:!0},R),selectedLinearElement:new xt(a)}))),this.scene.triggerUpdate());return}if(pt(a)){let M=hT(Xn({fontSize:a.fontSize,fontFamily:a.fontFamily}),a.lineHeight);a.width<M&&Qe(a,{autoResize:!0}),this.resetCursor(),this.handleTextWysiwyg(a,{isExistingElement:!0})}if(d.type!=="selection"&&a&&Wm(a)){this.updateScene({elements:this.scene.getElementsIncludingDeleted().filter(M=>M.id!==a.id),appState:{newElement:null},storeAction:Me.UPDATE});return}if(en(a)){let M=WLe(this.scene.getElementsIncludingDeleted(),a,this.scene.getNonDeletedElementsMap());this.scene.replaceAllElements(oA(this.scene.getElementsMapIncludingDeleted(),M,a))}if(a&&(Qe(a,see(a)),this.scene.triggerUpdate()),n.drag.hasOccurred){let M=Ur(r,this.state);if(this.state.selectedLinearElement&&this.state.selectedLinearElement.isDragging){let R=this.scene.getElement(this.state.selectedLinearElement.elementId);if(R!=null&&R.frameId){let D=Ss(R,g);D&&R&&(Hh(R,D,this.scene.getNonDeletedElementsMap())||(Qe(R,{groupIds:[]}),j4([R],this.scene.getNonDeletedElementsMap()),this.scene.triggerUpdate()))}}else{let R=this.getTopLayerFrameAtSceneCoords(M),D=this.scene.getSelectedElements(this.state),L=this.scene.getElementsMapIncludingDeleted(),j=re=>{if(re.length>0){for(let J of re){let H=J.groupIds.indexOf(this.state.editingGroupId);Qe(J,{groupIds:J.groupIds.slice(0,H)},!1)}L.forEach(J=>{J.groupIds.length&&mi(L,J.groupIds[J.groupIds.length-1]).length<2&&Qe(J,{groupIds:[]},!1)}),this.setState({editingGroupId:null})}};if(R&&!this.state.selectedElementIds[R.id]){let re=D.filter(J=>J.frameId!==R.id&&Qy(J,L,this.state));this.state.editingGroupId&&j(re),L=oA(L,re,R)}else if(!R&&this.state.editingGroupId){let re=D.filter(J=>J.frameId&&!Qy(J,L,this.state));j(re)}L=Gm(L,this.state,this),this.scene.replaceAllElements(L)}}if(o&&this.store.shouldCaptureIncrement(),o&&Wm(o)&&this.updateScene({elements:this.scene.getElementsIncludingDeleted().filter(M=>M.id!==o.id),storeAction:Me.UPDATE}),n.resize.isResizing){let M=Gm(this.scene.getElementsIncludingDeleted(),this.state,this),R=this.scene.getSelectedElements(this.state).filter(D=>en(D));for(let D of R)M=ree(M,aA(this.scene.getElementsIncludingDeleted(),D,this.state,g),D);this.scene.replaceAllElements(M)}let v=n.hit.element;((C=this.state.selectedLinearElement)==null?void 0:C.elementId)!==(v==null?void 0:v.id)&&rn(v)&&this.scene.getSelectedElements(this.state).length===1&&this.setState({selectedLinearElement:new xt(v)}),(!s||s&&(!v&&!p||v&&v.id!==s))&&this.finishImageCropping();let c=this.lastPointerDownEvent,h=this.lastPointerUpEvent||this.lastPointerMoveEvent;if(Kc(this.state)&&c&&h){if(this.eraserTrail.endPath(),Yi($(c.clientX,c.clientY),$(h.clientX,h.clientY))===0){let M=Ur({clientX:h.clientX,clientY:h.clientY},this.state);this.getElementsAtPosition(M.x,M.y).forEach(R=>this.elementsPendingErasure.add(R.id))}this.eraseElements();return}else this.elementsPendingErasure.size&&this.restoreReadyToEraseElements();if(v&&!n.drag.hasOccurred&&!n.hit.wasAddedToSelection&&(!this.state.editingLinearElement||!n.boxSelection.hasOccurred)&&(r.shiftKey&&!this.state.editingLinearElement?this.state.selectedElementIds[v.id]?qq(this.state,v)?this.setState(M=>{let R={...M.selectedElementIds};for(let D of v.groupIds.flatMap(L=>mi(this.scene.getNonDeletedElements(),L)))delete R[D.id];return{selectedGroupIds:{...M.selectedElementIds,...v.groupIds.map(D=>({[D]:!1})).reduce((D,L)=>({...D,...L}),{})},selectedElementIds:On(R,M)}}):(I=this.state.selectedLinearElement)!=null&&I.isDragging||this.setState(M=>{let R={...M.selectedElementIds};delete R[v.id];let D=gn(this.scene.getNonDeletedElements(),{selectedElementIds:R});return{...So({editingGroupId:M.editingGroupId,selectedElementIds:R},this.scene.getNonDeletedElements(),M,this),selectedLinearElement:D.length===1&&rn(D[0])?new xt(D[0]):M.selectedLinearElement}}):v.frameId&&this.state.selectedElementIds[v.frameId]?this.setState(M=>{var D;let R={...M.selectedElementIds,[v.id]:!0};return delete R[v.frameId],(((D=this.scene.getElement(v.frameId))==null?void 0:D.groupIds)??[]).flatMap(L=>mi(this.scene.getNonDeletedElements(),L)).forEach(L=>{delete R[L.id]}),{...So({editingGroupId:M.editingGroupId,selectedElementIds:R},this.scene.getNonDeletedElements(),M,this),showHyperlinkPopup:v.link||Io(v)?"info":!1}}):this.setState(M=>({selectedElementIds:On({...M.selectedElementIds,[v.id]:!0},M)})):this.setState(M=>{var R;return{...So({editingGroupId:M.editingGroupId,selectedElementIds:{[v.id]:!0}},this.scene.getNonDeletedElements(),M,this),selectedLinearElement:rn(v)&&((R=M.selectedLinearElement)==null?void 0:R.elementId)!==v.id?new xt(v):M.selectedLinearElement}})),!n.drag.hasOccurred&&!this.state.isResizing&&(v&&nRe({x:n.origin.x,y:n.origin.y,element:v,shape:Au(v,this.scene.getNonDeletedElementsMap()),threshold:this.getElementHitThreshold(),frameNameBound:en(v)?this.frameNameBoundsCache.get(v):null},g)||!v&&n.hit.hasHitCommonBoundingBoxOfSelectedElements)){this.state.editingLinearElement?this.setState({editingLinearElement:null}):this.setState({selectedElementIds:On({},this.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null}),qn(this.interactiveCanvas,Vn.AUTO);return}if(!d.locked&&d.type!=="freedraw"&&a&&this.setState(M=>({selectedElementIds:On({...M.selectedElementIds,[a.id]:!0},M),showHyperlinkPopup:Io(a)&&!a.link?"editor":M.showHyperlinkPopup})),(d.type!=="selection"||Pi(this.scene.getNonDeletedElements(),this.state)||!ga(this.state.previousSelectedElementIds,this.state.selectedElementIds))&&this.store.shouldCaptureIncrement(),n.drag.hasOccurred||u||f||p){let M=this.scene.getSelectedElements(this.state).filter(rn);Q8(M,this.scene.getNonDeletedElementsMap(),this.scene.getNonDeletedElements(),this.scene,u0(this.state),((S=this.state.selectedLinearElement)==null?void 0:S.selectedPointsIndices)??[],this.state.zoom)}if(d.type==="laser"){this.laserTrails.endPath();return}!d.locked&&d.type!=="freedraw"?(Hl(this.interactiveCanvas),this.setState({newElement:null,suggestedBindings:[],activeTool:_i(this.state,{type:"selection"})})):this.setState({newElement:null,suggestedBindings:[]}),v&&this.lastPointerUpEvent&&this.lastPointerDownEvent&&this.lastPointerUpEvent.timeStamp-this.lastPointerDownEvent.timeStamp<300&&jn.pointers.size<=1&&ol(v)&&this.isIframeLikeElementCenter(v,this.lastPointerUpEvent,n.origin.x,n.origin.y)&&this.handleEmbeddableCenterClick(v)})}clearSelection(n){this.setState(r=>({selectedElementIds:On({},r),activeEmbeddable:null,selectedGroupIds:{},editingGroupId:r.editingGroupId&&n!=null&&Fy(n,r.editingGroupId)?r.editingGroupId:null})),this.setState({selectedElementIds:On({},this.state),activeEmbeddable:null,previousSelectedElementIds:this.state.selectedElementIds})}getTextWysiwygSnappedToCenterPosition(n,r,a,o){if(o){let s=o.x+o.width/2,l=o.y+o.height/2,d=Qx(o,a,this.scene.getNonDeletedElementsMap());if(d&&(s=d.x,l=d.y),Math.hypot(n-s,r-l)<_9e){let{x:u,y:f}=ic({sceneX:s,sceneY:l},a);return{viewportX:u,viewportY:f,elementCenterX:s,elementCenterY:l}}}}getCanvasOffsets(){var n;if((n=this.excalidrawContainerRef)!=null&&n.current){let r=this.excalidrawContainerRef.current,{left:a,top:o}=r.getBoundingClientRect();return{offsetLeft:a,offsetTop:o}}return{offsetLeft:0,offsetTop:0}}async updateLanguage(){let n=OT.find(r=>r.code===this.props.langCode)||g2;await pne(n),this.setAppState({})}},CYe=()=>{(gt.MODE===$o.TEST||gt.DEV)&&(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get(){var e;return(e=this.app)==null?void 0:e.scene.getElementsIncludingDeleted()},set(e){var t;return(t=this.app)==null?void 0:t.scene.replaceAllElements(nf(e))}},scene:{configurable:!0,get(){var e;return(e=this.app)==null?void 0:e.scene}}}))};CYe();var SYe=_Ye;N();var IYe=()=>{Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(e){if(e=Math.trunc(e)||0,e<0&&(e+=this.length),!(e<0||e>=this.length))return this[e]},writable:!0,enumerable:!1,configurable:!0}),Element.prototype.replaceChildren||(Element.prototype.replaceChildren=function(...e){this.innerHTML="",this.append(...e)})},kYe=IYe;N();var qQ=te(Se(),1),vae=({children:e})=>{let{FooterCenterTunnel:t}=Zo(),n=Xa();return(0,qQ.jsx)(t.In,{children:(0,qQ.jsx)("div",{className:bt("footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":n.zenModeEnabled}),children:e})})},lJe=vae;vae.displayName="FooterCenter";N();N();N();var sd=te(Se(),1),MYe=()=>(0,sd.jsx)("svg",{viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ExcalidrawLogo-icon",children:(0,sd.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})}),TYe=()=>(0,sd.jsxs)("svg",{viewBox:"0 0 450 55",xmlns:"http://www.w3.org/2000/svg",fill:"none",className:"ExcalidrawLogo-text",children:[(0,sd.jsx)("path",{d:"M429.27 96.74c2.47-1.39 4.78-3.02 6.83-4.95 1.43-1.35 2.73-2.86 3.81-4.51-.66.9-1.4 1.77-2.23 2.59-2.91 2.84-5.72 5.09-8.42 6.87h.01ZM343.6 69.36c.33 3.13.58 6.27.79 9.4.09 1.37.18 2.75.25 4.12-.12-4.46-.27-8.93-.5-13.39-.11-2.08-.24-4.16-.4-6.24-.06 1.79-.11 3.85-.13 6.11h-.01ZM378.47 98.34c.01-.37.07-1.13.01-6.51-.11 1.9-.22 3.81-.31 5.71-.07 1.42-.22 2.91-.16 4.35.39.03.78.07 1.17.1-.92-.85-.76-2.01-.72-3.66l.01.01ZM344.09 86.12c-.09-2.41-.22-4.83-.39-7.24v12.21c.15-.05.32-.09.47-.14.05-1.61-.03-3.23-.09-4.83h.01ZM440.69 66.79c-.22-.34-.45-.67-.69-.99-3.71-4.87-9.91-7.14-15.65-8.55-1.05-.26-2.12-.49-3.18-.71 2.29.59 4.48 1.26 6.64 2.02 7.19 2.54 10.57 5.41 12.88 8.23ZM305.09 72.46l1.2 3.6c.84 2.53 1.67 5.06 2.46 7.61.24.78.5 1.57.73 2.36.22-.04.44-.08.67-.12a776.9 776.9 0 0 1-5.01-13.57c-.02.04-.03.09-.05.13v-.01ZM345.49 90.25v.31c1.48-.42 3.05-.83 4.66-1.2-1.56.25-3.12.52-4.66.89ZM371.02 90.22c0-.57-.04-1.14-.11-1.71-.06-.02-.12-.04-.19-.05-.21-.05-.43-.08-.65-.11.42.16.74.88.95 1.87ZM398.93 54.23c-.13 0-.27-.01-.4-.02l.03.4c.11-.15.23-.27.37-.38ZM401.57 62.28v-.15c-1.22-.24-2.86-.61-3.23-1.25-.09-.15-.18-.51-.27-.98-.09.37-.2.73-.33 1.09 1.24.56 2.52.98 3.83 1.29ZM421.73 88.68c-2.97 1.65-6.28 3.12-9.69 3.68v.18c4.72-.14 11.63-3.85 16.33-8.38-2.04 1.75-4.33 3.24-6.63 4.53l-.01-.01ZM411.28 80.92c-.05-1.2-.09-2.4-.15-3.6-.21 5.66-.46 11.38-.47 14.51.24-.02.48-.04.71-.07.15-3.61.05-7.23-.09-10.83v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,sd.jsx)("path",{d:"M425.38 67.41c-3.5-1.45-7.19-2.57-14.06-3.62.09 1.97.06 4.88-.03 8.12.03.04.06.09.06.15.19 1.36.28 2.73.37 4.1.25 3.77.39 7.55.41 11.33 0 1.38-.01 2.76-.07 4.13 1.4-.25 2.78-.65 4.12-1.15 4.07-1.5 7.94-3.78 11.28-6.54 2.33-1.92 5.13-4.49 5.88-7.58.63-3.53-2.45-6.68-7.97-8.96l.01.02ZM411.35 92.53v-.06l-.34.03c.11.01.22.03.34.03ZM314.26 64.06c-.23-.59-.47-1.17-.7-1.75.57 1.62 1.11 3.25 1.6 4.9l.15.54 2.35 6.05c.32.82.66 1.64.98 2.46-1.38-4.1-2.83-8.17-4.39-12.2h.01ZM156.82 103.07c-.18.13-.38.23-.58.33 1.32-.03 2.66-.2 3.93-.34.86-.09 1.72-.22 2.58-.33-2.12.1-4.12.17-5.94.34h.01ZM210.14 68.88s.03.04.05.07c.18-.31.39-.64.58-.96-.21.3-.42.6-.64.89h.01ZM201.65 82.8c-.5.77-1.02 1.56-1.49 2.37 1.11-1.55 2.21-3.1 3.2-4.59-.23.23-.49.51-.75.79-.32.47-.65.95-.96 1.43ZM194.03 98.66c-.33-.4-.65-.84-1.05-1.17-.24-.2-.07-.49.17-.56-.23-.26-.42-.5-.63-.75 1.51-2.55 3.93-5.87 6.4-9.28-.17-.08-.29-.28-.2-.49.04-.09.09-.17.13-.26-1.21 1.78-2.42 3.55-3.61 5.33-.87 1.31-1.74 2.64-2.54 4-.29.5-.63 1.04-.87 1.61.81.65 1.63 1.27 2.47 1.88-.09-.11-.18-.21-.27-.32v.01ZM307.79 82.93c-1-3.17-2.05-6.32-3.1-9.48-1.62 4.08-3.69 9.17-6.16 15.19 3.32-1.04 6.77-1.87 10.27-2.5-.32-1.08-.67-2.15-1.01-3.21ZM149.5 80.7c.05-1.71.04-3.43 0-5.14-.1 2.26-.16 4.51-.22 6.77-.02.73-.03 1.46-.04 2.19.14-1.27.2-2.55.24-3.82h.02ZM228.98 98.3c.39 1.25.91 3.03.94 3.91.06-.03.12-.07.17-.1.08-1.29-.55-2.65-1.11-3.81ZM307.72 53.36c.81.5 1.53 1.04 2.07 1.49-.38-.8-.78-1.58-1.21-2.35-.17.03-.34.06-.51.11-.43.12-.86.26-1.29.41.35-.01.53.1.94.34ZM283.69 96.14c3.91-7.25 6.89-13.35 8.88-18.15l1.1-2.66c-1.27 2.64-2.56 5.27-3.83 7.9-1.53 3.15-3.06 6.31-4.58 9.47-.87 1.81-1.76 3.62-2.54 5.47.04.02.07.04.11.07.05.05.1.09.15.14.05-.73.27-1.48.71-2.24ZM289.92 103.23s-.04.01-.05.03c0-.02.04-.03.05-.04.05-.05.11-.1.16-.15l.21-.21c-.55 0-1.5-.27-2.55-.72.4.26.8.51 1.22.74.24.13.48.26.73.37.05.02.1.03.14.05a.27.27 0 0 1 .08-.07h.01ZM269.23 68.49c-.39-.19-.82-.48-1.33-.87-3.06-1.56-6.31-2.78-9.36-2.35-3.5.49-5.7 1.11-7.74 2.44 5.71-2.6 12.82-2.07 18.44.79l-.01-.01ZM177.87 53.69l1.06.03c-.96-.22-2-.25-2.89-.3-4.95-.26-9.99.33-14.86 1.19-2.44.43-4.88.95-7.28 1.59 9.09-1.76 15.69-2.77 23.97-2.51ZM219.85 55.51c-.18.12-.36.27-.56.45-.45.53-.86 1.11-1.26 1.66-1.91 2.61-3.71 5.31-5.57 7.95l-.12.18 8.05-10.11c-.18-.05-.36-.1-.55-.13h.01ZM510.71 54.1c.12-.15.29-.3.53-.45.69-.4 3.72-.63 5.87-.74-.36-.02-.73-.04-1.09-.05-1.84-.03-3.67.09-5.49.35.05.3.12.59.18.88v.01ZM510.76 86.02c1.37-3.07 2.49-6.27 3.57-9.46.55-1.64 1.12-3.3 1.6-4.97-1.59 4.01-3.67 9.14-6.2 15.3.24-.08.5-.14.74-.22.1-.22.19-.44.29-.65ZM566.95 75.76c.11-.02.23.03.31.11-.05-.13-.09-.26-.14-.39-.05.09-.11.18-.17.28ZM511.33 86.41c3.08-.89 6.24-1.62 9.46-2.14-1.51-3.98-2.98-7.96-4.39-11.87-.05.15-.09.31-.14.46-1.02 3.32-2.15 6.61-3.39 9.85-.48 1.25-.98 2.49-1.53 3.7h-.01ZM578.24 74.45c.11-.44.23-.87.35-1.31-.31.7-.64 1.39-.97 2.08.09.21.19.4.28.61.12-.46.23-.92.35-1.38h-.01ZM520.62 53.11c-.09 0-.18-.01-.28-.02.38.34.29 1.08.93 2.53l6.65 17.15c2.2 5.68 4.69 11.36 7.41 16.87l1.06 2.17c-2.95-7.05-5.92-14.08-8.87-21.13-1.58-3.79-3.16-7.59-4.7-11.4-.78-1.92-1.73-3.89-2.25-5.91-.03-.1 0-.19.04-.26h.01ZM578.78 77.87c1.45-5.77 3.07-10.43 3.58-13.36.05-.34.16-.88.31-1.55-.67 1.79-1.37 3.56-2.08 5.33-.12.43-.23.86-.35 1.29-.65 2.43-1.29 4.86-1.9 7.3.14.33.29.65.43 1l.01-.01ZM545.3 94.66c.02-.44.03-.83.05-1.12.02-1.01.05-2.02.11-3.02.03-6.66-.46-14.33-1.46-22.8-.13-.42-.27-1.24-.56-2.89 0-.02 0-.04-.01-.06.62 6.61.95 13.25 1.32 19.87.17 3.08.33 6.16.52 9.23.02.25.03.52.04.78l-.01.01ZM580.77 102.81c.13.2.27.38.37.49.27-.11.53-.22.8-.32-.43.09-.82.05-1.17-.16v-.01ZM530.48 104.07h.33c-.36-.13-.71-.32-1.04-.56.14.24.3.47.45.7.06-.08.14-.13.26-.13v-.01ZM542.63 58.82c.06.23.11.47.15.71.14-.33.36-.62.7-.86-.28.05-.57.11-.85.15ZM583.81 57.87c.15-.7.29-1.41.42-2.11-.14.45-.28.9-.42 1.34-.46 1.44-.89 2.89-1.31 4.34.44-1.19.88-2.37 1.31-3.57ZM523.62 91.48c-4.66 1.17-9.05 2.89-14.02 5.27 4.65-1.84 9.48-3.29 14.28-4.63-.09-.22-.17-.41-.26-.64ZM460.64 78.3c-.04-2.9-.11-5.81-.28-8.71-.1-1.68-.17-3.43-.5-5.09-.07.02-.14.03-.2.05.3 6.54.45 12.17.51 17.12.17-.07.34-.14.51-.2 0-1.06-.01-2.11-.03-3.17h-.01ZM470.63 63.24c-3.38-.26-6.81.32-10.1 1.1.41 2.01.47 4.14.57 6.18.18 3.55.25 7.11.27 10.67 3.31-1.38 6.5-3.12 9.3-5.35 1.96-1.56 3.86-3.41 5.02-5.66.73-1.41 1.19-3.22.26-4.65-1.09-1.7-3.46-2.14-5.32-2.29ZM460.29 63.68c1-.24 2.01-.46 3.04-.65-1.15.16-2.37.38-3.71.69v.13c.07-.02.15-.04.22-.05.11-.13.3-.18.45-.11v-.01ZM457.24 100.96c.43-.03.86-.07 1.29-.11.14-.49.27-.99.38-1.49-.44.7-1 1.23-1.67 1.6ZM482.88 104.98c-.18.23-.36.38-.55.47.14.09.27.19.4.28a70.76 70.76 0 0 0 4.37-4.63c.76-.89 1.52-1.81 2.19-2.77-.3-.27-.61-.53-.92-.79-.07 1.94-4.62 6.32-5.49 7.45v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,sd.jsx)("path",{d:"M474.36 63.31c-.4-.16-.84-.27-1.29-.37 1.56.42 3.08 1.22 3.76 2.74.62 1.4.32 2.95-.28 4.32.7-1.22.94-2.34.74-3.47-.24-1.33-1.19-2.54-2.93-3.21v-.01ZM477.34 89.18c-1.2-.81-2.4-1.62-3.6-2.42-.14.1-.26.19-.4.29 1.4.67 2.73 1.39 4 2.13ZM465.88 93.85c.37.25.74.5 1.1.75.46.32.92.65 1.38.97-1.57-1.2-2.01-1.61-2.49-1.72h.01ZM574.92 90.06c-2.28-5.21-4.93-11.13-5.67-12.26-.1-.15-1.57-3.01-1.63-3.08 0 0-.01.02-.02.02.4 1.37 1.09 2.69 1.65 3.99 2.14 4.95 4.36 9.86 6.67 14.73.6 1.26 1.21 2.52 1.83 3.78-.75-2.01-1.64-4.45-2.83-7.18ZM448.73 65.29c.1.2.22.38.34.57.22-.02.43-.06.65-.08v-.08c-.14-.05-.25 0-.99-.41ZM460.16 94.81c-.02.31-.06.59-.1.89-.03 1.71-.33 3.43-.79 5.07.15-.02.3-.03.45-.05.01-.04.02-.08.03-.11.09-.34.15-.69.2-1.03.17-1.07.25-2.16.33-3.24.05-.69.08-1.39.12-2.08-.27.1-.27.26-.24.57v-.02Z",transform:"translate(-144.023 -51.76)"}),(0,sd.jsx)("path",{d:"m328.67 98.12-3.22-6.58c-1.29-2.63-2.53-5.29-3.72-7.97-.25-.85-.52-1.69-.79-2.53-.81-2.57-1.67-5.12-2.55-7.67-1.92-5.53-3.9-11.08-6.32-16.41-.72-1.58-1.46-3.44-2.63-4.79-.03-.17-.16-.29-.34-.36a.282.282 0 0 0-.23-.04c-.06-.01-.12 0-.18.01-.74.06-1.5.38-2.19.61-2.22.77-4.4 1.64-6.63 2.38-.03-.08-.06-.16-.09-.25-.15-.42-.82-.24-.67.19.03.09.07.19.1.28l-.18.06c-.36.11-.28.6 0 .68.18 1.18.63 2.36.98 3.49.03.09.06.17.08.26-.08.23-.17.46-.24.64-.37.98-.79 1.94-1.21 2.9-1.27 2.89-2.62 5.75-3.98 8.6-3.18 6.67-6.44 13.31-9.64 19.97-1.08 2.25-2.2 4.5-3.15 6.81-.13.32.24.5.5.37 1.34 1.33 2.84 2.5 4.4 3.57.65.44 1.31.87 2.01 1.24.4.22.86.48 1.33.5.24.01.35-.19.33-.37.11-.1.21-.21.28-.28.41-.41.81-.84 1.2-1.26.85-.92 1.69-1.87 2.5-2.84 6.31-2.34 12.6-4.31 18.71-5.84 2.14 5.3 3.43 8.43 3.97 9.58.55 1.05 1.15 1.88 1.82 2.52 1.32.56 6.96-.03 9.23-1.96.87-1.28 1.19-2.67.93-4.15-.09-.5-.22-.95-.4-1.33l-.01-.03Zm-20.09-45.61c.43.77.83 1.56 1.21 2.35-.54-.45-1.27-.99-2.07-1.49-.42-.24-.6-.35-.94-.34.43-.15.85-.29 1.29-.41.17-.05.34-.08.51-.11Zm-25.86 45.66c.78-1.85 1.67-3.66 2.54-5.47 1.51-3.16 3.05-6.31 4.58-9.47 1.28-2.63 2.56-5.26 3.83-7.9l-1.1 2.66c-1.99 4.79-4.97 10.9-8.88 18.15-.43.76-.66 1.51-.71 2.24-.05-.05-.1-.09-.15-.14a.259.259 0 0 0-.11-.07Zm6.24 4.71c-.42-.23-.82-.48-1.22-.74 1.05.45 2 .72 2.55.72l-.21.21c-.05.05-.11.1-.16.15-.01.01-.04.03-.05.04 0-.02.03-.02.05-.03a.27.27 0 0 0-.08.07c-.05-.02-.1-.03-.14-.05-.25-.1-.49-.24-.73-.37h-.01Zm15.73-29.43c1.05 3.15 2.1 6.31 3.1 9.48.34 1.06.69 2.13 1.01 3.21-3.5.63-6.95 1.46-10.27 2.5 2.48-6.03 4.54-11.11 6.16-15.19Zm4.79 12.57c-.23-.79-.49-1.58-.73-2.36-.79-2.54-1.63-5.08-2.46-7.61l-1.2-3.6c.02-.04.04-.09.05-.13 1.6 4.45 3.28 9 5.01 13.57l-.67.12v.01Zm5.83-18.27-.15-.54c-.49-1.64-1.03-3.28-1.6-4.9.23.58.47 1.17.7 1.75 1.56 4.03 3.01 8.1 4.39 12.2-.33-.82-.67-1.64-.98-2.46l-2.35-6.05h-.01ZM390.43 79.37c-.13-10.43-.22-17.5-.24-19.97-.24-1.6.21-2.88-.65-3.65-.14-.13-.32-.23-.52-.32h.03c.45 0 .45-.69 0-.7-1.75-.03-3.5-.04-5.25-.14-1.38-.08-2.76-.21-4.15-.31-.07 0-.12.01-.17.04-.21-.07-.47.03-.45.31l.03.45c-.11.14-.19.3-.22.5-.21 1.26-.32 13.67-.36 23.59-.32 5.79-.67 11.57-.97 17.36-.09 1.73-.29 3.54-.21 5.3-.39.02-.38.64.04.69v.12c.05.44.74.45.7 0v-.06c1.1.09 2.2.21 3.3.3 1.14.19 2.44.2 3.29.17 1.73-.05 2.92-.05 3.8-.37.45-.05.9-.11 1.35-.17.44-.06.25-.73-.19-.67h-.01c.24-.32.45-.72.62-1.25.66-1.84.41-6.36.34-11.33l-.13-9.9.02.01Zm-12.26 18.17c.09-1.91.2-3.81.31-5.71.06 5.38 0 6.14-.01 6.51-.05 1.65-.21 2.81.72 3.66-.39-.04-.78-.07-1.17-.1-.06-1.44.09-2.93.16-4.35l-.01-.01ZM588.97 53.85c-2.06-.25-3.17-.51-3.76-.6a.3.3 0 0 1 .04-.08c.22-.39-.39-.75-.6-.35-.56 1.02-.9 2.19-1.26 3.29-.61 1.88-1.17 3.78-1.72 5.68-.63 2.19-1.24 4.39-1.83 6.59-.81 2.03-1.67 4.05-2.61 6.03-1.7-3.64-3.11-6.04-4.03-7.57-2.26-3.74-2.85-5.48-3.57-6.08l.31-.09c.43-.12.25-.8-.19-.67-1.06.3-2.12.6-3.17.95-.93.32-1.85.69-2.76 1.07-.13.05-.19.16-.22.27-.04.02-.08.05-.11.07-.04-.06-.07-.12-.11-.18a.354.354 0 0 0-.48-.12c-.16.09-.22.32-.13.48l.33.54c0 .09.02.18.06.28.51 1.16.78 1.38.72 1.47-2.42 3.44-5.41 7.86-6.2 9.1-1.27 1.97-2.01 3.14-2.45 3.84l-.91-6.56-.43-4.1c-.19-1.85-.37-3.23-.53-4.13-.19-1.1-.3-2.15-.45-3.16-.2-1.36-.29-2.06-.47-2.42h.04c.45.02.45-.68 0-.7-3.43-.16-6.81.94-10.17 1.48-.24-.22-.73-.04-.58.32.24.59.33 1.25.43 1.87.17 1.06.29 2.13.4 3.2.32 3.09.53 6.2.74 9.3.44 6.75.77 13.51 1.17 20.26.11 1.95.13 3.96.46 5.89.05.3.37.31.55.14.74 1.71 2.87 1.27 6.13 1.27 1.34 0 2.39.04 2.99-.11.02.32.48.53.63.18 3.61-8.26 7.41-16.46 12.05-24.2.03-.05.04-.1.05-.15.3.73.64 1.45.94 2.16.97 2.26 1.97 4.52 2.98 6.76 2.26 5.03 4.54 10.07 7.09 14.96.47.9.94 1.79 1.47 2.65.2.32.4.67.66.96-.18.25 0 .68.34.54.91-.38 1.82-.75 2.76-1.07 1.04-.35 2.11-.65 3.17-.95.39-.11.28-.66-.07-.68.62-.4.95-.96.87-1.91-.3-3.34.72-7.47.86-8.52l2.14-11.43c1.75-10.74 3.13-17.51 3.23-20.86.02-.49.08-2.84.13-3.24.17-1.25.48-1-4.96-1.65l.03-.02Zm-46.19 5.67c-.04-.24-.09-.48-.15-.71l.85-.15c-.34.24-.56.53-.7.86Zm1.95 25.12c-.36-6.63-.7-13.26-1.32-19.87 0 .02 0 .04.01.06.29 1.65.44 2.47.56 2.89 1 8.46 1.5 16.14 1.46 22.8-.06.99-.1 2-.11 3.02-.01.29-.03.68-.05 1.12-.01-.26-.03-.53-.04-.78-.19-3.08-.35-6.16-.52-9.23l.01-.01Zm36.4 18.66c-.11-.11-.24-.29-.37-.49.35.21.74.26 1.17.16-.27.11-.53.22-.8.32v.01Zm-.89-33.72c.12-.43.23-.86.35-1.29.71-1.77 1.41-3.55 2.08-5.33-.15.68-.26 1.22-.31 1.55-.5 2.94-2.13 7.59-3.58 13.36-.15-.35-.29-.66-.43-1 .61-2.44 1.25-4.87 1.9-7.3l-.01.01Zm3.56-12.48c.14-.44.28-.89.42-1.34-.13.7-.27 1.41-.42 2.11-.43 1.19-.86 2.38-1.31 3.57.42-1.45.85-2.9 1.31-4.34Zm-5.22 16.05c-.11.44-.23.87-.35 1.31-.12.46-.23.92-.35 1.38-.1-.22-.19-.4-.28-.61.34-.69.66-1.38.97-2.08h.01Zm-11.64 2.62c.06-.1.12-.19.17-.28.05.13.09.26.14.39a.398.398 0 0 0-.31-.11Zm2.3 2.98c-.56-1.3-1.25-2.63-1.65-3.99 0 0 .01-.02.02-.02.06.08 1.52 2.93 1.63 3.08.73 1.13 3.38 7.04 5.67 12.26 1.2 2.73 2.08 5.17 2.83 7.18-.62-1.25-1.23-2.51-1.83-3.78-2.31-4.87-4.53-9.78-6.67-14.73ZM275.92 87.03c-1.06-2.18-1.13-3.45-2.44-2.93-1.52.57-2.94 1.3-4.5 2.1-1.4.72-2.68 1.44-3.92 2.12.01-.25-.24-.5-.51-.34-4.8 2.93-12.41 4.7-17.28 1.31-1.98-1.77-3.32-4.15-3.97-5.78-.29-.95-.49-1.94-.63-2.93-.14-3.34 1.58-6.53 3.9-9.12.8-.79 1.68-1.51 2.66-2.12 3.7-2.3 8.22-3.07 12.51-2.51 2.71.35 5.32 1.24 7.71 2.55.39.22.75-.39.35-.6-.18-.1-.37-.18-.55-.27.56.27 1.03.33 1.51.19l-.48.39c-.15.11-.23.3-.13.48.09.15.33.24.48.13 1.3-.97 2.46-2.09 3.45-3.37.37-.29.64-.6.65-.97v-.02c.08-.33-.03-.7-.21-1.08-.31-.87-.98-2.01-2.19-3.26-2.43-2.52-3.79-3.45-5.68-4.26-1.14-.49-3.12-1.06-4.42-1.23-3.28-.42-10.64-1.21-18.18 4.11-7.74 5.46-11.94 12.3-12.23 20.61-.08 2.06.04 3.98.34 5.71.74 4.18 2.57 8 5.44 11.34 4.26 4.99 9.76 7.52 16.34 7.52 4.85 0 9.69-1.77 14.89-4.62.23-.12.45-.23.68-.35 2.19-1.1 4.37-2.23 6.46-3.5.49-.3 1.03-.61 1.5-.98 1.47-.87 1.11-1.12.49-2.95-.39-1.14-.76-2.7-2.06-5.36l.02-.01Zm-17.38-21.76c3.05-.42 6.31.79 9.36 2.35.51.39.94.68 1.33.87-5.61-2.86-12.72-3.39-18.44-.79 2.05-1.33 4.24-1.95 7.74-2.44l.01.01ZM443.67 72.67c-.4-2.2-1.15-4.33-2.37-6.22-1.49-2.32-3.58-4.19-5.91-5.64-6.17-3.81-13.75-5.11-20.83-6.01-3.23-.41-6.47-.69-9.72-.92l-1.39-.12c-.85-.07-1.52-.1-2.05-.1-1.08-.06-2.17-.12-3.25-.17-.08 0-.14.02-.19.05-.1.05-.18.14-.16.3.27 2.55-.01 5.12-.92 7.52-.15.38.4.56.62.28 1.32.59 2.68 1.05 4.08 1.37 0 2.78-.14 7.58-.33 12.91 0 0 0 .02-.01.03-.61 3.66-.79 7.42-1 11.12-.23 4.01-.43 8.03-.44 12.05 0 .64 0 1.28.03 1.93.02.31 0 .68.15.96.06.11.14.16.24.17-.2.17-.21.54.11.59 3.83.67 7.78.71 11.68.25 2.3-.19 4.87-.65 7.65-1.56 1.85-.54 3.67-1.18 5.43-1.91 7.2-3.02 14.31-8.07 17.35-15.53.76-1.86 1.17-3.8 1.31-5.75.3-1.93.28-3.82-.09-5.58l.01-.02Zm-19.32-15.42c5.74 1.41 11.94 3.68 15.65 8.55.25.32.47.65.69.99-2.3-2.82-5.68-5.69-12.88-8.23-2.16-.76-4.35-1.43-6.64-2.02 1.06.21 2.13.45 3.18.71Zm-25.82-3.04c.13 0 .27.01.4.02-.14.1-.26.23-.37.38 0-.13-.02-.26-.03-.4Zm34.82 22.17c-.75 3.09-3.55 5.66-5.88 7.58-3.35 2.76-7.21 5.03-11.28 6.54-1.33.49-2.71.9-4.12 1.15.06-1.38.08-2.76.07-4.13-.02-3.78-.16-7.56-.41-11.33-.09-1.37-.18-2.74-.37-4.1 0-.06-.03-.11-.06-.15.09-3.25.12-6.16.03-8.12 6.86 1.05 10.56 2.17 14.06 3.62 5.52 2.28 8.59 5.44 7.97 8.96l-.01-.02Zm-22 16.15c-.12 0-.23-.02-.34-.03l.34-.03v.06Zm-.69-.7c0-3.13.26-8.84.47-14.51.06 1.2.11 2.41.15 3.6.15 3.6.25 7.23.09 10.83-.24.03-.48.05-.71.07v.01Zm-12.33-30.94c.37.63 2.01 1.01 3.23 1.25v.15c-1.31-.31-2.59-.73-3.83-1.29.12-.36.23-.72.33-1.09.08.48.18.84.27.98Zm13.7 31.65v-.18c3.41-.56 6.71-2.02 9.69-3.68 2.31-1.28 4.59-2.78 6.63-4.53-4.69 4.53-11.61 8.24-16.33 8.38l.01.01Zm24.07-.75c-2.05 1.93-4.37 3.56-6.83 4.95 2.7-1.78 5.52-4.03 8.42-6.87.82-.82 1.56-1.69 2.23-2.59-1.08 1.65-2.38 3.16-3.81 4.51h-.01ZM187.16 92.14c-.79-2.47-2.1-7.12-3.1-6.87-.19-.01-2.09.77-4.08 1.54-3.06 1.18-5.91 2.13-10.09 2.82-2.74.42-5.87 1.01-10.61 1.06.04-3.34.05-6.01.05-7.99 7.97-.65 12.33-2.11 16.37-3.55 1.11-.39 2.69-1.01 2.63-1.8-.08-.35-.55-1.39-1.17-2.61-.47-1.16-.98-2.31-1.61-3.38-.42-.71-1.04-1.69-1.86-2.06-.11-.08-.22-.13-.29-.12-.02 0-.04 0-.07.01-.19-.04-.39-.05-.6-.01-.17.03-.24.15-.25.28-.04.02-.09.04-.14.05-4.33 1.48-8.85 2.33-13.24 3.61a499.1 499.1 0 0 0-.31-8.19c4.51-.99 8.88-1.38 13.11-1.82 3.68-.38 6.28.12 7.47.34.59.11.9.16 1.16.18h.1c-.1.37.44.66.62.28.02-.04.03-.08.05-.13.15.2.53.22.62-.1.17-.58.19-1.21.21-1.81v-.36c.03-.15.05-.3.07-.45.52-2.47.33-5.09-.64-7.44-.11-.27-.44-.28-.6-.14-.08-.21-.15-.42-.24-.62-.19-.41-.79-.05-.6.35.03.07.05.15.09.22-.98-.42-2.15-.54-3.17-.63-2.17-.19-4.37-.14-6.54 0-5.7.35-11.4 1.3-16.91 2.79-2.08.56-4.13 1.22-6.14 2-4.54 1.05-3.79 1.51-2.17 6.07.18.51.46 1.68.54 1.94.82 2.47 1.08 2.13 3.1 2.13s0 .05 0 .08h.52c-.48 2.66-.51 5.45-.62 8.13-.15 3.48-.22 6.96-.28 10.45 0 .41-.01.82-.02 1.23-.16.29-.33.57-.51.85-.05.38-.09.77-.14 1.18-.42 3.52-.59 6.48-.52 8.8v.34c.02.47.05.76.06.87.16 1.57-.26 3.47 1.35 3.79 1.61.32 3.5.55 4.85.55.11 0 .22-.02.33-.02 1.79.24 3.67.05 5.45-.12 2.85-.28 5.69-.7 8.51-1.19 3.03-.53 6.05-1.14 9.04-1.86 2.4-.58 4.82-1.19 7.13-2.06.51-.19 1.73-.57 2.46-1.14 1.81-.68 2.18-1 1.57-2.67-.23-.62-.48-1.49-.91-2.78l-.03-.02Zm-11.12-38.71c.89.05 1.93.08 2.89.3-.33 0-.68-.02-1.06-.03-8.28-.26-14.88.75-23.97 2.51 2.41-.64 4.85-1.16 7.28-1.59 4.87-.86 9.91-1.45 14.86-1.19Zm-26.53 22.13c.03 1.71.04 3.43 0 5.14-.04 1.27-.11 2.55-.24 3.82 0-.73.02-1.46.04-2.19.05-2.26.12-4.51.22-6.77h-.02Zm6.73 27.85c.2-.1.4-.21.58-.33 1.82-.17 3.82-.24 5.94-.34-.86.11-1.72.24-2.58.33-1.27.14-2.61.31-3.93.34h-.01ZM534.48 85.44c-3.52-8.38-7.07-16.75-10.5-25.17-.63-1.54-1.25-3.09-1.86-4.65-.31-.8-.65-1.6-.87-2.43-.04-.17-.17-.24-.31-.25.1-.2 0-.51-.29-.53-1.59-.08-3.18-.22-4.78-.25-1.96-.03-3.91.13-5.84.42-.31.05-.31.38-.13.56-.03.06-.05.14-.04.22.23 1.54.63 3.06 1.16 4.53.13.35.27.7.41 1.06l-2.68 6.18c-.11.03-.2.09-.25.22-.67 1.9-1.52 3.73-2.34 5.56a536.85 536.85 0 0 1-3.9 8.45c-2.64 5.64-5.34 11.25-7.91 16.93-.44.97-.88 1.94-1.29 2.93-.2.48-.47 1-.55 1.52v.05c-.02.12.02.26.16.34 1.19.73 2.41 1.41 3.66 2.05 1.2.62 2.45 1.25 3.76 1.61.43.12.62-.55.19-.67-1.13-.31-2.2-.83-3.24-1.36 1.09.36 2.1.69 2.75.93 2.82 1.01 2.38 1.1 4.3-3.75 2.1-1.09 4.34-1.96 6.53-2.79 4.35-1.64 8.8-3.03 13.27-4.29.82 2.01 1.77 3.97 2.72 5.92.35.83.62 1.45.79 1.82.22.42.45.8.69 1.15.17.33.33.67.5 1 .42.8.84 1.63 1.4 2.35.23.29.6 0 .55-.31 1.53-.02 3.06-.07 4.58-.27.92-.12 1.82-.32 2.71-.54 1.39-.27 3.85-1.11 3.74-1.42-.67-1.96-1.55-3.87-2.34-5.78-1.57-3.78-3.16-7.56-4.75-11.33v-.01Zm-11.65-26.16c1.54 3.81 3.12 7.6 4.7 11.4 2.94 7.05 5.91 14.09 8.87 21.13l-1.06-2.17c-2.71-5.51-5.2-11.19-7.41-16.87l-6.65-17.15c-.65-1.45-.55-2.19-.93-2.53.09 0 .18.01.28.02a.29.29 0 0 0-.04.26c.52 2.02 1.47 3.98 2.25 5.91h-.01Zm-6.58 13.58c.05-.15.09-.31.14-.46 1.41 3.92 2.88 7.9 4.39 11.87-3.22.52-6.38 1.25-9.46 2.14.55-1.22 1.05-2.46 1.53-3.7 1.24-3.24 2.37-6.53 3.39-9.85h.01Zm-.23-20c.36 0 .73.03 1.09.05-2.15.1-5.18.33-5.87.74-.24.15-.41.3-.53.45-.06-.29-.13-.58-.18-.88 1.82-.26 3.65-.39 5.49-.35v-.01Zm-.09 18.72c-.49 1.67-1.05 3.33-1.6 4.97-1.07 3.19-2.19 6.38-3.57 9.46-.09.21-.19.43-.29.65-.25.07-.5.14-.74.22 2.53-6.16 4.61-11.29 6.2-15.3Zm-6.34 25.16c4.97-2.38 9.37-4.1 14.02-5.27l.26.64c-4.8 1.35-9.63 2.8-14.28 4.63Zm20.17 6.76c.33.23.68.42 1.04.56h-.33c-.12 0-.21.06-.26.13-.15-.23-.31-.45-.45-.7v.01ZM226.57 91.75c-3.55-4.74-6.68-9.11-9.31-12.99 9.2-15.25 10.05-17.81 10.35-18.38.17-.34 1.09-2.27.64-2.53-1.13-.65-1.03-.65-2.97-1.71-1.19-.65-3.04-1.61-4.53-2.12-1.71-.59-1.24-.36-3 2.77-.06.1-.11.2-.17.3-.75 1.02-1.48 2.05-2.2 3.09-1.88 2.71-3.73 5.45-5.69 8.1-3.68-4.91-6.88-8.76-9.51-11.43-.15-.15-.3-.29-.46-.42-1.27-1.28-7.24 3.53-7.93 5.58-.09.09-.19.16-.28.25-.27.26.03.64.33.58.19.65.5 1.29.94 1.91 3.85 5.06 7.19 9.76 9.94 14-1.23 2.61-3.06 5-4.67 7.38l-2.28 3.33c-.5.66-.93 1.23-1.29 1.69-.67.93-2.09 2.61-2.3 3.87-.51.85-1.16 1.84-1.29 2.83-.06.44.61.63.67.19.01-.08.04-.15.06-.22 1.36 1.08 2.76 2.11 4.19 3.11 1.3.91 2.62 1.85 4.04 2.56.21.1.4 0 .48-.17.24.07.48.14.72.2.44.1.62-.57.19-.67-2.02-.48-3.77-1.57-5.23-3.02-.47-.46-.9-.96-1.32-1.46 1.74 1.35 4.2 2.89 5.89 4.14 1.39 1.03 2.85-2.27 4.22-4.2 1.86-2.64 3.96-5.86 5.52-8.29l10.39 14.51c.67.81 1.14 1.21 1.57 1.36-.05.24.12.51.41.4 1.53-.58 3.05-1.19 4.54-1.87 1.52-.69 3.06-1.45 4.36-2.5a.28.28 0 0 0 .12-.23c1.66-1.1.81-1.74-1.41-4.91-1.13-1.58-1.71-2.36-3.7-5.01l-.03-.02Zm2.41 6.54c.56 1.15 1.19 2.52 1.11 3.81-.06.04-.12.07-.17.1-.03-.88-.55-2.66-.94-3.91Zm-16.51-32.73c1.86-2.65 3.65-5.35 5.57-7.95.4-.55.81-1.13 1.26-1.66.19-.18.38-.33.56-.45.18.03.36.08.55.13l-8.05 10.11.12-.18h-.01ZM192.7 95.48c.79-1.37 1.66-2.69 2.54-4 1.19-1.79 2.4-3.56 3.61-5.33-.04.09-.09.17-.13.26-.1.22.03.41.2.49-2.47 3.42-4.89 6.73-6.4 9.28.21.24.4.48.63.75-.24.07-.4.36-.17.56.4.33.72.77 1.05 1.17.09.11.18.21.27.32-.84-.61-1.66-1.24-2.47-1.88.24-.57.58-1.11.87-1.61v-.01Zm7.46-10.32c.47-.81.98-1.59 1.49-2.37.31-.48.64-.95.96-1.43.26-.29.52-.56.75-.79-.99 1.48-2.09 3.03-3.2 4.59Zm10.03-16.22s-.03-.05-.05-.07c.22-.29.43-.59.64-.89-.2.32-.4.65-.58.96h-.01ZM371.54 87.96c-.01-.08-.01-.16-.03-.23-.06-.38-.58-.29-.66.03-.3-.05-.6-.08-.81-.11-1.14-.15-2.29-.19-3.44-.2 1.04-.09 2.09-.18 3.14-.23.45-.02.45-.72 0-.7-6.57.35-13.14 1.23-19.65 2.11-1.53.21-3.05.42-4.57.68-.01 0-.02.01-.04.01-.04-3.33-.13-6.66-.24-9.99-.19-5.7-.4-11.41-.88-17.1-.13-1.51-.23-3.07-.49-4.58 0-.25 0-.48-.02-.68-.06-1.19-.04-2.61-.68-2.78-.16-.07-.72-.16-1.5-.24.22-.17.16-.62-.2-.63-1.19-.04-2.39.09-3.57.23-1.2.14-2.41.32-3.59.6-.16-.1-.41-.06-.5.12-.06.02-.13.03-.19.05-.35.1-.29.55-.03.66-.26.6-.19 2.27-.21 3-.02.66-.66 33.73-.9 40.3-.03.65.06 1.12.04 1.45-.16 3.05.87 4.96 6.34 3.93 1.09-.08 2.75-.77 5.36-1.43 4.13-1.04 5.78-1.52 6.2-1.65 6.43-1.69 6.78-1.97 11.72-2.43.55-.05 4.8-.38 6.03-.3.64.04 1.19.07 1.65.1.09 0 .16-.03.24-.05.1.27.56.33.66-.02.39-1.32.61-2.71.78-4.08.2-1.61.29-3.24.15-4.86.24.03.52-.23.38-.53-.09-.2-.27-.33-.49-.43v-.02Zm-.63.56c.07.57.11 1.14.11 1.71-.21-.99-.53-1.71-.95-1.87.22.03.44.06.65.11.06.01.12.04.19.05Zm-25.41 1.73c1.54-.36 3.1-.64 4.66-.89-1.61.37-3.18.77-4.66 1.2v-.31Zm-.86-7.37c-.07-1.37-.16-2.75-.25-4.12-.21-3.13-.45-6.27-.79-9.4.02-2.25.08-4.31.13-6.11.16 2.08.29 4.16.4 6.24.23 4.46.38 8.93.5 13.39h.01Zm-.94-4c.16 2.41.29 4.83.39 7.24.06 1.6.14 3.22.09 4.83-.15.05-.32.09-.47.14V78.88h-.01ZM483.72 92.83c-3.05-2.28-6.22-4.4-9.38-6.51 8.86-6.49 13.49-12.95 13.73-19.23.04-.76 0-1.5-.13-2.2-.67-3.82-3.5-6.68-8.39-8.48.13.04.27.08.4.13 3.92 1.39 7.74 4.23 8.5 8.56.34 1.95-.05 3.96-.98 5.69-.21.4.39.75.6.35 1.86-3.46 1.46-7.55-.97-10.63-3.53-4.47-9.76-5.88-15.16-6.16-2.32-.12-4.64-.04-6.95.19-6 .32-12.71 1.68-17.63 3.21-.37.11-.67.23-.92.35-.2-.17-.62.02-.57.37v.03c-.64.68-.18 1.64.48 3.21.38.91.67 1.89 1.15 2.58.32.76.68 1.51 1.13 2.19.14.21.38.19.53.07.19-.02.38-.05.57-.08v1.57c-.06.06-.1.13-.11.23-.27 4.18-.34 8.38-.48 12.57l-.3 9.03c-.24 3.91-.44 6.77-.46 7.26-.05.88-.11 1.95.07 2.81-.01.22-.02.43-.04.65 0 .11-.02.23-.03.35 0 .05-.03.27-.01.16-.05.4.5.59.64.28.05.04.12.08.2.08 1.75.13 3.5.28 5.25.3 1.69.02 3.38-.12 5.06-.32.08.23.36.39.55.15.06-.08.11-.17.16-.26.18-.09.24-.32.18-.48.05-.2.1-.4.13-.6.16-.86.25-1.74.33-2.62.11-1.17.17-2.34.23-3.51.15-.01.32-.03.52-.04.36-.03 1.73-.15 2.06-.15.39 0 .7-.02.95-.04 1.76 1.11 3.45 2.35 5.14 3.55 2.83 2.01 5.64 4.04 8.47 6.04 1.42 1 2.85 2 4.29 2.97.1.06.19.07.27.04.08 0 .17-.02.25-.1 1.61-1.56 3.15-3.18 4.6-4.88.75-.88 1.49-1.78 2.15-2.73.01.01.03.02.04.03.34.3.83-.2.49-.49-2.16-1.9-4.34-3.76-6.64-5.48l.03-.01Zm-6.38-3.65a55.72 55.72 0 0 0-4-2.13c.14-.1.26-.19.4-.29 1.2.81 2.4 1.61 3.6 2.42Zm-20.1 11.78c.67-.37 1.23-.91 1.67-1.6-.11.5-.24 1-.38 1.49-.43.04-.86.08-1.29.11Zm2.38-37.24c1.34-.31 2.56-.52 3.71-.69-1.03.19-2.04.41-3.04.65-.14-.07-.34-.02-.45.11-.07.02-.15.04-.22.05v-.13.01Zm.04.84c.07-.02.14-.03.2-.05.34 1.66.41 3.41.5 5.09.17 2.9.24 5.81.28 8.71l.03 3.17c-.17.07-.34.14-.51.2-.06-4.96-.21-10.58-.51-17.12h.01Zm16.04 5.62c-1.16 2.25-3.06 4.1-5.02 5.66-2.8 2.23-5.99 3.97-9.3 5.35-.01-3.56-.09-7.12-.27-10.67-.1-2.04-.16-4.16-.57-6.18 3.3-.78 6.72-1.36 10.1-1.1 1.85.14 4.23.59 5.32 2.29.92 1.43.46 3.24-.26 4.65Zm.85-.18c.6-1.37.9-2.92.28-4.32-.67-1.52-2.2-2.32-3.76-2.74.46.1.89.21 1.29.37 1.74.67 2.69 1.88 2.93 3.21.2 1.13-.05 2.25-.74 3.47V70Zm-27.47-4.14c-.12-.19-.23-.38-.34-.57.74.42.85.36.99.41v.08c-.22.03-.43.06-.65.08Zm11.21 30.46c-.08 1.08-.16 2.17-.33 3.24-.05.35-.11.69-.2 1.03 0 .04-.02.07-.03.11-.15.02-.3.04-.45.05.45-1.64.76-3.36.79-5.07.03-.29.08-.57.1-.89-.03-.31-.03-.47.24-.57-.04.69-.07 1.39-.12 2.08v.02Zm5.6-2.47c.48.11.92.52 2.49 1.72-.46-.32-.92-.65-1.38-.97-.37-.25-.73-.5-1.1-.75h-.01Zm21.23 7.24a70.76 70.76 0 0 1-4.37 4.63c-.14-.09-.27-.19-.4-.28.19-.09.37-.24.55-.47.87-1.14 5.43-5.51 5.49-7.45.31.26.62.53.92.79-.67.97-1.42 1.88-2.19 2.77v.01Z",fill:"currentColor",transform:"translate(-144.023 -51.76)"})]}),BYe=({style:e,size:t="small",withText:n})=>(0,sd.jsxs)("div",{className:`ExcalidrawLogo is-${t}`,style:e,children:[(0,sd.jsx)(MYe,{}),n&&(0,sd.jsx)(TYe,{})]}),Lr=te(Se(),1),AB=({icon:e,shortcut:t,children:n})=>{let r=va();return(0,Lr.jsxs)(Lr.Fragment,{children:[(0,Lr.jsx)("div",{className:"welcome-screen-menu-item__icon",children:e}),(0,Lr.jsx)("div",{className:"welcome-screen-menu-item__text",children:n}),t&&!r.editor.isMobile&&(0,Lr.jsx)("div",{className:"welcome-screen-menu-item__shortcut",children:t})]})};AB.displayName="WelcomeScreenMenuItemContent";var Hb=({onSelect:e,children:t,icon:n,shortcut:r,className:a="",...o})=>(0,Lr.jsx)("button",{...o,type:"button",className:`welcome-screen-menu-item ${a}`,onClick:e,children:(0,Lr.jsx)(AB,{icon:n,shortcut:r,children:t})});Hb.displayName="WelcomeScreenMenuItem";var yae=({children:e,href:t,icon:n,shortcut:r,className:a="",...o})=>(0,Lr.jsx)("a",{...o,className:`welcome-screen-menu-item ${a}`,href:t,target:"_blank",rel:"noreferrer",children:(0,Lr.jsx)(AB,{icon:n,shortcut:r,children:e})});yae.displayName="WelcomeScreenMenuItemLink";var Ec=({children:e})=>{let{WelcomeScreenCenterTunnel:t}=Zo();return(0,Lr.jsx)(t.In,{children:(0,Lr.jsx)("div",{className:"welcome-screen-center",children:e||(0,Lr.jsxs)(Lr.Fragment,{children:[(0,Lr.jsx)(wB,{}),(0,Lr.jsx)(EB,{children:P("welcomeScreen.defaults.center_heading")}),(0,Lr.jsxs)(xB,{children:[(0,Lr.jsx)(CB,{}),(0,Lr.jsx)(_B,{})]})]})})})};Ec.displayName="Center";var wB=({children:e})=>(0,Lr.jsx)("div",{className:"welcome-screen-center__logo excalifont welcome-screen-decor",children:e||(0,Lr.jsx)(BYe,{withText:!0})});wB.displayName="Logo";var EB=({children:e})=>(0,Lr.jsx)("div",{className:"welcome-screen-center__heading welcome-screen-decor excalifont",children:e});EB.displayName="Heading";var xB=({children:e})=>(0,Lr.jsx)("div",{className:"welcome-screen-menu",children:e});xB.displayName="Menu";var _B=()=>{let e=qo();return(0,Lr.jsx)(Hb,{onSelect:()=>e.executeAction(nB),shortcut:"?",icon:WM,children:P("helpDialog.title")})};_B.displayName="MenuItemHelp";var CB=()=>{let e=Xa(),t=qo();return e.viewModeEnabled?null:(0,Lr.jsx)(Hb,{onSelect:()=>t.executeAction(LS),shortcut:Qa("loadScene"),icon:VM,children:P("buttons.load")})};CB.displayName="MenuItemLoadScene";var bae=({onSelect:e})=>{let{t}=Ka();return(0,Lr.jsx)(Hb,{shortcut:null,onSelect:e,icon:ZZ,children:t("labels.liveCollaboration")})};bae.displayName="MenuItemLiveCollaborationTrigger";Ec.Logo=wB;Ec.Heading=EB;Ec.Menu=xB;Ec.MenuItem=Hb;Ec.MenuItemLink=yae;Ec.MenuItemHelp=_B;Ec.MenuItemLoadScene=CB;Ec.MenuItemLiveCollaborationTrigger=bae;N();var Qu=te(Se(),1),SB=({children:e})=>{let{WelcomeScreenMenuHintTunnel:t}=Zo();return(0,Qu.jsx)(t.In,{children:(0,Qu.jsxs)("div",{className:"excalifont welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--menu",children:[TCe,(0,Qu.jsx)("div",{className:"welcome-screen-decor-hint__label",children:e||P("welcomeScreen.defaults.menuHint")})]})})};SB.displayName="MenuHint";var IB=({children:e})=>{let{WelcomeScreenToolbarHintTunnel:t}=Zo();return(0,Qu.jsx)(t.In,{children:(0,Qu.jsxs)("div",{className:"excalifont welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--toolbar",children:[(0,Qu.jsx)("div",{className:"welcome-screen-decor-hint__label",children:e||P("welcomeScreen.defaults.toolbarHint")}),RCe]})})};IB.displayName="ToolbarHint";var kB=({children:e})=>{let{WelcomeScreenHelpHintTunnel:t}=Zo();return(0,Qu.jsx)(t.In,{children:(0,Qu.jsxs)("div",{className:"excalifont welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--help",children:[(0,Qu.jsx)("div",{children:e||P("welcomeScreen.defaults.helpHint")}),BCe]})})};kB.displayName="HelpHint";var jf=te(Se(),1),o7=e=>(0,jf.jsx)(jf.Fragment,{children:e.children||(0,jf.jsxs)(jf.Fragment,{children:[(0,jf.jsx)(Ec,{}),(0,jf.jsx)(SB,{}),(0,jf.jsx)(IB,{}),(0,jf.jsx)(kB,{})]})});o7.displayName="WelcomeScreen";o7.Center=Ec;o7.Hints={MenuHint:SB,ToolbarHint:IB,HelpHint:kB};var cJe=o7;N();te(Se(),1);N();var RYe=te(U4(),1);(0,RYe.default)((e,t,n)=>{if(gt.DEV||gt.MODE===$o.TEST||window!=null&&window.DEBUG_FRACTIONAL_INDICES){let r=nf(e.map(a=>({...a})));gT(r,{shouldThrow:gt.DEV||gt.MODE===$o.TEST,includeBoundTextValidation:!0,reconciliationContext:{localElements:t,remoteElements:n}})}},1e3*60,{leading:!0,trailing:!1});N();te(Se(),1);N();te(Fe(),1);var O9=te(Se(),1);kYe();var DYe=e=>{var ne,Z,se,O;let{onChange:t,initialData:n,excalidrawAPI:r,isCollaborating:a=!1,onPointerUpdate:o,renderTopRightUI:s,langCode:l=g2.code,viewModeEnabled:d,zenModeEnabled:u,gridModeEnabled:f,libraryReturnUrl:p,theme:g,name:v,renderCustomStats:c,onPaste:h,detectScroll:m=!0,handleKeyboardGlobally:U=!1,onLibraryChange:b,autoFocus:w=!1,generateIdForFile:E,onLinkOpen:x,generateLinkForSelection:C,onPointerDown:I,onPointerUp:S,onScrollChange:M,children:R,validateEmbeddable:D,renderEmbeddable:L,aiEnabled:j,showDeprecatedFonts:re}=e,J=(ne=e.UIOptions)==null?void 0:ne.canvasActions,H={...e.UIOptions,canvasActions:{...bF.canvasActions,...J},tools:{image:((se=(Z=e.UIOptions)==null?void 0:Z.tools)==null?void 0:se.image)??!0}};return J!=null&&J.export&&(H.canvasActions.export.saveFileToDisk=((O=J.export)==null?void 0:O.saveFileToDisk)??bF.canvasActions.export.saveFileToDisk),H.canvasActions.toggleTheme===null&&typeof g>"u"&&(H.canvasActions.toggleTheme=!0),(0,dne.useEffect)(()=>{(async()=>await Ye(()=>import("./roundRect-2ACQK4DA-maaK8Mug.js"),[],import.meta.url))();let V=de=>{typeof de.scale=="number"&&de.scale!==1&&de.preventDefault()};return document.addEventListener("touchmove",V,{passive:!1}),()=>{document.removeEventListener("touchmove",V)}},[]),(0,O9.jsx)(hne,{unstable_createStore:()=>ac,scope:ta,children:(0,O9.jsx)(KNe,{langCode:l,theme:g,children:(0,O9.jsx)(SYe,{onChange:t,initialData:n,excalidrawAPI:r,isCollaborating:a,onPointerUpdate:o,renderTopRightUI:s,langCode:l,viewModeEnabled:d,zenModeEnabled:u,gridModeEnabled:f,libraryReturnUrl:p,theme:g,name:v,renderCustomStats:c,UIOptions:H,onPaste:h,detectScroll:m,handleKeyboardGlobally:U,onLibraryChange:b,autoFocus:w,generateIdForFile:E,onLinkOpen:x,generateLinkForSelection:C,onPointerDown:I,onPointerUp:S,onScrollChange:M,validateEmbeddable:D,renderEmbeddable:L,aiEnabled:j!==!1,showDeprecatedFonts:re,children:R})})})},PYe=(e,t)=>{if(e.children!==t.children)return!1;let{initialData:n,UIOptions:r={},...a}=e,{initialData:o,UIOptions:s={},...l}=t,d=Object.keys(r),u=Object.keys(s);return d.length!==u.length?!1:d.every(f=>f==="canvasActions"?Object.keys(r.canvasActions).every(p=>{var g,v,c,h;return p==="export"&&((g=r==null?void 0:r.canvasActions)!=null&&g.export)&&((v=s==null?void 0:s.canvasActions)!=null&&v.export)?r.canvasActions.export.saveFileToDisk===s.canvasActions.export.saveFileToDisk:((c=r==null?void 0:r.canvasActions)==null?void 0:c[p])===((h=s==null?void 0:s.canvasActions)==null?void 0:h[p])}):r[f]===s[f])&&ga(a,l)},LYe=dne.default.memo(DYe,PYe);LYe.displayName="Excalidraw";/*! Bundled license information:

use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js:
  (**
   * @license React
   * use-sync-external-store-shim.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js:
  (**
   * @license React
   * use-sync-external-store-shim/with-selector.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/async function NYe(e){switch(e.shape){case"image":return e.base64;case"rectangle":return e.base64;case"diamond":return $Ye(e);case"ellipse":return FYe(e);default:return console.log("unsupported shape:",e.shape),e.base64}}function $Ye(e){const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");if(!n)return console.error("Could not get 2D context from canvas"),e.base64;const r=new Image;return r.src=e.base64,new Promise(a=>{r.onload=()=>{n.save(),n.translate(e.width/2,e.height/2),n.beginPath(),n.moveTo(-e.width/2,0),n.lineTo(0,-e.height/2),n.lineTo(e.width/2,0),n.lineTo(0,e.height/2),n.closePath(),n.clip(),n.drawImage(r,-e.width/2,-e.height/2,e.width,e.height),n.restore();const o=t.toDataURL();a(o)}})}function FYe(e){const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");if(!n)return console.error("Could not get 2D context from canvas"),e.base64;const r=new Image;return r.src=e.base64,new Promise(a=>{r.onload=()=>{n.save();const o=e.width/2,s=e.height/2;n.scale(o,s),n.beginPath(),n.arc(1,1,1,0,2*Math.PI),n.restore(),n.clip(),n.drawImage(r,0,0,e.width,e.height);const l=t.toDataURL();a(l)}})}class jYe{constructor(t,n){this.layerFrame=t,this.parent=n,this.type="Group",this.children=[]}get name(){var t,n;return(n=(t=this.layerFrame)===null||t===void 0?void 0:t.layerProperties.name)!==null&&n!==void 0?n:""}get opacity(){var t,n;return(n=(t=this.layerFrame)===null||t===void 0?void 0:t.layerProperties.opacity)!==null&&n!==void 0?n:0}get composedOpacity(){return this.parent.composedOpacity*(this.opacity/255)}get additionalProperties(){var t;return(t=this.layerFrame)===null||t===void 0?void 0:t.layerProperties.additionalLayerProperties}addChild(t){this.children.push(t)}hasChildren(){return this.children.length!==0}freeze(){this.children.forEach(t=>{var n,r;return(r=(n=t).freeze)===null||r===void 0?void 0:r.call(n)}),Object.freeze(this.children)}}var Cr;(function(e){e.SectionDividerSetting="lsct",e.TypeToolObjectSetting="TySh",e.UnicodeLayerName="luni",e.VectorStrokeData="vstk",e.ObjectBasedEffects="lfx2",e.GradientFillSetting="GdFl",e.SolidColorSheetSetting="SoCo",e.PatternFillSetting="PtFl",e.VectorStrokeContentData="vscg",e.BlendOptionsCapacity="iOpa",e.VectorMaskSetting1="vmsk",e.VectorMaskSetting2="vsms",e.HueSaturation="hue2",e.NestedSectionDividerSetting="lsdk",e.LayerId="lyid",e.ArtboardData="artb",e.SmartObjectPlacedLayerData="SoLE",e.PlacedLayerData="SoLd",e.LinkedLayer="lnkD",e.LinkedLayer2="lnk2",e.LinkedLayer3="lnk3"})(Cr||(Cr={}));var XS;(function(e){e[e.Normal=0]="Normal",e[e.SceneGroup=1]="SceneGroup"})(XS||(XS={}));var Gl;(function(e){e[e.ClosedSubpathLength=0]="ClosedSubpathLength",e[e.ClosedSubpathBezierKnotLinked=1]="ClosedSubpathBezierKnotLinked",e[e.ClosedSubpathBezierKnotUnlinked=2]="ClosedSubpathBezierKnotUnlinked",e[e.OpenSubpathLength=3]="OpenSubpathLength",e[e.OpenSubpathBezierKnotLinked=4]="OpenSubpathBezierKnotLinked",e[e.OpenSubpathBezierKnotUnlinked=5]="OpenSubpathBezierKnotUnlinked",e[e.PathFillRule=6]="PathFillRule",e[e.Clipboard=7]="Clipboard",e[e.InitialFillRule=8]="InitialFillRule"})(Gl||(Gl={}));const ZS=(e,t)=>{const n=Math.max(e.length,t.length);for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0};class dn extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype),this.name=new.target.name}}class OYe extends dn{}class Aae extends dn{}class zYe extends dn{}class QYe extends dn{}class HYe extends dn{}class GYe extends dn{}class WYe extends dn{}class VYe extends dn{}class YYe extends dn{}class KYe extends dn{}class wae extends dn{}class Eae extends dn{}class XYe extends dn{}class ZYe extends dn{}class qYe extends dn{}class JYe extends dn{}class eKe extends dn{}class tKe extends dn{}class nKe extends dn{}class rKe extends dn{}class iKe extends dn{}class aKe extends dn{}class oKe extends dn{}class sKe extends dn{}class Kv extends dn{}class xae extends dn{}class lKe extends dn{}class JQ extends dn{}class z9 extends dn{}class cKe extends dn{}class dKe extends dn{}class uKe extends dn{}class fKe extends dn{}class hKe extends dn{}class pKe extends dn{}class gKe extends dn{}class mKe extends dn{}class UKe extends dn{}class vKe extends dn{}class yKe extends dn{}class eH extends dn{}class Q9 extends dn{}class bKe extends dn{}class AKe extends dn{}function _ae(e,t){const n=e.getUint32(t),r=e.getUint32(t+4);if(n>=2097152)throw new xae;return n*4294967296+r}function wKe(e,t){const n=e.getInt32(t),r=e.getUint32(t+4);if(n>=2097152||n<-2097152||n===-2097152&&r===0)throw new xae;return n*4294967296+r}const EKe={u8:1,i8:1,u16:2,i16:2,u32:4,i32:4,f32:4,u64:8,i64:8,f64:8};class Yh{static from(t){return new Yh(new DataView(t.buffer,t.byteOffset,t.byteLength))}constructor(t,n=0){this.dataView=t,this.position=n}get length(){return this.dataView.byteLength}clone(t){const n=t!==void 0?t:this.position;return new Yh(new DataView(this.dataView.buffer,this.dataView.byteOffset,this.dataView.byteLength),n)}pass(t){this.position+=t}unpass(t){this.position-=t}extract(t){if(this.position+t>this.dataView.byteLength)throw new rKe;return new Uint8Array(this.dataView.buffer,this.dataView.byteOffset+this.position,t)}iter(){return new Uint8Array(this.dataView.buffer,this.dataView.byteOffset+this.position)}take(t){const n=this.extract(t);return this.pass(t),n}peek(){return this.dataView.getUint8(this.position)}one(){const t=this.dataView.getUint8(this.position);return this.position+=1,t}read(t){const{dataView:n,position:r}=this;switch(this.pass(EKe[t]),t){case"u8":return n.getUint8(r);case"u16":return n.getUint16(r);case"u32":return n.getUint32(r);case"u64":return _ae(n,r);case"i8":return n.getInt8(r);case"i16":return n.getInt16(r);case"i32":return n.getInt32(r);case"i64":return wKe(n,r);case"f32":return n.getFloat32(r);case"f64":return n.getFloat64(r);default:throw new TypeError(`Invalid ReadType: ${t}`)}}readString(t){const n=this.take(t);return new TextDecoder().decode(n)}readUnicodeString(t=4){const n=this.read("u32")*2,r=this.take(n),a=new TextDecoder("utf-16be").decode(r);return this.padding(4+n,t),a.charCodeAt(a.length-1)===0?a.slice(0,-1):a}readFixedPoint32bit(){return this.read("u32")/65536}readIdString(){const t=this.read("u32");return this.readString(t||4)}padding(t,n){const r=t%n;r>0&&this.pass(n-r)}}const H9=(e,t,n)=>t<=e&&e<=n;function bA(e){return e.bottom-e.top}function xKe(e){return e.right-e.left}function tH(e){return xKe(e)*bA(e)}var bw;(function(e){e.PassThrough="pass",e.Normal="norm",e.Dissolve="diss",e.Darken="dark",e.Multiply="mul ",e.ColorBurn="idiv",e.LinearBurn="lbrn",e.DarkerColor="dkCl",e.Lighten="lite",e.Screen="scrn",e.ColorDodge="div ",e.LinearDodge="lddg",e.LighterColor="lgCl",e.Overlay="over",e.SoftLight="sLit",e.HardLight="hLit",e.VividLight="vLit",e.LinearLight="lLit",e.PinLight="pLit",e.HardMix="hMix",e.Difference="diff",e.Exclusion="smud",e.Subtract="fsub",e.Divide="fdiv",e.Hue="hue ",e.Saturation="sat ",e.Color="colr",e.Luminosity="lum "})(bw||(bw={}));function Cae(e){const t=Object.keys(bw);for(const n of t)if(bw[n]===e)return e;throw new KYe}var zg;(function(e){e[e.Base=0]="Base",e[e.NonBase=1]="NonBase"})(zg||(zg={}));function _Ke(e){if(e===zg.Base)return zg.Base;if(e===zg.NonBase)return zg.NonBase;throw new JYe}var qS;(function(e){e[e.Bitmap=0]="Bitmap",e[e.Grayscale=1]="Grayscale",e[e.Indexed=2]="Indexed",e[e.Rgb=3]="Rgb",e[e.Cmyk=4]="Cmyk",e[e.Multichannel=7]="Multichannel",e[e.Duotone=8]="Duotone",e[e.Lab=9]="Lab"})(qS||(qS={}));var JS;(function(e){e[e.One=1]="One",e[e.Eight=8]="Eight",e[e.Sixteen=16]="Sixteen",e[e.ThirtyTwo=32]="ThirtyTwo"})(JS||(JS={}));var ir;(function(e){e.Alias="alis",e.Boolean="bool",e.Class="type",e.Descriptor="Objc",e.Double="doub",e.Enumerated="enum",e.GlobalClass="GlbC",e.GlobalObject="GlbO",e.Integer="long",e.LargeInteger="comp",e.List="VlLs",e.RawData="tdta",e.Reference="obj ",e.String="TEXT",e.UnitFloat="UntF",e.UnitFloats="UnFl",e.ObjectArray="ObAr"})(ir||(ir={}));var eI;(function(e){e.Angle="#Ang",e.Density="#Rsl",e.Distance="#Rlt",e.Millimeters="#Mlm",e.None="#Nne",e.Percent="#Prc",e.Pixels="#Pxl",e.Points="#Pnt"})(eI||(eI={}));function hg(e,t,n){const r=e.items.get(t);if(!r)throw new hKe(`Cannot find key "${t}" in descriptor`);if(r.type!==n)throw new pKe(`Unexpected descriptor value type: expected "${n}" but got "${r.type}"`);return r}var Xm;(function(e){e[e.PSD=1]="PSD",e[e.PSB=2]="PSB"})(Xm||(Xm={}));const CKe=[56,66,80,83],SKe=[0,0,0,0,0,0],IKe=[1,8,16,32],kKe=1,MKe=56,nH=1;function TKe(e){const t=new Yh(e),n=t.take(4);if(!ZS(n,CKe))throw new OYe;const r=t.read("u16");if(!(r===Xm.PSD||r===Xm.PSB))throw new Aae;const a=BB(r),o=t.take(6);if(!ZS(o,SKe))throw new zYe;const s=t.read("u16");if(!H9(s,kKe,MKe))throw new GYe;const l=t.read("u32"),d=t.read("u32");if(!H9(l,nH,a.maxPixels)||!H9(d,nH,a.maxPixels))throw new WYe;const u=t.read("u16");if(!IKe.includes(u))throw new HYe;const f=t.read("u16");if(!(f in qS))throw new QYe;return{channelCount:s,version:r,width:d,height:l,depth:u,colorMode:f}}function BKe(e,t,n){const r=(e.length-2)/n,a=e.extract(r),o=n>=2?e.extract(r):void 0,s=n>=3?e.extract(r):void 0,l=n>=4?e.extract(r):void 0;if(t===JS.Eight)return{red:a,green:o,blue:s,alpha:l};throw new XYe(`Unsupported image bit depth: ${t}`)}function RKe(e,t,n,r){let a=0,o=0,s=0,l=0;const d=r.rleScanlineLengthFieldReadType;for(let h=0;h<n;h++)a+=e.read(d);if(t>=2)for(let h=0;h<n;h++)o+=e.read(d);if(t>=3)for(let h=0;h<n;h++)s+=e.read(d);if(t===4)for(let h=0;h<n;h++)l+=e.read(d);const u=2+t*n*r.rleScanlineLengthFieldSize,f=e.clone(u),p=f.take(a),g=o?f.take(o):void 0,v=s?f.take(s):void 0,c=l?f.take(l):void 0;return{red:p,green:g,blue:v,alpha:c}}function DKe(e,t,n,r,a){const o=new Yh(e),s=o.read("u16");if(!(s in yd))throw new wae;const{red:l,green:d,blue:u,alpha:f}=(()=>{switch(s){case yd.RawData:return BKe(o,t,r);case yd.RleCompressed:return RKe(o,r,n,a);default:throw new Eae}})();return{compression:s,red:l,green:d,blue:u,alpha:f}}function PKe(e){const t=e.read("u32");if(t!==1)throw new iKe;const n=e.read("u32"),r=e.read("u32"),a=e.read("u32"),o=[];for(let s=0;s<a;++s){const l=e.read("i32"),d=$Xe(e.read("u8"));o.push({position:l,direction:d})}return{version:t,gridSizeX:n,gridSizeY:r,guides:o}}function LKe(e,t){return e.take(t-e.position)}function NKe(e){const t=e.readFixedPoint32bit(),n=e.read("u16"),r=e.read("u16"),a=e.readFixedPoint32bit(),o=e.read("u16"),s=e.read("u16");return{horizontal:t,horizontalUnit:n,widthUnit:r,vertical:a,verticalUnit:o,heightUnit:s}}function $Ke(e,t){const n=e.read("u32");if(n===6){const r=e.read("i32"),a=e.read("i32"),o=e.read("i32"),s=e.read("i32"),l=e.readUnicodeString(0),d=e.read("u32"),u=[];for(;u.length<d;){const p=e.read("u32"),g=e.read("u32"),v=FXe(e.read("u32")),c=v===1?e.read("u32"):void 0;u.push({id:p,groupId:g,origin:v,associatedLayerId:c,name:e.readUnicodeString(0),type:e.read("u32"),left:e.read("i32"),top:e.read("i32"),right:e.read("i32"),bottom:e.read("i32"),url:e.readUnicodeString(0),target:e.readUnicodeString(0),message:e.readUnicodeString(0),altTag:e.readUnicodeString(0),isCellTextHtml:!!e.read("u8"),cellText:e.readUnicodeString(0),horizontalAlignment:e.read("i32"),verticalAlignment:e.read("i32"),alpha:e.read("u8"),red:e.read("u8"),green:e.read("u8"),blue:e.read("u8")})}const f=e.position<t?yc(e):void 0;return{version:n,boundTop:r,boundLeft:a,boundBottom:o,boundRight:s,sliceGroupName:l,slices:u,descriptor:f}}else if(n===7||n===8){const r=yc(e);return{version:n,descriptor:r}}else throw new oKe(`Invalid Slices section version: ${n}`)}const FKe=[56,66,73,77];function jKe(e){const t=new Yh(e),n=[],r=t.read("u32");for(;t.position<r;){const a=OKe(t);n.push(a)}return{resources:n}}function OKe(e){const t=e.take(4);if(!ZS(t,FKe))throw new nKe;const n=e.read("i16"),r=zKe(e,2),a=e.read("u32"),o=e.position+a,s=a+a%2,l=e.position;let d=null;switch(n){case Bo.GridAndGuides:d=PKe(e);break;case Bo.Slices:d=$Ke(e,o);break;case Bo.ICCProfile:d=LKe(e,o);break;case Bo.ResolutionInfo:d=NKe(e);break;case Bo.GlobalLightAltitude:d=e.read("i32");break;case Bo.GlobalLightAngle:d=e.read("i32");break}const u=e.position,f=l+s-u;return f>0&&e.pass(f),{id:n,name:r,resource:d}}function zKe(e,t=0){const n=e.read("u8"),r=e.readString(n);if(t){const a=(n+1)%t;a>0&&e.pass(t-a)}return r}function Sae(e){const t={};for(const[n,r]of e)t[n]=r;return t}const Iae=(e,t,n)=>{const{top:r,left:a,bottom:o,right:s,opacity:l,clipping:d,hidden:u,transparencyLocked:f,blendMode:p,layerText:g,engineData:v,maskData:c,additionalLayerInfos:h}=t,m=Sae(h.map(U=>[U.key,U]));return{name:e,top:r,left:a,bottom:o,right:s,opacity:l,clippingMask:d,hidden:u,transparencyLocked:f,blendMode:p,groupId:n,text:g,textProperties:v,maskData:c,additionalLayerProperties:m}};class MB{static create(t,n,r){const a=Iae(t.name,t,r);return new MB(n,a)}constructor(t,n){this.channels=t,this.layerProperties=n}get red(){const t=this.channels.get(oo.Red);if(t===void 0)throw new qYe;return t}get green(){return this.channels.get(oo.Green)}get blue(){return this.channels.get(oo.Blue)}get alpha(){return this.channels.get(oo.TransparencyMask)}get userMask(){return this.channels.get(oo.UserSuppliedLayerMask)}get realUserMask(){return this.channels.get(oo.RealUserSuppliedLayerMask)}get width(){const{right:t,left:n}=this.layerProperties;return t-n+1}get height(){const{bottom:t,top:n}=this.layerProperties;return t-n+1}}class TB{static create(t,n,r,a){const o=Iae(t,r,a);return new TB(n,o)}constructor(t,n){this.id=t,this.layerProperties=n}}function QKe(e){return{data:yc(e)}}function HKe(e){return{fillOpacity:e.read("u8")}}function GKe(e){return{data:yc(e)}}function tI(e){const t=e.read("i16"),n=e.read("i16"),r=e.read("i16");return{hue:t,saturation:n,lightness:r}}function WKe(e){const t=e.read("i16"),n=e.read("i16"),r=e.read("i16"),a=e.read("i16");return{beginRamp:t,beginSustain:n,endSustain:r,endRamp:a,...tI(e)}}function VKe(e){return Array.from(Array(6),()=>WKe(e))}function YKe(e){const t=e.read("u16"),n=e.read("u8");e.pass(1);const r=tI(e),a=tI(e);return{version:t,colorize:n,colorization:r,master:a,adjustment:n?void 0:VKe(e)}}function KKe(e){return{value:e.read("u32")}}function XKe(e,t){const n=[];let r=0;const a=e.position+t;for(;e.position<a&&(r=e.read("u64"));){const o=e.position,s=ZKe(e);n.push(s);const l=e.position-o,d=r-l;e.pass(d),e.padding(e.position,4)}return{layers:n}}function ZKe(e){const t=e.readString(4);if(t!=="liFD")throw new cKe(`unknown layer type: '${t}'`);const n=e.read("i32"),r=qKe(e),a=e.readUnicodeString(0),o=e.readString(4),s=e.readString(4),l=e.read("u64"),d=e.read("u8")?yc(e):void 0,u=e.take(l),f=n>5?e.readUnicodeString():void 0;return{layerType:t,version:n,uniqueId:r,filename:a,filetype:o,creator:s,data:d,contents:u,uuid:f}}function qKe(e){const t=e.read("u8");return e.readString(t)}function JKe(e){const t=e.read("u32"),n=e.read("u32"),r=s7(e);return{version:t,descriptor:r,descriptorVersion:n}}function eXe(e){return{data:yc(e)}}function tXe(e,t){const n=NXe(e.read("u32"));if(t<12)return{dividerType:n};const r=e.readString(4);if(r!=="8BIM")throw new JQ(`Invalid Section Divider Setting signature: ${r}`);const a=Cae(e.readString(4));if(t<16)return{dividerType:n,dividerSignature:r,blendMode:a};const o=e.read("u32");if(!(o in XS))throw new JQ(`Invalid Section Divider Setting subtype: ${o}`);return{dividerType:n,dividerSignature:r,blendMode:a,subType:o}}function nXe(e){const t=e.readString(4),n=e.read("u32");return{data:yc(e),version:n,identifier:t}}function rXe(e){const t=e.read("u32"),n=s7(e);return{version:t,data:n}}function iXe(e){const t=e.read("u16");if(t!==1)throw new z9(`Invalid type tool object setting version: ${t}`);const n=e.read("f64"),r=e.read("f64"),a=e.read("f64"),o=e.read("f64"),s=e.read("f64"),l=e.read("f64"),d=e.read("u16");if(d!==50)throw new z9(`Invalid text version: ${d}`);const u=yc(e),f=e.read("u16");if(f!==1)throw new z9(`Invalid warp version: ${f}`);const p=yc(e),g=e.read("f64"),v=e.read("f64"),c=e.read("f64"),h=e.read("f64");return{version:t,transformXX:n,transformXY:r,transformYX:a,transformYY:o,transformTX:s,transformTY:l,textVersion:d,textData:u,warpVersion:f,warpData:p,left:g,top:v,right:c,bottom:h}}function aXe(e){return{name:e.readUnicodeString(0)}}function rH(e){const[t,...n]=e.take(4),r=n[0]*2**16+n[1]*2**8+n[2];return t+r/2**24}function G9(e){const t=rH(e),n=rH(e);return{vert:t,horiz:n}}function oXe(e,t){const n=e.read("i16"),r=e.read("i16"),a=e.read("i16");e.pass(6);const o=e.read("i16");return e.pass(10),{type:t,length:n,operation:r,subpathType:a,index:o}}function sXe(e,t){const n=Array(4).map(()=>e.read("f32")),r=e.read("f32");return e.pass(6),{type:t,bounds:n,resolution:r}}function lXe(e,t){const n=!!(e.read("i16")&1);return e.pass(22),{type:t,fill:n}}function cXe(e,t){const n=G9(e),r=G9(e),a=G9(e);return{type:t,preceding:n,anchor:r,leaving:a}}function dXe(e){const t=e.read("u16");switch(t){case Gl.OpenSubpathLength:case Gl.ClosedSubpathLength:return oXe(e,t);case Gl.PathFillRule:return e.pass(24),{type:t};case Gl.Clipboard:return sXe(e,t);case Gl.InitialFillRule:return lXe(e,t);case Gl.ClosedSubpathBezierKnotLinked:case Gl.ClosedSubpathBezierKnotUnlinked:case Gl.OpenSubpathBezierKnotLinked:case Gl.OpenSubpathBezierKnotUnlinked:return cXe(e,t);default:throw new Error(`Unknown PathRecordType: ${t} (bug in offsets?)`)}}function uXe(e,t){const n=Math.floor(t/26);return Array.from(Array(n),()=>dXe(e))}function fXe(e,t){const n=e.read("u32"),r=e.read("u32"),a=uXe(e,t);return{version:n,pathRecords:a,invert:!!(r&1),notLink:!!(r&2),disable:!!(r&4)}}function hXe(e){const t=e.read("u32"),n=yc(e);return{version:t,data:n}}function pXe(e){return{data:yc(e)}}function kae(e,t,n=0){const r=e.readString(4);if(r!=="8BIM"&&r!=="8B64")throw new lKe(`Invalid signature: ${r}`);const a=e.readString(4),o=e.read(mXe(a,t)),s=e.position,l=gXe(e,r,a,o),d=o-(e.position-s);return e.pass(d),e.padding(o,n),l}function gXe(e,t,n,r){switch(n){case Cr.NestedSectionDividerSetting:case Cr.SectionDividerSetting:return{signature:t,key:n,...tXe(e,r)};case Cr.TypeToolObjectSetting:return{signature:t,key:n,...iXe(e)};case Cr.UnicodeLayerName:return{signature:t,key:n,...aXe(e)};case Cr.VectorStrokeData:return{signature:t,key:n,...pXe(e)};case Cr.ObjectBasedEffects:return{signature:t,key:n,...JKe(e)};case Cr.GradientFillSetting:return{signature:t,key:n,...GKe(e)};case Cr.SolidColorSheetSetting:return{signature:t,key:n,...rXe(e)};case Cr.PatternFillSetting:return{signature:t,key:n,...eXe(e)};case Cr.VectorStrokeContentData:return{signature:t,key:n,...hXe(e)};case Cr.BlendOptionsCapacity:return{signature:t,key:n,...HKe(e)};case Cr.VectorMaskSetting1:case Cr.VectorMaskSetting2:return{signature:t,key:n,...fXe(e,r)};case Cr.HueSaturation:return{signature:t,key:n,...YKe(e)};case Cr.LayerId:return{signature:t,key:n,...KKe(e)};case Cr.ArtboardData:return{signature:t,key:n,...QKe(e)};case Cr.PlacedLayerData:case Cr.SmartObjectPlacedLayerData:return{signature:t,key:n,...nXe(e)};case Cr.LinkedLayer:case Cr.LinkedLayer2:case Cr.LinkedLayer3:return{signature:t,key:n,...XKe(e,r)};default:{const a=e.take(r);return{signature:t,key:n,_isUnknown:!0,data:a}}}}function mXe(e,t){if(t.aliLengthFieldSizeIsVariable)switch(e){case"LMsk":case"Lr16":case"Lr32":case"Layr":case"Mt16":case"Mt32":case"Mtrn":case"Alph":case"FMsk":case"Ink2":case"FEid":case"FXid":case"PxSD":case"cinf":return"u64"}return"u32"}const UXe="8BIM";function vXe(e,t,n){const r=[];for(;r.length<t;)r.push(yXe(e,n));return r.map(a=>{const o=_Xe(e,a.channelInformation,a,n);return[a,o]}).reverse()}function yXe(e,t){const[n,r,a,o]=AXe(e),s=e.read("u16"),l=[];for(;l.length<s;){const C=e.read("i16"),I=e.read(t.layerRecordSectionChannelLengthFieldReadType)-2;l.push([C,I])}if(e.readString(4)!==UXe)throw new VYe;const d=Cae(e.readString(4)),u=e.read("u8"),f=_Ke(e.read("u8")),{hidden:p,transparencyLocked:g}=wXe(e);e.pass(1);const v=e.read("u32"),c=e.position,h=SXe(e);e.pass(e.read("u32"));const m=e.read("u8");let U=e.readString(m);e.padding(m+1,4);const b=[];for(;e.position-c<v;)b.push(kae(e,t));let w,E,x;for(const C of b)if(!C._isUnknown)switch(C.key){case Cr.SectionDividerSetting:({dividerType:w}=C);break;case Cr.TypeToolObjectSetting:{const I=C.textData.descriptor.items.get("Txt ");I&&I.type===ir.String&&(E=I.value);const S=C.textData.descriptor.items.get("EngineData");S&&S.type===ir.RawData&&(x=qXe(S.data));break}case Cr.UnicodeLayerName:({name:U}=C);break}return{name:U,channelInformation:l,top:n,left:r,bottom:a,right:o,hidden:p,transparencyLocked:g,opacity:u,clipping:f,blendMode:d,additionalLayerInfos:b,dividerType:w,layerText:E,engineData:x,maskData:h}}function bXe(e,t){const n=[];for(;e.position<e.length;)n.push(kae(e,t,4));return Sae(n.map(r=>[r.key,r]))}function AXe(e){const t=e.read("i32"),n=e.read("i32");let r=e.read("i32");r!==0&&(r-=1);let a=e.read("i32");return a!==0&&(a-=1),[t,n,r,a]}function wXe(e){const t=e.read("u8");return{transparencyLocked:!!(t&1),hidden:!!(t&2)}}function EXe(e){const t=e.maskData.realData;if(!t)throw new Error("missing real mask data");return t}function xXe(e,t){switch(t){case oo.UserSuppliedLayerMask:return bA(e.maskData);case oo.RealUserSuppliedLayerMask:return bA(EXe(e));default:return bA(e)+1}}function _Xe(e,t,n,r){const a=new Map,{length:o}=t;for(let s=0;s<o;s++){const[l,d]=t[s],u=PXe(e.read("u16"));switch(u){case yd.RawData:{const f=e.take(d);a.set(l,{compression:u,data:f});break}case yd.RleCompressed:{const f=e.take(d>0?CXe(e,xXe(n,l),r.rleScanlineLengthFieldReadType):d);a.set(l,{compression:u,data:f});break}}}return a}function CXe(e,t,n){return Array.from(Array(t),()=>e.read(n)).reduce((r,a)=>r+a)}function SXe(e){const t=e.read("u32"),n=e.position,[r,a,o,s]=Mae(e),l=e.read("u8"),d=Tae(e),u=t>=36?kXe(e):void 0,f=d.masksHaveParametersApplied?IXe(e):void 0,p=t-(e.position-n);return e.pass(p),{top:r,left:a,bottom:o,right:s,backgroundColor:l,flags:d,parameters:f,realData:u}}function Mae(e){return Array.from(Array(4),()=>e.read("i32"))}var r0;(function(e){e[e.PositionRelativeToLayer=1]="PositionRelativeToLayer",e[e.LayerMaskDisabled=2]="LayerMaskDisabled",e[e.InvertMaskWhenBlending=4]="InvertMaskWhenBlending",e[e.UserMaskFromRenderingOtherData=8]="UserMaskFromRenderingOtherData",e[e.MasksHaveParametersApplied=16]="MasksHaveParametersApplied"})(r0||(r0={}));function Tae(e){const t=e.read("u8");return{positionRelativeToLayer:!!(t&r0.PositionRelativeToLayer),layerMaskDisabled:!!(t&r0.LayerMaskDisabled),invertMaskWhenBlending:!!(t&r0.InvertMaskWhenBlending),userMaskFromRenderingOtherData:!!(t&r0.UserMaskFromRenderingOtherData),masksHaveParametersApplied:!!(t&r0.MasksHaveParametersApplied)}}var Qg;(function(e){e[e.UserMaskDensity=1]="UserMaskDensity",e[e.UserMaskFeather=2]="UserMaskFeather",e[e.VectorMaskDensity=4]="VectorMaskDensity",e[e.VectorMaskFeather=8]="VectorMaskFeather"})(Qg||(Qg={}));function IXe(e){const t=e.read("u8");return{userMaskDensity:t&Qg.UserMaskDensity?e.read("u8"):void 0,userMaskFeather:t&Qg.UserMaskFeather?e.read("f64"):void 0,vectorMaskDensity:t&Qg.VectorMaskDensity?e.read("u8"):void 0,vectorMaskFeather:t&Qg.VectorMaskFeather?e.read("f64"):void 0}}function kXe(e){const t=Tae(e),n=e.read("u8"),[r,a,o,s]=Mae(e);return{top:r,left:a,bottom:o,right:s,flags:t,backgroundColor:n}}function MXe(e,t){const n=new Yh(e);n.pass(t.layerAndMaskSectionLengthFieldSize),n.pass(t.layerInfoSectionLengthFieldSize);const r=n.read("i16"),a=Math.abs(r),o=vXe(n,a,t);n.padding(n.position,4),n.pass(n.read("u32"));const s=bXe(n,t),l=[],d=[],u=[],f=[{startIndex:0,groupId:0,parentGroupId:0}];let p=0;for(let g=0;g<a;g++){const[v,c]=o[g],h=f[f.length-1].groupId,{dividerType:m}=v;if(m===sm.CloseFolder||m===sm.OpenFolder)p+=1,f.push({startIndex:l.length,groupId:p,parentGroupId:h,layerRecord:v}),u.push("G");else if(m===sm.BoundingSection){const U=f.pop();if(U===void 0)throw new eKe;const b=U.groupId>0?U.groupId:void 0,w=U.layerRecord||v;d.push(TB.create(w.name,U.groupId,w,b)),u.push("D")}else l.push(MB.create(v,c,h)),u.push("L")}return d.sort((g,v)=>g.id-v.id),{layers:l,groups:d,orders:u,globalAdditionalLayerInformation:s}}const TXe=26;function W9(e,t,n=4){const r=(n===4?e.getUint32(t):_ae(e,t))+n;return{start:t,end:t+r,size:r}}function BXe(e){const t=new DataView(e),n=0,r=TXe,a=new DataView(e,n,r),o=TKe(a),s=BB(o.version),l=W9(t,n+r),d=W9(t,l.end),u=W9(t,d.end,s.layerAndMaskSectionLengthFieldSize);return{fileHeader:o,colorModeData:new DataView(e,l.size),imageResources:new DataView(e,d.start,d.size),layerAndMaskInformation:new DataView(e,u.start,u.size),imageData:new DataView(e,u.end)}}const RXe={maxPixels:3e4,rleScanlineLengthFieldSize:2,rleScanlineLengthFieldReadType:"u16",layerAndMaskSectionLengthFieldSize:4,layerInfoSectionLengthFieldSize:4,layerRecordSectionChannelLengthFieldReadType:"u32",aliLengthFieldSizeIsVariable:!1},DXe={maxPixels:3e5,rleScanlineLengthFieldSize:4,rleScanlineLengthFieldReadType:"u32",layerAndMaskSectionLengthFieldSize:8,layerInfoSectionLengthFieldSize:8,layerRecordSectionChannelLengthFieldReadType:"u64",aliLengthFieldSizeIsVariable:!0};function BB(e){switch(e){case Xm.PSD:return RXe;case Xm.PSB:return DXe;default:throw new Aae}}var yd;(function(e){e[e.RawData=0]="RawData",e[e.RleCompressed=1]="RleCompressed",e[e.ZipWithoutPrediction=2]="ZipWithoutPrediction",e[e.ZipWithPrediction=3]="ZipWithPrediction"})(yd||(yd={}));function PXe(e){if(!(e in yd))throw new wae;return e}var oo;(function(e){e[e.Red=0]="Red",e[e.Green=1]="Green",e[e.Blue=2]="Blue",e[e.TransparencyMask=-1]="TransparencyMask",e[e.UserSuppliedLayerMask=-2]="UserSuppliedLayerMask",e[e.RealUserSuppliedLayerMask=-3]="RealUserSuppliedLayerMask"})(oo||(oo={}));function LXe(e){switch(e){case oo.Red:return 0;case oo.Green:return 1;case oo.Blue:return 2;case oo.TransparencyMask:return 3;default:throw new ZYe}}var sm;(function(e){e[e.Other=0]="Other",e[e.OpenFolder=1]="OpenFolder",e[e.CloseFolder=2]="CloseFolder",e[e.BoundingSection=3]="BoundingSection"})(sm||(sm={}));function NXe(e){if(e in sm)return e;throw new YYe}var nI;(function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"})(nI||(nI={}));function $Xe(e){if(!(e in nI))throw new aKe;return e}var Bo;(function(e){e[e.GridAndGuides=1032]="GridAndGuides",e[e.Slices=1050]="Slices",e[e.ICCProfile=1039]="ICCProfile",e[e.GlobalLightAngle=1037]="GlobalLightAngle",e[e.GlobalLightAltitude=1049]="GlobalLightAltitude",e[e.ResolutionInfo=1005]="ResolutionInfo"})(Bo||(Bo={}));var lm;(function(e){e[e.AutoGenerated=0]="AutoGenerated",e[e.LayerGenerated=1]="LayerGenerated",e[e.UserGenerated=2]="UserGenerated"})(lm||(lm={}));function FXe(e){if(!(e in lm))throw new sKe(`Invalid slice origin: ${e}`);return e}var iH;(function(e){e[e.PixelsPerInch=1]="PixelsPerInch",e[e.PixelsPerCM=2]="PixelsPerCM"})(iH||(iH={}));var aH;(function(e){e[e.Inch=1]="Inch",e[e.CM=2]="CM",e[e.Point=3]="Point",e[e.Pica=4]="Pica",e[e.Column=5]="Column"})(aH||(aH={}));var vu;(function(e){e.Class="Clss",e.Enumerated="Enmr",e.Identifier="Idnt",e.Index="indx",e.Name="name",e.Offset="rele",e.Property="prop"})(vu||(vu={}));function oH(e,t=255){if(!(0<=t&&t<=255))throw new tKe;const n=e.length/4,r=LXe(oo.TransparencyMask),a=t/255;for(let o=0;o<n;o++){const s=o*4+r;e[s]=Math.floor(a*e[s])}return e}let sH,lH,cH,dH,uH,fH,Bae,Rae,Dae,Pae,Lae=(async()=>{const e="data:application/wasm;base64,AGFzbQEAAAABbw9gAn9/AX9gAn9/AGADf39/AX9gAX8Bf2ABfwBgA39/fwBgAX8BfmAAAX9gBX9/f39/AGAAAGAEf39/fwF/YA5/f39/f39/f39/f39/fwBgC39/f39/f39/f39/AGAEf39/fwBgCH9/f39/f39/AAKYAgUbLi93ZWJ0b29uX3BzZF9kZWNvZGVyX2JnLmpzGl9fd2JnX25ld19hYmRhNzZlODgzYmE4YTVmAAcbLi93ZWJ0b29uX3BzZF9kZWNvZGVyX2JnLmpzHF9fd2JnX3N0YWNrXzY1ODI3OWZlNDQ1NDFjZjYAARsuL3dlYnRvb25fcHNkX2RlY29kZXJfYmcuanMcX193YmdfZXJyb3JfZjg1MTY2N2FmNzFiY2ZjNgABGy4vd2VidG9vbl9wc2RfZGVjb2Rlcl9iZy5qcxpfX3diaW5kZ2VuX29iamVjdF9kcm9wX3JlZgAEGy4vd2VidG9vbl9wc2RfZGVjb2Rlcl9iZy5qcxBfX3diaW5kZ2VuX3Rocm93AAEDVVQDBAICAQAAAAAEAQcICwUMAQEIDQ4BCAEAAAAFAQICCQAJAQoBCgMBBAUBBAMDAQAKBQMAAAAAAAEDAAMDAQMAAAMJAwMDAwECAgcAAAMDAQYGBgQEBQFwASUlBQMBABEGCQF/AUGAgMAACwfHAQsGbWVtb3J5AgAHbWFpbl9qcwAkCmRlY29kZV9yZ2IAFAtkZWNvZGVfcmdiYQASEGRlY29kZV9ncmF5c2NhbGUAGxJkZWNvZGVfZ3JheXNjYWxlX2EAGR9fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyAEYRX193YmluZGdlbl9tYWxsb2MAJQ9fX3diaW5kZ2VuX2ZyZWUANhJfX3diaW5kZ2VuX3JlYWxsb2MAKhBfX3diaW5kZ2VuX3N0YXJ0ACQJKgEAQQELJFhUVFRYIgsdMCMNH1g5RRpYIgweMFZVLRYcJz1XRDs/OjhYVwr0lwFU/CACD38BfiMAQRBrIgskAAJAAkACQAJAAkACQCAAQfUBTwRAQQhBCBA0IQZBFEEIEDQhBUEQQQgQNCEBQQBBEEEIEDRBAnRrIgJBgIB8IAEgBSAGamprQXdxQQNrIgEgASACSxsgAE0NBiAAQQRqQQgQNCEEQdiQwAAoAgBFDQVBACAEayEDAn9BACAEQYACSQ0AGkEfIARB////B0sNABogBEEGIARBCHZnIgBrdkEBcSAAQQF0a0E+agsiBkECdEG8jcAAaigCACIBDQFBACEAQQAhBQwCC0EQIABBBGpBEEEIEDRBBWsgAEsbQQgQNCEEAkACQAJAAn8CQAJAQdSQwAAoAgAiASAEQQN2IgB2IgJBA3FFBEAgBEHckMAAKAIATQ0LIAINAUHYkMAAKAIAIgBFDQsgABBAaEECdEG8jcAAaigCACIBEEggBGshAyABEDEiAARAA0AgABBIIARrIgIgAyACIANJIgIbIQMgACABIAIbIQEgABAxIgANAAsLIAEgBBBQIQUgARAOQRBBCBA0IANLDQUgASAEEEIgBSADEDNB3JDAACgCACIARQ0EIABBeHFBzI7AAGohB0HkkMAAKAIAIQZB1JDAACgCACICQQEgAEEDdnQiAHFFDQIgBygCCAwDCwJAIAJBf3NBAXEgAGoiA0EDdCIAQdSOwABqKAIAIgVBCGooAgAiAiAAQcyOwABqIgBHBEAgAiAANgIMIAAgAjYCCAwBC0HUkMAAIAFBfiADd3E2AgALIAUgA0EDdBAvIAUQUiEDDAsLAkBBASAAQR9xIgB0EDcgAiAAdHEQQGgiAkEDdCIAQdSOwABqKAIAIgNBCGooAgAiASAAQcyOwABqIgBHBEAgASAANgIMIAAgATYCCAwBC0HUkMAAQdSQwAAoAgBBfiACd3E2AgALIAMgBBBCIAMgBBBQIgUgAkEDdCAEayICEDNB3JDAACgCACIABEAgAEF4cUHMjsAAaiEHQeSQwAAoAgAhBgJ/QdSQwAAoAgAiAUEBIABBA3Z0IgBxBEAgBygCCAwBC0HUkMAAIAAgAXI2AgAgBwshACAHIAY2AgggACAGNgIMIAYgBzYCDCAGIAA2AggLQeSQwAAgBTYCAEHckMAAIAI2AgAgAxBSIQMMCgtB1JDAACAAIAJyNgIAIAcLIQAgByAGNgIIIAAgBjYCDCAGIAc2AgwgBiAANgIIC0HkkMAAIAU2AgBB3JDAACADNgIADAELIAEgAyAEahAvCyABEFIiAw0FDAQLIAQgBhAydCEHQQAhAEEAIQUDQAJAIAEQSCICIARJDQAgAiAEayICIANPDQAgASEFIAIiAw0AQQAhAyABIQAMAwsgAUEUaigCACICIAAgAiABIAdBHXZBBHFqQRBqKAIAIgFHGyAAIAIbIQAgB0EBdCEHIAENAAsLIAAgBXJFBEBBACEFQQEgBnQQN0HYkMAAKAIAcSIARQ0DIAAQQGhBAnRBvI3AAGooAgAhAAsgAEUNAQsDQCAAIAUgABBIIgEgBE8gASAEayICIANJcSIBGyEFIAIgAyABGyEDIAAQMSIADQALCyAFRQ0AIARB3JDAACgCACIATSADIAAgBGtPcQ0AIAUgBBBQIQYgBRAOAkBBEEEIEDQgA00EQCAFIAQQQiAGIAMQMyADQYACTwRAIAYgAxAPDAILIANBeHFBzI7AAGohAgJ/QdSQwAAoAgAiAUEBIANBA3Z0IgBxBEAgAigCCAwBC0HUkMAAIAAgAXI2AgAgAgshACACIAY2AgggACAGNgIMIAYgAjYCDCAGIAA2AggMAQsgBSADIARqEC8LIAUQUiIDDQELAkACQAJAAkACQAJAAkAgBEHckMAAKAIAIgBLBEBB4JDAACgCACIAIARLDQJBCEEIEDQgBGpBFEEIEDRqQRBBCBA0akGAgAQQNCIAQRB2QAAhASALQQA2AgggC0EAIABBgIB8cSABQX9GIgAbNgIEIAtBACABQRB0IAAbNgIAIAsoAgAiCA0BQQAhAwwIC0HkkMAAKAIAIQJBEEEIEDQgACAEayIBSwRAQeSQwABBADYCAEHckMAAKAIAIQBB3JDAAEEANgIAIAIgABAvIAIQUiEDDAgLIAIgBBBQIQBB3JDAACABNgIAQeSQwAAgADYCACAAIAEQMyACIAQQQiACEFIhAwwHCyALKAIIIQxB7JDAACALKAIEIgpB7JDAACgCAGoiATYCAEHwkMAAQfCQwAAoAgAiACABIAAgAUsbNgIAAkACQAJAQeiQwAAoAgAEQEG8jsAAIQADQCAAEEMgCEYNAiAAKAIIIgANAAsMAgtB+JDAACgCACIARSAAIAhLcg0FDAcLIAAQSg0AIAAQSyAMRw0AIAAoAgAiAkHokMAAKAIAIgFNBH8gAiAAKAIEaiABSwVBAAsNAQtB+JDAAEH4kMAAKAIAIgAgCCAAIAhJGzYCACAIIApqIQFBvI7AACEAAkACQANAIAEgACgCAEcEQCAAKAIIIgANAQwCCwsgABBKDQAgABBLIAxGDQELQeiQwAAoAgAhCUG8jsAAIQACQANAIAkgACgCAE8EQCAAEEMgCUsNAgsgACgCCCIADQALQQAhAAsgCSAAEEMiBkEUQQgQNCIPa0EXayIBEFIiAEEIEDQgAGsgAWoiACAAQRBBCBA0IAlqSRsiDRBSIQ4gDSAPEFAhAEEIQQgQNCEDQRRBCBA0IQVBEEEIEDQhAkHokMAAIAggCBBSIgFBCBA0IAFrIgEQUCIHNgIAQeCQwAAgCkEIaiACIAMgBWpqIAFqayIDNgIAIAcgA0EBcjYCBEEIQQgQNCEFQRRBCBA0IQJBEEEIEDQhASAHIAMQUCABIAIgBUEIa2pqNgIEQfSQwABBgICAATYCACANIA8QQkG8jsAAKQIAIRAgDkEIakHEjsAAKQIANwIAIA4gEDcCAEHIjsAAIAw2AgBBwI7AACAKNgIAQbyOwAAgCDYCAEHEjsAAIA42AgADQCAAQQQQUCAAQQc2AgQiAEEEaiAGSQ0ACyAJIA1GDQcgCSANIAlrIgAgCSAAEFAQLiAAQYACTwRAIAkgABAPDAgLIABBeHFBzI7AAGohAgJ/QdSQwAAoAgAiAUEBIABBA3Z0IgBxBEAgAigCCAwBC0HUkMAAIAAgAXI2AgAgAgshACACIAk2AgggACAJNgIMIAkgAjYCDCAJIAA2AggMBwsgACgCACEDIAAgCDYCACAAIAAoAgQgCmo2AgQgCBBSIgVBCBA0IQIgAxBSIgFBCBA0IQAgCCACIAVraiIGIAQQUCEHIAYgBBBCIAMgACABa2oiACAEIAZqayEEQeiQwAAoAgAgAEcEQCAAQeSQwAAoAgBGDQMgACgCBEEDcUEBRw0FAkAgABBIIgVBgAJPBEAgABAODAELIABBDGooAgAiAiAAQQhqKAIAIgFHBEAgASACNgIMIAIgATYCCAwBC0HUkMAAQdSQwAAoAgBBfiAFQQN2d3E2AgALIAQgBWohBCAAIAUQUCEADAULQeiQwAAgBzYCAEHgkMAAQeCQwAAoAgAgBGoiADYCACAHIABBAXI2AgQgBhBSIQMMBwsgACAAKAIEIApqNgIEQeCQwAAoAgAgCmohAUHokMAAKAIAIgAgABBSIgBBCBA0IABrIgAQUCEDQeCQwAAgASAAayIFNgIAQeiQwAAgAzYCACADIAVBAXI2AgRBCEEIEDQhAkEUQQgQNCEBQRBBCBA0IQAgAyAFEFAgACABIAJBCGtqajYCBEH0kMAAQYCAgAE2AgAMBQtB4JDAACAAIARrIgE2AgBB6JDAAEHokMAAKAIAIgIgBBBQIgA2AgAgACABQQFyNgIEIAIgBBBCIAIQUiEDDAULQeSQwAAgBzYCAEHckMAAQdyQwAAoAgAgBGoiADYCACAHIAAQMyAGEFIhAwwEC0H4kMAAIAg2AgAMAQsgByAEIAAQLiAEQYACTwRAIAcgBBAPIAYQUiEDDAMLIARBeHFBzI7AAGohAgJ/QdSQwAAoAgAiAUEBIARBA3Z0IgBxBEAgAigCCAwBC0HUkMAAIAAgAXI2AgAgAgshACACIAc2AgggACAHNgIMIAcgAjYCDCAHIAA2AgggBhBSIQMMAgtB/JDAAEH/HzYCAEHIjsAAIAw2AgBBwI7AACAKNgIAQbyOwAAgCDYCAEHYjsAAQcyOwAA2AgBB4I7AAEHUjsAANgIAQdSOwABBzI7AADYCAEHojsAAQdyOwAA2AgBB3I7AAEHUjsAANgIAQfCOwABB5I7AADYCAEHkjsAAQdyOwAA2AgBB+I7AAEHsjsAANgIAQeyOwABB5I7AADYCAEGAj8AAQfSOwAA2AgBB9I7AAEHsjsAANgIAQYiPwABB/I7AADYCAEH8jsAAQfSOwAA2AgBBkI/AAEGEj8AANgIAQYSPwABB/I7AADYCAEGYj8AAQYyPwAA2AgBBjI/AAEGEj8AANgIAQZSPwABBjI/AADYCAEGgj8AAQZSPwAA2AgBBnI/AAEGUj8AANgIAQaiPwABBnI/AADYCAEGkj8AAQZyPwAA2AgBBsI/AAEGkj8AANgIAQayPwABBpI/AADYCAEG4j8AAQayPwAA2AgBBtI/AAEGsj8AANgIAQcCPwABBtI/AADYCAEG8j8AAQbSPwAA2AgBByI/AAEG8j8AANgIAQcSPwABBvI/AADYCAEHQj8AAQcSPwAA2AgBBzI/AAEHEj8AANgIAQdiPwABBzI/AADYCAEHgj8AAQdSPwAA2AgBB1I/AAEHMj8AANgIAQeiPwABB3I/AADYCAEHcj8AAQdSPwAA2AgBB8I/AAEHkj8AANgIAQeSPwABB3I/AADYCAEH4j8AAQeyPwAA2AgBB7I/AAEHkj8AANgIAQYCQwABB9I/AADYCAEH0j8AAQeyPwAA2AgBBiJDAAEH8j8AANgIAQfyPwABB9I/AADYCAEGQkMAAQYSQwAA2AgBBhJDAAEH8j8AANgIAQZiQwABBjJDAADYCAEGMkMAAQYSQwAA2AgBBoJDAAEGUkMAANgIAQZSQwABBjJDAADYCAEGokMAAQZyQwAA2AgBBnJDAAEGUkMAANgIAQbCQwABBpJDAADYCAEGkkMAAQZyQwAA2AgBBuJDAAEGskMAANgIAQayQwABBpJDAADYCAEHAkMAAQbSQwAA2AgBBtJDAAEGskMAANgIAQciQwABBvJDAADYCAEG8kMAAQbSQwAA2AgBB0JDAAEHEkMAANgIAQcSQwABBvJDAADYCAEHMkMAAQcSQwAA2AgBBCEEIEDQhBUEUQQgQNCECQRBBCBA0IQFB6JDAACAIIAgQUiIAQQgQNCAAayIAEFAiAzYCAEHgkMAAIApBCGogASACIAVqaiAAamsiBTYCACADIAVBAXI2AgRBCEEIEDQhAkEUQQgQNCEBQRBBCBA0IQAgAyAFEFAgACABIAJBCGtqajYCBEH0kMAAQYCAgAE2AgALQQAhA0HgkMAAKAIAIgAgBE0NAEHgkMAAIAAgBGsiATYCAEHokMAAQeiQwAAoAgAiAiAEEFAiADYCACAAIAFBAXI2AgQgAiAEEEIgAhBSIQMLIAtBEGokACADC5gHAQV/IAAQUyIAIAAQSCIBEFAhAgJAAkACQCAAEEkNACAAKAIAIQMCQCAAEEFFBEAgASADaiEBIAAgAxBRIgBB5JDAACgCAEcNASACKAIEQQNxQQNHDQJB3JDAACABNgIAIAAgASACEC4PCyABIANqQRBqIQAMAgsgA0GAAk8EQCAAEA4MAQsgAEEMaigCACIEIABBCGooAgAiBUcEQCAFIAQ2AgwgBCAFNgIIDAELQdSQwABB1JDAACgCAEF+IANBA3Z3cTYCAAsCQCACED4EQCAAIAEgAhAuDAELAkACQAJAQeiQwAAoAgAgAkcEQCACQeSQwAAoAgBHDQFB5JDAACAANgIAQdyQwABB3JDAACgCACABaiICNgIAIAAgAhAzDwtB6JDAACAANgIAQeCQwABB4JDAACgCACABaiICNgIAIAAgAkEBcjYCBCAAQeSQwAAoAgBGDQEMAgsgAhBIIgMgAWohAQJAIANBgAJPBEAgAhAODAELIAJBDGooAgAiBCACQQhqKAIAIgJHBEAgAiAENgIMIAQgAjYCCAwBC0HUkMAAQdSQwAAoAgBBfiADQQN2d3E2AgALIAAgARAzIABB5JDAACgCAEcNAkHckMAAIAE2AgAMAwtB3JDAAEEANgIAQeSQwABBADYCAAtB9JDAACgCACACTw0BQQhBCBA0IQBBFEEIEDQhAkEQQQgQNCEDQQBBEEEIEDRBAnRrIgFBgIB8IAMgACACamprQXdxQQNrIgAgACABSxtFDQFB6JDAACgCAEUNAUEIQQgQNCEAQRRBCBA0IQJBEEEIEDQhAUEAIQMCQEHgkMAAKAIAIgQgASACIABBCGtqaiIATQ0AIAQgAGtB//8DakGAgHxxIgRBgIAEayECQeiQwAAoAgAhAUG8jsAAIQACQANAIAEgACgCAE8EQCAAEEMgAUsNAgsgACgCCCIADQALQQAhAAsgABBKDQAgAEEMaigCABoMAAsQEEEAIANrRw0BQeCQwAAoAgBB9JDAACgCAE0NAUH0kMAAQX82AgAPCyABQYACSQ0BIAAgARAPQfyQwABB/JDAACgCAEEBayIANgIAIAANABAQGg8LDwsgAUF4cUHMjsAAaiECAn9B1JDAACgCACIDQQEgAUEDdnQiAXEEQCACKAIIDAELQdSQwAAgASADcjYCACACCyEDIAIgADYCCCADIAA2AgwgACACNgIMIAAgAzYCCAvIDQEMfwJAAkAgACgCCCIKIAAoAhAiA3IEQAJAIANFDQAgASACaiEIIABBFGooAgBBAWohByABIQQDQAJAIAQhAyAHQQFrIgdFDQAgAyAIRg0CAn8gAywAACIEQQBOBEAgBEH/AXEhBSADQQFqDAELIAMtAAFBP3EhCSAEQR9xIQUgBEFfTQRAIAVBBnQgCXIhBSADQQJqDAELIAMtAAJBP3EgCUEGdHIhCSAEQXBJBEAgCSAFQQx0ciEFIANBA2oMAQsgBUESdEGAgPAAcSADLQADQT9xIAlBBnRyciIFQYCAxABGDQMgA0EEagsiBCAGIANraiEGIAVBgIDEAEcNAQwCCwsgAyAIRg0AIAMsAAAiBEEATiAEQWBJciAEQXBJckUEQCAEQf8BcUESdEGAgPAAcSADLQADQT9xIAMtAAJBP3FBBnQgAy0AAUE/cUEMdHJyckGAgMQARg0BCwJAAkAgBkUNACACIAZNBEBBACEDIAIgBkYNAQwCC0EAIQMgASAGaiwAAEFASA0BCyABIQMLIAYgAiADGyECIAMgASADGyEBCyAKRQ0CIABBDGooAgAhDAJAIAJBEE8EQAJ/QQAhBUEAIQcCQAJAIAEiA0EDakF8cSIEIANrIgggAksgCEEES3INACACIAhrIglBBEkNACAJQQNxIQpBACEGAkAgAyAERg0AIAhBA3EhBQJAIAQgA0F/c2pBA0kEQCADIQQMAQsgCEF8cSELIAMhBANAIAYgBCwAAEG/f0pqIAQsAAFBv39KaiAELAACQb9/SmogBCwAA0G/f0pqIQYgBEEEaiEEIAtBBGsiCw0ACwsgBUUNAANAIAYgBCwAAEG/f0pqIQYgBEEBaiEEIAVBAWsiBQ0ACwsgAyAIaiEDAkAgCkUNACADIAlBfHFqIgQsAABBv39KIQcgCkEBRg0AIAcgBCwAAUG/f0pqIQcgCkECRg0AIAcgBCwAAkG/f0pqIQcLIAlBAnYhCCAGIAdqIQUDQCADIQYgCEUNAkHAASAIIAhBwAFPGyIHQQNxIQkgB0ECdCELAkAgB0H8AXEiCkUEQEEAIQQMAQsgBiAKQQJ0aiENQQAhBANAIANFDQEgBCADKAIAIg5Bf3NBB3YgDkEGdnJBgYKECHFqIANBBGooAgAiBEF/c0EHdiAEQQZ2ckGBgoQIcWogA0EIaigCACIEQX9zQQd2IARBBnZyQYGChAhxaiADQQxqKAIAIgRBf3NBB3YgBEEGdnJBgYKECHFqIQQgA0EQaiIDIA1HDQALCyAIIAdrIQggBiALaiEDIARBCHZB/4H8B3EgBEH/gfwHcWpBgYAEbEEQdiAFaiEFIAlFDQALAn9BACAGRQ0AGiAGIApBAnRqIgMoAgAiBEF/c0EHdiAEQQZ2ckGBgoQIcSIEIAlBAUYNABogBCADKAIEIgZBf3NBB3YgBkEGdnJBgYKECHFqIgQgCUECRg0AGiAEIAMoAggiA0F/c0EHdiADQQZ2ckGBgoQIcWoLIgNBCHZB/4EccSADQf+B/AdxakGBgARsQRB2IAVqDAILQQAgAkUNARogAkEDcSEEIAJBBE8EQCACQXxxIQYDQCAFIAMsAABBv39KaiADLAABQb9/SmogAywAAkG/f0pqIAMsAANBv39KaiEFIANBBGohAyAGQQRrIgYNAAsLIARFDQADQCAFIAMsAABBv39KaiEFIANBAWohAyAEQQFrIgQNAAsLIAULIQQMAQsgAkUEQEEAIQQMAQsgAkEDcSEFAkAgAkEESQRAQQAhBCABIQMMAQsgAkF8cSEHQQAhBCABIQMDQCAEIAMsAABBv39KaiADLAABQb9/SmogAywAAkG/f0pqIAMsAANBv39KaiEEIANBBGohAyAHQQRrIgcNAAsLIAVFDQADQCAEIAMsAABBv39KaiEEIANBAWohAyAFQQFrIgUNAAsLIAQgDEkEQCAMIARrIgQhBgJAAkACQCAALQAgIgNBACADQQNHGyIDQQFrDgIAAQILQQAhBiAEIQMMAQsgBEEBdiEDIARBAWpBAXYhBgsgA0EBaiEDIABBBGooAgAhBCAAKAIcIQUgACgCACEAAkADQCADQQFrIgNFDQEgACAFIAQoAhARAABFDQALQQEPC0EBIQMgBUGAgMQARg0CIAAgASACIAQoAgwRAgANAkEAIQMDQCADIAZGBEBBAA8LIANBAWohAyAAIAUgBCgCEBEAAEUNAAsgA0EBayAGSQ8LDAILIAAoAgAgASACIAAoAgQoAgwRAgAhAwsgAw8LIAAoAgAgASACIAAoAgQoAgwRAgAL9wQBCn8jAEEwayIDJAAgA0EDOgAoIANCgICAgIAENwMgIANBADYCGCADQQA2AhAgAyABNgIMIAMgADYCCAJ/AkACQCACKAIAIgpFBEAgAkEUaigCACIARQ0BIAIoAhAhASAAQQN0IQUgAEEBa0H/////AXFBAWohByACKAIIIQADQCAAQQRqKAIAIgQEQCADKAIIIAAoAgAgBCADKAIMKAIMEQIADQQLIAEoAgAgA0EIaiABQQRqKAIAEQAADQMgAUEIaiEBIABBCGohACAFQQhrIgUNAAsMAQsgAigCBCIARQ0AIABBBXQhCyAAQQFrQf///z9xQQFqIQcgAigCCCEAA0AgAEEEaigCACIBBEAgAygCCCAAKAIAIAEgAygCDCgCDBECAA0DCyADIAUgCmoiBEEcai0AADoAKCADIARBFGopAgA3AyAgBEEQaigCACEGIAIoAhAhCEEAIQlBACEBAkACQAJAIARBDGooAgBBAWsOAgACAQsgBkEDdCAIaiIMQQRqKAIAQR5HDQEgDCgCACgCACEGC0EBIQELIAMgBjYCFCADIAE2AhAgBEEIaigCACEBAkACQAJAIARBBGooAgBBAWsOAgACAQsgAUEDdCAIaiIGQQRqKAIAQR5HDQEgBigCACgCACEBC0EBIQkLIAMgATYCHCADIAk2AhggCCAEKAIAQQN0aiIBKAIAIANBCGogASgCBBEAAA0CIABBCGohACALIAVBIGoiBUcNAAsLIAJBDGooAgAgB0sEQCADKAIIIAIoAgggB0EDdGoiACgCACAAKAIEIAMoAgwoAgwRAgANAQtBAAwBC0EBCyADQTBqJAALywQBBH8gACABEFAhAgJAAkACQCAAEEkNACAAKAIAIQMCQCAAEEFFBEAgASADaiEBIAAgAxBRIgBB5JDAACgCAEcNASACKAIEQQNxQQNHDQJB3JDAACABNgIAIAAgASACEC4PCyABIANqQRBqIQAMAgsgA0GAAk8EQCAAEA4MAQsgAEEMaigCACIEIABBCGooAgAiBUcEQCAFIAQ2AgwgBCAFNgIIDAELQdSQwABB1JDAACgCAEF+IANBA3Z3cTYCAAsgAhA+BEAgACABIAIQLgwCCwJAQeiQwAAoAgAgAkcEQCACQeSQwAAoAgBHDQFB5JDAACAANgIAQdyQwABB3JDAACgCACABaiIBNgIAIAAgARAzDwtB6JDAACAANgIAQeCQwABB4JDAACgCACABaiIBNgIAIAAgAUEBcjYCBCAAQeSQwAAoAgBHDQFB3JDAAEEANgIAQeSQwABBADYCAA8LIAIQSCIDIAFqIQECQCADQYACTwRAIAIQDgwBCyACQQxqKAIAIgQgAkEIaigCACICRwRAIAIgBDYCDCAEIAI2AggMAQtB1JDAAEHUkMAAKAIAQX4gA0EDdndxNgIACyAAIAEQMyAAQeSQwAAoAgBHDQFB3JDAACABNgIACw8LIAFBgAJPBEAgACABEA8PCyABQXhxQcyOwABqIQICf0HUkMAAKAIAIgNBASABQQN2dCIBcQRAIAIoAggMAQtB1JDAACABIANyNgIAIAILIQEgAiAANgIIIAEgADYCDCAAIAI2AgwgACABNgIIC/cCAQV/AkACQAJAAkAgAUEJTwRAQRBBCBA0IAFLDQEMAgsgABAFIQQMAgtBEEEIEDQhAQtBCEEIEDQhA0EUQQgQNCECQRBBCBA0IQVBAEEQQQgQNEECdGsiBkGAgHwgBSACIANqamtBd3FBA2siAyADIAZLGyABayAATQ0AIAFBECAAQQRqQRBBCBA0QQVrIABLG0EIEDQiA2pBEEEIEDRqQQRrEAUiAkUNACACEFMhAAJAIAFBAWsiBCACcUUEQCAAIQEMAQsgAiAEakEAIAFrcRBTIQJBEEEIEDQhBCAAEEggAiABQQAgAiAAayAETRtqIgEgAGsiAmshBCAAEEFFBEAgASAEECwgACACECwgACACEAkMAQsgACgCACEAIAEgBDYCBCABIAAgAmo2AgALIAEQQQ0BIAEQSCICQRBBCBA0IANqTQ0BIAEgAxBQIQAgASADECwgACACIANrIgMQLCAAIAMQCQwBCyAEDwsgARBSIAEQQRoL0gIBAn8jAEEQayICJAAgACgCACEAAkAgAUH/AE0EQCAAKAIIIgMgACgCAEYEfyAAIAMQFSAAKAIIBSADCyAAKAIEaiABOgAAIAAgACgCCEEBajYCCAwBCyACQQA2AgwCfyABQYAQTwRAIAFBgIAETwRAIAIgAUE/cUGAAXI6AA8gAiABQQZ2QT9xQYABcjoADiACIAFBDHZBP3FBgAFyOgANIAIgAUESdkEHcUHwAXI6AAxBBAwCCyACIAFBP3FBgAFyOgAOIAIgAUEMdkHgAXI6AAwgAiABQQZ2QT9xQYABcjoADUEDDAELIAIgAUE/cUGAAXI6AA0gAiABQQZ2QcABcjoADEECCyEBIAEgACgCACAAKAIIIgNrSwRAIAAgAyABEBMgACgCCCEDCyAAKAIEIANqIAJBDGogARBOGiAAIAEgA2o2AggLIAJBEGokAEEAC9ACAQJ/IwBBEGsiAiQAIAAoAgAhAAJAIAFB/wBNBEAgACgCCCIDIAAoAgBGBEAgACADEBUgACgCCCEDCyAAIANBAWo2AgggACgCBCADaiABOgAADAELIAJBADYCDAJ/IAFBgBBPBEAgAUGAgARPBEAgAiABQT9xQYABcjoADyACIAFBBnZBP3FBgAFyOgAOIAIgAUEMdkE/cUGAAXI6AA0gAiABQRJ2QQdxQfABcjoADEEEDAILIAIgAUE/cUGAAXI6AA4gAiABQQx2QeABcjoADCACIAFBBnZBP3FBgAFyOgANQQMMAQsgAiABQT9xQYABcjoADSACIAFBBnZBwAFyOgAMQQILIQEgASAAKAIAIAAoAggiA2tLBEAgACADIAEQEyAAKAIIIQMLIAAoAgQgA2ogAkEMaiABEE4aIAAgASADajYCCAsgAkEQaiQAQQALywIBAn8jAEEQayICJAACQCABQf8ATQRAIAAoAggiAyAAKAIARgR/IAAgAxAVIAAoAggFIAMLIAAoAgRqIAE6AAAgACAAKAIIQQFqNgIIDAELIAJBADYCDAJ/IAFBgBBPBEAgAUGAgARPBEAgAiABQT9xQYABcjoADyACIAFBBnZBP3FBgAFyOgAOIAIgAUEMdkE/cUGAAXI6AA0gAiABQRJ2QQdxQfABcjoADEEEDAILIAIgAUE/cUGAAXI6AA4gAiABQQx2QeABcjoADCACIAFBBnZBP3FBgAFyOgANQQMMAQsgAiABQT9xQYABcjoADSACIAFBBnZBwAFyOgAMQQILIQEgASAAKAIAIAAoAggiA2tLBEAgACADIAEQEyAAKAIIIQMLIAAoAgQgA2ogAkEMaiABEE4aIAAgASADajYCCAsgAkEQaiQAQQALvAIBBX8gACgCGCEDAkACQCAAIAAoAgxGBEAgAEEUQRAgAEEUaiIBKAIAIgQbaigCACICDQFBACEBDAILIAAoAggiAiAAKAIMIgE2AgwgASACNgIIDAELIAEgAEEQaiAEGyEEA0AgBCEFIAIiAUEUaiICIAFBEGogAigCACICGyEEIAFBFEEQIAIbaigCACICDQALIAVBADYCAAsCQCADRQ0AAkAgACAAKAIcQQJ0QbyNwABqIgIoAgBHBEAgA0EQQRQgAygCECAARhtqIAE2AgAgAUUNAgwBCyACIAE2AgAgAQ0AQdiQwABB2JDAACgCAEF+IAAoAhx3cTYCAA8LIAEgAzYCGCAAKAIQIgIEQCABIAI2AhAgAiABNgIYCyAAQRRqKAIAIgBFDQAgAUEUaiAANgIAIAAgATYCGAsLoAIBBH8gAEIANwIQIAACf0EAIAFBgAJJDQAaQR8gAUH///8HSw0AGiABQQYgAUEIdmciAmt2QQFxIAJBAXRrQT5qCyIDNgIcIANBAnRBvI3AAGohAgJAAkACQAJAQdiQwAAoAgAiBEEBIAN0IgVxBEAgAigCACECIAMQMiEDIAIQSCABRw0BIAIhAwwCC0HYkMAAIAQgBXI2AgAgAiAANgIADAMLIAEgA3QhBANAIAIgBEEddkEEcWpBEGoiBSgCACIDRQ0CIARBAXQhBCADIgIQSCABRw0ACwsgAygCCCIBIAA2AgwgAyAANgIIIAAgAzYCDCAAIAE2AgggAEEANgIYDwsgBSAANgIACyAAIAI2AhggACAANgIIIAAgADYCDAtgAQx/QcSOwAAoAgAiAgRAQbyOwAAhBgNAIAIiASgCCCECIAEoAgQhAyABKAIAIQQgAUEMaigCABogASEGIAVBAWohBSACDQALC0H8kMAAQf8fIAUgBUH/H00bNgIAIAgLlgIBA38gACABaiEHAkACQAJAAkADQCAAIAdHBEAgAC0AACEFIABBAWoiASEAIAVBgAFGDQEgBcBBAE4EQEEAIQYDQCAAIAdGDQQgAiAETw0FIAIgA2ogAC0AADoAACACQQRqIQIgAEEBaiEAIAZB/wFxIAZBAWohBiAFSQ0ACwwCCyABIAdGDQVBASAFayEFIAFBAWohACABLQAAIQZBACEBA0AgAiAETw0FIAIgA2ogBjoAACACQQRqIQIgAUEBaiIBQf8BcSAFQf8BcUkNAAsMAQsLDwtBtIDAAEHBAEGIgcAAECAAC0GAgMAAQRlB+IDAABAgAAtBgIDAAEEZQdSBwAAQIAALQZiBwABBO0HkgcAAECAAC+oEAQt/IwBBEGsiESQAAkACQAJAIAQOAgEAAgtBASEPCwJAAkAgBw4CAQACC0EBIRALQQAhBAJAAkAgCg4CAQACC0EBIQQLQQEhBwJAAkACQCANDgIAAQILQQAhBwsgEUEIaiEYIAIhEiADIRMgDyENIAUhFCAGIRUgECEKIAghFiAJIRcgCyEPIAwhEAJAAkACQAJAAkAgAUECdCIORQRAQQEhAQwBCyAOQQBIDQEgDhArIgFFDQILAkAgDUUEQCATRQ0BQQAhDQNAIA0gDk8NBSABIA1qIBItAAA6AAAgDUEEaiENIBJBAWohEiATQQFrIhMNAAsMAQsgEiATQQAgASAOEBELAkAgCkUEQCAVRQ0BQQEhDQNAIA0gDk8NBSABIA1qIBQtAAA6AAAgDUEEaiENIBRBAWohFCAVQQFrIhUNAAsMAQsgFCAVQQEgASAOEBELAkAgBEUEQCAXRQ0BQQIhDQNAIA0gDk8NBSABIA1qIBYtAAA6AAAgDUEEaiENIBZBAWohFiAXQQFrIhcNAAsMAQsgFiAXQQIgASAOEBELAkAgB0UEQCAQRQ0BQQMhDQNAIA0gDk8NBSABIA1qIA8tAAA6AAAgDUEEaiENIA9BAWohDyAQQQFrIhANAAsMAQsgDyAQQQMgASAOEBELIBggDjYCBCAYIAE2AgAMAwsQJgALIA5BARBMAAtBgIDAAEEZQaSAwAAQIAALIBEoAgwhBCARKAIIIQEgDARAIAsQBgsgCQRAIAgQBgsgBgRAIAUQBgsgAwRAIAIQBgsgACABNgIAIAAgBDYCBCARQRBqJAAPCwsQRwALyQEBAn8jAEEgayIDJAACQAJAIAEgASACaiIBSw0AQQggACgCACICQQF0IgQgASABIARJGyIBIAFBCE0bIgFBf3NBH3YhBAJAIAIEQCADQQE2AhggAyACNgIUIAMgAEEEaigCADYCEAwBCyADQQA2AhgLIAMgASAEIANBEGoQGCADKAIEIQIgAygCAEUEQCAAIAE2AgAgACACNgIEDAILIANBCGooAgAiAEGBgICAeEYNASAARQ0AIAIgABBMAAsQJgALIANBIGokAAuDBAEKfyMAQRBrIg8kAAJAAkACQCAEDgIBAAILQQEhDQsCQAJAIAcOAgEAAgtBASEOC0EBIQQCQAJAAkAgCg4CAAECC0EAIQQLIA9BCGohEiACIQcgAyEKIA0hEyAFIQ0gBiEQIA4hFCAIIQ4gCSERAkACQAJAAkACQCABQQJ0IgtFBEBBASEBDAELIAtBAEgNASALQQEQPCIBRQ0CCyABQf8BIAsQTSEMAkAgE0UEQCAKRQ0BQQAhAQNAIAEgC08NBSABIAxqIActAAA6AAAgAUEEaiEBIAdBAWohByAKQQFrIgoNAAsMAQsgByAKQQAgDCALEBELAkAgFEUEQCAQRQ0BQQEhAQNAIAEgC08NBSABIAxqIA0tAAA6AAAgAUEEaiEBIA1BAWohDSAQQQFrIhANAAsMAQsgDSAQQQEgDCALEBELAkAgBEUEQCARRQ0BQQIhAQNAIAEgC08NBSABIAxqIA4tAAA6AAAgAUEEaiEBIA5BAWohDiARQQFrIhENAAsMAQsgDiARQQIgDCALEBELIBIgCzYCBCASIAw2AgAMAwsQJgALIAtBARBMAAtBgIDAAEEZQaSAwAAQIAALIA8oAgwhASAPKAIIIQQgCQRAIAgQBgsgBgRAIAUQBgsgAwRAIAIQBgsgACAENgIAIAAgATYCBCAPQRBqJAAPCwsQRwALxwEBA38jAEEgayICJAACQAJAIAFBAWoiAUUNAEEIIAAoAgAiA0EBdCIEIAEgASAESRsiASABQQhNGyIBQX9zQR92IQQCQCADBEAgAkEBNgIYIAIgAzYCFCACIABBBGooAgA2AhAMAQsgAkEANgIYCyACIAEgBCACQRBqEBggAigCBCEDIAIoAgBFBEAgACABNgIAIAAgAzYCBAwCCyACQQhqKAIAIgBBgYCAgHhGDQEgAEUNACADIAAQTAALECYACyACQSBqJAAL3AECA38BfiMAQSBrIgIkACABKAIERQRAIAEoAgwhAyACQRhqIgRBADYCACACQoCAgIAQNwMQIAIgAkEQajYCHCACQRxqQYCHwAAgAxAIGiABQQhqIAQoAgA2AgAgASACKQMQNwIACyABKQIAIQUgAUKAgICAEDcCACACQQhqIgMgAUEIaiIBKAIANgIAIAFBADYCACACIAU3AwBBDEEEEDwiAUUEQEEMQQQQTAALIAEgAikDADcCACABQQhqIAMoAgA2AgAgAEGoicAANgIEIAAgATYCACACQSBqJAAL7wEBAn8jAEEgayIFJABBuI3AAEG4jcAAKAIAIgZBAWo2AgACQAJAIAZBAEgNAEGAkcAAQYCRwAAoAgBBAWoiBjYCACAGQQJLDQAgBSAEOgAYIAUgAzYCFCAFIAI2AhAgBUHwicAANgIMIAVBmIfAADYCCEGojcAAKAIAIgJBAEgNAEGojcAAIAJBAWo2AgBBqI3AAEGwjcAAKAIABH8gBSAAIAEoAhARAQAgBSAFKQMANwMIQbCNwAAoAgAgBUEIakG0jcAAKAIAKAIUEQEAQaiNwAAoAgBBAWsFIAILNgIAIAZBAUsNACAEDQELAAsAC6sBAQF/AkAgAgRAAn8CQAJAAkAgAUEATgRAIAMoAghFDQIgAygCBCIEDQEgAQ0DIAIMBAsgAEEIakEANgIADAULIAMoAgAgBCACIAEQNQwCCyABDQAgAgwBCyABIAIQPAsiAwRAIAAgAzYCBCAAQQhqIAE2AgAgAEEANgIADwsgACABNgIEIABBCGogAjYCAAwBCyAAIAE2AgQgAEEIakEANgIACyAAQQE2AgALkQQBCX8jAEEQayIMJAACQAJAAkAgBA4CAgEACxBHAAtBASEIC0EBIQQCQAJAAkAgBw4CAAECC0EAIQQLIAxBCGohDyACIQsgAyEHIAUhDSAGIQ4gBCEQAkACQAJAAkACQCABQQJ0IglFBEBBASEKDAELIAlBAEgNASAJECsiCkUNAgsCQCAIRQRAIAdFDQFBACEIIAchASALIQQDQCAIIAlPDQUgCCAKaiAELQAAOgAAIAhBBGohCCAEQQFqIQQgAUEBayIBDQALIAchAUEBIQggCyEEA0AgCCAJTw0FIAggCmogBC0AADoAACAIQQRqIQggBEEBaiEEIAFBAWsiAQ0AC0ECIQgDQCAIIAlPDQUgCCAKaiALLQAAOgAAIAhBBGohCCALQQFqIQsgB0EBayIHDQALDAELIAsgB0EAIAogCRARIAsgB0EBIAogCRARIAsgB0ECIAogCRARCwJAIBBFBEAgDkUNAUEDIQgDQCAIIAlPDQUgCCAKaiANLQAAOgAAIAhBBGohCCANQQFqIQ0gDkEBayIODQALDAELIA0gDkEDIAogCRARCyAPIAk2AgQgDyAKNgIADAMLECYACyAJQQEQTAALQYCAwABBGUGkgMAAECAACyAMKAIMIQQgDCgCCCEBIAYEQCAFEAYLIAMEQCACEAYLIAAgATYCACAAIAQ2AgQgDEEQaiQADwsQRwALcQAjAEEwayIBJABBgI3AAC0AAARAIAFBFGpBAjYCACABQRxqQQE2AgAgAUHoh8AANgIQIAFBADYCCCABQQ82AiQgASAANgIsIAEgAUEgajYCGCABIAFBLGo2AiAgAUEIakGQiMAAECkACyABQTBqJAALpAMBB38jAEEQayIKJABBASEHAkACQAJAIAQOAgABAgtBACEHCyAKQQhqIQsgAiEEIAMhCAJAAkACQAJAAkAgAUECdCIGRQRAQQEhBQwBCyAGQQBIDQEgBkEBEDwiBUUNAgsgBUH/ASAGEE0hCQJAIAdFBEAgCEUNAUEAIQUgCCEHIAQhAQNAIAUgBk8NBSAFIAlqIAEtAAA6AAAgBUEEaiEFIAFBAWohASAHQQFrIgcNAAsgCCEHQQEhBSAEIQEDQCAFIAZPDQUgBSAJaiABLQAAOgAAIAVBBGohBSABQQFqIQEgB0EBayIHDQALQQIhBQNAIAUgBk8NBSAFIAlqIAQtAAA6AAAgBUEEaiEFIARBAWohBCAIQQFrIggNAAsMAQsgBCAIQQAgCSAGEBEgBCAIQQEgCSAGEBEgBCAIQQIgCSAGEBELIAsgBjYCBCALIAk2AgAMAwsQJgALIAZBARBMAAtBgIDAAEEZQaSAwAAQIAALIAooAgwhASAKKAIIIQQgAwRAIAIQBgsgACAENgIAIAAgATYCBCAKQRBqJAAPCxBHAAt5AQN/IwBBEGsiAiQAIAEoAgRFBEAgASgCDCEDIAJBCGoiBEEANgIAIAJCgICAgBA3AwAgAiACNgIMIAJBDGpBgIfAACADEAgaIAFBCGogBCgCADYCACABIAIpAwA3AgALIABBqInAADYCBCAAIAE2AgAgAkEQaiQAC10BAX8jAEEgayICJAAgACgCACEAIAJBGGogAUEQaikCADcDACACQRBqIAFBCGopAgA3AwAgAiABKQIANwMIIAIgADYCBCACQQRqQaCFwAAgAkEIahAIIAJBIGokAAtdAQF/IwBBIGsiAiQAIAAoAgAhACACQRhqIAFBEGopAgA3AwAgAkEQaiABQQhqKQIANwMAIAIgASkCADcDCCACIAA2AgQgAkEEakGAh8AAIAJBCGoQCCACQSBqJAALVgEBfyMAQSBrIgIkACACIAA2AgQgAkEYaiABQRBqKQIANwMAIAJBEGogAUEIaikCADcDACACIAEpAgA3AwggAkEEakGghcAAIAJBCGoQCCACQSBqJAALZQEBfyMAQTBrIgMkACADIAE2AgwgAyAANgIIIANBHGpBATYCACADQSRqQQE2AgAgA0HIisAANgIYIANBADYCECADQSA2AiwgAyADQShqNgIgIAMgA0EIajYCKCADQRBqIAIQKQALUQEBfyMAQSBrIgIkACACQQxqQQE2AgAgAkEUakEANgIAIAJByIrAADYCECACQQA2AgAgAkErNgIcIAIgADYCGCACIAJBGGo2AgggAiABECkAC0YBAX8gAiAAKAIAIgAoAgAgACgCCCIDa0sEQCAAIAMgAhATIAAoAgghAwsgACgCBCADaiABIAIQThogACACIANqNgIIQQALQQEBfyACIAAoAgAgACgCCCIDa0sEQCAAIAMgAhATIAAoAgghAwsgACgCBCADaiABIAIQThogACACIANqNgIIQQAL6QQBBn8jAEEQayIDJABBgY3AAC0AAEEDRwRAIANBAToACyADIANBC2o2AgwgA0EMaiEAIwBBIGsiASQAAkACQAJAAkACQAJAAkBBgY3AAC0AAEEBaw4DAgQBAAtBgY3AAEECOgAAIAFBgY3AADYCCCAAKAIAIgAtAAAgAEEAOgAARQ0CIwBBIGsiACQAAkACQAJAQbiNwAAoAgBB/////wdxBEAQT0UNAQtBqI3AACgCAEGojcAAQX82AgANAQJAAkBBuI3AACgCAEH/////B3FFBEBBtI3AACgCACECQbSNwABBjIPAADYCAEGwjcAAKAIAIQRBsI3AAEEBNgIADAELEE9BtI3AACgCACECQbSNwABBjIPAADYCAEGwjcAAKAIAIQRBsI3AAEEBNgIARQ0BC0G4jcAAKAIAQf////8HcUUNABBPDQBBrI3AAEEBOgAAC0GojcAAQQA2AgACQCAERQ0AIAQgAigCABEEACACQQRqKAIARQ0AIAJBCGooAgAaIAQQBgsgAEEgaiQADAILIABBFGpBATYCACAAQRxqQQA2AgAgAEHUiMAANgIQIABBmIfAADYCGCAAQQA2AgggAEEIakH4iMAAECkACwALIAFBAzoADCABQQhqIgAoAgAgAC0ABDoAAAsgAUEgaiQADAQLIAFBFGpBATYCACABQRxqQQA2AgAgAUGQhMAANgIQDAILQZiEwABBkIXAABAhAAsgAUEUakEBNgIAIAFBHGpBADYCACABQdyDwAA2AhALIAFBoIXAADYCGCABQQA2AgggAUEIakHggsAAECkACwsgA0EQaiQACzgBAX8CQCABaUEBRw0AQYCAgIB4IAFrIABJIgINACAABEAgAEEAIAEgAhsQPCIBRQ0BCyABDwsAC0kBAX8jAEEgayIAJAAgAEEUakEBNgIAIABBHGpBADYCACAAQbCKwAA2AhAgAEGAisAANgIYIABBADYCCCAAQQhqQbiKwAAQKQALRAECfyABKAIEIQIgASgCACEDQQhBBBA8IgFFBEBBCEEEEEwACyABIAI2AgQgASADNgIAIABBuInAADYCBCAAIAE2AgALOQACQAJ/IAJBgIDEAEcEQEEBIAAgAiABKAIQEQAADQEaCyADDQFBAAsPCyAAIANBACABKAIMEQIAC7kCAQJ/IwBBIGsiAiQAIAJBAToAGCACIAE2AhQgAiAANgIQIAJBjIvAADYCDCACQciKwAA2AggjAEEQayIAJAACQCACQQhqIgEoAgwiAgRAIAEoAggiA0UNASAAIAI2AgggACABNgIEIAAgAzYCACMAQRBrIgEkACAAKAIAIgJBFGooAgAhAwJAAn8CQAJAIAJBDGooAgAOAgABAwsgAw0CQQAhAkGYh8AADAELIAMNASACKAIIIgMoAgQhAiADKAIACyEDIAEgAjYCBCABIAM2AgAgAUHcicAAIAAoAgQiASgCCCAAKAIIIAEtABAQFwALIAFBADYCBCABIAI2AgwgAUHIicAAIAAoAgQiASgCCCAAKAIIIAEtABAQFwALQZiHwABBmInAABAhAAtBmIfAAEGIicAAECEACy0AAkAgA2lBAUdBgICAgHggA2sgAUlyRQRAIAAgASADIAIQNSIADQELAAsgAAslAQF/AkAgAEEBEAoiAUUNACABEFMQQQ0AIAFBACAAEE0aCyABCycAIAAgACgCBEEBcSABckECcjYCBCAAIAFqIgAgACgCBEEBcjYCBAsgAQF/AkAgAEEEaigCACIBRQ0AIAAoAgBFDQAgARAGCwsjACACIAIoAgRBfnE2AgQgACABQQFyNgIEIAAgAWogATYCAAseACAAIAFBA3I2AgQgACABaiIAIAAoAgRBAXI2AgQLFAAgACgCAARAIABBBGooAgAQBgsLGQEBfyAAKAIQIgEEfyABBSAAQRRqKAIACwsSAEEZIABBAXZrQQAgAEEfRxsLFgAgACABQQFyNgIEIAAgAWogATYCAAsQACAAIAFqQQFrQQAgAWtxC+oFAQZ/An8gACEFAkACQAJAIAJBCU8EQCADIAIQCiIHDQFBAAwEC0EIQQgQNCEAQRRBCBA0IQFBEEEIEDQhAkEAQRBBCBA0QQJ0ayIEQYCAfCACIAAgAWpqa0F3cUEDayIAIAAgBEsbIANNDQFBECADQQRqQRBBCBA0QQVrIANLG0EIEDQhAiAFEFMiACAAEEgiBBBQIQECQAJAAkACQAJAAkACQCAAEEFFBEAgAiAETQ0BIAFB6JDAACgCAEYNAiABQeSQwAAoAgBGDQMgARA+DQcgARBIIgYgBGoiCCACSQ0HIAggAmshBCAGQYACSQ0EIAEQDgwFCyAAEEghASACQYACSQ0GIAEgAmtBgYAISSACQQRqIAFNcQ0FIAEgACgCACIBakEQaiEEIAJBH2pBgIAEEDQhAgwGC0EQQQgQNCAEIAJrIgFLDQQgACACEFAhBCAAIAIQLCAEIAEQLCAEIAEQCQwEC0HgkMAAKAIAIARqIgQgAk0NBCAAIAIQUCEBIAAgAhAsIAEgBCACayICQQFyNgIEQeCQwAAgAjYCAEHokMAAIAE2AgAMAwtB3JDAACgCACAEaiIEIAJJDQMCQEEQQQgQNCAEIAJrIgFLBEAgACAEECxBACEBQQAhBAwBCyAAIAIQUCIEIAEQUCEGIAAgAhAsIAQgARAzIAYgBigCBEF+cTYCBAtB5JDAACAENgIAQdyQwAAgATYCAAwCCyABQQxqKAIAIgkgAUEIaigCACIBRwRAIAEgCTYCDCAJIAE2AggMAQtB1JDAAEHUkMAAKAIAQX4gBkEDdndxNgIAC0EQQQgQNCAETQRAIAAgAhBQIQEgACACECwgASAEECwgASAEEAkMAQsgACAIECwLIAANAwsgAxAFIgFFDQEgASAFIAAQSEF4QXwgABBBG2oiACADIAAgA0kbEE4gBRAGDAMLIAcgBSABIAMgASADSRsQThogBRAGCyAHDAELIAAQQRogABBSCwsLACABBEAgABAGCwsPACAAQQF0IgBBACAAa3ILFQAgASAAKAIAIgAoAgAgACgCBBAHCxkAIAEoAgBB+IzAAEEFIAEoAgQoAgwRAgALEwAgASgCACABKAIEIAAoAgAQCAsUACAAKAIAIAEgACgCBCgCDBEAAAsIACAAIAEQCgsTACAAQbiJwAA2AgQgACABNgIACw0AIAAtAARBAnFBAXYLEAAgASAAKAIAIAAoAgQQBwsKAEEAIABrIABxCwsAIAAtAARBA3FFCwwAIAAgAUEDcjYCBAsNACAAKAIAIAAoAgRqCw4AIAAoAgAaA0AMAAsAC9gGAgt/An4gADUCACENIwBBMGsiBCQAQSchAAJAIA1CkM4AVARAIA0hDgwBCwNAIARBCWogAGoiAkEEayANIA1CkM4AgCIOQpDOAH59pyIDQf//A3FB5ABuIgVBAXRBsIvAAGovAAA7AAAgAkECayADIAVB5ABsa0H//wNxQQF0QbCLwABqLwAAOwAAIABBBGshACANQv/B1y9WIA4hDQ0ACwsgDqciAkHjAEsEQCAAQQJrIgAgBEEJamogDqciAiACQf//A3FB5ABuIgJB5ABsa0H//wNxQQF0QbCLwABqLwAAOwAACwJAIAJBCk8EQCAAQQJrIgAgBEEJamogAkEBdEGwi8AAai8AADsAAAwBCyAAQQFrIgAgBEEJamogAkEwajoAAAsCfyAEQQlqIABqIQhBK0GAgMQAIAEoAhgiA0EBcSICGyEFIAJBJyAAayIJaiECQciKwABBACADQQRxGyEHAkACQCABKAIIRQRAQQEhACABKAIAIgMgAUEEaigCACICIAUgBxAoDQEMAgsCQAJAAkACQCACIAFBDGooAgAiBkkEQCADQQhxDQQgBiACayICIQNBASABLQAgIgAgAEEDRhsiAEEBaw4CAQIDC0EBIQAgASgCACIDIAFBBGooAgAiAiAFIAcQKA0EDAULQQAhAyACIQAMAQsgAkEBdiEAIAJBAWpBAXYhAwsgAEEBaiEAIAFBBGooAgAhAiABKAIcIQYgASgCACEBAkADQCAAQQFrIgBFDQEgASAGIAIoAhARAABFDQALQQEMBAtBASEAIAZBgIDEAEYNASABIAIgBSAHECgNASABIAggCSACKAIMEQIADQFBACEAAn8DQCADIAAgA0YNARogAEEBaiEAIAEgBiACKAIQEQAARQ0ACyAAQQFrCyADSSEADAELIAEoAhwhCyABQTA2AhwgAS0AICEMQQEhACABQQE6ACAgASgCACIDIAFBBGooAgAiCiAFIAcQKA0AIAYgAmtBAWohAAJAA0AgAEEBayIARQ0BIANBMCAKKAIQEQAARQ0AC0EBDAMLQQEhACADIAggCSAKKAIMEQIADQAgASAMOgAgIAEgCzYCHEEADAILIAAMAQsgAyAIIAkgAigCDBECAAsgBEEwaiQACwsAIAAjAGokACMACwwAQfCCwABBGRAEAAsKACAAKAIEQXhxCwoAIAAoAgRBAXELCgAgACgCDEEBcQsKACAAKAIMQQF2CxkAIAAgAUGkjcAAKAIAIgBBECAAGxEBAAALrwEBA38gASEFAkAgAkEPTQRAIAAhAQwBCyAAQQAgAGtBA3EiA2ohBCADBEAgACEBA0AgASAFOgAAIAFBAWoiASAESQ0ACwsgBCACIANrIgJBfHEiA2ohASADQQBKBEAgBUH/AXFBgYKECGwhAwNAIAQgAzYCACAEQQRqIgQgAUkNAAsLIAJBA3EhAgsgAgRAIAEgAmohAgNAIAEgBToAACABQQFqIgEgAkkNAAsLIAALswIBB38CQCACIgRBD00EQCAAIQIMAQsgAEEAIABrQQNxIgNqIQUgAwRAIAAhAiABIQYDQCACIAYtAAA6AAAgBkEBaiEGIAJBAWoiAiAFSQ0ACwsgBSAEIANrIghBfHEiB2ohAgJAIAEgA2oiA0EDcSIEBEAgB0EATA0BIANBfHEiBkEEaiEBQQAgBEEDdCIJa0EYcSEEIAYoAgAhBgNAIAUgBiAJdiABKAIAIgYgBHRyNgIAIAFBBGohASAFQQRqIgUgAkkNAAsMAQsgB0EATA0AIAMhAQNAIAUgASgCADYCACABQQRqIQEgBUEEaiIFIAJJDQALCyAIQQNxIQQgAyAHaiEBCyAEBEAgAiAEaiEDA0AgAiABLQAAOgAAIAFBAWohASACQQFqIgIgA0kNAAsLIAALCwBBgJHAACgCAEULBwAgACABagsHACAAIAFrCwcAIABBCGoLBwAgAEEIawvDBwEFfwJAIwBB0ABrIgIkACACQQA2AhggAkKAgICAEDcDECACQSBqIgQiAEEDOgAgIABCgICAgIAENwIYIABBADYCECAAQQA2AgggAEG4hcAANgIEIAAgAkEQajYCACMAQUBqIgAkAEEBIQMCQCAEKAIAIgVB7IrAAEEMIAQoAgQiBCgCDBECAA0AAkAgASgCCCIDBEAgACADNgIMIABBITYCFCAAIABBDGo2AhBBASEDIABBATYCPCAAQQI2AjQgAEH8isAANgIwIABBADYCKCAAIABBEGo2AjggBSAEIABBKGoQCEUNAQwCCyABKAIAIgMgASgCBEEMaigCABEGAELB9/nozJOy0UFSDQAgACADNgIMIABBIjYCFCAAIABBDGo2AhBBASEDIABBATYCPCAAQQI2AjQgAEH8isAANgIwIABBADYCKCAAIABBEGo2AjggBSAEIABBKGoQCA0BCyABKAIMIQEgAEEkakEPNgIAIABBHGpBDzYCACAAIAFBDGo2AiAgACABQQhqNgIYIABBIDYCFCAAIAE2AhAgAEEDNgI8IABBAzYCNCAAQdSKwAA2AjAgAEEANgIoIAAgAEEQajYCOCAFIAQgAEEoahAIIQMLIABBQGskAAJAIANFBEAgAigCECACKAIYIgBrQQlNBEAgAkEQaiAAQQoQEyACKAIYIQALIAIoAhQgAGoiAUH0hsAAKQAANwAAIAFBCGpB/IbAAC8AADsAACACIABBCmo2AhggAkEIahAAIgQQASACKAIIIQYgAigCDCIFIAIoAhAgAigCGCIAa0sEQCACQRBqIAAgBRATIAIoAhghAAsgAigCFCAAaiAGIAUQThogAiAAIAVqIgA2AhggAigCECAAa0EBTQRAIAJBEGogAEECEBMgAigCGCEACyACKAIUIABqQYoUOwAAIAIgAEECaiIDNgIYIAIoAhQhAAJAIAMgAigCECIBTwRAIAAhAQwBCyADRQRAQQEhASAAEAYMAQsgACABQQEgAxA1IgFFDQILIAEgAxACIAUEQCAGEAYLIARBhAFPBEAgBBADCyACQdAAaiQADAILIwBBQGoiACQAIABBNzYCDCAAQdCFwAA2AgggAEGIhsAANgIUIAAgAkHIAGo2AhAgAEEkakECNgIAIABBLGpBAjYCACAAQTxqQR82AgAgAEGgi8AANgIgIABBADYCGCAAQSA2AjQgACAAQTBqNgIoIAAgAEEQajYCOCAAIABBCGo2AjAgAEEYakHkhsAAECkACyADQQEQTAALCwwAQsH3+ejMk7LRQQsNAEKy+KXLheeH1Jt/CwwAQuLnycndnOOADQsDAAELC4cNAQBBgIDAAAv9DG91dHB1dCBzbGljZSBpcyB0b28gc21hbGxzcmMvbGliLnJzABkAEAAKAAAAggAAAA4AAABpbnB1dCB0ZXJtaW5hdGVkIHdoaWxlIGRlY29kaW5nIHVuY29tcHJlc3NlZCBzZWdtZW50IGluIFJMRSBzbGljZQAAABkAEAAKAAAAmQAAABYAAAAZABAACgAAAJYAAAAWAAAAaW5wdXQgdGVybWluYXRlZCB3aGlsZSBkZWNvZGluZyByZXBlYXQgc2VnbWVudCBpbiBSTEUgc2xpY2UAGQAQAAoAAACmAAAAFgAAABkAEAAKAAAAoQAAABIAAAAvVXNlcnMveWhrYW5nLy5jYXJnby9yZWdpc3RyeS9zcmMvaW5kZXguY3JhdGVzLmlvLTZmMTdkMjJiYmExNTAwMWYvY29uc29sZV9lcnJvcl9wYW5pY19ob29rLTAuMS43L3NyYy9saWIucnP0ABAAbAAAAJUAAAAOAAAAaW52YWxpZCBlbnVtIHZhbHVlIHBhc3NlZAAAAAEAAAAAAAAAAQAAAAIAAAADAAAABAAAAG9uZS10aW1lIGluaXRpYWxpemF0aW9uIG1heSBub3QgYmUgcGVyZm9ybWVkIHJlY3Vyc2l2ZWx5pAEQADgAAABPbmNlIGluc3RhbmNlIGhhcyBwcmV2aW91c2x5IGJlZW4gcG9pc29uZWQAAOQBEAAqAAAAY2FsbGVkIGBPcHRpb246OnVud3JhcCgpYCBvbiBhIGBOb25lYCB2YWx1ZS9ydXN0Yy85MGM1NDE4MDZmMjNhMTI3MDAyZGU1YjQwMzhiZTczMWJhMTQ1OGNhL2xpYnJhcnkvc3RkL3NyYy9zeW5jL29uY2UucnMAQwIQAEwAAACVAAAAMgAAAAUAAAAEAAAABAAAAAYAAAAHAAAACAAAAAkAAAAMAAAABAAAAAoAAAALAAAADAAAAGEgRGlzcGxheSBpbXBsZW1lbnRhdGlvbiByZXR1cm5lZCBhbiBlcnJvciB1bmV4cGVjdGVkbHkADQAAAAAAAAABAAAADgAAAC9ydXN0Yy85MGM1NDE4MDZmMjNhMTI3MDAyZGU1YjQwMzhiZTczMWJhMTQ1OGNhL2xpYnJhcnkvYWxsb2Mvc3JjL3N0cmluZy5ycwAYAxAASwAAAN0JAAAOAAAACgpTdGFjazoKCgAAEQAAAAQAAAAEAAAAEgAAABMAAAAUAAAAY2FsbGVkIGBPcHRpb246OnVud3JhcCgpYCBvbiBhIGBOb25lYCB2YWx1ZW1lbW9yeSBhbGxvY2F0aW9uIG9mICBieXRlcyBmYWlsZWQAAADDAxAAFQAAANgDEAANAAAAbGlicmFyeS9zdGQvc3JjL2FsbG9jLnJz+AMQABgAAABVAQAACQAAAGNhbm5vdCBtb2RpZnkgdGhlIHBhbmljIGhvb2sgZnJvbSBhIHBhbmlja2luZyB0aHJlYWQgBBAANAAAAGxpYnJhcnkvc3RkL3NyYy9wYW5pY2tpbmcucnNcBBAAHAAAAIcAAAAJAAAAXAQQABwAAABBAgAAHgAAAFwEEAAcAAAAQAIAAB8AAAAVAAAADAAAAAQAAAAWAAAAEQAAAAgAAAAEAAAAFwAAABgAAAAQAAAABAAAABkAAAAaAAAAEQAAAAgAAAAEAAAAGwAAABwAAAARAAAAAAAAAAEAAAAdAAAAbGlicmFyeS9hbGxvYy9zcmMvcmF3X3ZlYy5yc2NhcGFjaXR5IG92ZXJmbG93AAAAHAUQABEAAAAABRAAHAAAAAwCAAAFAAAASAUQAAAAAAA6AAAASAUQAAAAAABQBRAAAQAAAFAFEAABAAAAcGFuaWNrZWQgYXQgJycsIHgFEAABAAAAeQUQAAMAAAAjAAAAAAAAAAEAAAAkAAAAOiAAAEgFEAAAAAAAnAUQAAIAAAAwMDAxMDIwMzA0MDUwNjA3MDgwOTEwMTExMjEzMTQxNTE2MTcxODE5MjAyMTIyMjMyNDI1MjYyNzI4MjkzMDMxMzIzMzM0MzUzNjM3MzgzOTQwNDE0MjQzNDQ0NTQ2NDc0ODQ5NTA1MTUyNTM1NDU1NTY1NzU4NTk2MDYxNjI2MzY0NjU2NjY3Njg2OTcwNzE3MjczNzQ3NTc2Nzc3ODc5ODA4MTgyODM4NDg1ODY4Nzg4ODk5MDkxOTI5Mzk0OTU5Njk3OTg5OUVycm9yAG8JcHJvZHVjZXJzAghsYW5ndWFnZQEEUnVzdAAMcHJvY2Vzc2VkLWJ5AwVydXN0Yx0xLjcwLjAgKDkwYzU0MTgwNiAyMDIzLTA1LTMxKQZ3YWxydXMGMC4xOS4wDHdhc20tYmluZGdlbgYwLjIuODcALA90YXJnZXRfZmVhdHVyZXMCKw9tdXRhYmxlLWdsb2JhbHMrCHNpZ24tZXh0",t=async(O={},V)=>{let de;if(V.startsWith("data:")){const oe=V.replace(/^data:.*?base64,/,"");let me;if(typeof Buffer=="function"&&typeof Buffer.from=="function")me=Buffer.from(oe,"base64");else if(typeof atob=="function"){const ve=atob(oe);me=new Uint8Array(ve.length);for(let xe=0;xe<ve.length;xe++)me[xe]=ve.charCodeAt(xe)}else throw new Error("Cannot decode base64-encoded data URL");de=await WebAssembly.instantiate(me,O)}else{const oe=await fetch(V),me=oe.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&me.startsWith("application/wasm"))de=await WebAssembly.instantiateStreaming(oe,O);else{const ve=await oe.arrayBuffer();de=await WebAssembly.instantiate(ve,O)}}return de.instance.exports};let n;cH=function(O){n=O};const r=new Array(128).fill(void 0);r.push(void 0,null,!0,!1);function a(O){return r[O]}let o=r.length;function s(O){O<132||(r[O]=o,o=O)}function l(O){const V=a(O);return s(O),V}const d=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let u=new d("utf-8",{ignoreBOM:!0,fatal:!0});u.decode();let f=null;function p(){return(f===null||f.byteLength===0)&&(f=new Uint8Array(n.memory.buffer)),f}function g(O,V){return O=O>>>0,u.decode(p().subarray(O,O+V))}let v=0;function c(O,V){const de=V(O.length*1,1)>>>0;return p().set(O,de/1),v=O.length,de}let h=null;function m(){return(h===null||h.byteLength===0)&&(h=new Int32Array(n.memory.buffer)),h}function U(O,V){return O=O>>>0,p().subarray(O/1,O/1+V)}Dae=function(O,V,de,oe,me,ve,xe){try{const Ee=n.__wbindgen_add_to_stack_pointer(-16),ze=c(V,n.__wbindgen_malloc),at=v,q=c(oe,n.__wbindgen_malloc),ae=v,Ae=c(ve,n.__wbindgen_malloc),$e=v;n.decode_rgb(Ee,O,ze,at,de,q,ae,me,Ae,$e,xe);var le=m()[Ee/4+0],he=m()[Ee/4+1],ge=U(le,he).slice();return n.__wbindgen_free(le,he*1),ge}finally{n.__wbindgen_add_to_stack_pointer(16)}},Pae=function(O,V,de,oe,me,ve,xe,le,he){try{const at=n.__wbindgen_add_to_stack_pointer(-16),q=c(V,n.__wbindgen_malloc),ae=v,Ae=c(oe,n.__wbindgen_malloc),$e=v,Ce=c(ve,n.__wbindgen_malloc),je=v,Oe=c(le,n.__wbindgen_malloc),Ke=v;n.decode_rgba(at,O,q,ae,de,Ae,$e,me,Ce,je,xe,Oe,Ke,he);var ge=m()[at/4+0],Ee=m()[at/4+1],ze=U(ge,Ee).slice();return n.__wbindgen_free(ge,Ee*1),ze}finally{n.__wbindgen_add_to_stack_pointer(16)}},Bae=function(O,V,de){try{const xe=n.__wbindgen_add_to_stack_pointer(-16),le=c(V,n.__wbindgen_malloc),he=v;n.decode_grayscale(xe,O,le,he,de);var oe=m()[xe/4+0],me=m()[xe/4+1],ve=U(oe,me).slice();return n.__wbindgen_free(oe,me*1),ve}finally{n.__wbindgen_add_to_stack_pointer(16)}},Rae=function(O,V,de,oe,me){try{const he=n.__wbindgen_add_to_stack_pointer(-16),ge=c(V,n.__wbindgen_malloc),Ee=v,ze=c(oe,n.__wbindgen_malloc),at=v;n.decode_grayscale_a(he,O,ge,Ee,de,ze,at,me);var ve=m()[he/4+0],xe=m()[he/4+1],le=U(ve,xe).slice();return n.__wbindgen_free(ve,xe*1),le}finally{n.__wbindgen_add_to_stack_pointer(16)}};function b(O){o===r.length&&r.push(r.length+1);const V=o;return o=r[V],r[V]=O,V}const w=typeof TextEncoder>"u"?(0,module.require)("util").TextEncoder:TextEncoder;let E=new w("utf-8");const x=typeof E.encodeInto=="function"?function(O,V){return E.encodeInto(O,V)}:function(O,V){const de=E.encode(O);return V.set(de),{read:O.length,written:de.length}};function C(O,V,de){if(de===void 0){const le=E.encode(O),he=V(le.length,1)>>>0;return p().subarray(he,he+le.length).set(le),v=le.length,he}let oe=O.length,me=V(oe,1)>>>0;const ve=p();let xe=0;for(;xe<oe;xe++){const le=O.charCodeAt(xe);if(le>127)break;ve[me+xe]=le}if(xe!==oe){xe!==0&&(O=O.slice(xe)),me=de(me,oe,oe=xe+O.length*3,1)>>>0;const le=p().subarray(me+xe,me+oe),he=x(O,le);xe+=he.written}return v=xe,me}lH=function(){const O=new Error;return b(O)},dH=function(O,V){const de=a(V).stack,oe=C(de,n.__wbindgen_malloc,n.__wbindgen_realloc),me=v;m()[O/4+1]=me,m()[O/4+0]=oe},sH=function(O,V){let de,oe;try{de=O,oe=V,console.error(g(O,V))}finally{n.__wbindgen_free(de,oe,1)}},uH=function(O){l(O)},fH=function(O,V){throw new Error(g(O,V))},URL=globalThis.URL;const I=await t({"./webtoon_psd_decoder_bg.js":{__wbg_new_abda76e883ba8a5f:lH,__wbg_stack_658279fe44541cf6:dH,__wbg_error_f851667af71bcfc6:sH,__wbindgen_object_drop_ref:uH,__wbindgen_throw:fH}},e),S=I.memory,M=I.main_js,R=I.decode_rgb,D=I.decode_rgba,L=I.decode_grayscale,j=I.decode_grayscale_a,re=I.__wbindgen_add_to_stack_pointer,J=I.__wbindgen_malloc,H=I.__wbindgen_free,ne=I.__wbindgen_realloc,Z=I.__wbindgen_start,se=Object.freeze(Object.defineProperty({__proto__:null,__wbindgen_add_to_stack_pointer:re,__wbindgen_free:H,__wbindgen_malloc:J,__wbindgen_realloc:ne,__wbindgen_start:Z,decode_grayscale:L,decode_grayscale_a:j,decode_rgb:R,decode_rgba:D,main_js:M,memory:S},Symbol.toStringTag,{value:"Module"}));cH(se),Z()})();async function jXe(e,t,n,r,a,o){const s=e*t;if(!(s>0&&Number.isInteger(s)))throw new Error(`Pixel count must be a positive integer, got ${s}`);let l;if(r&&a)l=await OXe(s,n,r,a,o);else if(!a&&!r)l=await rI(s,n,o);else throw new Error(`Missing ${a?"green":"blue"} channel in RGB image`);return new Uint8ClampedArray(l.buffer,l.byteOffset,l.byteLength)}function Hg(e){switch(e){case yd.RawData:case yd.RleCompressed:return}throw new Eae(`Unsupported compression method: ${e}`)}async function OXe(e,t,n,r,a){return await Lae,Hg(t.compression),Hg(r.compression),Hg(t.compression),a&&Hg(a.compression),a?Pae(e,t.data,t.compression,n.data,n.compression,r.data,r.compression,a.data,a.compression):Dae(e,t.data,t.compression,n.data,n.compression,r.data,r.compression)}async function rI(e,t,n){return await Lae,Hg(t.compression),n&&Hg(n.compression),n?Rae(e,t.data,t.compression,n.data,n.compression):Bae(e,t.data,t.compression)}function zXe(e){const t=BXe(e),{fileHeader:n}=t,r=BB(n.version),a=jKe(t.imageResources),o=MXe(t.layerAndMaskInformation,r),s=DKe(t.imageData,n.depth,n.height,n.channelCount,r);return{fileHeader:n,colorModeData:void 0,imageResources:a,layerAndMaskInfo:o,imageData:s}}function s7(e){const t=e.readUnicodeString(0),n=e.readIdString(),r=e.read("u32"),a=new Map;for(;a.size<r;){const o=e.readIdString(),s=iI(e);if(a.has(o))throw new fKe(`Duplicate descriptor key: ${o}`);a.set(o,s)}return{name:t,classId:n,items:a}}function yc(e){const t=e.read("u32");if(t!==16)throw new uKe(`Invalid descriptor version: ${t}`);const n=s7(e);return{descriptorVersion:t,descriptor:n}}function iI(e){const t=e.readString(4);switch(t){case ir.Alias:{const n=e.read("u32"),r=e.take(n);return{type:t,data:r}}case ir.Boolean:{const n=!!e.read("u8");return{type:t,value:n}}case ir.Class:case ir.GlobalClass:{const n=e.readUnicodeString(0),r=e.readIdString();return{type:t,name:n,classId:r}}case ir.Descriptor:case ir.GlobalObject:{const n=s7(e);return{type:t,descriptor:n}}case ir.Double:{const n=e.read("f64");return{type:t,value:n}}case ir.Enumerated:{const n=e.readIdString(),r=e.readIdString();return{type:t,enumType:n,enumValue:r}}case ir.Integer:{const n=e.read("i32");return{type:t,value:n}}case ir.LargeInteger:{const n=e.read("i64");return{type:t,value:n}}case ir.List:{const n=e.read("u32"),r=[];for(;r.length<n;)r.push(iI(e));return{type:t,values:r}}case ir.RawData:{const n=e.read("u32"),r=e.take(n);return{type:t,data:r}}case ir.Reference:{const n=e.read("u32"),r=[];for(;r.length<n;)r.push(QXe(e));return{type:t,references:r}}case ir.String:{const n=e.readUnicodeString(0);return{type:t,value:n}}case ir.UnitFloat:{const n=hH(e.readString(4)),r=e.read("f64");return{type:t,unitType:n,value:r}}case ir.ObjectArray:{e.read("u32");const n=e.readUnicodeString(0),r=e.readIdString(),a=e.read("u32"),o=Array.from(Array(a),()=>{const s=e.readIdString(),l=iI(e);return{key:s,value:l}});return{type:t,classObj:{name:n,classId:r},items:o}}case ir.UnitFloats:{const n=hH(e.readString(4)),r=e.read("u32"),a=Array.from(Array(r),()=>e.read("f64"));return{type:t,unitType:n,values:a}}default:throw new dKe(`Unexpected descriptor type: ${t}`)}}function QXe(e){const t=e.readString(4);switch(t){case vu.Class:{const n=e.readUnicodeString(0),r=e.readIdString();return{type:t,name:n,classId:r}}case vu.Enumerated:{const n=e.readUnicodeString(0),r=e.readIdString(),a=e.readIdString(),o=e.readIdString();return{type:t,name:n,classId:r,typeId:a,enumValue:o}}case vu.Identifier:{const n=e.readString(4);return{type:t,identifier:n}}case vu.Index:{const n=e.read("u32");return{type:t,index:n}}case vu.Name:{const n=e.readUnicodeString(0);return{type:t,name:n}}case vu.Offset:{const n=e.readUnicodeString(0),r=e.readIdString(),a=e.read("u32");return{type:t,name:n,classId:r,offset:a}}case vu.Property:{const n=e.readUnicodeString(0),r=e.readIdString(),a=e.readIdString();return{type:t,name:n,classId:r,keyId:a}}default:throw new gKe(`Invalid reference type: ${t}`)}}function hH(e){if(!Object.values(eI).includes(e))throw new mKe(`Invalid Unit Float type: ${e}`);return e}var gi;(function(e){e[e.String=0]="String",e[e.DictBeg=1]="DictBeg",e[e.DictEnd=2]="DictEnd",e[e.ArrBeg=3]="ArrBeg",e[e.ArrEnd=4]="ArrEnd",e[e.Name=5]="Name",e[e.Number=6]="Number",e[e.Boolean=7]="Boolean"})(gi||(gi={}));const aI=new Set([0,9,12,32,10,13]),HXe=new Set([102,116]),Qc={"(":40,")":41,"<":60,">":62,"[":91,"]":93,"/":47,"\\":92},Nae=new Set(Object.values(Qc)),$ae=[];for(let e=0;e<256;e+=1)$ae[e]=aI.has(e)||Nae.has(e);const GXe=new TextDecoder("utf-8");function WXe(e){const t=e.position;let n=e.position;for(const r of e.iter()){if($ae[r])break;n+=1}return GXe.decode(e.take(n-t))}class VXe{constructor(t){this.cursor=Yh.from(t)}tokens(){const t=[];for(;!this.done();){const n=this.cursor.one();if(aI.has(n)){for(;!this.done()&&aI.has(this.cursor.peek());)this.cursor.pass(1);continue}if(Nae.has(n)){if(n===Qc["("]){t.push({type:gi.String,value:this.text()});continue}if(n===Qc["["]){t.push({type:gi.ArrBeg});continue}if(n===Qc["]"]){t.push({type:gi.ArrEnd});continue}if(n===Qc["<"]){this.cursor.pass(1),t.push({type:gi.DictBeg});continue}if(n===Qc[">"]){this.cursor.pass(1),t.push({type:gi.DictEnd});continue}if(n===Qc["/"]){t.push({type:gi.Name,value:this.string()});continue}console.assert(!1,"Unhandled delimiter: '%s'",String.fromCharCode(n));continue}this.cursor.unpass(1),HXe.has(n)?t.push({type:gi.Boolean,value:this.boolean()}):t.push({type:gi.Number,value:this.number()})}return t}done(){return this.cursor.position>=this.cursor.length}text(){const t=this.cursor.peek();if(t===Qc[")"])return this.cursor.pass(1),"";const n=t===255||t===254;let r=new TextDecoder("utf-16be");n&&(r=this.textDecoderFromBOM());const a=[],o=this.cursor.clone();for(;o.peek()!==Qc[")"];)if(o.pass(1),o.peek()===Qc["\\"]){const d=o.position-this.cursor.position;a.push(r.decode(this.cursor.take(d),{stream:!0})),o.pass(2),this.cursor.pass(1),a.push(r.decode(this.cursor.take(1),{stream:!0}))}const s=o.position-this.cursor.position,l=this.cursor.take(s);return a.push(r.decode(l)),this.cursor.pass(1),a.join("")}textDecoderFromBOM(){const t=this.cursor.one(),n=this.cursor.one();if(t===255&&n===254)return new TextDecoder("utf-16le");if(t===254&&n===255)return new TextDecoder("utf-16be");throw new bKe(`Unknown BOM value: [${t}, ${n}]`)}string(){return WXe(this.cursor)}number(){const t=this.string(),n=Number(t);if(Number.isNaN(n))throw new vKe(`parsing '${t}' as Number failed`);return n}boolean(){const t=this.string();if(t==="true")return!0;if(t==="false")return!1;throw new UKe(`'${t}' is neither 'true' nor 'false'`)}}const V9=Symbol(gi[gi.ArrBeg]),Y9=Symbol(gi[gi.DictBeg]);class YXe{constructor(t){this.tokens=t,this.stack=[]}parse(){this.runParser();const[t]=this.stack;if(typeof t=="object"&&!Array.isArray(t))return t;throw new yKe(`EngineData top-level value is not a dict; is ${typeof t}`)}runParser(){for(const t of this.tokens)switch(t.type){case gi.Name:case gi.Number:case gi.Boolean:case gi.String:this.stack.push(t.value);continue;case gi.DictBeg:this.stack.push(Y9);continue;case gi.ArrBeg:this.stack.push(V9);continue;case gi.DictEnd:this.stack.push(this.dict());continue;case gi.ArrEnd:this.stack.push(this.array().reverse());continue}}dict(){const t={};for(;;){const n=this.stack.pop();if(n===void 0)throw new eH("Stack empty when parsing dict");if(n===Y9)return t;if(n===V9)throw new Q9("Got ArrBeg while parsing a dict");const r=this.stack.pop();if(typeof r!="string")throw new Q9(`Dict key is not Name; is ${typeof r}`);t[r]=n}}array(){const t=[];for(;;){const n=this.stack.pop();if(n===void 0)throw new eH("Stack empty when parsing array");if(n===Y9)throw new Q9("Got DictBeg while parsing array");if(n===V9)return t;t.push(n)}}}const KXe=new Set(["DocumentResources","EngineDict","ResourceDict"]);function XXe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ZXe(e){let t=!0;if(typeof e!="object"||!e)return!1;for(const n of KXe)if(XXe(e,n)){const r=e[n];t=t&&typeof r=="object"&&!Array.isArray(r)&&!!r}else return!1;return t}function qXe(e){const t=new YXe(new VXe(e).tokens()).parse();if(ZXe(t))return t;throw new AKe(`Object with keys ${JSON.stringify(Object.keys(t))} is not valid EngineData`)}class Fae{async composite(t=!0,n=!0){const{red:r,green:a,blue:o,alpha:s}=this.imageData,{width:l,height:d}=this,u=await jXe(l,d,r,a,o,s);if(t===!0)if(n===!0){const f=this.composedOpacity*255;return oH(u,f)}else return oH(u,this.opacity);return u}}class JXe extends Fae{constructor(t,n){super(),this.layerFrame=t,this.parent=n,this.type="Layer"}get name(){return this.layerFrame.layerProperties.name}get width(){return this.layerFrame.width}get height(){return this.layerFrame.height}get top(){return this.layerFrame.layerProperties.top}get left(){return this.layerFrame.layerProperties.left}get opacity(){return this.layerFrame.layerProperties.opacity}get composedOpacity(){return this.parent.composedOpacity*(this.opacity/255)}get maskData(){return this.layerFrame.layerProperties.maskData}async userMask(){const t=this.layerFrame.userMask;if(t)return rI(tH(this.maskData),t)}async realUserMask(){const t=this.maskData.realData,n=this.layerFrame.realUserMask;if(!(!t||!n))return rI(tH(t),n)}get isHidden(){return this.layerFrame.layerProperties.hidden}get isTransparencyLocked(){return this.layerFrame.layerProperties.transparencyLocked}get additionalProperties(){return this.layerFrame.layerProperties.additionalLayerProperties}get text(){return this.layerFrame.layerProperties.text}get textProperties(){return this.layerFrame.layerProperties.textProperties}get imageData(){const{red:t,green:n,blue:r,alpha:a}=this.layerFrame;return{red:t,green:n,blue:r,alpha:a}}}function eZe(e){return e.type==="Psd"||e.type==="Group"}function pH(e){if(!eZe(e))throw new dn(`Node (name = '${e.name}', type: '${e.type}') cannot be a parent node`)}class tZe{constructor(t,n,r,a,o){this.origin=t,this.left=n,this.top=r,this.right=a,this.bottom=o}}function nZe(e){if(e.resource.descriptor){const t=e.resource.descriptor.descriptor.items.get("slices");if(!(t&&t.type===ir.List))throw new Kv('Missing key "slices" in slice descriptor');return t.values.reduce((n,r)=>{if(r.type!==ir.Descriptor)throw new Kv(`Slice list contains a non-descriptor (type: ${r.type})`);return n.push(rZe(r.descriptor)),n},[])}else throw new Kv("No slice descriptor in slice resource block")}function rZe(e){const t=iZe(e),n=hg(e,"bounds",ir.Descriptor).descriptor,r=hg(n,"Top ",ir.Integer).value,a=hg(n,"Left",ir.Integer).value,o=hg(n,"Btom",ir.Integer).value,s=hg(n,"Rght",ir.Integer).value;return new tZe(t,a,r,s,o)}function iZe(e){const t=hg(e,"origin",ir.Enumerated);if(t.enumType!=="ESliceOrigin")throw new Kv(`Unexpected enum type for slice origin: got "${t.enumType}"`);switch(t.enumValue){case"layerGenerated":return lm.LayerGenerated;case"userGenerated":return lm.UserGenerated;case"autoGenerated":return lm.AutoGenerated;default:throw new Kv(`Unexpected enum value for slice origin: got "${t.enumValue}"`)}}class RB extends Fae{static parse(t){const n=zXe(t);return new RB(n)}constructor(t){super(),this.parsingResult=t,this.name="ROOT",this.type="Psd",this.opacity=255,this.composedOpacity=1,this.children=[],this.layers=[],this.guides=[],this.slices=[],this.icc_profile=void 0,this.globalLightAngle=void 0,this.globalLightAltitude=void 0,this.resolutionInfo=void 0,this.additionalLayerProperties={},this.buildTreeStructure(),this.additionalLayerProperties=t.layerAndMaskInfo.globalAdditionalLayerInformation;for(const n of t.imageResources.resources)if(n.resource!==null)switch(n.id){case Bo.GridAndGuides:this.guides=n.resource.guides;break;case Bo.Slices:this.slices=nZe(n);break;case Bo.ICCProfile:this.icc_profile=n.resource;break;case Bo.GlobalLightAltitude:this.globalLightAltitude=n.resource;break;case Bo.GlobalLightAngle:this.globalLightAngle=n.resource;break;case Bo.ResolutionInfo:this.resolutionInfo=n.resource;break}}get width(){return this.parsingResult.fileHeader.width}get height(){return this.parsingResult.fileHeader.height}get channelCount(){return this.parsingResult.fileHeader.channelCount}get depth(){return this.parsingResult.fileHeader.depth}get colorMode(){return this.parsingResult.fileHeader.colorMode}get imageData(){const{compression:t,red:n,green:r,blue:a,alpha:o}=this.parsingResult.imageData;return{red:{compression:t,data:n},green:r?{compression:t,data:r}:void 0,blue:a?{compression:t,data:a}:void 0,alpha:o?{compression:t,data:o}:void 0}}buildTreeStructure(){const{groups:t,layers:n,orders:r}=this.parsingResult.layerAndMaskInfo,a=[this];let o=0,s=0;r.forEach(l=>{const d=a[a.length-1];switch(l){case"G":{const u=t[o];pH(d);const f=new jYe(u,d);a.push(f),d.children.push(f),o+=1;break}case"L":{const u=n[s];pH(d);const f=new JXe(u,d);this.layers.push(f),d.children.push(f),s+=1;break}case"D":a.pop()}}),a.length=0,this.children.forEach(l=>{var d,u;return(u=(d=l).freeze)===null||u===void 0?void 0:u.call(d)}),Object.freeze(this.children)}}const aZe={AlibabaSans:[{family:"Alibaba",url:"https://magicmaker.obs.cn-north-4.myhuaweicloud.com/frontends/fonts/AlibabaSans/./de380fac5da4e82cba22db420dd976d0.woff2",style:"normal",display:"swap",weight:"400",unicodeRange:"U+374-375,U+37E,U+384,U+387,U+3B3,U+3BC,U+FEFF"},{family:"Alibaba",url:"https://magicmaker.obs.cn-north-4.myhuaweicloud.com/frontends/fonts/AlibabaSans/./0fc0df4e1dcea3da47ff692680ec7d5b.woff2",style:"normal",display:"swap",weight:"400",unicodeRange:"U+2BC,U+2DB,U+2010-2011,U+2013-2015,U+2017,U+201B,U+2020-2022,U+2030,U+2032-2033,U+203C-203E,U+2070,U+2074-208E,U+2099,U+20A2,U+20A4,U+20A6-20A7,U+20A9-20AA,U+20AD,U+20AF-20B1,U+20B4,U+20B6-20B7,U+20B9-20BF,U+2113,U+2116-2117,U+212E,U+215B-215E,U+2202,U+220F,U+2212,U+2215,U+2219-221A,U+221E,U+222B,U+2248,U+2260,U+2264-2265,U+25CA"},{family:"Alibaba",url:"https://magicmaker.obs.cn-north-4.myhuaweicloud.com/frontends/fonts/AlibabaSans/./9f320eeec33ae0406b5dd68e281015dc.woff2",style:"normal",display:"swap",weight:"400",unicodeRange:"U+411,U+417,U+428-42A,U+42C,U+432,U+434,U+437,U+43B-43C,U+442,U+444,U+448-44A,U+44C,U+44E,U+452,U+459,U+497"},{family:"Alibaba",url:"https://magicmaker.obs.cn-north-4.myhuaweicloud.com/frontends/fonts/AlibabaSans/./eb0962eacbafadbaeab286338a07ecbf.woff2",style:"normal",display:"swap",weight:"400",unicodeRange:"U+0,U+D,U+20-7E,U+A0-17F,U+18F,U+192,U+1FA-1FF,U+218-21B,U+237,U+259,U+2C6-2C7,U+2C9,U+2D8-2DA,U+2DC-2DD,U+300-304,U+306-308,U+30A-30C,U+313,U+326-328,U+385-386,U+388-38A,U+38C,U+38E-3A1,U+3A3-3B2,U+3B4-3BB,U+3BD-3CE,U+400-410,U+412-416,U+418-427,U+42B,U+42D-431,U+433,U+435-436,U+438-43A,U+43D-441,U+443,U+445-447,U+44B,U+44D,U+44F-451,U+453-458,U+45A-45F,U+490-493,U+496,U+49A-49D,U+4A2-4A3,U+4AE-4AF,U+4B2-4B3,U+4B8-4BB,U+4C0,U+4CF,U+4D8-4D9,U+4E8-4E9,U+1E80-1E85,U+1E9E,U+1EF2-1EF3,U+2018-201A,U+201C-201E,U+2026,U+2039-203A,U+2044,U+20A1,U+20A3,U+20A5,U+20A8,U+20AB-20AC,U+20AE,U+20B2-20B3,U+20B5,U+20B8,U+2105,U+2122,U+2126,U+2166,U+2206,U+2211,U+FB00-FB04"}]},oZe={Bellefair:[{family:"Bellefair",url:"https://magicmaker.obs.cn-north-4.myhuaweicloud.com/frontends/fonts/Bellefair/./0d749a8b058dea48a6b20785de6009a0.woff2",style:"normal",display:"swap",weight:"400",unicodeRange:"U+394,U+3A9,U+3BC,U+3C0"},{family:"Bellefair",url:"https://magicmaker.obs.cn-north-4.myhuaweicloud.com/frontends/fonts/Bellefair/./e073eb9b4cd9fd76e55b874d56102ff0.woff2",style:"normal",display:"swap",weight:"400",unicodeRange:"U+2C6-2C7,U+2C9,U+2D8-2DD,U+326,U+2019,U+201D,U+2020-2022,U+2030,U+203A,U+2044,U+20A3-20A4,U+20A7,U+20AA,U+20AC,U+2113,U+2122,U+2126,U+212E,U+2202,U+2206,U+220F,U+2211-2212,U+2215,U+2219-221A,U+221E,U+222B,U+2248,U+2260,U+2264-2265,U+25CA,U+F8FF,U+FB01-FB02"},{family:"Bellefair",url:"https://magicmaker.obs.cn-north-4.myhuaweicloud.com/frontends/fonts/Bellefair/./9f1a7d84cc2acb4b19f8ba8879056253.woff2",style:"normal",display:"swap",weight:"400",unicodeRange:"U+0,U+D,U+20-7E,U+A0-17F,U+192,U+218-21B,U+237,U+5B0-5BC,U+5BE,U+5C1-5C2,U+5C7,U+5D0-5EA,U+5F3,U+1E80-1E85,U+1E9E,U+2013-2014,U+2018,U+201A,U+201C,U+201E,U+2026,U+2039,U+FB2A-FB36,U+FB38-FB3C,U+FB3E,U+FB40-FB41,U+FB43-FB44,U+FB46-FB4B"}]};async function dJe(e){const t=await e.arrayBuffer(),n=RB.parse(t),r={version:"0.0.2",width:n.width,height:n.height,origin:[],elements:[],files:[]},a=sZe(n.children);return r.origin=await lZe(a,r),r.origin=jae(r.origin),r.elements=Ah(r.origin.reverse()),r.elements=Oae(r.elements,r.origin),r}function sZe(e){const t=[];function n(r){r.forEach(a=>{var o,s;(s=(o=a==null?void 0:a.layerFrame)==null?void 0:o.layerProperties)!=null&&s.hidden||a!=null&&a.isHidden||(a.children?n(a.children):t.push(a))})}return n(e),t}async function lZe(e,t){const n=[],r=[ku()];for(let a=0;a<e.length;a++){const o=e[a],s={name:o.name,x:o.left,y:o.top,width:o.width,height:o.height,groupIds:r};if(o.text){if(!isNaN(o.text))continue;const{FontSize:l,FillColor:d}=o.textProperties.EngineDict.StyleRun.RunArray[0].StyleSheet.StyleSheetData,{FontSet:u}=o.textProperties.ResourceDict,{Justification:f}=o.textProperties.EngineDict.ParagraphRun.RunArray[0].ParagraphSheet.Properties;n.push({...s,type:"text",text:o.text,textAlign:uZe(f),fontSize:l||12,strokeColor:dZe((d==null?void 0:d.Values)||[1,0,0,0]),fontFamily:(u==null?void 0:u[0].Name)||2})}else if(o.type=="Layer"){const l=await cZe(o),d=ku();t.files.push({id:d,mimeType:"image/jpeg",dataURL:l}),n.push({...s,type:"image",fileId:d})}else console.error("not found type: ",o.type)}return n}async function cZe(e){try{const t=await e.composite(),n=document.createElement("canvas"),r=n.getContext("2d"),a=new ImageData(t,e.width,e.height);return n.width=e.width,n.height=e.height,r.putImageData(a,0,0),n.toDataURL("image/png")}catch(t){console.error(t)}}function dZe(e){const[,t,n,r]=e;return`rgb(${t*255}, ${n*255}, ${r*255})`}function uZe(e){switch(e){case 0:case 3:return"left";case 1:case 4:return"right";case 2:case 5:return"center";default:return"left"}}function jae(e){const t=Object.keys(aZe).concat(Object.keys(oZe));return e.map(n=>{if(n.type==="text"&&typeof n.fontFamily=="string"){const r=n.fontFamily,a=t.find(o=>r.includes(o));return{...n,fontFamily:a??2,fontSize:n.fontSize>80?n.fontSize*.8:n.fontSize}}return n})}function Oae(e,t){return e.map((n,r)=>n.type==="text"?{...n,x:t[r].x,y:t[r].y,autoResize:!1,width:t[r].width,height:t[r].height}:n)}const fZe=J0("draw",()=>{const e=Ie(!1),t=Ie(),n=Ie({theme:"dark",exportWithDarkMode:!0}),r=Ie([]),a=Ie({}),o=Ie(),s=CX(),l=()=>{const m=t.value.getSceneElements().filter(x=>!x.isDeleted);let U=1/0,b=1/0,w=-1/0,E=-1/0;return m.forEach(x=>{U=Math.min(U,x.x),b=Math.min(b,x.y),w=Math.max(w,x.x+x.width),E=Math.max(E,x.y+x.height)}),U===1/0&&(U=0,b=0,w=0,E=0),{minX:U,minY:b,maxX:w,maxY:E}},d=()=>{const m=t.value.getSceneElements(),U=t.value.getAppState(),b=Object.keys(U.selectedElementIds);return m.find(w=>w.id===b[0])},u=async m=>{const U=ku(),b=t.value.getAppState(),w=Ah([{width:m.width,height:m.height,type:"image",x:b.width/2-m.width/2,y:b.height/2-m.height/2,fileId:U,customData:{url:m.url}}]),E=await K2(m.url);h(w,[{id:U,dataURL:E,mimeType:"image/png"}])},f=async m=>{const U=[];for(let w=0;w<m.length;w++){const E=m[w];if(E.type==="image"&&E.url){const x=await K2(E.url);U.push({id:E.fileId,mimeType:"image/png",dataURL:x}),E.customData={url:E.url}}}m=jae(m);let b=Ah(m.reverse());b=Oae(b,m),h(b,U)},p=async m=>{const U=l();let b=U.minX,w=U.maxY+100;const E=700,x=700,C=700,I=120,S=[],M=[],R=[ku()];for(let L=0;L<m.length;L++){const{prompt:j,url:re}=m[L],J=ku(),H=await K2(re);S.push({type:"image",width:E,height:x,x:b,y:w,fileId:J,groupIds:R,customData:{prompt:j,url:re}}),S.push({type:"rectangle",strokeColor:"transparent",x:b,y:w+x+50,width:C,height:I,groupIds:R,backgroundColor:"#e9ecef",roundness:{type:3},label:{textAlign:"center",text:j,fontSize:30,strokeColor:"rgb(0,0,0)",fontFamily:2}}),M.push({id:J,mimeType:"image/png",dataURL:H}),L===3?(b=U.minX,w+=x+50+I+50):b+=E+100}const D=Ah(S);h(D,M)},g=async(m,U)=>{let b=await K2(m);const w=t.value.getSceneElements(),E=ku(),x=w.filter(S=>S.id!==U.id),C=Ah([{width:U.width,height:U.height,type:"image",x:U.x,y:U.y,fileId:E,customData:{url:m}}]);x.push(...C),b=await NYe({base64:b,shape:U.type,width:U.width,height:U.height});const I={id:E,dataURL:b,mimeType:"image/png"};t.value.updateScene({elements:x}),t.value.addFiles([I])},v=async()=>{var b;const m=t.value.getSceneElements(),U=t.value.getFiles();for(const w of m)if(w.type==="image"&&!((b=w==null?void 0:w.customData)!=null&&b.url)){const E=U[w.fileId],x=EEe(E.dataURL,E.mimeType),C=xEe(x,`${new Date().toLocaleString()}.png`),I=URL.createObjectURL(C);w.customData={url:I,...w==null?void 0:w.customData}}return r.value=m.filter(w=>!w.isDeleted),r.value},c=async m=>{var b;const U=[];for(const w of m)if(w.type==="image"&&((b=w==null?void 0:w.customData)!=null&&b.url)){const E=await K2(w.customData.url);U.push({id:w.fileId,dataURL:E,mimeType:"image/png"})}t.value?h(m,U,"replace"):(r.value=m,U.forEach(w=>{a.value[w.id]=w}))},h=async(m,U,b="append")=>{const w=t.value.getSceneElements(),E=b=="append"?w.concat(m):m;t.value.updateScene({elements:E}),t.value.addFiles(U),t.value.scrollToContent(E,{fitToViewport:!0,animate:!0})};return Rt(()=>s.isDark,m=>{var U;n.value={theme:m?"dark":"light",exportWithDarkMode:m},(U=t.value)==null||U.updateScene({appState:n.value})}),window.api=()=>(t.value&&console.log(d()),t.value),{loading:e,api:t,state:n,eles:r,files:a,dragInfo:o,getSelected:d,addMaterial:u,addTemplate:f,addStory:p,replaceFile:g,saveDrawData:v,initContent:c,updateContent:h}},{persist:{storage:localStorage,pick:["state","files","eles"]}}),l7=J0("project",()=>{const e=ZX(),t=NX(),n=CM(),r=fZe(),a=_M(),o=Ie(),s=Ie(null),l=Ie([]),d=async()=>{if(s.value)try{const U={...s.value,updatedAt:new Date().toISOString(),resources:a.resources,trackData:t.trackList,drawData:e.path==="/draw"?await r.saveDrawData():[]},b=l.value.findIndex(w=>w.id===U.id);b>=0?l.value[b]=U:l.value.push(U),s.value=U,o.value=new Date().toLocaleString(),ar.success("")}catch(U){console.error("Save project error:",U),ar.error("")}},u=async U=>{const b=P$.service({text:""});try{s.value=U,await a.loadResources(U.resources||[]),await t.loadTrackData(U.trackData||[]),await r.initContent(U.drawData||[]),console.log("Loaded project",s.value)}catch(w){console.error("Load project error:",w),ar.error("")}finally{b.close()}};return{project:s,projectList:l,lastSaveTime:o,init:async()=>{s.value?u(s.value):l.value.length>0&&u(l.value[0])},loadProject:u,updateProject:(U,b)=>{var w;try{const E=l.value.findIndex(x=>x.id===U);if(E>=0){const x={...l.value[E],...b,updatedAt:new Date().toISOString()};return l.value[E]=x,((w=s.value)==null?void 0:w.id)===U&&(s.value=x),ar.success(""),x}else return ar.error(""),null}catch(E){return console.error("Update project error:",E),ar.error(""),null}},saveProject:d,createProject:U=>{const b={id:ku(),name:U.name,description:U.description,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),resources:[],trackData:[],version:"1.0.0"};return s.value=b,l.value.push(b),b},deleteProject:U=>{try{const b=l.value.findIndex(w=>w.id===U);b>=0?(l.value.splice(b,1),ar.success("")):ar.error("")}catch(b){console.error("Delete project error:",b),ar.error("")}},exportVideo:async()=>{const U=P$.service({text:""});try{const b=performance.now(),w=[],E=[];for(const S of t.trackList.reduce((M,{list:R})=>M.concat(R),[]))S instanceof LX?(E.push(S.combine("audio")),S.drawSub&&w.push(S.combine("subtitle"))):E.push(S.combine(n.playerWidth,n.playerHeight,n.outputRadio));E.unshift(...w);const x=await Promise.all(E);console.log("sprite",performance.now()-b,"ms");const C=new bb(new f8({type:"image/gif",stream:(await fetch("/magicmaker.gif")).body}));C.time={offset:0,duration:t.frameCount/Go*1e6},C.zIndex=1e3,x.unshift(C);const I=new xX({width:n.playerWidth,height:n.playerHeight,bgColor:"black",fps:Go});await Promise.all(x.map((S,M)=>(S.zIndex=999-M,I.addSprite(S)))),I.addSprite(C),console.log("",performance.now()-b,"ms"),await I.output().pipeTo(await J$(`Video-${new Date().toLocaleString()}.mp4`)),ar.success(""),console.log("",performance.now()-b,"ms")}finally{U.close()}},importProject:async()=>{var w;const U=await wEe({accept:".json"}),b=await((w=U==null?void 0:U[0])==null?void 0:w.text());try{const E=JSON.parse(b);E.id=ku(),l.value.unshift(E),E&&E.id?(await u(E),ar.success("")):ar.error("")}catch(E){console.error("Import project error:",E),ar.error("")}},exportProject:async U=>{if(!U){ar.error("");return}try{const b=await J$(`${U.name||"Project"}-${new Date().toLocaleString()}.json`);await b.write(JSON.stringify(U,null,2)),await b.close(),ar.success("")}catch(b){console.error("Export project error:",b),ar.error("")}}}},{persist:{storage:localStorage,pick:["projectList","project","lastSaveTime"]}}),hZe={class:"flex justify-center"},pZe={class:"flex justify-center mt-16 mb-8"},gZe=ot({__name:"LoginBox",setup(e){const t=Ab(),n=Ji({username:"",password:""}),r=()=>{t.showLogin=!1},a=()=>{if(!n.username||!n.password){ar.error("");return}t.login(n.username,n.password)?ar.success(""):ar.error("")},o=()=>{t.showLogin=!1,t.showRegister=!0};return(s,l)=>{const d=s4,u=UM,f=r1,p=mM,g=fM;return Te(),Ct(g,{modelValue:Q(t).showLogin,"onUpdate:modelValue":l[2]||(l[2]=v=>Q(t).showLogin=v),width:"500","align-center":"","before-close":r},{default:tt(()=>[l[5]||(l[5]=lt("div",{class:"text-center text-xl mb-16"},"",-1)),lt("div",hZe,[Ge(p,{model:Q(n),size:"default","label-width":"auto",style:{width:"400px"}},{default:tt(()=>[Ge(u,{label:""},{default:tt(()=>[Ge(d,{modelValue:Q(n).username,"onUpdate:modelValue":l[0]||(l[0]=v=>Q(n).username=v),placeholder:""},null,8,["modelValue"])]),_:1}),Ge(u,{label:""},{default:tt(()=>[Ge(d,{modelValue:Q(n).password,"onUpdate:modelValue":l[1]||(l[1]=v=>Q(n).password=v),type:"password",placeholder:""},null,8,["modelValue"])]),_:1}),lt("div",pZe,[Ge(f,{class:"px-6",color:"#1473E6",onClick:a},{default:tt(()=>l[3]||(l[3]=[za("  ")])),_:1}),Ge(f,{class:"px-6",onClick:o},{default:tt(()=>l[4]||(l[4]=[za("  ")])),_:1})])]),_:1},8,["model"])])]),_:1},8,["modelValue"])}}}),mZe={class:"flex justify-center"},UZe={class:"flex justify-center mt-16 mb-8"},vZe=ot({__name:"RegisterBox",setup(e){const t=Ab(),n=Ji({username:"",password:"",email:""}),r=()=>{t.showRegister=!1},a=()=>{if(!n.username||!n.password){ar.error("");return}t.register(n.username,n.password,n.email)?ar.success(""):ar.error("")},o=()=>{t.showLogin=!0,t.showRegister=!1};return(s,l)=>{const d=s4,u=UM,f=r1,p=mM,g=fM;return Te(),Ct(g,{modelValue:Q(t).showRegister,"onUpdate:modelValue":l[3]||(l[3]=v=>Q(t).showRegister=v),width:"500","align-center":"","before-close":r},{default:tt(()=>[l[6]||(l[6]=lt("div",{class:"text-center text-xl mb-16"},"",-1)),lt("div",mZe,[Ge(p,{model:Q(n),size:"default","label-width":"auto",style:{width:"400px"}},{default:tt(()=>[Ge(u,{label:""},{default:tt(()=>[Ge(d,{modelValue:Q(n).username,"onUpdate:modelValue":l[0]||(l[0]=v=>Q(n).username=v),placeholder:""},null,8,["modelValue"])]),_:1}),Ge(u,{label:""},{default:tt(()=>[Ge(d,{modelValue:Q(n).password,"onUpdate:modelValue":l[1]||(l[1]=v=>Q(n).password=v),type:"password",placeholder:""},null,8,["modelValue"])]),_:1}),Ge(u,{label:""},{default:tt(()=>[Ge(d,{modelValue:Q(n).email,"onUpdate:modelValue":l[2]||(l[2]=v=>Q(n).email=v),placeholder:""},null,8,["modelValue"])]),_:1}),lt("div",UZe,[Ge(f,{class:"px-6",color:"#1473E6",onClick:a},{default:tt(()=>l[4]||(l[4]=[za("  ")])),_:1}),Ge(f,{class:"px-6",onClick:o},{default:tt(()=>l[5]||(l[5]=[za("  ")])),_:1})])]),_:1},8,["model"])])]),_:1},8,["modelValue"])}}}),yZe={class:"flex items-center justify-between ml-4 mr-10 text-xs"},bZe={class:"flex items-center gap-8"},AZe={key:0,src:_X,alt:""},wZe=["src"],EZe={class:"flex flex-col gap-4"},xZe={class:"flex flex-col gap-4"},_Ze={class:"flex gap-6"},CZe={class:"mt-6 flex justify-between items-center"},SZe={class:"text-white text-xs font-light font-['Open Sans'] tracking-wide"},IZe=ot({__name:"UserBox",props:{show:{type:Boolean}},emits:["update:show"],setup(e,{emit:t}){const n=t,r=Ab(),a=l7(),o=XX(),s=Ie({}),l=Ie(null),d=()=>{var v;(v=s.value)!=null&&v.username&&(r.userInfo.name=s.value.username),ar.success("")},u=()=>{n("update:show",!1)},f=()=>{r.isLogin=!1,r.authInfo={accessToken:"",tokenType:""},a.project=null,u(),o.push("/"),ar.success("")},p=()=>{var v;(v=l.value)==null||v.click()},g=v=>{const c=v.target.files[0];if(c){if(c.size>5242880){ar.error("5MB");return}const m=URL.createObjectURL(c);s.value.avatarUrl=m,ar.success("")}};return Mr(()=>{s.value={id:1,username:r.userInfo.name||"",nickname:r.userInfo.name||"",avatarUrl:"",email:"",phone:"",phoneCountryCode:"+86",direction:"",profession:"",introduction:"",createAt:"2024-01-01T00:00:00Z"}}),(v,c)=>{const h=r1,m=s4,U=UM,b=mM,w=l4e,E=s4e,x=fM;return Te(),Ct(x,{"model-value":v.show,width:"700","align-center":"","before-close":u},{default:tt(()=>[lt("div",yZe,[lt("div",bZe,[lt("div",{onClick:p,class:"w-20 h-20 bg-[#1473e6] flex justify-center items-center rounded-full cursor-pointer overflow-hidden"},[lt("input",{ref_key:"fileInputRef",ref:l,class:"file-input",type:"file",name:"file",accept:"image/*",hidden:"",onChange:g},null,544),s.value.avatarUrl?(Te(),Ut("img",{key:1,class:"w-full h-full object-cover",src:s.value.avatarUrl,alt:""},null,8,wZe)):(Te(),Ut("img",AZe))]),lt("div",EZe,[lt("div",null,""+Wr(s.value.nickname||""),1),c[6]||(c[6]=lt("div",null,"MagicMaker",-1))])]),lt("div",xZe,[lt("div",null,[Ge(h,{type:"warning",onClick:f},{default:tt(()=>c[7]||(c[7]=[za("   ")])),_:1})])])]),Ge(E,{"model-value":"first",class:"mt-6 mx-4 mb-6"},{default:tt(()=>[Ge(w,{label:"",name:"first"},{default:tt(()=>[lt("div",_Ze,[Ge(b,{class:"mt-2",style:{width:"270px"}},{default:tt(()=>[Ge(U,{label:" "},{default:tt(()=>[Ge(m,{modelValue:s.value.phone,"onUpdate:modelValue":c[0]||(c[0]=C=>s.value.phone=C),disabled:""},null,8,["modelValue"])]),_:1}),Ge(U,{label:" "},{default:tt(()=>[Ge(m,{modelValue:s.value.email,"onUpdate:modelValue":c[1]||(c[1]=C=>s.value.email=C)},null,8,["modelValue"])]),_:1}),Ge(U,{label:" "},{default:tt(()=>[Ge(m,{modelValue:s.value.profession,"onUpdate:modelValue":c[2]||(c[2]=C=>s.value.profession=C)},null,8,["modelValue"])]),_:1}),Ge(U,{label:" "},{default:tt(()=>[Ge(m,{modelValue:s.value.direction,"onUpdate:modelValue":c[3]||(c[3]=C=>s.value.direction=C)},null,8,["modelValue"])]),_:1})]),_:1}),Ge(b,{class:"mt-2",style:{width:"290px"}},{default:tt(()=>[Ge(U,{label:" "},{default:tt(()=>[Ge(m,{modelValue:s.value.nickname,"onUpdate:modelValue":c[4]||(c[4]=C=>s.value.nickname=C)},null,8,["modelValue"])]),_:1}),Ge(U,{label:" "},{default:tt(()=>[Ge(m,{type:"textarea",modelValue:s.value.introduction,"onUpdate:modelValue":c[5]||(c[5]=C=>s.value.introduction=C),rows:5},null,8,["modelValue"])]),_:1})]),_:1})]),lt("div",CZe,[lt("div",SZe," "+Wr(s.value.createAt),1),lt("div",null,[Ge(h,{type:"primary",onClick:d},{default:tt(()=>c[8]||(c[8]=[za("   ")])),_:1})])])]),_:1})]),_:1})]),_:1},8,["model-value"])}}}),kZe={class:"pt-2 px-4 w-full flex flex-nowrap flex-row items-center justify-between"},MZe={class:"flex w-2/5 items-center"},TZe={class:"w-fit flex h-8"},BZe=["onClick"],RZe={class:"flex w-1/5 items-center justify-center"},DZe={class:"flex w-2/5 flex-row-reverse"},PZe={class:"flex items-center gap-4"},LZe={class:"text-xs"},NZe={class:"flex items-center"},$Ze=ot({__name:"HeaderContainer",setup(e){const t=CX(),n=Ab(),r=l7(),a=XX(),o=ZX(),s=Ie(!1),l=[{name:"",to:"/home"},{name:"",to:"/draw"},{name:"",to:"/editor"}];return(d,u)=>{var h,m;const f=Y8e,p=K8e,g=V8e,v=Wwe,c=r1;return Te(),Ut("header",kZe,[lt("div",MZe,[lt("div",{class:"cursor-pointer flex items-center gap-2",onClick:u[0]||(u[0]=U=>Q(a).push("/"))},u[5]||(u[5]=[lt("img",{class:"h-10 rounded-[20px]",src:_X,alt:""},null,-1),lt("span",{class:"font-bold text-lg"},"Magic Maker",-1)])),lt("div",TZe,[(Te(),Ut($r,null,N1e(l,(U,b)=>lt("div",{key:b,class:ft(["menu text-sm ml-4 router flex items-center border-b-2 border-transparent cursor-pointer",{active:Q(o).path.includes(U.to)}]),onClick:w=>Q(a).push(U.to)},[lt("span",null,Wr(U.name),1)],10,BZe)),64))])]),lt("div",RZe,Wr((h=Q(r).project)==null?void 0:h.name),1),lt("div",DZe,[lt("div",PZe,[Q(n).isLogin&&["/editor","/whiteboard"].includes(Q(o).path)&&((m=Q(r).project)!=null&&m.id)?(Te(),Ut($r,{key:0},[lt("div",LZe,""+Wr(Q(r).lastSaveTime),1),Ge(g,{class:"outline-none"},{dropdown:tt(()=>[Ge(p,null,{default:tt(()=>[Q(o).path==="/editor"?(Te(),Ct(f,{key:0,onClick:Q(r).saveProject,icon:"i-mdi-upload"},{default:tt(()=>u[6]||(u[6]=[za("  ")])),_:1},8,["onClick"])):$t("",!0),Q(o).path==="/whiteboard"?(Te(),Ct(f,{key:1,onClick:Q(r).saveProject,icon:"i-mdi-upload"},{default:tt(()=>u[7]||(u[7]=[za("  ")])),_:1},8,["onClick"])):$t("",!0),Q(o).path==="/editor"?(Te(),Ct(f,{key:2,onClick:Q(r).exportVideo,icon:"i-mdi-download"},{default:tt(()=>u[8]||(u[8]=[za("  ")])),_:1},8,["onClick"])):$t("",!0)]),_:1})]),default:tt(()=>[u[9]||(u[9]=lt("div",{class:"flex items-center -mt-0.5 text-xs"},"",-1))]),_:1})],64)):$t("",!0),Ge(v,{class:"switch",modelValue:Q(t).isDark,"onUpdate:modelValue":u[1]||(u[1]=U=>Q(t).isDark=U),size:"default","active-icon":"i-mdi-weather-night","inactive-icon":"i-mdi-weather-sunny","inline-prompt":""},null,8,["modelValue"]),lt("div",NZe,[Q(n).isLogin?(Te(),Ut("i",{key:1,class:"i-mdi-account cursor-pointer",style:{"font-size":"18px"},onClick:u[3]||(u[3]=U=>s.value=!0)})):(Te(),Ct(c,{key:0,type:"primary",onClick:u[2]||(u[2]=U=>Q(n).showLogin=!0)},{default:tt(()=>u[10]||(u[10]=[za("")])),_:1}))])])]),Ge(gZe),Ge(vZe),Ge(IZe,{show:Q(s),"onUpdate:show":u[4]||(u[4]=U=>Ar(s)?s.value=U:null)},null,8,["show"])])}}}),FZe=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},jZe=FZe($Ze,[["__scopeId","data-v-cfeb16cf"]]),OZe={class:"w-full h-full flex flex-col overflow-hidden"},zZe=ot({__name:"App",setup(e){const t=l7();return Mr(()=>{xX.isSupported()||L4e.alert("  WebCodecs ChromeEdge "),t.init()}),(n,r)=>{const a=qr("router-view"),o=QAe;return Te(),Ut("div",OZe,[Ge(o,{"z-index":3e3},{default:tt(()=>[Ge(jZe),Ge(a,null,{default:tt(({Component:s})=>[(Te(),Ct(k1e,null,[(Te(),Ct(Ui(s)))],1024))]),_:1})]),_:1})])}}}),QZe=[{path:"/draw",children:[{path:"",name:"/draw/",component:()=>Ye(()=>import("./index-AF1nDr5F.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),import.meta.url)},{path:"components",children:[{path:"MaterialContainer",name:"/draw/components/MaterialContainer",component:()=>Ye(()=>import("./MaterialContainer-CGJWXT6G.js"),__vite__mapDeps([21,3,4,5,6,7,8,9,10]),import.meta.url)},{path:"MaterialList",name:"/draw/components/MaterialList",component:()=>Ye(()=>import("./MaterialList-BfQRoQXC.js"),__vite__mapDeps([22,6,7,8,9]),import.meta.url)},{path:"TemplateContainer",name:"/draw/components/TemplateContainer",component:()=>Ye(()=>import("./TemplateContainer-BupG4NfX.js"),__vite__mapDeps([23,11,6,7,8,9]),import.meta.url)},{path:"tools",children:[{path:"ExtendDraw",name:"/draw/components/tools/ExtendDraw",component:()=>Ye(()=>import("./ExtendDraw-BkY1qEqi.js"),__vite__mapDeps([24,18,10]),import.meta.url)},{path:"MaskRedraw",name:"/draw/components/tools/MaskRedraw",component:()=>Ye(()=>import("./MaskRedraw-kEIqy3Gh.js"),__vite__mapDeps([25,13,14,15,16,17,10]),import.meta.url)},{path:"StyleRedraw",name:"/draw/components/tools/StyleRedraw",component:()=>Ye(()=>import("./StyleRedraw-2vBLwGqt.js"),__vite__mapDeps([26,19,10]),import.meta.url)}]}]}]},{path:"/editor",children:[{path:"",name:"/editor/",component:()=>Ye(()=>import("./index-XNYtUscr.js"),__vite__mapDeps([27,17,28,29,30,31,14,15,16,32,33,34,10,35,36,8,37,38,39,40,41,12,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,7,9,73,74,75,76,77,78,79,80,81]),import.meta.url)},{path:"components",children:[{path:"attributes",children:[{path:"AttributeContainer",name:"/editor/components/attributes/AttributeContainer",component:()=>Ye(()=>import("./AttributeContainer-M89MXrUH.js"),__vite__mapDeps([82,28,29,30,31,14,15,16,32,33,34,10,35,36,8,37,38]),import.meta.url)},{path:"color",children:[{path:"ColorPicker",name:"/editor/components/attributes/color/ColorPicker",component:()=>Ye(()=>import("./ColorPicker-CiKZV0HU.js"),__vite__mapDeps([83,84,71,72]),import.meta.url)}]},{path:"items",children:[{path:"AttrCol",name:"/editor/components/attributes/items/AttrCol",component:()=>Ye(()=>import("./AttrCol-C7y66lFt.js"),__vite__mapDeps([85,34]),import.meta.url)},{path:"AudioAttr",name:"/editor/components/attributes/items/AudioAttr",component:()=>Ye(()=>import("./AudioAttr-BVjG0cE-.js"),__vite__mapDeps([36,14,15,16,32,33,34,8,37,38,10]),import.meta.url)},{path:"ImageAttr",name:"/editor/components/attributes/items/ImageAttr",component:()=>Ye(()=>import("./ImageAttr-B5i1hLye.js"),__vite__mapDeps([86,35,14,15,16,32,33,34,10]),import.meta.url)},{path:"TextAttr",name:"/editor/components/attributes/items/TextAttr",component:()=>Ye(()=>import("./TextAttr--v1Evz1-.js"),__vite__mapDeps([87,14,15,16,32,33,34,84,71,72,10]),import.meta.url)},{path:"VideoAttr",name:"/editor/components/attributes/items/VideoAttr",component:()=>Ye(()=>import("./VideoAttr-DB645CAh.js"),__vite__mapDeps([88,31,14,15,16,32,33,34,10]),import.meta.url)}]}]},{path:"generate",children:[{path:"AudioGenerate",name:"/editor/components/generate/AudioGenerate",component:()=>Ye(()=>import("./AudioGenerate-C0UvpSPb.js"),__vite__mapDeps([74,71,72,12,75,10]),import.meta.url)},{path:"GenerateContainer",name:"/editor/components/generate/GenerateContainer",component:()=>Ye(()=>import("./GenerateContainer-BkcvO_ye.js"),__vite__mapDeps([89,63,64,65,32,33,66,67,10,68,69,70,71,72,7,8,9,73,74,12,75,76,77,78,16,37,79]),import.meta.url)},{path:"ImageGenerate",name:"/editor/components/generate/ImageGenerate",component:()=>Ye(()=>import("./ImageGenerate-BeQkmQCr.js"),__vite__mapDeps([68,69,70,71,72,7,8,9,66,73,10]),import.meta.url)},{path:"SpeechGenerate",name:"/editor/components/generate/SpeechGenerate",component:()=>Ye(()=>import("./SpeechGenerate-CRoyy09n.js").then(e=>e.a),__vite__mapDeps([78,16,32,33,37,79,10]),import.meta.url)},{path:"TextGenerate",name:"/editor/components/generate/TextGenerate",component:()=>Ye(()=>import("./TextGenerate-CaK5UptE.js"),__vite__mapDeps([65,32,33,66,67,10]),import.meta.url)},{path:"VideoGenerate",name:"/editor/components/generate/VideoGenerate",component:()=>Ye(()=>import("./VideoGenerate-Dr5j74Zb.js"),__vite__mapDeps([76,71,72,32,33,12,77,10]),import.meta.url)}]},{path:"player",children:[{path:"CanvasPlayer",name:"/editor/components/player/CanvasPlayer",component:()=>Ye(()=>import("./CanvasPlayer-DANoIK6t.js"),__vite__mapDeps([90,39,40,41,12,42,43,16]),import.meta.url)},{path:"item",children:[{path:"PlayerControl",name:"/editor/components/player/item/PlayerControl",component:()=>Ye(()=>import("./PlayerControl-CLENTDsx.js"),__vite__mapDeps([91,43,16]),import.meta.url)},{path:"PlayerMoveable",name:"/editor/components/player/item/PlayerMoveable",component:()=>Ye(()=>import("./PlayerMoveable-laNzQHk8.js"),__vite__mapDeps([92,41,12,42]),import.meta.url)}]},{path:"Player",name:"/editor/components/player/Player",component:()=>Ye(()=>import("./Player-CyJbv_5b.js"),__vite__mapDeps([93,40,41,12,42,43,16]),import.meta.url)}]},{path:"resource",children:[{path:"ResourceItem",name:"/editor/components/resource/ResourceItem",component:()=>Ye(()=>import("./ResourceItem-KIo1pikX.js"),__vite__mapDeps([94,70,71,72,7,8,9,66]),import.meta.url)},{path:"ResourceList",name:"/editor/components/resource/ResourceList",component:()=>Ye(()=>import("./ResourceList-DJ6NpmmP.js"),__vite__mapDeps([95,69,70,71,72,7,8,9,66]),import.meta.url)},{path:"UploadContainer",name:"/editor/components/resource/UploadContainer",component:()=>Ye(()=>import("./UploadContainer-BcNvE2dM.js"),__vite__mapDeps([80,64,65,32,33,66,67,10,68,69,70,71,72,7,8,9,73,74,12,75,76,77,78,16,37,79,81]),import.meta.url)}]},{path:"track",children:[{path:"item",children:[{path:"TimeLine",name:"/editor/components/track/item/TimeLine",component:()=>Ye(()=>import("./TimeLine-CtjtU8qC.js"),__vite__mapDeps([96,47,48]),import.meta.url)},{path:"TrackControl",name:"/editor/components/track/item/TrackControl",component:()=>Ye(()=>import("./TrackControl-D0vHLqrj.js"),__vite__mapDeps([97,45,14,15,16]),import.meta.url)},{path:"TrackHandler",name:"/editor/components/track/item/TrackHandler",component:()=>Ye(()=>import("./TrackHandler-BgSgvaxI.js"),__vite__mapDeps([98,51,48]),import.meta.url)},{path:"TrackItem",name:"/editor/components/track/item/TrackItem",component:()=>Ye(()=>import("./TrackItem-T5tYuJkC.js"),__vite__mapDeps([99,50,51,48,52,53,54,55,56,57,58]),import.meta.url)},{path:"TrackLine",name:"/editor/components/track/item/TrackLine",component:()=>Ye(()=>import("./TrackLine-CjPZIphZ.js"),__vite__mapDeps([49,50,51,48,52,53,54,55,56,57,58,59]),import.meta.url)},{path:"TrackListIcon",name:"/editor/components/track/item/TrackListIcon",component:()=>Ye(()=>import("./TrackListIcon-w78_5-Ht.js"),__vite__mapDeps([100,60]),import.meta.url)},{path:"TrackPlayPoint",name:"/editor/components/track/item/TrackPlayPoint",component:()=>Ye(()=>import("./TrackPlayPoint-B2TfzNYF.js"),__vite__mapDeps([61,48,62]),import.meta.url)}]},{path:"template",children:[{path:"AudioItem",name:"/editor/components/track/template/AudioItem",component:()=>Ye(()=>import("./AudioItem-CI6qdacs.js"),__vite__mapDeps([101,56,53,54]),import.meta.url)},{path:"ImageItem",name:"/editor/components/track/template/ImageItem",component:()=>Ye(()=>import("./ImageItem-gVqtKsnq.js"),__vite__mapDeps([102,58,53,54]),import.meta.url)},{path:"TextItem",name:"/editor/components/track/template/TextItem",component:()=>Ye(()=>import("./TextItem-D8l17Nk2.js"),__vite__mapDeps([103,57]),import.meta.url)},{path:"VideoItem",name:"/editor/components/track/template/VideoItem",component:()=>Ye(()=>import("./VideoItem-CdayuX-n.js"),__vite__mapDeps([104,52,53,54,48,55]),import.meta.url)}]},{path:"TrackContainer",name:"/editor/components/track/TrackContainer",component:()=>Ye(()=>import("./TrackContainer-BP9AkRyS.js"),__vite__mapDeps([105,44,45,14,15,16,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62]),import.meta.url)},{path:"TrackList",name:"/editor/components/track/TrackList",component:()=>Ye(()=>import("./TrackList-BonZGygG.js"),__vite__mapDeps([106,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62]),import.meta.url)}]}]}]},{path:"/home",children:[{path:"",name:"/home/",component:()=>Ye(()=>import("./index-Cw6KZSJB.js"),__vite__mapDeps([107,29,30,4,5,108,109,110,111]),import.meta.url)},{path:"components",children:[{path:"NewProject",name:"/home/components/NewProject",component:()=>Ye(()=>import("./NewProject-BJpBtFZ3.js"),__vite__mapDeps([112,108]),import.meta.url)},{path:"ProjectList",name:"/home/components/ProjectList",component:()=>Ye(()=>import("./ProjectList-bPkb4Q15.js"),__vite__mapDeps([113,109,110]),import.meta.url)},{path:"UpdateProject",name:"/home/components/UpdateProject",component:()=>Ye(()=>import("./UpdateProject-C749viyx.js"),__vite__mapDeps([114,110]),import.meta.url)}]}]}],HZe=[{path:"/",redirect:"/home"}],GZe={install(e){const t=Dxe({history:dxe(),routes:HZe.concat(QZe)});t.beforeEach((n,r,a)=>{const o=l7(),s=Ab();if(["/","/home"].includes(n.path)||n.path.startsWith("/login")){a();return}if(!s.isLogin){ar.warning(""),s.showLogin=!0;return}if(!o.project){ar.warning("");return}a()}),e.use(t)}};function gH(e,t=2,n=20){let r=[e],a=r.length;function o(){return e=r[a-1],r.length>n&&(r.shift(),a-=1),e}return{push:s=>(r.length=a,r[a++]=s,o()),undo:()=>(a>t&&(a-=1),o()),redo:()=>(a<r.length&&(a+=1),o()),reset:()=>(r=r.slice(0,t),r.length=t,a=t,o())}}function K9(e,t,n={serialize:JSON.stringify,deserialize:JSON.parse}){const r={};return e.undo.watch.forEach(a=>{r[a]=wye(t[a])}),r}function WZe({store:e,options:t,serializer:n}){var s;if(!((s=t==null?void 0:t.undo)!=null&&s.watch)||t.undo.watch.length==0)return;let r=gH(K9(t,e,n)),a=!1;const o=kye(()=>{const l=K9(t,e,n);r.push(l)},500);e._undo=()=>{a=!0,e.$patch(r.undo())},e._redo=()=>{a=!0,e.$patch(r.redo())},e._resetStack=()=>{r=gH(K9(t,e,n))},e.$subscribe(l=>{if(a){a=!1;return}o()},{flush:"sync"})}const VZe={install(e){window.EXCALIDRAW_ASSET_PATH=window.origin+"/assets/"}},YZe=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,KZe=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,XZe=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function ZZe(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){qZe(e);return}return t}function qZe(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function JZe(e,t={}){if(typeof e!="string")return e;const n=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return n.slice(1,-1);if(n.length<=9){const r=n.toLowerCase();if(r==="true")return!0;if(r==="false")return!1;if(r==="undefined")return;if(r==="null")return null;if(r==="nan")return Number.NaN;if(r==="infinity")return Number.POSITIVE_INFINITY;if(r==="-infinity")return Number.NEGATIVE_INFINITY}if(!XZe.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(YZe.test(e)||KZe.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,ZZe)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function eqe(e,t){if(e==null)return;let n=e;for(let r=0;r<t.length;r++){if(n==null||n[t[r]]==null)return;n=n[t[r]]}return n}function DB(e,t,n){if(n.length===0)return t;const r=n[0];return n.length>1&&(t=DB(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,r)?Number.isInteger(Number(n[1]))?[]:{}:e[r],t,Array.prototype.slice.call(n,1))),Number.isInteger(Number(r))&&Array.isArray(e)?e.slice()[r]:Object.assign({},e,{[r]:t})}function zae(e,t){if(e==null||t.length===0)return e;if(t.length===1){if(e==null)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const n={};for(const r in e)n[r]=e[r];return delete n[t[0]],n}if(e[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const n={};for(const r in e)n[r]=e[r];return n}return DB(e,zae(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function Qae(e,t){return t.map(n=>n.split(".")).map(n=>[n,eqe(e,n)]).filter(n=>n[1]!==void 0).reduce((n,r)=>DB(n,r[1],r[0]),{})}function Hae(e,t){return t.map(n=>n.split(".")).reduce((n,r)=>zae(n,r),e)}function mH(e,{storage:t,serializer:n,key:r,debug:a,pick:o,omit:s,beforeHydrate:l,afterHydrate:d},u,f=!0){try{f&&(l==null||l(u));const p=t.getItem(r);if(p){const g=n.deserialize(p),v=o?Qae(g,o):g,c=s?Hae(v,s):v;e.$patch(c)}f&&(d==null||d(u))}catch(p){a&&console.error("[pinia-plugin-persistedstate]",p)}}function UH(e,{storage:t,serializer:n,key:r,debug:a,pick:o,omit:s}){try{const l=o?Qae(e,o):e,d=s?Hae(l,s):l,u=n.serialize(d);t.setItem(r,u)}catch(l){a&&console.error("[pinia-plugin-persistedstate]",l)}}function tqe(e,t,n){const{pinia:r,store:a,options:{persist:o=n}}=e;if(!o)return;if(!(a.$id in r.state.value)){const d=r._s.get(a.$id.replace("__hot:",""));d&&Promise.resolve().then(()=>d.$persist());return}const l=(Array.isArray(o)?o:o===!0?[{}]:[o]).map(t);a.$hydrate=({runHooks:d=!0}={})=>{l.forEach(u=>{mH(a,u,e,d)})},a.$persist=()=>{l.forEach(d=>{UH(a.$state,d)})},l.forEach(d=>{mH(a,d,e),a.$subscribe((u,f)=>UH(f,d),{detached:!0})})}function nqe(e={}){return function(t){tqe(t,n=>({key:(e.key?e.key:r=>r)(n.key??t.store.$id),debug:n.debug??e.debug??!1,serializer:n.serializer??e.serializer??{serialize:r=>JSON.stringify(r),deserialize:r=>JZe(r)},storage:n.storage??e.storage??window.localStorage,beforeHydrate:n.beforeHydrate,afterHydrate:n.afterHydrate,pick:n.pick,omit:n.omit}),e.auto??!1)}}var rqe=nqe();const c7=aY(zZe),PB=ome();PB.use(WZe);PB.use(rqe);c7.use(PB);c7.use(GZe);c7.use(VZe);c7.mount("#app");const Aw=Object.freeze(Object.defineProperty({__proto__:null,decodePngMetadata:SNe,decodeSvgMetadata:kNe,encodePngMetadata:CNe,encodeSvgMetadata:INe,getTEXtChunk:Cee},Symbol.toStringTag,{value:"Module"})),iqe=Object.freeze(Object.defineProperty({__proto__:null,alerts:Bee,buttons:Tee,canvasError:$ee,clearCanvasDialog:Gee,colorPicker:tte,colors:Jee,commandPalette:ste,confirmDialog:Yee,default:$T,element:Pee,elementLink:Iee,encrypted:Xee,errorDialog:zee,errorSplash:Fee,errors:Ree,exportDialog:Qee,fontList:ate,headings:Lee,helpDialog:Hee,hints:Nee,imageExportDialog:Kee,labels:See,library:kee,mermaid:rte,overwriteConfirm:nte,publishDialog:Wee,publishSuccessDialog:Vee,quickSearch:ite,roomDialog:Oee,search:Mee,shareDialog:jee,stats:Zee,toast:qee,toolBar:Dee,userList:ote,welcomeScreen:ete},Symbol.toStringTag,{value:"Module"})),aqe=Object.freeze(Object.defineProperty({__proto__:null,"ar-SA":lte,"az-AZ":cte,"bg-BG":dte,"bn-BD":ute,"ca-ES":fte,"cs-CZ":hte,"da-DK":pte,"de-DE":gte,default:lne,"el-GR":mte,en:Ute,"es-ES":vte,"eu-ES":yte,"fa-IR":bte,"fi-FI":Ate,"fr-FR":wte,"gl-ES":Ete,"he-IL":xte,"hi-IN":_te,"hu-HU":Cte,"id-ID":Ste,"it-IT":Ite,"ja-JP":kte,kaa:Mte,"kab-KAB":Tte,"kk-KZ":Bte,"km-KH":Rte,"ko-KR":Dte,"ku-TR":Pte,"lt-LT":Lte,"lv-LV":Nte,"mr-IN":$te,"my-MM":Fte,"nb-NO":jte,"nl-NL":Ote,"nn-NO":zte,"oc-FR":Qte,"pa-IN":Hte,"pl-PL":Gte,"pt-BR":Wte,"pt-PT":Vte,"ro-RO":Yte,"ru-RU":Kte,"si-LK":Xte,"sk-SK":Zte,"sl-SI":qte,"sv-SE":Jte,"ta-IN":ene,"th-TH":tne,"tr-TR":nne,"uk-UA":rne,"vi-VN":ine,"zh-CN":ane,"zh-HK":one,"zh-TW":sne},Symbol.toStringTag,{value:"Module"}));export{zqe as $,lr as A,Hw as B,CX as C,NX as D,ar as E,$r as F,be as G,qr as H,Wr as I,Go as J,Ht as K,Ui as L,k1e as M,CM as N,Rt as O,Qqe as P,cAe as Q,kr as R,jt as S,Bh as T,_M as U,md as V,Ts as W,kye as X,cd as Y,t2 as Z,jqe as _,Ji as a,a8 as a$,l7 as a0,UM as a1,mM as a2,cqe as a3,XX as a4,L4e as a5,N as a6,Mn as a7,Kqe as a8,te as a9,dc as aA,bl as aB,bqe as aC,Yu as aD,zk as aE,Ab as aF,wd as aG,a4 as aH,Si as aI,gy as aJ,_qe as aK,kqe as aL,Ok as aM,zW as aN,Th as aO,qk as aP,Lbe as aQ,$be as aR,Tqe as aS,Mqe as aT,Sqe as aU,Iqe as aV,EK as aW,zo as aX,er as aY,VN as aZ,F1e as a_,qX as aa,RU as ab,Hqe as ac,LX as ad,uqe as ae,b8 as af,Oqe as ag,FZe as ah,Ye as ai,sqe as aj,oI as ak,s4e as al,l4e as am,kn as an,r4 as ao,l2 as ap,dr as aq,Gk as ar,ti as as,q0 as at,Nn as au,Ko as av,Pt as aw,cM as ax,_8e as ay,d8 as az,G6e as b,Uqe as b$,w6e as b0,cn as b1,vqe as b2,fqe as b3,TAe as b4,dqe as b5,oi as b6,Qk as b7,gb as b8,Ed as b9,BW as bA,S0e as bB,_1e as bC,Ea as bD,Ahe as bE,r2 as bF,Bt as bG,uC as bH,o8 as bI,n2 as bJ,Cqe as bK,Aqe as bL,t6e as bM,_V as bN,n1 as bO,h6e as bP,eM as bQ,qY as bR,zbe as bS,KY as bT,wqe as bU,qi as bV,xqe as bW,Eqe as bX,Vge as bY,PW as bZ,wye as b_,e4 as ba,dC as bb,Fn as bc,Nt as bd,jV as be,Wk as bf,o4 as bg,tK as bh,x6e as bi,ii as bj,Dbe as bk,gqe as bl,w8 as bm,E8 as bn,Wwe as bo,uI as bp,aY as bq,LYe as br,wo as bs,cJe as bt,lJe as bu,aZe as bv,oZe as bw,wEe as bx,dJe as by,_u as bz,Ct as c,pqe as c0,na as c1,xa as c2,tp as c3,Ad as c4,UY as c5,SN as c6,ive as c7,bu as c8,AY as c9,pb as cA,o2 as ca,V2e as cb,uf as cc,a2 as cd,Dk as ce,oUe as cf,Nk as cg,SY as ch,_ye as ci,CY as cj,Rme as ck,i8 as cl,Ln as cm,Dn as cn,Rqe as co,$0 as cp,C6e as cq,mqe as cr,f6e as cs,Wye as ct,yqe as cu,nc as cv,xbe as cw,lqe as cx,WE as cy,hqe as cz,ot as d,Te as e,Ge as f,Ut as g,lt as h,$t as i,r1 as j,fZe as k,N1e as l,Ar as m,ft as n,Mr as o,fM as p,cc as q,Ie as r,Ii as s,za as t,Q as u,Bqe as v,tt as w,s4 as x,D$ as y,gH as z};
