import{J as L,ad as N}from"./index-DnwN-RZ1.js";const C=t=>new Map([[100,100],[90,50],[80,20],[70,10],[60,80],[50,40],[40,20],[30,10],[20,40],[10,25],[0,10]]).get(t)||100,j=(t,s)=>{let e=C(t)*s;return t<70&&(e=e/L),t<30&&(e=e/6),e},X=(t,s)=>t>60?s:10,Y=(t,s)=>{let r=t;return s<30?r*=60:s<70&&(r*=10),N(r*1e3).str},$=(t,s,r)=>{const e=t%s;let a="";return r<70?"":(a=r>80?e===0?"":`${e<10?"0":""}${e}f`:"",a)},d=.5,q=(t,s,r)=>{const e=C(s);return s<70&&(t*=r),s<30&&(t*=6),Math.round(t/e)},A=(t,s,r)=>{const{start:e,scale:a,step:m,focusPosition:h}=s,{ratio:i,bgColor:M,width:P,height:S,textColor:w,subTextColor:B,textSize:v,textScale:g,focusColor:R,longColor:V,shortColor:W}=r,y=X(a,m);t.scale(i,i),t.clearRect(0,0,P,S),t.fillStyle=M,t.fillRect(0,0,P,S);const f=C(a),c=f*y,b=Math.floor(e/f)*f,k=Math.floor(e/c)*c,F=b-e,G=k-e,z=e+Math.ceil(P);if(h){let l=h.start,o=h.end-h.start;a<70&&(l=l/m,o=o/m),a<30&&(l=l/6,o=o/6);const n=l*f+d-e,u=o*f-d;u>f&&(t.fillStyle=R,t.fillRect(n,0,u,S*3/8))}t.beginPath(),t.fillStyle=w,t.strokeStyle=V;for(let l=k,o=0;l<z;l+=c,o++){const n=G+o*c+d;t.moveTo(n,0),t.save(),t.translate(n,S*.4),t.scale(g/i,g/i);const u=Y(l/c,a),T=u.length*5*g*i,p=v/i*g/i/2;t.fillText(u,T,p),t.restore(),t.lineTo(n,S*10/16/i)}t.stroke(),t.closePath(),t.beginPath(),t.fillStyle=B,t.strokeStyle=W;for(let l=b,o=0;l<z;l+=f,o++){const n=F+o*f+d;t.moveTo(n,0);const u=$(l/f,y,a);if(u){t.save(),t.translate(n,S*.4),t.scale(g/i,g/i);const T=u.length*5*g*i,p=v/i*g/i/2;t.fillText(u,T,p),t.restore()}l%c!==0&&t.lineTo(n,S/3/i)}t.stroke(),t.closePath(),t.setTransform(1,0,0,1,0,0)};export{q as a,A as d,j as g};
