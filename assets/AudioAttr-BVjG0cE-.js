import{an as Be,aw as Ie,R as Qe,aE as ze,aO as $e,G as V,aq as Q,r as M,o as se,O as F,aB as ye,aY as B,b6 as re,d as I,e as A,g as P,h as k,n as _,u as s,s as K,au as Z,b7 as Ze,az as et,b8 as tt,b9 as ae,b1 as Y,ba as ie,bb as at,bc as Me,bd as lt,be as ot,F as Oe,l as nt,bf as st,ap as rt,bg as ut,bh as it,bi as ct,a as dt,X as he,A as te,bj as ft,c as ce,w,q as le,ab as Ee,f as p,i as oe,x as De,j as me,t as D,I as H,W as ht,as as Ve,bk as mt,V as Se,ar as pt,Q as vt,bl as Ae,av as bt,N as gt,D as _t,bm as kt,bn as Ct,y as wt,J as Fe,E as $t,bo as yt,ah as Mt}from"./index-C9HzHbyJ.js";/* empty css                   */import{E as Et,a as Vt}from"./el-input-number-Hl8y28gj.js";import"./el-tooltip-l0sNRNKZ.js";import{E as St}from"./el-tag-D8DtC0Fq.js";import{_ as S}from"./AttrCol.vue_vue_type_script_setup_true_lang-C36UuEIu.js";import{g as pe}from"./position-DWX10pAW.js";import{C as At}from"./index-CV9thRvz.js";const Ft=Be({color:{type:Ie(Object),required:!0},vertical:{type:Boolean,default:!1}});let de=!1;function J(t,a){if(!Qe)return;const l=function(o){var n;(n=a.drag)==null||n.call(a,o)},e=function(o){var n;document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",e),document.removeEventListener("touchmove",l),document.removeEventListener("touchend",e),document.onselectstart=null,document.ondragstart=null,de=!1,(n=a.end)==null||n.call(a,o)},r=function(o){var n;de||(o.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",l),document.addEventListener("mouseup",e),document.addEventListener("touchmove",l),document.addEventListener("touchend",e),de=!0,(n=a.start)==null||n.call(a,o))};t.addEventListener("mousedown",r),t.addEventListener("touchstart",r,{passive:!1})}const Nt=t=>{const a=re(),{t:l}=ze(),e=$e(),r=$e(),o=V(()=>t.color.get("alpha")),n=V(()=>l("el.colorpicker.alphaLabel"));function d(m){var v;m.target!==e.value&&c(m),(v=e.value)==null||v.focus()}function c(m){if(!r.value||!e.value)return;const f=a.vnode.el.getBoundingClientRect(),{clientX:b,clientY:i}=pe(m);if(t.vertical){let $=i-f.top;$=Math.max(e.value.offsetHeight/2,$),$=Math.min($,f.height-e.value.offsetHeight/2),t.color.set("alpha",Math.round(($-e.value.offsetHeight/2)/(f.height-e.value.offsetHeight)*100))}else{let $=b-f.left;$=Math.max(e.value.offsetWidth/2,$),$=Math.min($,f.width-e.value.offsetWidth/2),t.color.set("alpha",Math.round(($-e.value.offsetWidth/2)/(f.width-e.value.offsetWidth)*100))}}function h(m){const{code:v,shiftKey:f}=m,b=f?10:1;switch(v){case B.left:case B.down:m.preventDefault(),m.stopPropagation(),C(-b);break;case B.right:case B.up:m.preventDefault(),m.stopPropagation(),C(b);break}}function C(m){let v=o.value+m;v=v<0?0:v>100?100:v,t.color.set("alpha",v)}return{thumb:e,bar:r,alpha:o,alphaLabel:n,handleDrag:c,handleClick:d,handleKeydown:h}},Pt=(t,{bar:a,thumb:l,handleDrag:e})=>{const r=re(),o=Q("color-alpha-slider"),n=M(0),d=M(0),c=M();function h(){if(!l.value||t.vertical)return 0;const E=r.vnode.el,g=t.color.get("alpha");return E?Math.round(g*(E.offsetWidth-l.value.offsetWidth/2)/100):0}function C(){if(!l.value)return 0;const E=r.vnode.el;if(!t.vertical)return 0;const g=t.color.get("alpha");return E?Math.round(g*(E.offsetHeight-l.value.offsetHeight/2)/100):0}function m(){if(t.color&&t.color.value){const{r:E,g,b:x}=t.color.toRgb();return`linear-gradient(to right, rgba(${E}, ${g}, ${x}, 0) 0%, rgba(${E}, ${g}, ${x}, 1) 100%)`}return""}function v(){n.value=h(),d.value=C(),c.value=m()}se(()=>{if(!a.value||!l.value)return;const E={drag:g=>{e(g)},end:g=>{e(g)}};J(a.value,E),J(l.value,E),v()}),F(()=>t.color.get("alpha"),()=>v()),F(()=>t.color.value,()=>v());const f=V(()=>[o.b(),o.is("vertical",t.vertical)]),b=V(()=>o.e("bar")),i=V(()=>o.e("thumb")),$=V(()=>({background:c.value})),z=V(()=>({left:ye(n.value),top:ye(d.value)}));return{rootKls:f,barKls:b,barStyle:$,thumbKls:i,thumbStyle:z,update:v}},Lt="ElColorAlphaSlider",Tt=I({name:Lt}),Bt=I({...Tt,props:Ft,setup(t,{expose:a}){const l=t,{alpha:e,alphaLabel:r,bar:o,thumb:n,handleDrag:d,handleClick:c,handleKeydown:h}=Nt(l),{rootKls:C,barKls:m,barStyle:v,thumbKls:f,thumbStyle:b,update:i}=Pt(l,{bar:o,thumb:n,handleDrag:d});return a({update:i,bar:o,thumb:n}),($,z)=>(A(),P("div",{class:_(s(C))},[k("div",{ref_key:"bar",ref:o,class:_(s(m)),style:K(s(v)),onClick:s(c)},null,14,["onClick"]),k("div",{ref_key:"thumb",ref:n,class:_(s(f)),style:K(s(b)),"aria-label":s(r),"aria-valuenow":s(e),"aria-orientation":$.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:s(h)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var It=Z(Bt,[["__file","alpha-slider.vue"]]);const zt=I({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const a=Q("color-hue-slider"),l=re(),e=M(),r=M(),o=M(0),n=M(0),d=V(()=>t.color.get("hue"));F(()=>d.value,()=>{v()});function c(f){f.target!==e.value&&h(f)}function h(f){if(!r.value||!e.value)return;const i=l.vnode.el.getBoundingClientRect(),{clientX:$,clientY:z}=pe(f);let E;if(t.vertical){let g=z-i.top;g=Math.min(g,i.height-e.value.offsetHeight/2),g=Math.max(e.value.offsetHeight/2,g),E=Math.round((g-e.value.offsetHeight/2)/(i.height-e.value.offsetHeight)*360)}else{let g=$-i.left;g=Math.min(g,i.width-e.value.offsetWidth/2),g=Math.max(e.value.offsetWidth/2,g),E=Math.round((g-e.value.offsetWidth/2)/(i.width-e.value.offsetWidth)*360)}t.color.set("hue",E)}function C(){if(!e.value)return 0;const f=l.vnode.el;if(t.vertical)return 0;const b=t.color.get("hue");return f?Math.round(b*(f.offsetWidth-e.value.offsetWidth/2)/360):0}function m(){if(!e.value)return 0;const f=l.vnode.el;if(!t.vertical)return 0;const b=t.color.get("hue");return f?Math.round(b*(f.offsetHeight-e.value.offsetHeight/2)/360):0}function v(){o.value=C(),n.value=m()}return se(()=>{if(!r.value||!e.value)return;const f={drag:b=>{h(b)},end:b=>{h(b)}};J(r.value,f),J(e.value,f),v()}),{bar:r,thumb:e,thumbLeft:o,thumbTop:n,hueValue:d,handleClick:c,update:v,ns:a}}});function Ot(t,a,l,e,r,o){return A(),P("div",{class:_([t.ns.b(),t.ns.is("vertical",t.vertical)])},[k("div",{ref:"bar",class:_(t.ns.e("bar")),onClick:t.handleClick},null,10,["onClick"]),k("div",{ref:"thumb",class:_(t.ns.e("thumb")),style:K({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var Dt=Z(zt,[["render",Ot],["__file","hue-slider.vue"]]);const Ht=Be({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:Ze,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:et.teleported,predefine:{type:Ie(Array)},validateEvent:{type:Boolean,default:!0},...tt(["ariaLabel"])}),Kt={[ae]:t=>Y(t)||ie(t),[at]:t=>Y(t)||ie(t),activeChange:t=>Y(t)||ie(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},He=Symbol("colorPickerContextKey"),Ne=function(t,a,l){return[t,a*l/((t=(2-a)*l)<1?t:2-t)||0,t/2]},xt=function(t){return Y(t)&&t.includes(".")&&Number.parseFloat(t)===1},Rt=function(t){return Y(t)&&t.includes("%")},R=function(t,a){xt(t)&&(t="100%");const l=Rt(t);return t=Math.min(a,Math.max(0,Number.parseFloat(`${t}`))),l&&(t=Number.parseInt(`${t*a}`,10)/100),Math.abs(t-a)<1e-6?1:t%a/Number.parseFloat(a)},Pe={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},ne=t=>{t=Math.min(Math.round(t),255);const a=Math.floor(t/16),l=t%16;return`${Pe[a]||a}${Pe[l]||l}`},Le=function({r:t,g:a,b:l}){return Number.isNaN(+t)||Number.isNaN(+a)||Number.isNaN(+l)?"":`#${ne(t)}${ne(a)}${ne(l)}`},fe={A:10,B:11,C:12,D:13,E:14,F:15},O=function(t){return t.length===2?(fe[t[0].toUpperCase()]||+t[0])*16+(fe[t[1].toUpperCase()]||+t[1]):fe[t[1].toUpperCase()]||+t[1]},Ut=function(t,a,l){a=a/100,l=l/100;let e=a;const r=Math.max(l,.01);l*=2,a*=l<=1?l:2-l,e*=r<=1?r:2-r;const o=(l+a)/2,n=l===0?2*e/(r+e):2*a/(l+a);return{h:t,s:n*100,v:o*100}},Te=(t,a,l)=>{t=R(t,255),a=R(a,255),l=R(l,255);const e=Math.max(t,a,l),r=Math.min(t,a,l);let o;const n=e,d=e-r,c=e===0?0:d/e;if(e===r)o=0;else{switch(e){case t:{o=(a-l)/d+(a<l?6:0);break}case a:{o=(l-t)/d+2;break}case l:{o=(t-a)/d+4;break}}o/=6}return{h:o*360,s:c*100,v:n*100}},X=function(t,a,l){t=R(t,360)*6,a=R(a,100),l=R(l,100);const e=Math.floor(t),r=t-e,o=l*(1-a),n=l*(1-r*a),d=l*(1-(1-r)*a),c=e%6,h=[l,n,o,o,d,l][c],C=[d,l,l,n,o,o][c],m=[o,o,d,l,l,n][c];return{r:Math.round(h*255),g:Math.round(C*255),b:Math.round(m*255)}};class G{constructor(a={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const l in a)Me(a,l)&&(this[l]=a[l]);a.value?this.fromString(a.value):this.doOnChange()}set(a,l){if(arguments.length===1&&typeof a=="object"){for(const e in a)Me(a,e)&&this.set(e,a[e]);return}this[`_${a}`]=l,this.doOnChange()}get(a){return a==="alpha"?Math.floor(this[`_${a}`]):this[`_${a}`]}toRgb(){return X(this._hue,this._saturation,this._value)}fromString(a){if(!a){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const l=(e,r,o)=>{this._hue=Math.max(0,Math.min(360,e)),this._saturation=Math.max(0,Math.min(100,r)),this._value=Math.max(0,Math.min(100,o)),this.doOnChange()};if(a.includes("hsl")){const e=a.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,o)=>o>2?Number.parseFloat(r):Number.parseInt(r,10));if(e.length===4?this._alpha=Number.parseFloat(e[3])*100:e.length===3&&(this._alpha=100),e.length>=3){const{h:r,s:o,v:n}=Ut(e[0],e[1],e[2]);l(r,o,n)}}else if(a.includes("hsv")){const e=a.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,o)=>o>2?Number.parseFloat(r):Number.parseInt(r,10));e.length===4?this._alpha=Number.parseFloat(e[3])*100:e.length===3&&(this._alpha=100),e.length>=3&&l(e[0],e[1],e[2])}else if(a.includes("rgb")){const e=a.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,o)=>o>2?Number.parseFloat(r):Number.parseInt(r,10));if(e.length===4?this._alpha=Number.parseFloat(e[3])*100:e.length===3&&(this._alpha=100),e.length>=3){const{h:r,s:o,v:n}=Te(e[0],e[1],e[2]);l(r,o,n)}}else if(a.includes("#")){const e=a.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(e))return;let r,o,n;e.length===3?(r=O(e[0]+e[0]),o=O(e[1]+e[1]),n=O(e[2]+e[2])):(e.length===6||e.length===8)&&(r=O(e.slice(0,2)),o=O(e.slice(2,4)),n=O(e.slice(4,6))),e.length===8?this._alpha=O(e.slice(6))/255*100:(e.length===3||e.length===6)&&(this._alpha=100);const{h:d,s:c,v:h}=Te(r,o,n);l(d,c,h)}}compare(a){return Math.abs(a._hue-this._hue)<2&&Math.abs(a._saturation-this._saturation)<1&&Math.abs(a._value-this._value)<1&&Math.abs(a._alpha-this._alpha)<1}doOnChange(){const{_hue:a,_saturation:l,_value:e,_alpha:r,format:o}=this;if(this.enableAlpha)switch(o){case"hsl":{const n=Ne(a,l/100,e/100);this.value=`hsla(${a}, ${Math.round(n[1]*100)}%, ${Math.round(n[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${a}, ${Math.round(l)}%, ${Math.round(e)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${Le(X(a,l,e))}${ne(r*255/100)}`;break}default:{const{r:n,g:d,b:c}=X(a,l,e);this.value=`rgba(${n}, ${d}, ${c}, ${this.get("alpha")/100})`}}else switch(o){case"hsl":{const n=Ne(a,l/100,e/100);this.value=`hsl(${a}, ${Math.round(n[1]*100)}%, ${Math.round(n[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${a}, ${Math.round(l)}%, ${Math.round(e)}%)`;break}case"rgb":{const{r:n,g:d,b:c}=X(a,l,e);this.value=`rgb(${n}, ${d}, ${c})`;break}default:this.value=Le(X(a,l,e))}}}const Wt=I({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(t){const a=Q("color-predefine"),{currentColor:l}=lt(He),e=M(o(t.colors,t.color));F(()=>l.value,n=>{const d=new G;d.fromString(n),e.value.forEach(c=>{c.selected=d.compare(c)})}),ot(()=>{e.value=o(t.colors,t.color)});function r(n){t.color.fromString(t.colors[n])}function o(n,d){return n.map(c=>{const h=new G;return h.enableAlpha=t.enableAlpha,h.format="rgba",h.fromString(c),h.selected=h.value===d.value,h})}return{rgbaColors:e,handleSelect:r,ns:a}}});function qt(t,a,l,e,r,o){return A(),P("div",{class:_(t.ns.b())},[k("div",{class:_(t.ns.e("colors"))},[(A(!0),P(Oe,null,nt(t.rgbaColors,(n,d)=>(A(),P("div",{key:t.colors[d],class:_([t.ns.e("color-selector"),t.ns.is("alpha",n._alpha<100),{selected:n.selected}]),onClick:c=>t.handleSelect(d)},[k("div",{style:K({backgroundColor:n.value})},null,4)],10,["onClick"]))),128))],2)],2)}var jt=Z(Wt,[["render",qt],["__file","predefine.vue"]]);const Xt=I({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const a=Q("color-svpanel"),l=re(),e=M(0),r=M(0),o=M("hsl(0, 100%, 50%)"),n=V(()=>{const h=t.color.get("hue"),C=t.color.get("value");return{hue:h,value:C}});function d(){const h=t.color.get("saturation"),C=t.color.get("value"),m=l.vnode.el,{clientWidth:v,clientHeight:f}=m;r.value=h*v/100,e.value=(100-C)*f/100,o.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function c(h){const m=l.vnode.el.getBoundingClientRect(),{clientX:v,clientY:f}=pe(h);let b=v-m.left,i=f-m.top;b=Math.max(0,b),b=Math.min(b,m.width),i=Math.max(0,i),i=Math.min(i,m.height),r.value=b,e.value=i,t.color.set({saturation:b/m.width*100,value:100-i/m.height*100})}return F(()=>n.value,()=>{d()}),se(()=>{J(l.vnode.el,{drag:h=>{c(h)},end:h=>{c(h)}}),d()}),{cursorTop:e,cursorLeft:r,background:o,colorValue:n,handleDrag:c,update:d,ns:a}}});function Yt(t,a,l,e,r,o){return A(),P("div",{class:_(t.ns.b()),style:K({backgroundColor:t.background})},[k("div",{class:_(t.ns.e("white"))},null,2),k("div",{class:_(t.ns.e("black"))},null,2),k("div",{class:_(t.ns.e("cursor")),style:K({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},[k("div")],6)],6)}var Gt=Z(Xt,[["render",Yt],["__file","sv-panel.vue"]]);const Jt=I({name:"ElColorPicker"}),Qt=I({...Jt,props:Ht,emits:Kt,setup(t,{expose:a,emit:l}){const e=t,{t:r}=ze(),o=Q("color"),{formItem:n}=st(),d=rt(),c=ut(),{inputId:h,isLabeledByFormItem:C}=it(e,{formItemContext:n}),m=M(),v=M(),f=M(),b=M(),i=M(),$=M(),{isFocused:z,handleFocus:E,handleBlur:g}=ct(i,{beforeFocus(){return c.value},beforeBlur(u){var N;return(N=b.value)==null?void 0:N.isFocusInsideContent(u)},afterBlur(){q(!1),j()}});let x=!0;const y=dt(new G({enableAlpha:e.showAlpha,format:e.colorFormat||"",value:e.modelValue})),U=M(!1),L=M(!1),W=M(""),Ke=V(()=>!e.modelValue&&!L.value?"transparent":We(y,e.showAlpha)),ue=V(()=>!e.modelValue&&!L.value?"":y.value),xe=V(()=>C.value?void 0:e.ariaLabel||r("el.colorpicker.defaultLabel")),Re=V(()=>C.value?n==null?void 0:n.labelId:void 0),Ue=V(()=>[o.b("picker"),o.is("disabled",c.value),o.bm("picker",d.value),o.is("focused",z.value)]);function We(u,N){if(!(u instanceof G))throw new TypeError("color should be instance of _color Class");const{r:T,g:Ce,b:we}=u.toRgb();return N?`rgba(${T}, ${Ce}, ${we}, ${u.get("alpha")/100})`:`rgb(${T}, ${Ce}, ${we})`}function q(u){U.value=u}const ee=he(q,100,{leading:!0});function ve(){c.value||q(!0)}function be(){ee(!1),j()}function j(){te(()=>{e.modelValue?y.fromString(e.modelValue):(y.value="",te(()=>{L.value=!1}))})}function qe(){c.value||ee(!U.value)}function ge(){y.fromString(W.value)}function je(){const u=y.value;l(ae,u),l("change",u),e.validateEvent&&(n==null||n.validate("change").catch(N=>Ae())),ee(!1),te(()=>{const N=new G({enableAlpha:e.showAlpha,format:e.colorFormat||"",value:e.modelValue});y.compare(N)||j()})}function Xe(){ee(!1),l(ae,null),l("change",null),e.modelValue!==null&&e.validateEvent&&(n==null||n.validate("change").catch(u=>Ae())),j()}function Ye(){U.value&&(be(),z.value&&ke())}function _e(u){u.preventDefault(),u.stopPropagation(),q(!1),j()}function Ge(u){switch(u.code){case B.enter:case B.numpadEnter:case B.space:u.preventDefault(),u.stopPropagation(),ve(),$.value.focus();break;case B.esc:_e(u);break}}function ke(){i.value.focus()}function Je(){i.value.blur()}return se(()=>{e.modelValue&&(W.value=ue.value)}),F(()=>e.modelValue,u=>{u?u&&u!==y.value&&(x=!1,y.fromString(u)):L.value=!1}),F(()=>[e.colorFormat,e.showAlpha],()=>{y.enableAlpha=e.showAlpha,y.format=e.colorFormat||y.format,y.doOnChange(),l(ae,y.value)}),F(()=>ue.value,u=>{W.value=u,x&&l("activeChange",u),x=!0}),F(()=>y.value,()=>{!e.modelValue&&!L.value&&(L.value=!0)}),F(()=>U.value,()=>{te(()=>{var u,N,T;(u=m.value)==null||u.update(),(N=v.value)==null||N.update(),(T=f.value)==null||T.update()})}),ft(He,{currentColor:ue}),a({color:y,show:ve,hide:be,focus:ke,blur:Je}),(u,N)=>(A(),ce(s(vt),{ref_key:"popper",ref:b,visible:U.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[s(o).be("picker","panel"),s(o).b("dropdown"),u.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:u.teleported,transition:`${s(o).namespace.value}-zoom-in-top`,persistent:"",onHide:T=>q(!1)},{content:w(()=>[le((A(),P("div",{onKeydown:Ee(_e,["esc"])},[k("div",{class:_(s(o).be("dropdown","main-wrapper"))},[p(Dt,{ref_key:"hue",ref:m,class:"hue-slider",color:s(y),vertical:""},null,8,["color"]),p(Gt,{ref_key:"sv",ref:v,color:s(y)},null,8,["color"])],2),u.showAlpha?(A(),ce(It,{key:0,ref_key:"alpha",ref:f,color:s(y)},null,8,["color"])):oe("v-if",!0),u.predefine?(A(),ce(jt,{key:1,ref:"predefine","enable-alpha":u.showAlpha,color:s(y),colors:u.predefine},null,8,["enable-alpha","color","colors"])):oe("v-if",!0),k("div",{class:_(s(o).be("dropdown","btns"))},[k("span",{class:_(s(o).be("dropdown","value"))},[p(s(De),{ref_key:"inputRef",ref:$,modelValue:W.value,"onUpdate:modelValue":T=>W.value=T,"validate-event":!1,size:"small",onKeyup:Ee(ge,["enter"]),onBlur:ge},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),p(s(me),{class:_(s(o).be("dropdown","link-btn")),text:"",size:"small",onClick:Xe},{default:w(()=>[D(H(s(r)("el.colorpicker.clear")),1)]),_:1},8,["class"]),p(s(me),{plain:"",size:"small",class:_(s(o).be("dropdown","btn")),onClick:je},{default:w(()=>[D(H(s(r)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[s(At),Ye]])]),default:w(()=>[k("div",ht({id:s(h),ref_key:"triggerRef",ref:i},u.$attrs,{class:s(Ue),role:"button","aria-label":s(xe),"aria-labelledby":s(Re),"aria-description":s(r)("el.colorpicker.description",{color:u.modelValue||""}),"aria-disabled":s(c),tabindex:s(c)?-1:u.tabindex,onKeydown:Ge,onFocus:s(E),onBlur:s(g)}),[s(c)?(A(),P("div",{key:0,class:_(s(o).be("picker","mask"))},null,2)):oe("v-if",!0),k("div",{class:_(s(o).be("picker","trigger")),onClick:qe},[k("span",{class:_([s(o).be("picker","color"),s(o).is("alpha",u.showAlpha)])},[k("span",{class:_(s(o).be("picker","color-inner")),style:K({backgroundColor:s(Ke)})},[le(p(s(Ve),{class:_([s(o).be("picker","icon"),s(o).is("icon-arrow-down")])},{default:w(()=>[p(s(mt))]),_:1},8,["class"]),[[Se,u.modelValue||L.value]]),le(p(s(Ve),{class:_([s(o).be("picker","empty"),s(o).is("icon-close")])},{default:w(()=>[p(s(pt))]),_:1},8,["class"]),[[Se,!u.modelValue&&!L.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var Zt=Z(Qt,[["__file","color-picker.vue"]]);const ea=bt(Zt),ta={class:"text-[12px] leading-5 flex flex-col gap-5"},aa={class:"flex"},la={class:"flex items-center gap-4"},oa={class:"flex-shrink-0"},na={class:"flex"},sa={class:"flex"},ra={class:"flex"},ua=I({__name:"AudioAttr",setup(t){const a=gt(),l=_t(),e=V(()=>l.selectTrack),r=()=>{$t.info("前端模式下暂不支持重新生成功能")};return F(()=>e.value.volume,he(()=>{a.isPause=!0,kt.updateVolume(e.value,e.value.volume)},100)),F(()=>e.value.subtitle,he(async()=>{a.isPause=!0,await Ct.decode(e.value)},100),{deep:!0}),(o,n)=>{const d=St,c=Et,h=yt,C=Vt,m=ea,v=De,f=me,b=wt;return le((A(),P("div",ta,[p(S,{name:"名称",nowrap:""},{default:w(()=>[D(H(s(e).name),1)]),_:1}),k("div",aa,[p(S,{name:"初始时间"},{default:w(()=>[D(H((s(e).frameCount/s(Fe)).toFixed(2))+" s ",1)]),_:1}),p(S,{name:"当前时间"},{default:w(()=>[D(H(((s(e).end-s(e).start)/s(Fe)).toFixed(2))+" s ",1)]),_:1})]),p(S,{name:"类型"},{default:w(()=>[p(d,{size:"small"},{default:w(()=>[D(H(s(e).type),1)]),_:1})]),_:1}),p(S,{name:"音量"},{default:w(()=>[k("div",la,[p(c,{min:0,max:1,step:.1,modelValue:s(e).volume,"onUpdate:modelValue":n[0]||(n[0]=i=>s(e).volume=i)},null,8,["modelValue"]),k("div",oa,H(s(e).volume),1)])]),_:1}),k("div",na,[p(S,{name:"静音"},{default:w(()=>[p(h,{modelValue:s(e).mute,"onUpdate:modelValue":n[1]||(n[1]=i=>s(e).mute=i)},null,8,["modelValue"])]),_:1}),p(S,{name:"字幕"},{default:w(()=>[p(h,{modelValue:s(e).drawSub,"onUpdate:modelValue":n[2]||(n[2]=i=>s(e).drawSub=i)},null,8,["modelValue"])]),_:1})]),s(e).drawSub?(A(),P(Oe,{key:0},[k("div",sa,[p(S,{name:"字号"},{default:w(()=>[p(C,{modelValue:s(e).subtitle.fontSize,"onUpdate:modelValue":n[3]||(n[3]=i=>s(e).subtitle.fontSize=i),class:"input-number",min:12,max:100,size:"small"},null,8,["modelValue"])]),_:1}),p(S,{name:"字体颜色"},{default:w(()=>[p(m,{modelValue:s(e).subtitle.fontColor,"onUpdate:modelValue":n[4]||(n[4]=i=>s(e).subtitle.fontColor=i),size:"small"},null,8,["modelValue"])]),_:1})]),k("div",ra,[p(S,{name:"描边大小"},{default:w(()=>[p(C,{modelValue:s(e).subtitle.strokeSize,"onUpdate:modelValue":n[5]||(n[5]=i=>s(e).subtitle.strokeSize=i),class:"input-number",min:0,max:20,size:"small"},null,8,["modelValue"])]),_:1}),p(S,{name:"描边颜色"},{default:w(()=>[p(m,{modelValue:s(e).subtitle.strokeColor,"onUpdate:modelValue":n[6]||(n[6]=i=>s(e).subtitle.strokeColor=i),size:"small"},null,8,["modelValue"])]),_:1})]),p(S,{name:"底部边距"},{default:w(()=>[p(C,{modelValue:s(e).subtitle.bottomOffset,"onUpdate:modelValue":n[7]||(n[7]=i=>s(e).subtitle.bottomOffset=i),class:"input-number",min:0,max:200,size:"small"},null,8,["modelValue"])]),_:1})],64)):oe("",!0),p(S,{name:"提示词"},{default:w(()=>[p(v,{modelValue:s(e).name,"onUpdate:modelValue":n[8]||(n[8]=i=>s(e).name=i),type:"textarea",autosize:{minRows:1,maxRows:6},resize:"none"},null,8,["modelValue"])]),_:1}),p(S,{name:"操作"},{default:w(()=>[p(f,{type:"primary",onClick:r},{default:w(()=>n[9]||(n[9]=[D("重新生成")])),_:1})]),_:1})])),[[b,s(e).loading]])}}}),ba=Mt(ua,[["__scopeId","data-v-64da1dc1"]]);export{ba as default};
