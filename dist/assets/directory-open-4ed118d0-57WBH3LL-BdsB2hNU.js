import{c as w}from"./index-D1slywUk.js";w();function s(t){function i(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var n=r.done;return Promise.resolve(r.value).then(function(l){return{value:l,done:n}})}return s=function(r){this.s=r,this.n=r.next},s.prototype={s:null,n:null,next:function(){return i(this.n.apply(this.s,arguments))},return:function(r){var n=this.s.return;return n===void 0?Promise.resolve({value:r,done:!0}):i(n.apply(this.s,arguments))},throw:function(r){var n=this.s.return;return n===void 0?Promise.reject(r):i(n.apply(this.s,arguments))}},new s(t)}var m=async(t,i,r=t.name,n)=>{let l=[],v=[];var y,c=!1,d=!1;try{for(var h,f=function(e){var o,a,u,p=2;for(typeof Symbol<"u"&&(a=Symbol.asyncIterator,u=Symbol.iterator);p--;){if(a&&(o=e[a])!=null)return o.call(e);if(u&&(o=e[u])!=null)return new s(o.call(e));a="@@asyncIterator",u="@@iterator"}throw new TypeError("Object is not async iterable")}(t.values());c=!(h=await f.next()).done;c=!1){let e=h.value,o=`${r}/${e.name}`;e.kind==="file"?v.push(e.getFile().then(a=>(a.directoryHandle=t,a.handle=e,Object.defineProperty(a,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>o})))):e.kind!=="directory"||!i||n&&n(e)||l.push(m(e,i,o,n))}}catch(e){d=!0,y=e}finally{try{c&&f.return!=null&&await f.return()}finally{if(d)throw y}}return[...(await Promise.all(l)).flat(),...await Promise.all(v)]},P=async(t={})=>{t.recursive=t.recursive||!1;let i=await window.showDirectoryPicker({id:t.id,startIn:t.startIn});return m(i,t.recursive,void 0,t.skipDirectory)};export{P as default};
