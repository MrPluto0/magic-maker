import{b as It,o as Tt,M as wt}from"./dist-QNDTTFGF-xyGUN-Ni.js";import{c as S,q as zt}from"./index-KuFrev5g.js";S();S();S();S();var Dt={};function _t(e,r){let t=Dt,n=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,u=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return nt(e,n,u)}function nt(e,r,t){if(Bt(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(r&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Ve(e.children,r,t)}return Array.isArray(e)?Ve(e,r,t):""}function Ve(e,r,t){let n=[],u=-1;for(;++u<e.length;)n[u]=nt(e[u],r,t);return n.join("")}function Bt(e){return!!(e&&typeof e=="object")}S();S();S();function ne(e,r,t,n){let u=e.length,o=0,i;if(r<0?r=-r>u?0:u+r:r=r>u?u:r,t=t>0?t:0,n.length<1e4)i=Array.from(n),i.unshift(r,t),e.splice(...i);else for(t&&e.splice(r,t);o<n.length;)i=n.slice(o,o+1e4),i.unshift(r,0),e.splice(...i),o+=1e4,r+=1e4}function Y(e,r){return e.length>0?(ne(e,e.length,0,r),e):r}var Ne={}.hasOwnProperty;function Lt(e){let r={},t=-1;for(;++t<e.length;)Mt(r,e[t]);return r}function Mt(e,r){let t;for(t in r){let n=(Ne.call(e,t)?e[t]:void 0)||(e[t]={}),u=r[t],o;if(u)for(o in u){Ne.call(n,o)||(n[o]=[]);let i=u[o];Ot(n[o],Array.isArray(i)?i:i?[i]:[])}}}function Ot(e,r){let t=-1,n=[];for(;++t<r.length;)(r[t].add==="after"?e:n).push(r[t]);ne(e,0,0,n)}S();S();S();S();var Pt=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,te=le(/[A-Za-z]/),Z=le(/[\dA-Za-z]/),jt=le(/[#-'*+\--9=?A-Z^-~]/);function Ce(e){return e!==null&&(e<32||e===127)}var Ie=le(/\d/),Ht=le(/[\dA-Fa-f]/),Rt=le(/[!-/:-@[-`{-~]/);function A(e){return e!==null&&e<-2}function G(e){return e!==null&&(e<0||e===32)}function T(e){return e===-2||e===-1||e===32}var qt=le(Pt),Vt=le(/\s/);function le(e){return r;function r(t){return t!==null&&e.test(String.fromCharCode(t))}}function B(e,r,t,n){let u=n?n-1:Number.POSITIVE_INFINITY,o=0;return i;function i(h){return T(h)?(e.enter(t),c(h)):r(h)}function c(h){return T(h)&&o++<u?(e.consume(h),c):(e.exit(t),r(h))}}var Nt={tokenize:Qt};function Qt(e){let r=e.attempt(this.parser.constructs.contentInitial,n,u),t;return r;function n(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),B(e,r,"linePrefix")}function u(c){return e.enter("paragraph"),o(c)}function o(c){let h=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=h),t=h,i(c)}function i(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return A(c)?(e.consume(c),e.exit("chunkText"),o):(e.consume(c),i)}}S();var Ut={tokenize:$t},Qe={tokenize:Wt};function $t(e){let r=this,t=[],n=0,u,o,i;return c;function c(b){if(n<t.length){let L=t[n];return r.containerState=L[1],e.attempt(L[0].continuation,h,s)(b)}return s(b)}function h(b){if(n++,r.containerState._closeFlow){r.containerState._closeFlow=void 0,u&&j();let L=r.events.length,O=L,x;for(;O--;)if(r.events[O][0]==="exit"&&r.events[O][1].type==="chunkFlow"){x=r.events[O][1].end;break}y(n);let z=L;for(;z<r.events.length;)r.events[z][1].end=Object.assign({},x),z++;return ne(r.events,O+1,0,r.events.slice(L)),r.events.length=z,s(b)}return c(b)}function s(b){if(n===t.length){if(!u)return g(b);if(u.currentConstruct&&u.currentConstruct.concrete)return I(b);r.interrupt=!!(u.currentConstruct&&!u._gfmTableDynamicInterruptHack)}return r.containerState={},e.check(Qe,d,p)(b)}function d(b){return u&&j(),y(n),g(b)}function p(b){return r.parser.lazy[r.now().line]=n!==t.length,i=r.now().offset,I(b)}function g(b){return r.containerState={},e.attempt(Qe,f,I)(b)}function f(b){return n++,t.push([r.currentConstruct,r.containerState]),g(b)}function I(b){if(b===null){u&&j(),y(0),e.consume(b);return}return u=u||r.parser.flow(r.now()),e.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:u}),w(b)}function w(b){if(b===null){P(e.exit("chunkFlow"),!0),y(0),e.consume(b);return}return A(b)?(e.consume(b),P(e.exit("chunkFlow")),n=0,r.interrupt=void 0,c):(e.consume(b),w)}function P(b,L){let O=r.sliceStream(b);if(L&&O.push(null),b.previous=o,o&&(o.next=b),o=b,u.defineSkip(b.start),u.write(O),r.parser.lazy[b.start.line]){let x=u.events.length;for(;x--;)if(u.events[x][1].start.offset<i&&(!u.events[x][1].end||u.events[x][1].end.offset>i))return;let z=r.events.length,q=z,V,N;for(;q--;)if(r.events[q][0]==="exit"&&r.events[q][1].type==="chunkFlow"){if(V){N=r.events[q][1].end;break}V=!0}for(y(n),x=z;x<r.events.length;)r.events[x][1].end=Object.assign({},N),x++;ne(r.events,q+1,0,r.events.slice(z)),r.events.length=x}}function y(b){let L=t.length;for(;L-- >b;){let O=t[L];r.containerState=O[1],O[0].exit.call(r,e)}t.length=b}function j(){u.write([null]),o=void 0,u=void 0,r.containerState._closeFlow=void 0}}function Wt(e,r,t){return B(e,e.attempt(this.parser.constructs.document,r,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}S();S();S();S();function Ue(e){if(e===null||G(e)||Vt(e))return 1;if(qt(e))return 2}S();function De(e,r,t){let n=[],u=-1;for(;++u<e.length;){let o=e[u].resolveAll;o&&!n.includes(o)&&(r=o(r,t),n.push(o))}return r}var Te={name:"attention",tokenize:Yt,resolveAll:Gt};function Gt(e,r){let t=-1,n,u,o,i,c,h,s,d;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(n=t;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&r.sliceSerialize(e[n][1]).charCodeAt(0)===r.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[n][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;h=e[n][1].end.offset-e[n][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;let p=Object.assign({},e[n][1].end),g=Object.assign({},e[t][1].start);$e(p,-h),$e(g,h),i={type:h>1?"strongSequence":"emphasisSequence",start:p,end:Object.assign({},e[n][1].end)},c={type:h>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[t][1].start),end:g},o={type:h>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[t][1].start)},u={type:h>1?"strong":"emphasis",start:Object.assign({},i.start),end:Object.assign({},c.end)},e[n][1].end=Object.assign({},i.start),e[t][1].start=Object.assign({},c.end),s=[],e[n][1].end.offset-e[n][1].start.offset&&(s=Y(s,[["enter",e[n][1],r],["exit",e[n][1],r]])),s=Y(s,[["enter",u,r],["enter",i,r],["exit",i,r],["enter",o,r]]),s=Y(s,De(r.parser.constructs.insideSpan.null,e.slice(n+1,t),r)),s=Y(s,[["exit",o,r],["enter",c,r],["exit",c,r],["exit",u,r]]),e[t][1].end.offset-e[t][1].start.offset?(d=2,s=Y(s,[["enter",e[t][1],r],["exit",e[t][1],r]])):d=0,ne(e,n-1,t-n+3,s),t=n+s.length-d-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function Yt(e,r){let t=this.parser.constructs.attentionMarkers.null,n=this.previous,u=Ue(n),o;return i;function i(h){return o=h,e.enter("attentionSequence"),c(h)}function c(h){if(h===o)return e.consume(h),c;let s=e.exit("attentionSequence"),d=Ue(h),p=!d||d===2&&u||t.includes(h),g=!u||u===2&&d||t.includes(n);return s._open=!!(o===42?p:p&&(u||!g)),s._close=!!(o===42?g:g&&(d||!p)),r(h)}}function $e(e,r){e.column+=r,e.offset+=r,e._bufferIndex+=r}S();var Xt={name:"autolink",tokenize:Jt};function Jt(e,r,t){let n=0;return u;function u(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(f){return te(f)?(e.consume(f),i):s(f)}function i(f){return f===43||f===45||f===46||Z(f)?(n=1,c(f)):s(f)}function c(f){return f===58?(e.consume(f),n=0,h):(f===43||f===45||f===46||Z(f))&&n++<32?(e.consume(f),c):(n=0,s(f))}function h(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),r):f===null||f===32||f===60||Ce(f)?t(f):(e.consume(f),h)}function s(f){return f===64?(e.consume(f),d):jt(f)?(e.consume(f),s):t(f)}function d(f){return Z(f)?p(f):t(f)}function p(f){return f===46?(e.consume(f),n=0,d):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),r):g(f)}function g(f){if((f===45||Z(f))&&n++<63){let I=f===45?g:p;return e.consume(f),I}return t(f)}}S();var Fe={tokenize:Kt,partial:!0};function Kt(e,r,t){return n;function n(o){return T(o)?B(e,u,"linePrefix")(o):u(o)}function u(o){return o===null||A(o)?r(o):t(o)}}S();var rt={name:"blockQuote",tokenize:Zt,continuation:{tokenize:en},exit:tn};function Zt(e,r,t){let n=this;return u;function u(i){if(i===62){let c=n.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(i),e.exit("blockQuoteMarker"),o}return t(i)}function o(i){return T(i)?(e.enter("blockQuotePrefixWhitespace"),e.consume(i),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),r):(e.exit("blockQuotePrefix"),r(i))}}function en(e,r,t){let n=this;return u;function u(i){return T(i)?B(e,o,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i):o(i)}function o(i){return e.attempt(rt,r,t)(i)}}function tn(e){e.exit("blockQuote")}S();var it={name:"characterEscape",tokenize:nn};function nn(e,r,t){return n;function n(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),u}function u(o){return Rt(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),r):t(o)}}S();S();var We=document.createElement("i");function _e(e){let r="&"+e+";";We.innerHTML=r;let t=We.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===r?!1:t}var ut={name:"characterReference",tokenize:rn};function rn(e,r,t){let n=this,u=0,o,i;return c;function c(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),h}function h(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),s):(e.enter("characterReferenceValue"),o=31,i=Z,d(p))}function s(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,i=Ht,d):(e.enter("characterReferenceValue"),o=7,i=Ie,d(p))}function d(p){if(p===59&&u){let g=e.exit("characterReferenceValue");return i===Z&&!_e(n.sliceSerialize(g))?t(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),r)}return i(p)&&u++<o?(e.consume(p),d):t(p)}}S();var Ge={tokenize:on,partial:!0},Ye={name:"codeFenced",tokenize:un,concrete:!0};function un(e,r,t){let n=this,u={tokenize:O,partial:!0},o=0,i=0,c;return h;function h(x){return s(x)}function s(x){let z=n.events[n.events.length-1];return o=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,c=x,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(x)}function d(x){return x===c?(i++,e.consume(x),d):i<3?t(x):(e.exit("codeFencedFenceSequence"),T(x)?B(e,p,"whitespace")(x):p(x))}function p(x){return x===null||A(x)?(e.exit("codeFencedFence"),n.interrupt?r(x):e.check(Ge,w,L)(x)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===null||A(x)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(x)):T(x)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),B(e,f,"whitespace")(x)):x===96&&x===c?t(x):(e.consume(x),g)}function f(x){return x===null||A(x)?p(x):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),I(x))}function I(x){return x===null||A(x)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(x)):x===96&&x===c?t(x):(e.consume(x),I)}function w(x){return e.attempt(u,L,P)(x)}function P(x){return e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),y}function y(x){return o>0&&T(x)?B(e,j,"linePrefix",o+1)(x):j(x)}function j(x){return x===null||A(x)?e.check(Ge,w,L)(x):(e.enter("codeFlowValue"),b(x))}function b(x){return x===null||A(x)?(e.exit("codeFlowValue"),j(x)):(e.consume(x),b)}function L(x){return e.exit("codeFenced"),r(x)}function O(x,z,q){let V=0;return N;function N(C){return x.enter("lineEnding"),x.consume(C),x.exit("lineEnding"),v}function v(C){return x.enter("codeFencedFence"),T(C)?B(x,F,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):F(C)}function F(C){return C===c?(x.enter("codeFencedFenceSequence"),M(C)):q(C)}function M(C){return C===c?(V++,x.consume(C),M):V>=i?(x.exit("codeFencedFenceSequence"),T(C)?B(x,H,"whitespace")(C):H(C)):q(C)}function H(C){return C===null||A(C)?(x.exit("codeFencedFence"),z(C)):q(C)}}}function on(e,r,t){let n=this;return u;function u(i){return i===null?t(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o)}function o(i){return n.parser.lazy[n.now().line]?t(i):r(i)}}S();var Ee={name:"codeIndented",tokenize:an},cn={tokenize:ln,partial:!0};function an(e,r,t){let n=this;return u;function u(s){return e.enter("codeIndented"),B(e,o,"linePrefix",5)(s)}function o(s){let d=n.events[n.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?i(s):t(s)}function i(s){return s===null?h(s):A(s)?e.attempt(cn,i,h)(s):(e.enter("codeFlowValue"),c(s))}function c(s){return s===null||A(s)?(e.exit("codeFlowValue"),i(s)):(e.consume(s),c)}function h(s){return e.exit("codeIndented"),r(s)}}function ln(e,r,t){let n=this;return u;function u(i){return n.parser.lazy[n.now().line]?t(i):A(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),u):B(e,o,"linePrefix",5)(i)}function o(i){let c=n.events[n.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?r(i):A(i)?u(i):t(i)}}S();var sn={name:"codeText",tokenize:hn,resolve:fn,previous:dn};function fn(e){let r=e.length-4,t=3,n,u;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[r][1].type==="lineEnding"||e[r][1].type==="space")){for(n=t;++n<r;)if(e[n][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[r][1].type="codeTextPadding",t+=2,r-=2;break}}for(n=t-1,r++;++n<=r;)u===void 0?n!==r&&e[n][1].type!=="lineEnding"&&(u=n):(n===r||e[n][1].type==="lineEnding")&&(e[u][1].type="codeTextData",n!==u+2&&(e[u][1].end=e[n-1][1].end,e.splice(u+2,n-u-2),r-=n-u-2,n=u+2),u=void 0);return e}function dn(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function hn(e,r,t){let n=0,u,o;return i;function i(p){return e.enter("codeText"),e.enter("codeTextSequence"),c(p)}function c(p){return p===96?(e.consume(p),n++,c):(e.exit("codeTextSequence"),h(p))}function h(p){return p===null?t(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),h):p===96?(o=e.enter("codeTextSequence"),u=0,d(p)):A(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),h):(e.enter("codeTextData"),s(p))}function s(p){return p===null||p===32||p===96||A(p)?(e.exit("codeTextData"),h(p)):(e.consume(p),s)}function d(p){return p===96?(e.consume(p),u++,d):u===n?(e.exit("codeTextSequence"),e.exit("codeText"),r(p)):(o.type="codeTextData",s(p))}}S();S();function ot(e){let r={},t=-1,n,u,o,i,c,h,s;for(;++t<e.length;){for(;t in r;)t=r[t];if(n=e[t],t&&n[1].type==="chunkFlow"&&e[t-1][1].type==="listItemPrefix"&&(h=n[1]._tokenizer.events,o=0,o<h.length&&h[o][1].type==="lineEndingBlank"&&(o+=2),o<h.length&&h[o][1].type==="content"))for(;++o<h.length&&h[o][1].type!=="content";)h[o][1].type==="chunkText"&&(h[o][1]._isInFirstContentOfListItem=!0,o++);if(n[0]==="enter")n[1].contentType&&(Object.assign(r,pn(e,t)),t=r[t],s=!0);else if(n[1]._container){for(o=t,u=void 0;o--&&(i=e[o],i[1].type==="lineEnding"||i[1].type==="lineEndingBlank");)i[0]==="enter"&&(u&&(e[u][1].type="lineEndingBlank"),i[1].type="lineEnding",u=o);u&&(n[1].end=Object.assign({},e[u][1].start),c=e.slice(u,t),c.unshift(n),ne(e,u,t-u+1,c))}}return!s}function pn(e,r){let t=e[r][1],n=e[r][2],u=r-1,o=[],i=t._tokenizer||n.parser[t.contentType](t.start),c=i.events,h=[],s={},d,p,g=-1,f=t,I=0,w=0,P=[w];for(;f;){for(;e[++u][1]!==f;);o.push(u),f._tokenizer||(d=n.sliceStream(f),f.next||d.push(null),p&&i.defineSkip(f.start),f._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(d),f._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),p=f,f=f.next}for(f=t;++g<c.length;)c[g][0]==="exit"&&c[g-1][0]==="enter"&&c[g][1].type===c[g-1][1].type&&c[g][1].start.line!==c[g][1].end.line&&(w=g+1,P.push(w),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(i.events=[],f?(f._tokenizer=void 0,f.previous=void 0):P.pop(),g=P.length;g--;){let y=c.slice(P[g],P[g+1]),j=o.pop();h.unshift([j,j+y.length-1]),ne(e,j,2,y)}for(g=-1;++g<h.length;)s[I+h[g][0]]=I+h[g][1],I+=h[g][1]-h[g][0]-1;return s}var mn={tokenize:kn,resolve:xn},gn={tokenize:yn,partial:!0};function xn(e){return ot(e),e}function kn(e,r){let t;return n;function n(c){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),u(c)}function u(c){return c===null?o(c):A(c)?e.check(gn,i,o)(c):(e.consume(c),u)}function o(c){return e.exit("chunkContent"),e.exit("content"),r(c)}function i(c){return e.consume(c),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,u}}function yn(e,r,t){let n=this;return u;function u(i){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),B(e,o,"linePrefix")}function o(i){if(i===null||A(i))return t(i);let c=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?r(i):e.interrupt(n.parser.constructs.flow,t,r)(i)}}S();S();function ct(e,r,t,n,u,o,i,c,h){let s=h||Number.POSITIVE_INFINITY,d=0;return p;function p(y){return y===60?(e.enter(n),e.enter(u),e.enter(o),e.consume(y),e.exit(o),g):y===null||y===32||y===41||Ce(y)?t(y):(e.enter(n),e.enter(i),e.enter(c),e.enter("chunkString",{contentType:"string"}),w(y))}function g(y){return y===62?(e.enter(o),e.consume(y),e.exit(o),e.exit(u),e.exit(n),r):(e.enter(c),e.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===62?(e.exit("chunkString"),e.exit(c),g(y)):y===null||y===60||A(y)?t(y):(e.consume(y),y===92?I:f)}function I(y){return y===60||y===62||y===92?(e.consume(y),f):f(y)}function w(y){return!d&&(y===null||y===41||G(y))?(e.exit("chunkString"),e.exit(c),e.exit(i),e.exit(n),r(y)):d<s&&y===40?(e.consume(y),d++,w):y===41?(e.consume(y),d--,w):y===null||y===32||y===40||Ce(y)?t(y):(e.consume(y),y===92?P:w)}function P(y){return y===40||y===41||y===92?(e.consume(y),w):w(y)}}S();function at(e,r,t,n,u,o){let i=this,c=0,h;return s;function s(f){return e.enter(n),e.enter(u),e.consume(f),e.exit(u),e.enter(o),d}function d(f){return c>999||f===null||f===91||f===93&&!h||f===94&&!c&&"_hiddenFootnoteSupport"in i.parser.constructs?t(f):f===93?(e.exit(o),e.enter(u),e.consume(f),e.exit(u),e.exit(n),r):A(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),p(f))}function p(f){return f===null||f===91||f===93||A(f)||c++>999?(e.exit("chunkString"),d(f)):(e.consume(f),h||(h=!T(f)),f===92?g:p)}function g(f){return f===91||f===92||f===93?(e.consume(f),c++,p):p(f)}}S();function lt(e,r,t,n,u,o){let i;return c;function c(g){return g===34||g===39||g===40?(e.enter(n),e.enter(u),e.consume(g),e.exit(u),i=g===40?41:g,h):t(g)}function h(g){return g===i?(e.enter(u),e.consume(g),e.exit(u),e.exit(n),r):(e.enter(o),s(g))}function s(g){return g===i?(e.exit(o),h(i)):g===null?t(g):A(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),B(e,s,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===i||g===null||A(g)?(e.exit("chunkString"),s(g)):(e.consume(g),g===92?p:d)}function p(g){return g===i||g===92?(e.consume(g),d):d(g)}}S();function ke(e,r){let t;return n;function n(u){return A(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),t=!0,n):T(u)?B(e,n,t?"linePrefix":"lineSuffix")(u):r(u)}}S();function me(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var vn={name:"definition",tokenize:Sn},Fn={tokenize:bn,partial:!0};function Sn(e,r,t){let n=this,u;return o;function o(f){return e.enter("definition"),i(f)}function i(f){return at.call(n,e,c,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function c(f){return u=me(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),h):t(f)}function h(f){return G(f)?ke(e,s)(f):s(f)}function s(f){return ct(e,d,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function d(f){return e.attempt(Fn,p,p)(f)}function p(f){return T(f)?B(e,g,"whitespace")(f):g(f)}function g(f){return f===null||A(f)?(e.exit("definition"),n.parser.defined.push(u),r(f)):t(f)}}function bn(e,r,t){return n;function n(c){return G(c)?ke(e,u)(c):t(c)}function u(c){return lt(e,o,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return T(c)?B(e,i,"whitespace")(c):i(c)}function i(c){return c===null||A(c)?r(c):t(c)}}S();var En={name:"hardBreakEscape",tokenize:An};function An(e,r,t){return n;function n(o){return e.enter("hardBreakEscape"),e.consume(o),u}function u(o){return A(o)?(e.exit("hardBreakEscape"),r(o)):t(o)}}S();var Cn={name:"headingAtx",tokenize:Tn,resolve:In};function In(e,r){let t=e.length-2,n=3,u,o;return e[n][1].type==="whitespace"&&(n+=2),t-2>n&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(n===t-1||t-4>n&&e[t-2][1].type==="whitespace")&&(t-=n+1===t?2:4),t>n&&(u={type:"atxHeadingText",start:e[n][1].start,end:e[t][1].end},o={type:"chunkText",start:e[n][1].start,end:e[t][1].end,contentType:"text"},ne(e,n,t-n+1,[["enter",u,r],["enter",o,r],["exit",o,r],["exit",u,r]])),e}function Tn(e,r,t){let n=0;return u;function u(d){return e.enter("atxHeading"),o(d)}function o(d){return e.enter("atxHeadingSequence"),i(d)}function i(d){return d===35&&n++<6?(e.consume(d),i):d===null||G(d)?(e.exit("atxHeadingSequence"),c(d)):t(d)}function c(d){return d===35?(e.enter("atxHeadingSequence"),h(d)):d===null||A(d)?(e.exit("atxHeading"),r(d)):T(d)?B(e,c,"whitespace")(d):(e.enter("atxHeadingText"),s(d))}function h(d){return d===35?(e.consume(d),h):(e.exit("atxHeadingSequence"),c(d))}function s(d){return d===null||d===35||G(d)?(e.exit("atxHeadingText"),c(d)):(e.consume(d),s)}}S();S();var wn=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Xe=["pre","script","style","textarea"],zn={name:"htmlFlow",tokenize:Ln,resolveTo:Bn,concrete:!0},Dn={tokenize:On,partial:!0},_n={tokenize:Mn,partial:!0};function Bn(e){let r=e.length;for(;r--&&!(e[r][0]==="enter"&&e[r][1].type==="htmlFlow"););return r>1&&e[r-2][1].type==="linePrefix"&&(e[r][1].start=e[r-2][1].start,e[r+1][1].start=e[r-2][1].start,e.splice(r-2,2)),e}function Ln(e,r,t){let n=this,u,o,i,c,h;return s;function s(l){return d(l)}function d(l){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(l),p}function p(l){return l===33?(e.consume(l),g):l===47?(e.consume(l),o=!0,w):l===63?(e.consume(l),u=3,n.interrupt?r:a):te(l)?(e.consume(l),i=String.fromCharCode(l),P):t(l)}function g(l){return l===45?(e.consume(l),u=2,f):l===91?(e.consume(l),u=5,c=0,I):te(l)?(e.consume(l),u=4,n.interrupt?r:a):t(l)}function f(l){return l===45?(e.consume(l),n.interrupt?r:a):t(l)}function I(l){let K="CDATA[";return l===K.charCodeAt(c++)?(e.consume(l),c===K.length?n.interrupt?r:F:I):t(l)}function w(l){return te(l)?(e.consume(l),i=String.fromCharCode(l),P):t(l)}function P(l){if(l===null||l===47||l===62||G(l)){let K=l===47,fe=i.toLowerCase();return!K&&!o&&Xe.includes(fe)?(u=1,n.interrupt?r(l):F(l)):wn.includes(i.toLowerCase())?(u=6,K?(e.consume(l),y):n.interrupt?r(l):F(l)):(u=7,n.interrupt&&!n.parser.lazy[n.now().line]?t(l):o?j(l):b(l))}return l===45||Z(l)?(e.consume(l),i+=String.fromCharCode(l),P):t(l)}function y(l){return l===62?(e.consume(l),n.interrupt?r:F):t(l)}function j(l){return T(l)?(e.consume(l),j):N(l)}function b(l){return l===47?(e.consume(l),N):l===58||l===95||te(l)?(e.consume(l),L):T(l)?(e.consume(l),b):N(l)}function L(l){return l===45||l===46||l===58||l===95||Z(l)?(e.consume(l),L):O(l)}function O(l){return l===61?(e.consume(l),x):T(l)?(e.consume(l),O):b(l)}function x(l){return l===null||l===60||l===61||l===62||l===96?t(l):l===34||l===39?(e.consume(l),h=l,z):T(l)?(e.consume(l),x):q(l)}function z(l){return l===h?(e.consume(l),h=null,V):l===null||A(l)?t(l):(e.consume(l),z)}function q(l){return l===null||l===34||l===39||l===47||l===60||l===61||l===62||l===96||G(l)?O(l):(e.consume(l),q)}function V(l){return l===47||l===62||T(l)?b(l):t(l)}function N(l){return l===62?(e.consume(l),v):t(l)}function v(l){return l===null||A(l)?F(l):T(l)?(e.consume(l),v):t(l)}function F(l){return l===45&&u===2?(e.consume(l),$):l===60&&u===1?(e.consume(l),Q):l===62&&u===4?(e.consume(l),J):l===63&&u===3?(e.consume(l),a):l===93&&u===5?(e.consume(l),re):A(l)&&(u===6||u===7)?(e.exit("htmlFlowData"),e.check(Dn,ie,M)(l)):l===null||A(l)?(e.exit("htmlFlowData"),M(l)):(e.consume(l),F)}function M(l){return e.check(_n,H,ie)(l)}function H(l){return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),C}function C(l){return l===null||A(l)?M(l):(e.enter("htmlFlowData"),F(l))}function $(l){return l===45?(e.consume(l),a):F(l)}function Q(l){return l===47?(e.consume(l),i="",X):F(l)}function X(l){if(l===62){let K=i.toLowerCase();return Xe.includes(K)?(e.consume(l),J):F(l)}return te(l)&&i.length<8?(e.consume(l),i+=String.fromCharCode(l),X):F(l)}function re(l){return l===93?(e.consume(l),a):F(l)}function a(l){return l===62?(e.consume(l),J):l===45&&u===2?(e.consume(l),a):F(l)}function J(l){return l===null||A(l)?(e.exit("htmlFlowData"),ie(l)):(e.consume(l),J)}function ie(l){return e.exit("htmlFlow"),r(l)}}function Mn(e,r,t){let n=this;return u;function u(i){return A(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o):t(i)}function o(i){return n.parser.lazy[n.now().line]?t(i):r(i)}}function On(e,r,t){return n;function n(u){return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),e.attempt(Fe,r,t)}}S();var Pn={name:"htmlText",tokenize:jn};function jn(e,r,t){let n=this,u,o,i;return c;function c(a){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(a),h}function h(a){return a===33?(e.consume(a),s):a===47?(e.consume(a),O):a===63?(e.consume(a),b):te(a)?(e.consume(a),q):t(a)}function s(a){return a===45?(e.consume(a),d):a===91?(e.consume(a),o=0,I):te(a)?(e.consume(a),j):t(a)}function d(a){return a===45?(e.consume(a),f):t(a)}function p(a){return a===null?t(a):a===45?(e.consume(a),g):A(a)?(i=p,Q(a)):(e.consume(a),p)}function g(a){return a===45?(e.consume(a),f):p(a)}function f(a){return a===62?$(a):a===45?g(a):p(a)}function I(a){let J="CDATA[";return a===J.charCodeAt(o++)?(e.consume(a),o===J.length?w:I):t(a)}function w(a){return a===null?t(a):a===93?(e.consume(a),P):A(a)?(i=w,Q(a)):(e.consume(a),w)}function P(a){return a===93?(e.consume(a),y):w(a)}function y(a){return a===62?$(a):a===93?(e.consume(a),y):w(a)}function j(a){return a===null||a===62?$(a):A(a)?(i=j,Q(a)):(e.consume(a),j)}function b(a){return a===null?t(a):a===63?(e.consume(a),L):A(a)?(i=b,Q(a)):(e.consume(a),b)}function L(a){return a===62?$(a):b(a)}function O(a){return te(a)?(e.consume(a),x):t(a)}function x(a){return a===45||Z(a)?(e.consume(a),x):z(a)}function z(a){return A(a)?(i=z,Q(a)):T(a)?(e.consume(a),z):$(a)}function q(a){return a===45||Z(a)?(e.consume(a),q):a===47||a===62||G(a)?V(a):t(a)}function V(a){return a===47?(e.consume(a),$):a===58||a===95||te(a)?(e.consume(a),N):A(a)?(i=V,Q(a)):T(a)?(e.consume(a),V):$(a)}function N(a){return a===45||a===46||a===58||a===95||Z(a)?(e.consume(a),N):v(a)}function v(a){return a===61?(e.consume(a),F):A(a)?(i=v,Q(a)):T(a)?(e.consume(a),v):V(a)}function F(a){return a===null||a===60||a===61||a===62||a===96?t(a):a===34||a===39?(e.consume(a),u=a,M):A(a)?(i=F,Q(a)):T(a)?(e.consume(a),F):(e.consume(a),H)}function M(a){return a===u?(e.consume(a),u=void 0,C):a===null?t(a):A(a)?(i=M,Q(a)):(e.consume(a),M)}function H(a){return a===null||a===34||a===39||a===60||a===61||a===96?t(a):a===47||a===62||G(a)?V(a):(e.consume(a),H)}function C(a){return a===47||a===62||G(a)?V(a):t(a)}function $(a){return a===62?(e.consume(a),e.exit("htmlTextData"),e.exit("htmlText"),r):t(a)}function Q(a){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),X}function X(a){return T(a)?B(e,re,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):re(a)}function re(a){return e.enter("htmlTextData"),i(a)}}S();var Be={name:"labelEnd",tokenize:Qn,resolveTo:Nn,resolveAll:Vn},Hn={tokenize:Un},Rn={tokenize:$n},qn={tokenize:Wn};function Vn(e){let r=-1;for(;++r<e.length;){let t=e[r][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(e.splice(r+1,t.type==="labelImage"?4:2),t.type="data",r++)}return e}function Nn(e,r){let t=e.length,n=0,u,o,i,c;for(;t--;)if(u=e[t][1],o){if(u.type==="link"||u.type==="labelLink"&&u._inactive)break;e[t][0]==="enter"&&u.type==="labelLink"&&(u._inactive=!0)}else if(i){if(e[t][0]==="enter"&&(u.type==="labelImage"||u.type==="labelLink")&&!u._balanced&&(o=t,u.type!=="labelLink")){n=2;break}}else u.type==="labelEnd"&&(i=t);let h={type:e[o][1].type==="labelLink"?"link":"image",start:Object.assign({},e[o][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"label",start:Object.assign({},e[o][1].start),end:Object.assign({},e[i][1].end)},d={type:"labelText",start:Object.assign({},e[o+n+2][1].end),end:Object.assign({},e[i-2][1].start)};return c=[["enter",h,r],["enter",s,r]],c=Y(c,e.slice(o+1,o+n+3)),c=Y(c,[["enter",d,r]]),c=Y(c,De(r.parser.constructs.insideSpan.null,e.slice(o+n+4,i-3),r)),c=Y(c,[["exit",d,r],e[i-2],e[i-1],["exit",s,r]]),c=Y(c,e.slice(i+1)),c=Y(c,[["exit",h,r]]),ne(e,o,e.length,c),e}function Qn(e,r,t){let n=this,u=n.events.length,o,i;for(;u--;)if((n.events[u][1].type==="labelImage"||n.events[u][1].type==="labelLink")&&!n.events[u][1]._balanced){o=n.events[u][1];break}return c;function c(g){return o?o._inactive?p(g):(i=n.parser.defined.includes(me(n.sliceSerialize({start:o.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),h):t(g)}function h(g){return g===40?e.attempt(Hn,d,i?d:p)(g):g===91?e.attempt(Rn,d,i?s:p)(g):i?d(g):p(g)}function s(g){return e.attempt(qn,d,p)(g)}function d(g){return r(g)}function p(g){return o._balanced=!0,t(g)}}function Un(e,r,t){return n;function n(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),u}function u(p){return G(p)?ke(e,o)(p):o(p)}function o(p){return p===41?d(p):ct(e,i,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function i(p){return G(p)?ke(e,h)(p):d(p)}function c(p){return t(p)}function h(p){return p===34||p===39||p===40?lt(e,s,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):d(p)}function s(p){return G(p)?ke(e,d)(p):d(p)}function d(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),r):t(p)}}function $n(e,r,t){let n=this;return u;function u(c){return at.call(n,e,o,i,"reference","referenceMarker","referenceString")(c)}function o(c){return n.parser.defined.includes(me(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?r(c):t(c)}function i(c){return t(c)}}function Wn(e,r,t){return n;function n(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),u}function u(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),r):t(o)}}S();var Gn={name:"labelStartImage",tokenize:Yn,resolveAll:Be.resolveAll};function Yn(e,r,t){let n=this;return u;function u(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),o}function o(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),i):t(c)}function i(c){return c===94&&"_hiddenFootnoteSupport"in n.parser.constructs?t(c):r(c)}}S();var Xn={name:"labelStartLink",tokenize:Jn,resolveAll:Be.resolveAll};function Jn(e,r,t){let n=this;return u;function u(i){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(i),e.exit("labelMarker"),e.exit("labelLink"),o}function o(i){return i===94&&"_hiddenFootnoteSupport"in n.parser.constructs?t(i):r(i)}}S();var Ae={name:"lineEnding",tokenize:Kn};function Kn(e,r){return t;function t(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),B(e,r,"linePrefix")}}S();S();var ye={name:"thematicBreak",tokenize:Zn};function Zn(e,r,t){let n=0,u;return o;function o(s){return e.enter("thematicBreak"),i(s)}function i(s){return u=s,c(s)}function c(s){return s===u?(e.enter("thematicBreakSequence"),h(s)):n>=3&&(s===null||A(s))?(e.exit("thematicBreak"),r(s)):t(s)}function h(s){return s===u?(e.consume(s),n++,h):(e.exit("thematicBreakSequence"),T(s)?B(e,c,"whitespace")(s):c(s))}}var W={name:"list",tokenize:nr,continuation:{tokenize:rr},exit:ur},er={tokenize:or,partial:!0},tr={tokenize:ir,partial:!0};function nr(e,r,t){let n=this,u=n.events[n.events.length-1],o=u&&u[1].type==="linePrefix"?u[2].sliceSerialize(u[1],!0).length:0,i=0;return c;function c(f){let I=n.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(I==="listUnordered"?!n.containerState.marker||f===n.containerState.marker:Ie(f)){if(n.containerState.type||(n.containerState.type=I,e.enter(I,{_container:!0})),I==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(ye,t,s)(f):s(f);if(!n.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),h(f)}return t(f)}function h(f){return Ie(f)&&++i<10?(e.consume(f),h):(!n.interrupt||i<2)&&(n.containerState.marker?f===n.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),s(f)):t(f)}function s(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||f,e.check(Fe,n.interrupt?t:d,e.attempt(er,g,p))}function d(f){return n.containerState.initialBlankLine=!0,o++,g(f)}function p(f){return T(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),g):t(f)}function g(f){return n.containerState.size=o+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,r(f)}}function rr(e,r,t){let n=this;return n.containerState._closeFlow=void 0,e.check(Fe,u,o);function u(c){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,B(e,r,"listItemIndent",n.containerState.size+1)(c)}function o(c){return n.containerState.furtherBlankLines||!T(c)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,i(c)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(tr,r,i)(c))}function i(c){return n.containerState._closeFlow=!0,n.interrupt=void 0,B(e,e.attempt(W,r,t),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function ir(e,r,t){let n=this;return B(e,u,"listItemIndent",n.containerState.size+1);function u(o){let i=n.events[n.events.length-1];return i&&i[1].type==="listItemIndent"&&i[2].sliceSerialize(i[1],!0).length===n.containerState.size?r(o):t(o)}}function ur(e){e.exit(this.containerState.type)}function or(e,r,t){let n=this;return B(e,u,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function u(o){let i=n.events[n.events.length-1];return!T(o)&&i&&i[1].type==="listItemPrefixWhitespace"?r(o):t(o)}}S();var Je={name:"setextUnderline",tokenize:ar,resolveTo:cr};function cr(e,r){let t=e.length,n,u,o;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){n=t;break}e[t][1].type==="paragraph"&&(u=t)}else e[t][1].type==="content"&&e.splice(t,1),!o&&e[t][1].type==="definition"&&(o=t);let i={type:"setextHeading",start:Object.assign({},e[u][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[u][1].type="setextHeadingText",o?(e.splice(u,0,["enter",i,r]),e.splice(o+1,0,["exit",e[n][1],r]),e[n][1].end=Object.assign({},e[o][1].end)):e[n][1]=i,e.push(["exit",i,r]),e}function ar(e,r,t){let n=this,u;return o;function o(s){let d=n.events.length,p;for(;d--;)if(n.events[d][1].type!=="lineEnding"&&n.events[d][1].type!=="linePrefix"&&n.events[d][1].type!=="content"){p=n.events[d][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||p)?(e.enter("setextHeadingLine"),u=s,i(s)):t(s)}function i(s){return e.enter("setextHeadingLineSequence"),c(s)}function c(s){return s===u?(e.consume(s),c):(e.exit("setextHeadingLineSequence"),T(s)?B(e,h,"lineSuffix")(s):h(s))}function h(s){return s===null||A(s)?(e.exit("setextHeadingLine"),r(s)):t(s)}}var lr={tokenize:sr};function sr(e){let r=this,t=e.attempt(Fe,n,e.attempt(this.parser.constructs.flowInitial,u,B(e,e.attempt(this.parser.constructs.flow,u,e.attempt(mn,u)),"linePrefix")));return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),r.currentConstruct=void 0,t}function u(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),r.currentConstruct=void 0,t}}S();var fr={resolveAll:ft()},dr=st("string"),hr=st("text");function st(e){return{tokenize:r,resolveAll:ft(e==="text"?pr:void 0)};function r(t){let n=this,u=this.parser.constructs[e],o=t.attempt(u,i,c);return i;function i(d){return s(d)?o(d):c(d)}function c(d){if(d===null){t.consume(d);return}return t.enter("data"),t.consume(d),h}function h(d){return s(d)?(t.exit("data"),o(d)):(t.consume(d),h)}function s(d){if(d===null)return!0;let p=u[d],g=-1;if(p)for(;++g<p.length;){let f=p[g];if(!f.previous||f.previous.call(n,n.previous))return!0}return!1}}}function ft(e){return r;function r(t,n){let u=-1,o;for(;++u<=t.length;)o===void 0?t[u]&&t[u][1].type==="data"&&(o=u,u++):(!t[u]||t[u][1].type!=="data")&&(u!==o+2&&(t[o][1].end=t[u-1][1].end,t.splice(o+2,u-o-2),u=o+2),o=void 0);return e?e(t,n):t}}function pr(e,r){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){let n=e[t-1][1],u=r.sliceStream(n),o=u.length,i=-1,c=0,h;for(;o--;){let s=u[o];if(typeof s=="string"){for(i=s.length;s.charCodeAt(i-1)===32;)c++,i--;if(i)break;i=-1}else if(s===-2)h=!0,c++;else if(s!==-1){o++;break}}if(c){let s={type:t===e.length||h||c<2?"lineSuffix":"hardBreakTrailing",start:{line:n.end.line,column:n.end.column-c,offset:n.end.offset-c,_index:n.start._index+o,_bufferIndex:o?i:n.start._bufferIndex+i},end:Object.assign({},n.end)};n.end=Object.assign({},s.start),n.start.offset===n.end.offset?Object.assign(n,s):(e.splice(t,0,["enter",s,r],["exit",s,r]),t+=2)}t++}return e}S();function mr(e,r,t){let n=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),u={},o=[],i=[],c=[],h={consume:j,enter:b,exit:L,attempt:z(O),check:z(x),interrupt:z(x,{interrupt:!0})},s={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:f,sliceSerialize:g,now:I,defineSkip:w,write:p},d=r.tokenize.call(s,h);return r.resolveAll&&o.push(r),s;function p(v){return i=Y(i,v),P(),i[i.length-1]!==null?[]:(q(r,0),s.events=De(o,s.events,s),s.events)}function g(v,F){return xr(f(v),F)}function f(v){return gr(i,v)}function I(){let{line:v,column:F,offset:M,_index:H,_bufferIndex:C}=n;return{line:v,column:F,offset:M,_index:H,_bufferIndex:C}}function w(v){u[v.line]=v.column,N()}function P(){let v;for(;n._index<i.length;){let F=i[n._index];if(typeof F=="string")for(v=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===v&&n._bufferIndex<F.length;)y(F.charCodeAt(n._bufferIndex));else y(F)}}function y(v){d=d(v)}function j(v){A(v)?(n.line++,n.column=1,n.offset+=v===-3?2:1,N()):v!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===i[n._index].length&&(n._bufferIndex=-1,n._index++)),s.previous=v}function b(v,F){let M=F||{};return M.type=v,M.start=I(),s.events.push(["enter",M,s]),c.push(M),M}function L(v){let F=c.pop();return F.end=I(),s.events.push(["exit",F,s]),F}function O(v,F){q(v,F.from)}function x(v,F){F.restore()}function z(v,F){return M;function M(H,C,$){let Q,X,re,a;return Array.isArray(H)?ie(H):"tokenize"in H?ie([H]):J(H);function J(U){return de;function de(ce){let he=ce!==null&&U[ce],pe=ce!==null&&U.null,Se=[...Array.isArray(he)?he:he?[he]:[],...Array.isArray(pe)?pe:pe?[pe]:[]];return ie(Se)(ce)}}function ie(U){return Q=U,X=0,U.length===0?$:l(U[X])}function l(U){return de;function de(ce){return a=V(),re=U,U.partial||(s.currentConstruct=U),U.name&&s.parser.constructs.disable.null.includes(U.name)?fe():U.tokenize.call(F?Object.assign(Object.create(s),F):s,h,K,fe)(ce)}}function K(U){return v(re,a),C}function fe(U){return a.restore(),++X<Q.length?l(Q[X]):$}}}function q(v,F){v.resolveAll&&!o.includes(v)&&o.push(v),v.resolve&&ne(s.events,F,s.events.length-F,v.resolve(s.events.slice(F),s)),v.resolveTo&&(s.events=v.resolveTo(s.events,s))}function V(){let v=I(),F=s.previous,M=s.currentConstruct,H=s.events.length,C=Array.from(c);return{restore:$,from:H};function $(){n=v,s.previous=F,s.currentConstruct=M,s.events.length=H,c=C,N()}}function N(){n.line in u&&n.column<2&&(n.column=u[n.line],n.offset+=u[n.line]-1)}}function gr(e,r){let t=r.start._index,n=r.start._bufferIndex,u=r.end._index,o=r.end._bufferIndex,i;if(t===u)i=[e[t].slice(n,o)];else{if(i=e.slice(t,u),n>-1){let c=i[0];typeof c=="string"?i[0]=c.slice(n):i.shift()}o>0&&i.push(e[u].slice(0,o))}return i}function xr(e,r){let t=-1,n=[],u;for(;++t<e.length;){let o=e[t],i;if(typeof o=="string")i=o;else switch(o){case-5:{i="\r";break}case-4:{i=`
`;break}case-3:{i=`\r
`;break}case-2:{i=r?" ":"	";break}case-1:{if(!r&&u)continue;i=" ";break}default:i=String.fromCharCode(o)}u=o===-2,n.push(i)}return n.join("")}var dt={};zt(dt,{attentionMarkers:()=>Ar,contentInitial:()=>yr,disable:()=>Cr,document:()=>kr,flow:()=>Fr,flowInitial:()=>vr,insideSpan:()=>Er,string:()=>Sr,text:()=>br});S();var kr={42:W,43:W,45:W,48:W,49:W,50:W,51:W,52:W,53:W,54:W,55:W,56:W,57:W,62:rt},yr={91:vn},vr={[-2]:Ee,[-1]:Ee,32:Ee},Fr={35:Cn,42:ye,45:[Je,ye],60:zn,61:Je,95:ye,96:Ye,126:Ye},Sr={38:ut,92:it},br={[-5]:Ae,[-4]:Ae,[-3]:Ae,33:Gn,38:ut,42:Te,60:[Xt,Pn],91:Xn,92:[En,it],93:Be,95:Te,96:sn},Er={null:[Te,fr]},Ar={null:[42,95]},Cr={null:[]};function Ir(e){let r=Lt([dt,...(e||{}).extensions||[]]),t={defined:[],lazy:{},constructs:r,content:n(Nt),document:n(Ut),flow:n(lr),string:n(dr),text:n(hr)};return t;function n(u){return o;function o(i){return mr(t,u,i)}}}S();var Ke=/[\0\t\n\r]/g;function Tr(){let e=1,r="",t=!0,n;return u;function u(o,i,c){let h=[],s,d,p,g,f;for(o=r+o.toString(i),p=0,r="",t&&(o.charCodeAt(0)===65279&&p++,t=void 0);p<o.length;){if(Ke.lastIndex=p,s=Ke.exec(o),g=s&&s.index!==void 0?s.index:o.length,f=o.charCodeAt(g),!s){r=o.slice(p);break}if(f===10&&p===g&&n)h.push(-3),n=void 0;else switch(n&&(h.push(-5),n=void 0),p<g&&(h.push(o.slice(p,g)),e+=g-p),f){case 0:{h.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,h.push(-2);e++<d;)h.push(-1);break}case 10:{h.push(-4),e=1;break}default:n=!0,e=1}p=g+1}return c&&(n&&h.push(-5),r&&h.push(r),h.push(null)),h}}S();function wr(e){for(;!ot(e););return e}S();function ht(e,r){let t=Number.parseInt(e,r);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"�":String.fromCharCode(t)}S();var zr=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Dr(e){return e.replace(zr,_r)}function _r(e,r,t){if(r)return r;if(t.charCodeAt(0)===35){let n=t.charCodeAt(1),u=n===120||n===88;return ht(t.slice(u?2:1),u?16:10)}return _e(t)||e}S();S();function ve(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Ze(e.position):"start"in e||"end"in e?Ze(e):"line"in e||"column"in e?we(e):""}function we(e){return et(e&&e.line)+":"+et(e&&e.column)}function Ze(e){return we(e&&e.start)+"-"+we(e&&e.end)}function et(e){return e&&typeof e=="number"?e:1}var pt={}.hasOwnProperty,mt=function(e,r,t){return typeof r!="string"&&(t=r,r=void 0),Br(t)(wr(Ir(t).document().write(Tr()(e,r,!0))))};function Br(e){let r={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:c(Re),autolinkProtocol:v,autolinkEmail:v,atxHeading:c(Pe),blockQuote:c(Se),characterEscape:v,characterReference:v,codeFenced:c(Oe),codeFencedFenceInfo:h,codeFencedFenceMeta:h,codeIndented:c(Oe,h),codeText:c(kt,h),codeTextData:v,data:v,codeFlowValue:v,definition:c(yt),definitionDestinationString:h,definitionLabelString:h,definitionTitleString:h,emphasis:c(vt),hardBreakEscape:c(je),hardBreakTrailing:c(je),htmlFlow:c(He,h),htmlFlowData:v,htmlText:c(He,h),htmlTextData:v,image:c(Ft),label:h,link:c(Re),listItem:c(St),listItemValue:I,listOrdered:c(qe,f),listUnordered:c(qe),paragraph:c(bt),reference:fe,referenceString:h,resourceDestinationString:h,resourceTitleString:h,setextHeading:c(Pe),strong:c(Et),thematicBreak:c(Ct)},exit:{atxHeading:d(),atxHeadingSequence:z,autolink:d(),autolinkEmail:pe,autolinkProtocol:he,blockQuote:d(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:de,characterReferenceMarkerNumeric:de,characterReferenceValue:ce,codeFenced:d(j),codeFencedFence:y,codeFencedFenceInfo:w,codeFencedFenceMeta:P,codeFlowValue:F,codeIndented:d(b),codeText:d(Q),codeTextData:F,data:F,definition:d(),definitionDestinationString:x,definitionLabelString:L,definitionTitleString:O,emphasis:d(),hardBreakEscape:d(H),hardBreakTrailing:d(H),htmlFlow:d(C),htmlFlowData:F,htmlText:d($),htmlTextData:F,image:d(re),label:J,labelText:a,lineEnding:M,link:d(X),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:U,resourceDestinationString:ie,resourceTitleString:l,resource:K,setextHeading:d(N),setextHeadingLineSequence:V,setextHeadingText:q,strong:d(),thematicBreak:d()}};gt(r,(e||{}).mdastExtensions||[]);let t={};return n;function n(m){let k={type:"root",children:[]},E={stack:[k],tokenStack:[],config:r,enter:s,exit:p,buffer:h,resume:g,setData:o,getData:i},D=[],_=-1;for(;++_<m.length;)if(m[_][1].type==="listOrdered"||m[_][1].type==="listUnordered")if(m[_][0]==="enter")D.push(_);else{let ee=D.pop();_=u(m,ee,_)}for(_=-1;++_<m.length;){let ee=r[m[_][0]];pt.call(ee,m[_][1].type)&&ee[m[_][1].type].call(Object.assign({sliceSerialize:m[_][2].sliceSerialize},E),m[_][1])}if(E.tokenStack.length>0){let ee=E.tokenStack[E.tokenStack.length-1];(ee[1]||tt).call(E,void 0,ee[0])}for(k.position={start:ae(m.length>0?m[0][1].start:{line:1,column:1,offset:0}),end:ae(m.length>0?m[m.length-2][1].end:{line:1,column:1,offset:0})},_=-1;++_<r.transforms.length;)k=r.transforms[_](k)||k;return k}function u(m,k,E){let D=k-1,_=-1,ee=!1,se,ue,ge,xe;for(;++D<=E;){let R=m[D];if(R[1].type==="listUnordered"||R[1].type==="listOrdered"||R[1].type==="blockQuote"?(R[0]==="enter"?_++:_--,xe=void 0):R[1].type==="lineEndingBlank"?R[0]==="enter"&&(se&&!xe&&!_&&!ge&&(ge=D),xe=void 0):R[1].type==="linePrefix"||R[1].type==="listItemValue"||R[1].type==="listItemMarker"||R[1].type==="listItemPrefix"||R[1].type==="listItemPrefixWhitespace"||(xe=void 0),!_&&R[0]==="enter"&&R[1].type==="listItemPrefix"||_===-1&&R[0]==="exit"&&(R[1].type==="listUnordered"||R[1].type==="listOrdered")){if(se){let be=D;for(ue=void 0;be--;){let oe=m[be];if(oe[1].type==="lineEnding"||oe[1].type==="lineEndingBlank"){if(oe[0]==="exit")continue;ue&&(m[ue][1].type="lineEndingBlank",ee=!0),oe[1].type="lineEnding",ue=be}else if(!(oe[1].type==="linePrefix"||oe[1].type==="blockQuotePrefix"||oe[1].type==="blockQuotePrefixWhitespace"||oe[1].type==="blockQuoteMarker"||oe[1].type==="listItemIndent"))break}ge&&(!ue||ge<ue)&&(se._spread=!0),se.end=Object.assign({},ue?m[ue][1].start:R[1].end),m.splice(ue||D,0,["exit",se,R[2]]),D++,E++}R[1].type==="listItemPrefix"&&(se={type:"listItem",_spread:!1,start:Object.assign({},R[1].start),end:void 0},m.splice(D,0,["enter",se,R[2]]),D++,E++,ge=void 0,xe=!0)}}return m[k][1]._spread=ee,E}function o(m,k){t[m]=k}function i(m){return t[m]}function c(m,k){return E;function E(D){s.call(this,m(D),D),k&&k.call(this,D)}}function h(){this.stack.push({type:"fragment",children:[]})}function s(m,k,E){return this.stack[this.stack.length-1].children.push(m),this.stack.push(m),this.tokenStack.push([k,E]),m.position={start:ae(k.start)},m}function d(m){return k;function k(E){m&&m.call(this,E),p.call(this,E)}}function p(m,k){let E=this.stack.pop(),D=this.tokenStack.pop();if(D)D[0].type!==m.type&&(k?k.call(this,m,D[0]):(D[1]||tt).call(this,m,D[0]));else throw new Error("Cannot close `"+m.type+"` ("+ve({start:m.start,end:m.end})+"): it’s not open");return E.position.end=ae(m.end),E}function g(){return _t(this.stack.pop())}function f(){o("expectingFirstListItemValue",!0)}function I(m){if(i("expectingFirstListItemValue")){let k=this.stack[this.stack.length-2];k.start=Number.parseInt(this.sliceSerialize(m),10),o("expectingFirstListItemValue")}}function w(){let m=this.resume(),k=this.stack[this.stack.length-1];k.lang=m}function P(){let m=this.resume(),k=this.stack[this.stack.length-1];k.meta=m}function y(){i("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function j(){let m=this.resume(),k=this.stack[this.stack.length-1];k.value=m.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")}function b(){let m=this.resume(),k=this.stack[this.stack.length-1];k.value=m.replace(/(\r?\n|\r)$/g,"")}function L(m){let k=this.resume(),E=this.stack[this.stack.length-1];E.label=k,E.identifier=me(this.sliceSerialize(m)).toLowerCase()}function O(){let m=this.resume(),k=this.stack[this.stack.length-1];k.title=m}function x(){let m=this.resume(),k=this.stack[this.stack.length-1];k.url=m}function z(m){let k=this.stack[this.stack.length-1];if(!k.depth){let E=this.sliceSerialize(m).length;k.depth=E}}function q(){o("setextHeadingSlurpLineEnding",!0)}function V(m){let k=this.stack[this.stack.length-1];k.depth=this.sliceSerialize(m).charCodeAt(0)===61?1:2}function N(){o("setextHeadingSlurpLineEnding")}function v(m){let k=this.stack[this.stack.length-1],E=k.children[k.children.length-1];(!E||E.type!=="text")&&(E=At(),E.position={start:ae(m.start)},k.children.push(E)),this.stack.push(E)}function F(m){let k=this.stack.pop();k.value+=this.sliceSerialize(m),k.position.end=ae(m.end)}function M(m){let k=this.stack[this.stack.length-1];if(i("atHardBreak")){let E=k.children[k.children.length-1];E.position.end=ae(m.end),o("atHardBreak");return}!i("setextHeadingSlurpLineEnding")&&r.canContainEols.includes(k.type)&&(v.call(this,m),F.call(this,m))}function H(){o("atHardBreak",!0)}function C(){let m=this.resume(),k=this.stack[this.stack.length-1];k.value=m}function $(){let m=this.resume(),k=this.stack[this.stack.length-1];k.value=m}function Q(){let m=this.resume(),k=this.stack[this.stack.length-1];k.value=m}function X(){let m=this.stack[this.stack.length-1];if(i("inReference")){let k=i("referenceType")||"shortcut";m.type+="Reference",m.referenceType=k,delete m.url,delete m.title}else delete m.identifier,delete m.label;o("referenceType")}function re(){let m=this.stack[this.stack.length-1];if(i("inReference")){let k=i("referenceType")||"shortcut";m.type+="Reference",m.referenceType=k,delete m.url,delete m.title}else delete m.identifier,delete m.label;o("referenceType")}function a(m){let k=this.sliceSerialize(m),E=this.stack[this.stack.length-2];E.label=Dr(k),E.identifier=me(k).toLowerCase()}function J(){let m=this.stack[this.stack.length-1],k=this.resume(),E=this.stack[this.stack.length-1];if(o("inReference",!0),E.type==="link"){let D=m.children;E.children=D}else E.alt=k}function ie(){let m=this.resume(),k=this.stack[this.stack.length-1];k.url=m}function l(){let m=this.resume(),k=this.stack[this.stack.length-1];k.title=m}function K(){o("inReference")}function fe(){o("referenceType","collapsed")}function U(m){let k=this.resume(),E=this.stack[this.stack.length-1];E.label=k,E.identifier=me(this.sliceSerialize(m)).toLowerCase(),o("referenceType","full")}function de(m){o("characterReferenceType",m.type)}function ce(m){let k=this.sliceSerialize(m),E=i("characterReferenceType"),D;E?(D=ht(k,E==="characterReferenceMarkerNumeric"?10:16),o("characterReferenceType")):D=_e(k);let _=this.stack.pop();_.value+=D,_.position.end=ae(m.end)}function he(m){F.call(this,m);let k=this.stack[this.stack.length-1];k.url=this.sliceSerialize(m)}function pe(m){F.call(this,m);let k=this.stack[this.stack.length-1];k.url="mailto:"+this.sliceSerialize(m)}function Se(){return{type:"blockquote",children:[]}}function Oe(){return{type:"code",lang:null,meta:null,value:""}}function kt(){return{type:"inlineCode",value:""}}function yt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function vt(){return{type:"emphasis",children:[]}}function Pe(){return{type:"heading",depth:void 0,children:[]}}function je(){return{type:"break"}}function He(){return{type:"html",value:""}}function Ft(){return{type:"image",title:null,url:"",alt:null}}function Re(){return{type:"link",title:null,url:"",children:[]}}function qe(m){return{type:"list",ordered:m.type==="listOrdered",start:null,spread:m._spread,children:[]}}function St(m){return{type:"listItem",spread:m._spread,checked:null,children:[]}}function bt(){return{type:"paragraph",children:[]}}function Et(){return{type:"strong",children:[]}}function At(){return{type:"text",value:""}}function Ct(){return{type:"thematicBreak"}}}function ae(e){return{line:e.line,column:e.column,offset:e.offset}}function gt(e,r){let t=-1;for(;++t<r.length;){let n=r[t];Array.isArray(n)?gt(e,n):Lr(e,n)}}function Lr(e,r){let t;for(t in r)if(pt.call(r,t)){if(t==="canContainEols"){let n=r[t];n&&e[t].push(...n)}else if(t==="transforms"){let n=r[t];n&&e[t].push(...n)}else if(t==="enter"||t==="exit"){let n=r[t];n&&Object.assign(e[t],n)}}}function tt(e,r){throw e?new Error("Cannot close `"+e.type+"` ("+ve({start:e.start,end:e.end})+"): a different token (`"+r.type+"`, "+ve({start:r.start,end:r.end})+") is open"):new Error("Cannot close document, a token (`"+r.type+"`, "+ve({start:r.start,end:r.end})+") is still open")}S();function Mr(e){let r=e.replace(/\n{2,}/g,`
`);return wt(r)}function Or(e){let r=Mr(e),{children:t}=mt(r),n=[[]],u=0;function o(i,c="normal"){i.type==="text"?i.value.split(`
`).forEach((h,s)=>{s!==0&&(u++,n.push([])),h.split(" ").forEach(d=>{d&&n[u].push({content:d,type:c})})}):(i.type==="strong"||i.type==="emphasis")&&i.children.forEach(h=>{o(h,i.type)})}return t.forEach(i=>{i.type==="paragraph"&&i.children.forEach(c=>{o(c)})}),n}function Pr(e){let{children:r}=mt(e);function t(n){return n.type==="text"?n.value.replace(/\n/g,"<br/>"):n.type==="strong"?`<strong>${n.children.map(t).join("")}</strong>`:n.type==="emphasis"?`<em>${n.children.map(t).join("")}</em>`:n.type==="paragraph"?`<p>${n.children.map(t).join("")}</p>`:`Unsupported markdown: ${n.type}`}return r.map(t).join("")}function jr(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(r=>r.segment):[...e]}function Hr(e,r){let t=jr(r.content);return xt(e,[],t,r.type)}function xt(e,r,t,n){if(t.length===0)return[{content:r.join(""),type:n},{content:"",type:n}];let[u,...o]=t,i=[...r,u];return e([{content:i.join(""),type:n}])?xt(e,i,o,n):(r.length===0&&u&&(r.push(u),t.shift()),[{content:r.join(""),type:n},{content:t.join(""),type:n}])}function Rr(e,r){if(e.some(({content:t})=>t.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return ze(e,r)}function ze(e,r,t=[],n=[]){if(e.length===0)return n.length>0&&t.push(n),t.length>0?t:[];let u="";e[0].content===" "&&(u=" ",e.shift());let o=e.shift()??{content:" ",type:"normal"},i=[...n];if(u!==""&&i.push({content:u,type:"normal"}),i.push(o),r(i))return ze(e,r,t,i);if(n.length>0)t.push(n),e.unshift(o);else if(o.content){let[c,h]=Hr(r,o);t.push([c]),h.content&&e.unshift(h)}return ze(e,r,t)}function qr(e,r){r&&e.attr("style",r)}function Vr(e,r,t,n,u=!1){let o=e.append("foreignObject"),i=o.append("xhtml:div"),c=r.label,h=r.isNode?"nodeLabel":"edgeLabel";i.html(`
    <span class="${h} ${n}" `+(r.labelStyle?'style="'+r.labelStyle+'"':"")+">"+c+"</span>"),qr(i,r.labelStyle),i.style("display","table-cell"),i.style("white-space","nowrap"),i.style("max-width",t+"px"),i.attr("xmlns","http://www.w3.org/1999/xhtml"),u&&i.attr("class","labelBkg");let s=i.node().getBoundingClientRect();return s.width===t&&(i.style("display","table"),i.style("white-space","break-spaces"),i.style("width",t+"px"),s=i.node().getBoundingClientRect()),o.style("width",s.width),o.style("height",s.height),o.node()}function Le(e,r,t){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",r*t-.1+"em").attr("dy",t+"em")}function Nr(e,r,t){let n=e.append("text"),u=Le(n,1,r);Me(u,t);let o=u.node().getComputedTextLength();return n.remove(),o}function Wr(e,r,t){var n;let u=e.append("text"),o=Le(u,1,r);Me(o,[{content:t,type:"normal"}]);let i=(n=o.node())==null?void 0:n.getBoundingClientRect();return i&&u.remove(),i}function Qr(e,r,t,n=!1){let u=r.append("g"),o=u.insert("rect").attr("class","background"),i=u.append("text").attr("y","-10.1"),c=0;for(let h of t){let s=p=>Nr(u,1.1,p)<=e,d=s(h)?[h]:Rr(h,s);for(let p of d){let g=Le(i,c,1.1);Me(g,p),c++}}if(n){let h=i.node().getBBox(),s=2;return o.attr("x",-s).attr("y",-s).attr("width",h.width+2*s).attr("height",h.height+2*s),u.node()}else return i.node()}function Me(e,r){e.text(""),r.forEach((t,n)=>{let u=e.append("tspan").attr("font-style",t.type==="emphasis"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",t.type==="strong"?"bold":"normal");n===0?u.text(t.content):u.text(" "+t.content)})}var Gr=(e,r="",{style:t="",isTitle:n=!1,classes:u="",useHtmlLabels:o=!0,isNode:i=!0,width:c=200,addSvgBackground:h=!1}={})=>{if(It.info("createText",r,t,n,u,o,i,h),o){let s=Pr(r),d={isNode:i,label:Tt(s).replace(/fa[blrs]?:fa-[\w-]+/g,p=>`<i class='${p.replace(":"," ")}'></i>`),labelStyle:t.replace("fill:","color:")};return Vr(e,d,c,u,h)}else{let s=Or(r);return Qr(c,e,s,h)}};export{Wr as c,Gr as p};
