import{c as m}from"./index-D1slywUk.js";m();var y=async(e,t=[{}],n=null,o=!1,s=null)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled";let r=[],i=null;if(e instanceof Blob&&e.type?i=e.type:e.headers&&e.headers.get("content-type")&&(i=e.headers.get("content-type")),t.forEach((a,l)=>{r[l]={description:a.description||"",accept:{}},a.mimeTypes?(l===0&&i&&a.mimeTypes.push(i),a.mimeTypes.map(d=>{r[l].accept[d]=a.extensions||[]})):i&&(r[l].accept[i]=a.extensions||[])}),n)try{await n.getFile()}catch(a){if(n=null,o)throw a}let c=n||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:r,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!n&&s&&s();let p=await c.createWritable();return"stream"in e?(await e.stream().pipeTo(p),c):"body"in e?(await e.body.pipeTo(p),c):(await p.write(await e),await p.close(),c)};export{y as default};
